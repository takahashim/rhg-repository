head	1.1248;
access;
symbols
	v1_6_7:1.285.2.368
	v1_6_6:1.285.2.303
	v1_6_5:1.285.2.239
	v1_6_4:1.285.2.155
	v1_7_1:1.456
	v1_6_4_preview4:1.285.2.137
	v1_6_4_preview3:1.285.2.133
	v1_6_4_preview2:1.285.2.96
	v1_6_4_preview1:1.285.2.91
	v1_6_3:1.285.2.67
	ruby_m17n:1.288.0.2
	ruby_1_6:1.285.0.2
	v1_6_2:1.285
	v1_6_1:1.224
	v1_6_0:1.180
	v1_4_6:1.12.2.66
	v1_4_5:1.12.2.50
	v1_4_4:1.12.2.24
	ruby_1_4_3:1.12.2.11
	ruby1_4_3:1.12.2.10
	v1_4_3:1.12.2.9
	v1_5_0:1.31
	ruby_1_4_3_pre1:1.12.2.5
	ruby_1_4:1.12.0.2
	v1_4_2:1.7
	v1_4_1:1.6
	v1_4_0:1.3
	v1_3_7:1.1.1.3.2.48
	v1_3_6_repack:1.1.1.3.2.47
	v1_3_6:1.1.1.3.2.47
	v1_3_5:1.1.1.3.2.45
	v1_2_6repack:1.1.1.2.2.172
	v1_3_4_990625:1.1.1.3.2.44
	v1_3_4_990624:1.1.1.3.2.43
	v1_2_6:1.1.1.2.2.171
	v1_3_4_990611:1.1.1.3.2.41
	v1_3_4_990531:1.1.1.3.2.38
	v1_3_3_990518:1.1.1.3.2.36
	v1_3_3_990513:1.1.1.3.2.32
	v1_3_3_990507:1.1.1.3.2.28
	v1_2_5:1.1.1.2.2.166
	v1_2_4:1.1.1.2.2.163
	v1_3_1_990225:1.1.1.3.2.12
	v1_3_1_990224:1.1.1.3.2.11
	v1_3_1_990215:1.1.1.3.2.10
	v1_3_1_990212:1.1.1.3.2.9
	v1_3_1_990210:1.1.1.3.2.8
	v1_3_1_:1.1.1.3.2.8
	v1_3_1_990209:1.1.1.3.2.7
	v1_3_1_990205:1.1.1.3.2.6
	v1_3_1_990203:1.1.1.3.2.5
	v1_3_1_990201:1.1.1.3.2.4
	v1_3_1"_990201:1.1.1.3.2.4
	v1_3_1_990128:1.1.1.3.2.3
	v1_3_1_990127:1.1.1.3.2.2
	v1_3_1_990126:1.1.1.3.2.1
	ruby_1_3:1.1.1.3.0.2
	v1_2_2:1.1.1.2.2.160
	RUBY_1_3:1.1.1.3
	v1_2_2_pr1:1.1.1.2.2.159
	v1_2_1repack:1.1.1.2.2.158
	v1_2_1:1.1.1.2.2.158
	v1_2_stable:1.1.1.2.2.157
	v1_1d1:1.1.1.2.2.150.2.5
	v1_1d0:1.1.1.2.2.150.2.4
	v1_1c9_1:1.1.1.2.2.156
	v1_1c9:1.1.1.2.2.155
	v1_1c8:1.1.1.2.2.154
	v1_1c7:1.1.1.2.2.153
	v1_1c6:1.1.1.2.2.152
	v1_1d-start:1.1.1.2.2.150.2.1
	v1_1c5:1.1.1.2.2.151
	v1_1dev:1.1.1.2.2.150.0.2
	v1_1c4:1.1.1.2.2.150
	v1_1c3:1.1.1.2.2.149
	v1_1c2:1.1.1.2.2.146
	v1_1c1:1.1.1.2.2.144
	v1_1c0:1.1.1.2.2.139
	v1_1b9_31:1.1.1.2.2.137
	v1_1b9_30:1.1.1.2.2.135
	v1_1b9_28:1.1.1.2.2.132
	v1_1b9_27:1.1.1.2.2.127
	v1_1b9_26:1.1.1.2.2.126
	r1_1b9_25:1.1.1.2.2.123
	r1_1b9_24:1.1.1.2.2.122
	v1_1b9_23:1.1.1.2.2.116
	v1_1b9_22:1.1.1.2.2.113
	v1_1b9_20:1.1.1.2.2.109
	v1_1b9_18:1.1.1.2.2.106
	v1_1b9_16:1.1.1.2.2.100
	v1_1b9_15:1.1.1.2.2.97
	v1_1b9_13:1.1.1.2.2.94
	v1_1b9_12:1.1.1.2.2.93
	v1_1b9_11:1.1.1.2.2.89
	v1_1b9_08:1.1.1.2.2.76
	v1_1b9_07:1.1.1.2.2.75
	r1_1b9:1.1.1.2.2.39
	v1_1b8:1.1.1.2.2.32
	v1_1b7:1.1.1.2.2.25
	v1_1b6:1.1.1.2.2.17
	v1_1r:1.1.1.2.0.2
	v1_1:1.1.1.2
	v1_0r:1.1.1.1.0.2
	v1_0:1.1.1.1
	RUBY:1.1.1;
locks; strict;
comment	@# @;


1.1248
date	2002.10.30.08.04.31;	author matz;	state Exp;
branches;
next	1.1247;

1.1247
date	2002.10.29.21.35.27;	author knu;	state Exp;
branches;
next	1.1246;

1.1246
date	2002.10.29.19.11.17;	author nobu;	state Exp;
branches;
next	1.1245;

1.1245
date	2002.10.28.17.01.23;	author nobu;	state Exp;
branches;
next	1.1244;

1.1244
date	2002.10.27.16.32.26;	author eban;	state Exp;
branches;
next	1.1243;

1.1243
date	2002.10.27.15.13.34;	author eban;	state Exp;
branches;
next	1.1242;

1.1242
date	2002.10.27.14.05.24;	author H_Konishi;	state Exp;
branches;
next	1.1241;

1.1241
date	2002.10.26.15.51.59;	author knu;	state Exp;
branches;
next	1.1240;

1.1240
date	2002.10.25.19.31.55;	author knu;	state Exp;
branches;
next	1.1239;

1.1239
date	2002.10.25.18.39.29;	author knu;	state Exp;
branches;
next	1.1238;

1.1238
date	2002.10.24.18.23.52;	author aamine;	state Exp;
branches;
next	1.1237;

1.1237
date	2002.10.24.17.54.53;	author aamine;	state Exp;
branches;
next	1.1236;

1.1236
date	2002.10.24.12.58.41;	author nobu;	state Exp;
branches;
next	1.1235;

1.1235
date	2002.10.24.05.31.25;	author nobu;	state Exp;
branches;
next	1.1234;

1.1234
date	2002.10.23.18.52.28;	author nobu;	state Exp;
branches;
next	1.1233;

1.1233
date	2002.10.23.18.21.54;	author nobu;	state Exp;
branches;
next	1.1232;

1.1232
date	2002.10.23.17.40.36;	author nobu;	state Exp;
branches;
next	1.1231;

1.1231
date	2002.10.23.10.17.29;	author nobu;	state Exp;
branches;
next	1.1230;

1.1230
date	2002.10.22.14.58.59;	author eban;	state Exp;
branches;
next	1.1229;

1.1229
date	2002.10.22.10.54.10;	author H_Konishi;	state Exp;
branches;
next	1.1228;

1.1228
date	2002.10.22.06.24.19;	author nobu;	state Exp;
branches;
next	1.1227;

1.1227
date	2002.10.22.04.19.26;	author nobu;	state Exp;
branches;
next	1.1226;

1.1226
date	2002.10.21.16.09.08;	author eban;	state Exp;
branches;
next	1.1225;

1.1225
date	2002.10.21.14.17.44;	author nobu;	state Exp;
branches;
next	1.1224;

1.1224
date	2002.10.18.14.13.41;	author nobu;	state Exp;
branches;
next	1.1223;

1.1223
date	2002.10.17.16.13.44;	author knu;	state Exp;
branches;
next	1.1222;

1.1222
date	2002.10.17.10.20.52;	author nobu;	state Exp;
branches;
next	1.1221;

1.1221
date	2002.10.17.07.26.58;	author matz;	state Exp;
branches;
next	1.1220;

1.1220
date	2002.10.17.06.24.42;	author aamine;	state Exp;
branches;
next	1.1219;

1.1219
date	2002.10.16.13.44.19;	author nobu;	state Exp;
branches;
next	1.1218;

1.1218
date	2002.10.16.04.43.28;	author nobu;	state Exp;
branches;
next	1.1217;

1.1217
date	2002.10.12.14.47.07;	author nobu;	state Exp;
branches;
next	1.1216;

1.1216
date	2002.10.10.21.07.15;	author nobu;	state Exp;
branches;
next	1.1215;

1.1215
date	2002.10.10.15.26.58;	author nobu;	state Exp;
branches;
next	1.1214;

1.1214
date	2002.10.10.08.29.01;	author eban;	state Exp;
branches;
next	1.1213;

1.1213
date	2002.10.10.07.00.05;	author nobu;	state Exp;
branches;
next	1.1212;

1.1212
date	2002.10.09.06.12.53;	author nobu;	state Exp;
branches;
next	1.1211;

1.1211
date	2002.10.08.05.34.45;	author nobu;	state Exp;
branches;
next	1.1210;

1.1210
date	2002.10.08.01.58.33;	author akr;	state Exp;
branches;
next	1.1209;

1.1209
date	2002.10.07.07.43.41;	author matz;	state Exp;
branches;
next	1.1208;

1.1208
date	2002.10.07.07.15.38;	author matz;	state Exp;
branches;
next	1.1207;

1.1207
date	2002.10.05.15.46.24;	author aamine;	state Exp;
branches;
next	1.1206;

1.1206
date	2002.10.04.17.54.29;	author matz;	state Exp;
branches;
next	1.1205;

1.1205
date	2002.10.04.11.32.16;	author nobu;	state Exp;
branches;
next	1.1204;

1.1204
date	2002.10.04.05.18.04;	author eban;	state Exp;
branches;
next	1.1203;

1.1203
date	2002.10.03.11.24.24;	author nobu;	state Exp;
branches;
next	1.1202;

1.1202
date	2002.10.03.11.20.29;	author nobu;	state Exp;
branches;
next	1.1201;

1.1201
date	2002.10.02.15.34.09;	author nobu;	state Exp;
branches;
next	1.1200;

1.1200
date	2002.10.02.15.32.45;	author nobu;	state Exp;
branches;
next	1.1199;

1.1199
date	2002.10.02.14.59.25;	author nobu;	state Exp;
branches;
next	1.1198;

1.1198
date	2002.10.02.14.13.57;	author nobu;	state Exp;
branches;
next	1.1197;

1.1197
date	2002.10.02.05.58.52;	author matz;	state Exp;
branches;
next	1.1196;

1.1196
date	2002.10.02.04.27.35;	author eban;	state Exp;
branches;
next	1.1195;

1.1195
date	2002.10.01.15.26.38;	author nobu;	state Exp;
branches;
next	1.1194;

1.1194
date	2002.09.30.11.59.37;	author matz;	state Exp;
branches;
next	1.1193;

1.1193
date	2002.09.30.11.35.40;	author nobu;	state Exp;
branches;
next	1.1192;

1.1192
date	2002.09.30.11.31.28;	author nobu;	state Exp;
branches;
next	1.1191;

1.1191
date	2002.09.29.09.31.58;	author nobu;	state Exp;
branches;
next	1.1190;

1.1190
date	2002.09.28.21.39.56;	author usa;	state Exp;
branches;
next	1.1189;

1.1189
date	2002.09.28.11.08.59;	author nobu;	state Exp;
branches;
next	1.1188;

1.1188
date	2002.09.28.04.21.31;	author nobu;	state Exp;
branches;
next	1.1187;

1.1187
date	2002.09.28.02.41.04;	author matz;	state Exp;
branches;
next	1.1186;

1.1186
date	2002.09.28.00.53.05;	author H_Konishi;	state Exp;
branches;
next	1.1185;

1.1185
date	2002.09.27.09.42.24;	author nobu;	state Exp;
branches;
next	1.1184;

1.1184
date	2002.09.27.04.26.20;	author matz;	state Exp;
branches;
next	1.1183;

1.1183
date	2002.09.26.17.44.32;	author knu;	state Exp;
branches;
next	1.1182;

1.1182
date	2002.09.26.17.26.45;	author knu;	state Exp;
branches;
next	1.1181;

1.1181
date	2002.09.26.16.27.23;	author knu;	state Exp;
branches;
next	1.1180;

1.1180
date	2002.09.26.13.49.40;	author knu;	state Exp;
branches;
next	1.1179;

1.1179
date	2002.09.26.00.48.33;	author matz;	state Exp;
branches;
next	1.1178;

1.1178
date	2002.09.25.14.52.37;	author nobu;	state Exp;
branches;
next	1.1177;

1.1177
date	2002.09.25.08.49.17;	author usa;	state Exp;
branches;
next	1.1176;

1.1176
date	2002.09.25.07.03.00;	author matz;	state Exp;
branches;
next	1.1175;

1.1175
date	2002.09.23.15.48.42;	author nobu;	state Exp;
branches;
next	1.1174;

1.1174
date	2002.09.23.11.01.48;	author eban;	state Exp;
branches;
next	1.1173;

1.1173
date	2002.09.22.12.52.17;	author nobu;	state Exp;
branches;
next	1.1172;

1.1172
date	2002.09.21.13.30.48;	author nobu;	state Exp;
branches;
next	1.1171;

1.1171
date	2002.09.21.13.30.00;	author nobu;	state Exp;
branches;
next	1.1170;

1.1170
date	2002.09.20.14.03.45;	author nobu;	state Exp;
branches;
next	1.1169;

1.1169
date	2002.09.20.10.46.52;	author knu;	state Exp;
branches;
next	1.1168;

1.1168
date	2002.09.17.12.07.36;	author nobu;	state Exp;
branches;
next	1.1167;

1.1167
date	2002.09.17.09.36.05;	author matz;	state Exp;
branches;
next	1.1166;

1.1166
date	2002.09.16.15.56.31;	author aamine;	state Exp;
branches;
next	1.1165;

1.1165
date	2002.09.15.13.02.09;	author H_Konishi;	state Exp;
branches;
next	1.1164;

1.1164
date	2002.09.15.12.57.20;	author eban;	state Exp;
branches;
next	1.1163;

1.1163
date	2002.09.14.11.17.31;	author H_Konishi;	state Exp;
branches;
next	1.1162;

1.1162
date	2002.09.13.14.46.44;	author nobu;	state Exp;
branches;
next	1.1161;

1.1161
date	2002.09.13.09.36.28;	author nobu;	state Exp;
branches;
next	1.1160;

1.1160
date	2002.09.13.04.30.27;	author eban;	state Exp;
branches;
next	1.1159;

1.1159
date	2002.09.12.14.27.01;	author H_Konishi;	state Exp;
branches;
next	1.1158;

1.1158
date	2002.09.12.09.11.12;	author nobu;	state Exp;
branches;
next	1.1157;

1.1157
date	2002.09.12.08.48.57;	author nobu;	state Exp;
branches;
next	1.1156;

1.1156
date	2002.09.12.06.27.13;	author matz;	state Exp;
branches;
next	1.1155;

1.1155
date	2002.09.11.15.13.09;	author nobu;	state Exp;
branches;
next	1.1154;

1.1154
date	2002.09.11.12.29.16;	author akr;	state Exp;
branches;
next	1.1153;

1.1153
date	2002.09.11.09.58.01;	author nobu;	state Exp;
branches;
next	1.1152;

1.1152
date	2002.09.11.08.50.12;	author usa;	state Exp;
branches;
next	1.1151;

1.1151
date	2002.09.11.04.05.36;	author knu;	state Exp;
branches;
next	1.1150;

1.1150
date	2002.09.11.02.38.51;	author usa;	state Exp;
branches;
next	1.1149;

1.1149
date	2002.09.11.01.09.04;	author nobu;	state Exp;
branches;
next	1.1148;

1.1148
date	2002.09.11.00.39.34;	author usa;	state Exp;
branches;
next	1.1147;

1.1147
date	2002.09.10.15.44.36;	author nobu;	state Exp;
branches;
next	1.1146;

1.1146
date	2002.09.10.14.38.20;	author nobu;	state Exp;
branches;
next	1.1145;

1.1145
date	2002.09.10.09.30.50;	author eban;	state Exp;
branches;
next	1.1144;

1.1144
date	2002.09.10.08.28.51;	author usa;	state Exp;
branches;
next	1.1143;

1.1143
date	2002.09.10.08.24.10;	author usa;	state Exp;
branches;
next	1.1142;

1.1142
date	2002.09.09.14.47.57;	author eban;	state Exp;
branches;
next	1.1141;

1.1141
date	2002.09.09.02.27.01;	author nobu;	state Exp;
branches;
next	1.1140;

1.1140
date	2002.09.08.12.59.07;	author eban;	state Exp;
branches;
next	1.1139;

1.1139
date	2002.09.08.10.33.12;	author usa;	state Exp;
branches;
next	1.1138;

1.1138
date	2002.09.08.10.06.39;	author usa;	state Exp;
branches;
next	1.1137;

1.1137
date	2002.09.08.10.00.43;	author eban;	state Exp;
branches;
next	1.1136;

1.1136
date	2002.09.08.09.08.15;	author eban;	state Exp;
branches;
next	1.1135;

1.1135
date	2002.09.08.05.46.28;	author H_Konishi;	state Exp;
branches;
next	1.1134;

1.1134
date	2002.09.07.14.36.32;	author nobu;	state Exp;
branches;
next	1.1133;

1.1133
date	2002.09.07.10.48.14;	author knu;	state Exp;
branches;
next	1.1132;

1.1132
date	2002.09.07.10.32.23;	author knu;	state Exp;
branches;
next	1.1131;

1.1131
date	2002.09.06.23.39.02;	author aamine;	state Exp;
branches;
next	1.1130;

1.1130
date	2002.09.06.11.23.06;	author nobu;	state Exp;
branches;
next	1.1129;

1.1129
date	2002.09.06.08.59.38;	author matz;	state Exp;
branches;
next	1.1128;

1.1128
date	2002.09.06.03.09.07;	author aamine;	state Exp;
branches;
next	1.1127;

1.1127
date	2002.09.06.02.44.51;	author aamine;	state Exp;
branches;
next	1.1126;

1.1126
date	2002.09.06.01.58.32;	author aamine;	state Exp;
branches;
next	1.1125;

1.1125
date	2002.09.06.01.24.41;	author aamine;	state Exp;
branches;
next	1.1124;

1.1124
date	2002.09.05.20.52.48;	author nobu;	state Exp;
branches;
next	1.1123;

1.1123
date	2002.09.05.20.09.52;	author aamine;	state Exp;
branches;
next	1.1122;

1.1122
date	2002.09.05.20.00.52;	author aamine;	state Exp;
branches;
next	1.1121;

1.1121
date	2002.09.05.09.42.56;	author matz;	state Exp;
branches;
next	1.1120;

1.1120
date	2002.09.05.09.17.48;	author michal;	state Exp;
branches;
next	1.1119;

1.1119
date	2002.09.05.04.15.50;	author nobu;	state Exp;
branches;
next	1.1118;

1.1118
date	2002.09.04.16.52.53;	author eban;	state Exp;
branches;
next	1.1117;

1.1117
date	2002.09.04.11.25.27;	author arai;	state Exp;
branches;
next	1.1116;

1.1116
date	2002.09.04.06.37.35;	author matz;	state Exp;
branches;
next	1.1115;

1.1115
date	2002.09.03.08.40.47;	author eban;	state Exp;
branches;
next	1.1114;

1.1114
date	2002.09.03.05.20.06;	author matz;	state Exp;
branches;
next	1.1113;

1.1113
date	2002.09.02.14.04.19;	author nobu;	state Exp;
branches;
next	1.1112;

1.1112
date	2002.09.02.12.19.30;	author aamine;	state Exp;
branches;
next	1.1111;

1.1111
date	2002.09.01.06.58.09;	author eban;	state Exp;
branches;
next	1.1110;

1.1110
date	2002.08.30.13.47.48;	author knu;	state Exp;
branches;
next	1.1109;

1.1109
date	2002.08.30.12.02.04;	author H_Konishi;	state Exp;
branches;
next	1.1108;

1.1108
date	2002.08.30.10.46.37;	author nobu;	state Exp;
branches;
next	1.1107;

1.1107
date	2002.08.30.10.43.41;	author nobu;	state Exp;
branches;
next	1.1106;

1.1106
date	2002.08.30.10.42.09;	author nobu;	state Exp;
branches;
next	1.1105;

1.1105
date	2002.08.29.14.36.29;	author H_Konishi;	state Exp;
branches;
next	1.1104;

1.1104
date	2002.08.29.09.08.15;	author matz;	state Exp;
branches;
next	1.1103;

1.1103
date	2002.08.29.04.38.37;	author eban;	state Exp;
branches;
next	1.1102;

1.1102
date	2002.08.28.16.00.34;	author nobu;	state Exp;
branches;
next	1.1101;

1.1101
date	2002.08.28.15.58.35;	author nobu;	state Exp;
branches;
next	1.1100;

1.1100
date	2002.08.28.14.59.01;	author michal;	state Exp;
branches;
next	1.1099;

1.1099
date	2002.08.28.14.36.38;	author nobu;	state Exp;
branches;
next	1.1098;

1.1098
date	2002.08.28.10.14.06;	author nobu;	state Exp;
branches;
next	1.1097;

1.1097
date	2002.08.28.09.25.07;	author michal;	state Exp;
branches;
next	1.1096;

1.1096
date	2002.08.28.08.56.25;	author nobu;	state Exp;
branches;
next	1.1095;

1.1095
date	2002.08.28.07.38.25;	author eban;	state Exp;
branches;
next	1.1094;

1.1094
date	2002.08.28.06.01.58;	author matz;	state Exp;
branches;
next	1.1093;

1.1093
date	2002.08.28.02.39.28;	author usa;	state Exp;
branches;
next	1.1092;

1.1092
date	2002.08.27.11.00.23;	author nobu;	state Exp;
branches;
next	1.1091;

1.1091
date	2002.08.27.08.31.05;	author matz;	state Exp;
branches;
next	1.1090;

1.1090
date	2002.08.25.20.15.04;	author wakou;	state Exp;
branches;
next	1.1089;

1.1089
date	2002.08.24.06.32.40;	author nobu;	state Exp;
branches;
next	1.1088;

1.1088
date	2002.08.24.05.18.08;	author akr;	state Exp;
branches;
next	1.1087;

1.1087
date	2002.08.23.15.24.03;	author eban;	state Exp;
branches;
next	1.1086;

1.1086
date	2002.08.23.15.01.13;	author nobu;	state Exp;
branches;
next	1.1085;

1.1085
date	2002.08.23.08.18.18;	author eban;	state Exp;
branches;
next	1.1084;

1.1084
date	2002.08.21.15.53.07;	author michal;	state Exp;
branches;
next	1.1083;

1.1083
date	2002.08.21.08.30.05;	author matz;	state Exp;
branches;
next	1.1082;

1.1082
date	2002.08.21.08.27.29;	author eban;	state Exp;
branches;
next	1.1081;

1.1081
date	2002.08.21.07.17.55;	author eban;	state Exp;
branches;
next	1.1080;

1.1080
date	2002.08.20.13.03.22;	author H_Konishi;	state Exp;
branches;
next	1.1079;

1.1079
date	2002.08.20.10.42.33;	author eban;	state Exp;
branches;
next	1.1078;

1.1078
date	2002.08.20.07.36.00;	author matz;	state Exp;
branches;
next	1.1077;

1.1077
date	2002.08.19.10.06.10;	author nobu;	state Exp;
branches;
next	1.1076;

1.1076
date	2002.08.19.06.41.01;	author matz;	state Exp;
branches;
next	1.1075;

1.1075
date	2002.08.19.05.56.05;	author matz;	state Exp;
branches;
next	1.1074;

1.1074
date	2002.08.19.03.41.00;	author nobu;	state Exp;
branches;
next	1.1073;

1.1073
date	2002.08.19.00.37.03;	author nobu;	state Exp;
branches;
next	1.1072;

1.1072
date	2002.08.16.07.23.04;	author eban;	state Exp;
branches;
next	1.1071;

1.1071
date	2002.08.16.06.39.27;	author nobu;	state Exp;
branches;
next	1.1070;

1.1070
date	2002.08.16.02.52.25;	author nobu;	state Exp;
branches;
next	1.1069;

1.1069
date	2002.08.15.23.00.10;	author nobu;	state Exp;
branches;
next	1.1068;

1.1068
date	2002.08.15.22.58.45;	author nobu;	state Exp;
branches;
next	1.1067;

1.1067
date	2002.08.15.11.49.39;	author nobu;	state Exp;
branches;
next	1.1066;

1.1066
date	2002.08.13.09.21.12;	author matz;	state Exp;
branches;
next	1.1065;

1.1065
date	2002.08.12.13.39.22;	author knu;	state Exp;
branches;
next	1.1064;

1.1064
date	2002.08.12.07.39.07;	author matz;	state Exp;
branches;
next	1.1063;

1.1063
date	2002.08.12.07.21.25;	author nobu;	state Exp;
branches;
next	1.1062;

1.1062
date	2002.08.11.00.36.38;	author nobu;	state Exp;
branches;
next	1.1061;

1.1061
date	2002.08.09.04.36.46;	author eban;	state Exp;
branches;
next	1.1060;

1.1060
date	2002.08.08.00.38.28;	author nobu;	state Exp;
branches;
next	1.1059;

1.1059
date	2002.08.07.23.48.47;	author nobu;	state Exp;
branches;
next	1.1058;

1.1058
date	2002.08.07.13.13.44;	author nobu;	state Exp;
branches;
next	1.1057;

1.1057
date	2002.08.07.13.00.10;	author nobu;	state Exp;
branches;
next	1.1056;

1.1056
date	2002.08.07.00.47.36;	author nobu;	state Exp;
branches;
next	1.1055;

1.1055
date	2002.08.06.23.42.03;	author aamine;	state Exp;
branches;
next	1.1054;

1.1054
date	2002.08.06.06.20.42;	author usa;	state Exp;
branches;
next	1.1053;

1.1053
date	2002.08.05.13.38.48;	author aamine;	state Exp;
branches;
next	1.1052;

1.1052
date	2002.08.04.13.32.15;	author nobu;	state Exp;
branches;
next	1.1051;

1.1051
date	2002.08.03.12.27.33;	author nobu;	state Exp;
branches;
next	1.1050;

1.1050
date	2002.08.02.00.10.19;	author aamine;	state Exp;
branches;
next	1.1049;

1.1049
date	2002.08.01.09.42.36;	author matz;	state Exp;
branches;
next	1.1048;

1.1048
date	2002.07.31.05.18.42;	author matz;	state Exp;
branches;
next	1.1047;

1.1047
date	2002.07.30.10.54.30;	author nobu;	state Exp;
branches;
next	1.1046;

1.1046
date	2002.07.30.08.23.25;	author nobu;	state Exp;
branches;
next	1.1045;

1.1045
date	2002.07.30.06.34.27;	author eban;	state Exp;
branches;
next	1.1044;

1.1044
date	2002.07.30.00.13.56;	author aamine;	state Exp;
branches;
next	1.1043;

1.1043
date	2002.07.29.23.34.43;	author aamine;	state Exp;
branches;
next	1.1042;

1.1042
date	2002.07.29.07.06.34;	author eban;	state Exp;
branches;
next	1.1041;

1.1041
date	2002.07.29.06.14.03;	author matz;	state Exp;
branches;
next	1.1040;

1.1040
date	2002.07.26.14.12.26;	author nobu;	state Exp;
branches;
next	1.1039;

1.1039
date	2002.07.26.09.33.35;	author nobu;	state Exp;
branches;
next	1.1038;

1.1038
date	2002.07.26.07.47.50;	author eban;	state Exp;
branches;
next	1.1037;

1.1037
date	2002.07.26.07.05.40;	author eban;	state Exp;
branches;
next	1.1036;

1.1036
date	2002.07.26.06.12.38;	author matz;	state Exp;
branches;
next	1.1035;

1.1035
date	2002.07.26.03.13.06;	author aamine;	state Exp;
branches;
next	1.1034;

1.1034
date	2002.07.25.00.09.03;	author nobu;	state Exp;
branches;
next	1.1033;

1.1033
date	2002.07.18.02.52.47;	author shugo;	state Exp;
branches;
next	1.1032;

1.1032
date	2002.07.17.21.49.40;	author aamine;	state Exp;
branches;
next	1.1031;

1.1031
date	2002.07.15.01.33.36;	author aamine;	state Exp;
branches;
next	1.1030;

1.1030
date	2002.07.13.00.32.46;	author nobu;	state Exp;
branches;
next	1.1029;

1.1029
date	2002.07.12.16.34.02;	author nobu;	state Exp;
branches;
next	1.1028;

1.1028
date	2002.07.11.21.33.37;	author aamine;	state Exp;
branches;
next	1.1027;

1.1027
date	2002.07.11.17.17.14;	author nobu;	state Exp;
branches;
next	1.1026;

1.1026
date	2002.07.11.15.04.23;	author nobu;	state Exp;
branches;
next	1.1025;

1.1025
date	2002.07.11.08.22.10;	author matz;	state Exp;
branches;
next	1.1024;

1.1024
date	2002.07.11.04.02.07;	author shugo;	state Exp;
branches;
next	1.1023;

1.1023
date	2002.07.09.11.17.16;	author keiju;	state Exp;
branches;
next	1.1022;

1.1022
date	2002.07.05.08.58.57;	author michal;	state Exp;
branches;
next	1.1021;

1.1021
date	2002.07.05.05.04.24;	author wakou;	state Exp;
branches;
next	1.1020;

1.1020
date	2002.07.04.14.41.36;	author aamine;	state Exp;
branches;
next	1.1019;

1.1019
date	2002.07.03.05.27.59;	author shugo;	state Exp;
branches;
next	1.1018;

1.1018
date	2002.07.03.04.59.23;	author shugo;	state Exp;
branches;
next	1.1017;

1.1017
date	2002.07.03.04.49.53;	author shugo;	state Exp;
branches;
next	1.1016;

1.1016
date	2002.07.03.02.36.45;	author wakou;	state Exp;
branches;
next	1.1015;

1.1015
date	2002.07.02.14.19.51;	author wakou;	state Exp;
branches;
next	1.1014;

1.1014
date	2002.06.30.09.05.44;	author eban;	state Exp;
branches;
next	1.1013;

1.1013
date	2002.06.28.18.26.00;	author usa;	state Exp;
branches;
next	1.1012;

1.1012
date	2002.06.28.14.53.03;	author usa;	state Exp;
branches;
next	1.1011;

1.1011
date	2002.06.28.14.39.59;	author matz;	state Exp;
branches;
next	1.1010;

1.1010
date	2002.06.28.08.55.09;	author akr;	state Exp;
branches;
next	1.1009;

1.1009
date	2002.06.27.14.57.09;	author usa;	state Exp;
branches;
next	1.1008;

1.1008
date	2002.06.27.12.01.07;	author akr;	state Exp;
branches;
next	1.1007;

1.1007
date	2002.06.27.06.27.19;	author akr;	state Exp;
branches;
next	1.1006;

1.1006
date	2002.06.26.23.29.10;	author nobu;	state Exp;
branches;
next	1.1005;

1.1005
date	2002.06.26.08.00.55;	author nobu;	state Exp;
branches;
next	1.1004;

1.1004
date	2002.06.25.09.56.36;	author nobu;	state Exp;
branches;
next	1.1003;

1.1003
date	2002.06.25.09.44.57;	author H_Konishi;	state Exp;
branches;
next	1.1002;

1.1002
date	2002.06.24.15.23.59;	author H_Konishi;	state Exp;
branches;
next	1.1001;

1.1001
date	2002.06.24.15.18.00;	author nobu;	state Exp;
branches;
next	1.1000;

1.1000
date	2002.06.24.07.58.59;	author matz;	state Exp;
branches;
next	1.999;

1.999
date	2002.06.24.07.34.30;	author nobu;	state Exp;
branches;
next	1.998;

1.998
date	2002.06.24.07.20.42;	author nobu;	state Exp;
branches;
next	1.997;

1.997
date	2002.06.22.15.26.57;	author tadf;	state Exp;
branches;
next	1.996;

1.996
date	2002.06.20.12.14.30;	author nobu;	state Exp;
branches;
next	1.995;

1.995
date	2002.06.20.10.24.38;	author eban;	state Exp;
branches;
next	1.994;

1.994
date	2002.06.20.08.21.00;	author eban;	state Exp;
branches;
next	1.993;

1.993
date	2002.06.19.05.49.45;	author eban;	state Exp;
branches;
next	1.992;

1.992
date	2002.06.18.15.53.57;	author nobu;	state Exp;
branches;
next	1.991;

1.991
date	2002.06.18.15.46.24;	author nobu;	state Exp;
branches;
next	1.990;

1.990
date	2002.06.18.10.23.31;	author usa;	state Exp;
branches;
next	1.989;

1.989
date	2002.06.18.06.29.04;	author matz;	state Exp;
branches;
next	1.988;

1.988
date	2002.06.18.03.53.23;	author nobu;	state Exp;
branches;
next	1.987;

1.987
date	2002.06.17.01.54.51;	author nobu;	state Exp;
branches;
next	1.986;

1.986
date	2002.06.15.10.24.38;	author knu;	state Exp;
branches;
next	1.985;

1.985
date	2002.06.14.12.21.49;	author H_Konishi;	state Exp;
branches;
next	1.984;

1.984
date	2002.06.14.06.27.18;	author nobu;	state Exp;
branches;
next	1.983;

1.983
date	2002.06.13.03.55.44;	author matz;	state Exp;
branches;
next	1.982;

1.982
date	2002.06.12.09.31.40;	author akira;	state Exp;
branches;
next	1.981;

1.981
date	2002.06.12.09.22.20;	author matz;	state Exp;
branches;
next	1.980;

1.980
date	2002.06.11.17.39.38;	author nobu;	state Exp;
branches;
next	1.979;

1.979
date	2002.06.11.10.26.12;	author eban;	state Exp;
branches;
next	1.978;

1.978
date	2002.06.11.07.01.13;	author matz;	state Exp;
branches;
next	1.977;

1.977
date	2002.06.11.04.20.09;	author shugo;	state Exp;
branches;
next	1.976;

1.976
date	2002.06.11.04.16.58;	author usa;	state Exp;
branches;
next	1.975;

1.975
date	2002.06.11.03.41.52;	author H_Konishi;	state Exp;
branches;
next	1.974;

1.974
date	2002.06.11.01.27.46;	author H_Konishi;	state Exp;
branches;
next	1.973;

1.973
date	2002.06.10.13.02.00;	author akr;	state Exp;
branches;
next	1.972;

1.972
date	2002.06.10.10.16.13;	author nobu;	state Exp;
branches;
next	1.971;

1.971
date	2002.06.10.10.06.12;	author nobu;	state Exp;
branches;
next	1.970;

1.970
date	2002.06.09.17.47.33;	author ttate;	state Exp;
branches;
next	1.969;

1.969
date	2002.06.09.02.44.32;	author aamine;	state Exp;
branches;
next	1.968;

1.968
date	2002.06.06.11.14.03;	author H_Konishi;	state Exp;
branches;
next	1.967;

1.967
date	2002.06.06.03.06.10;	author usa;	state Exp;
branches;
next	1.966;

1.966
date	2002.06.06.02.46.18;	author nobu;	state Exp;
branches;
next	1.965;

1.965
date	2002.06.06.02.43.02;	author nobu;	state Exp;
branches;
next	1.964;

1.964
date	2002.06.04.09.52.28;	author eban;	state Exp;
branches;
next	1.963;

1.963
date	2002.06.04.09.33.39;	author eban;	state Exp;
branches;
next	1.962;

1.962
date	2002.06.04.07.34.14;	author matz;	state Exp;
branches;
next	1.961;

1.961
date	2002.06.03.16.02.16;	author nobu;	state Exp;
branches;
next	1.960;

1.960
date	2002.06.03.15.50.54;	author nobu;	state Exp;
branches;
next	1.959;

1.959
date	2002.06.03.11.44.08;	author suke;	state Exp;
branches;
next	1.958;

1.958
date	2002.06.02.22.16.54;	author nobu;	state Exp;
branches;
next	1.957;

1.957
date	2002.06.01.12.34.28;	author suke;	state Exp;
branches;
next	1.956;

1.956
date	2002.05.30.06.12.27;	author matz;	state Exp;
branches;
next	1.955;

1.955
date	2002.05.30.00.21.05;	author wakou;	state Exp;
branches;
next	1.954;

1.954
date	2002.05.29.10.22.18;	author H_Konishi;	state Exp;
branches;
next	1.953;

1.953
date	2002.05.29.08.42.18;	author eban;	state Exp;
branches;
next	1.952;

1.952
date	2002.05.29.05.20.32;	author matz;	state Exp;
branches;
next	1.951;

1.951
date	2002.05.29.04.48.32;	author wakou;	state Exp;
branches;
next	1.950;

1.950
date	2002.05.28.03.20.04;	author nobu;	state Exp;
branches;
next	1.949;

1.949
date	2002.05.23.07.41.53;	author nobu;	state Exp;
branches;
next	1.948;

1.948
date	2002.05.23.05.35.26;	author matz;	state Exp;
branches;
next	1.947;

1.947
date	2002.05.22.12.32.14;	author nobu;	state Exp;
branches;
next	1.946;

1.946
date	2002.05.22.11.20.44;	author eban;	state Exp;
branches;
next	1.945;

1.945
date	2002.05.22.09.37.45;	author aamine;	state Exp;
branches;
next	1.944;

1.944
date	2002.05.21.05.39.18;	author matz;	state Exp;
branches;
next	1.943;

1.943
date	2002.05.21.04.35.31;	author nobu;	state Exp;
branches;
next	1.942;

1.942
date	2002.05.20.19.56.52;	author wakou;	state Exp;
branches;
next	1.941;

1.941
date	2002.05.20.16.22.23;	author nobu;	state Exp;
branches;
next	1.940;

1.940
date	2002.05.20.15.35.47;	author ttate;	state Exp;
branches;
next	1.939;

1.939
date	2002.05.20.04.33.59;	author nobu;	state Exp;
branches;
next	1.938;

1.938
date	2002.05.18.15.15.00;	author tadf;	state Exp;
branches;
next	1.937;

1.937
date	2002.05.18.12.41.50;	author tadf;	state Exp;
branches;
next	1.936;

1.936
date	2002.05.18.12.19.04;	author usa;	state Exp;
branches;
next	1.935;

1.935
date	2002.05.17.07.29.47;	author eban;	state Exp;
branches;
next	1.934;

1.934
date	2002.05.16.05.53.14;	author nobu;	state Exp;
branches;
next	1.933;

1.933
date	2002.05.14.09.22.22;	author nobu;	state Exp;
branches;
next	1.932;

1.932
date	2002.05.14.06.22.25;	author matz;	state Exp;
branches;
next	1.931;

1.931
date	2002.05.14.05.59.34;	author eban;	state Exp;
branches;
next	1.930;

1.930
date	2002.05.13.05.42.47;	author eban;	state Exp;
branches;
next	1.929;

1.929
date	2002.05.11.23.30.40;	author ttate;	state Exp;
branches;
next	1.928;

1.928
date	2002.05.11.19.31.17;	author eban;	state Exp;
branches;
next	1.927;

1.927
date	2002.05.11.01.53.47;	author nobu;	state Exp;
branches;
next	1.926;

1.926
date	2002.05.10.10.05.30;	author nobu;	state Exp;
branches;
next	1.925;

1.925
date	2002.05.09.17.01.38;	author nobu;	state Exp;
branches;
next	1.924;

1.924
date	2002.05.07.08.31.59;	author matz;	state Exp;
branches;
next	1.923;

1.923
date	2002.05.07.08.15.25;	author eban;	state Exp;
branches;
next	1.922;

1.922
date	2002.05.07.07.09.02;	author nobu;	state Exp;
branches;
next	1.921;

1.921
date	2002.05.07.06.28.06;	author aamine;	state Exp;
branches;
next	1.920;

1.920
date	2002.05.07.00.17.47;	author aamine;	state Exp;
branches;
next	1.919;

1.919
date	2002.05.04.21.57.31;	author knu;	state Exp;
branches;
next	1.918;

1.918
date	2002.05.04.00.06.19;	author knu;	state Exp;
branches;
next	1.917;

1.917
date	2002.05.03.22.39.40;	author knu;	state Exp;
branches;
next	1.916;

1.916
date	2002.05.03.13.12.10;	author eban;	state Exp;
branches;
next	1.915;

1.915
date	2002.05.03.11.24.30;	author eban;	state Exp;
branches;
next	1.914;

1.914
date	2002.05.02.09.31.29;	author eban;	state Exp;
branches;
next	1.913;

1.913
date	2002.05.02.07.50.36;	author matz;	state Exp;
branches;
next	1.912;

1.912
date	2002.05.01.09.41.49;	author matz;	state Exp;
branches;
next	1.911;

1.911
date	2002.04.28.09.14.20;	author eban;	state Exp;
branches;
next	1.910;

1.910
date	2002.04.26.07.03.31;	author ttate;	state Exp;
branches;
next	1.909;

1.909
date	2002.04.26.00.38.44;	author nobu;	state Exp;
branches;
next	1.908;

1.908
date	2002.04.24.05.58.34;	author nobu;	state Exp;
branches;
next	1.907;

1.907
date	2002.04.24.05.27.41;	author eban;	state Exp;
branches;
next	1.906;

1.906
date	2002.04.24.05.08.04;	author matz;	state Exp;
branches;
next	1.905;

1.905
date	2002.04.24.04.54.13;	author matz;	state Exp;
branches;
next	1.904;

1.904
date	2002.04.23.16.22.25;	author nobu;	state Exp;
branches;
next	1.903;

1.903
date	2002.04.23.15.40.45;	author usa;	state Exp;
branches;
next	1.902;

1.902
date	2002.04.19.13.06.12;	author usa;	state Exp;
branches;
next	1.901;

1.901
date	2002.04.19.07.39.40;	author eban;	state Exp;
branches;
next	1.900;

1.900
date	2002.04.19.07.33.18;	author eban;	state Exp;
branches;
next	1.899;

1.899
date	2002.04.19.07.29.59;	author eban;	state Exp;
branches;
next	1.898;

1.898
date	2002.04.19.05.59.44;	author nobu;	state Exp;
branches;
next	1.897;

1.897
date	2002.04.19.04.14.07;	author matz;	state Exp;
branches;
next	1.896;

1.896
date	2002.04.19.04.05.54;	author ttate;	state Exp;
branches;
next	1.895;

1.895
date	2002.04.18.08.46.17;	author matz;	state Exp;
branches;
next	1.894;

1.894
date	2002.04.18.08.04.57;	author akr;	state Exp;
branches;
next	1.893;

1.893
date	2002.04.17.15.00.22;	author knu;	state Exp;
branches;
next	1.892;

1.892
date	2002.04.16.00.02.49;	author nobu;	state Exp;
branches;
next	1.891;

1.891
date	2002.04.15.07.48.45;	author matz;	state Exp;
branches;
next	1.890;

1.890
date	2002.04.12.08.45.02;	author matz;	state Exp;
branches;
next	1.889;

1.889
date	2002.04.12.03.55.04;	author usa;	state Exp;
branches;
next	1.888;

1.888
date	2002.04.12.03.24.52;	author nobu;	state Exp;
branches;
next	1.887;

1.887
date	2002.04.11.10.57.13;	author eban;	state Exp;
branches;
next	1.886;

1.886
date	2002.04.11.10.11.52;	author eban;	state Exp;
branches;
next	1.885;

1.885
date	2002.04.11.10.02.59;	author matz;	state Exp;
branches;
next	1.884;

1.884
date	2002.04.11.09.38.26;	author ttate;	state Exp;
branches;
next	1.883;

1.883
date	2002.04.11.07.09.33;	author ttate;	state Exp;
branches;
next	1.882;

1.882
date	2002.04.10.17.02.46;	author wakou;	state Exp;
branches;
next	1.881;

1.881
date	2002.04.10.09.58.39;	author matz;	state Exp;
branches;
next	1.880;

1.880
date	2002.04.10.08.45.22;	author matz;	state Exp;
branches;
next	1.879;

1.879
date	2002.04.10.05.22.59;	author nobu;	state Exp;
branches;
next	1.878;

1.878
date	2002.04.09.04.43.12;	author nobu;	state Exp;
branches;
next	1.877;

1.877
date	2002.04.09.03.52.39;	author nobu;	state Exp;
branches;
next	1.876;

1.876
date	2002.04.08.20.21.14;	author knu;	state Exp;
branches;
next	1.875;

1.875
date	2002.04.08.07.09.45;	author nobu;	state Exp;
branches;
next	1.874;

1.874
date	2002.04.05.05.11.11;	author ttate;	state Exp;
branches;
next	1.873;

1.873
date	2002.04.04.14.17.19;	author ttate;	state Exp;
branches;
next	1.872;

1.872
date	2002.04.03.15.43.12;	author ttate;	state Exp;
branches;
next	1.871;

1.871
date	2002.04.03.11.59.01;	author ttate;	state Exp;
branches;
next	1.870;

1.870
date	2002.04.02.17.04.33;	author nobu;	state Exp;
branches;
next	1.869;

1.869
date	2002.04.02.11.10.12;	author ttate;	state Exp;
branches;
next	1.868;

1.868
date	2002.04.02.06.48.41;	author matz;	state Exp;
branches;
next	1.867;

1.867
date	2002.04.02.06.12.04;	author eban;	state Exp;
branches;
next	1.866;

1.866
date	2002.04.01.15.01.56;	author ttate;	state Exp;
branches;
next	1.865;

1.865
date	2002.04.01.08.31.45;	author matz;	state Exp;
branches;
next	1.864;

1.864
date	2002.04.01.07.58.09;	author nobu;	state Exp;
branches;
next	1.863;

1.863
date	2002.04.01.07.39.09;	author matz;	state Exp;
branches;
next	1.862;

1.862
date	2002.04.01.06.21.24;	author usa;	state Exp;
branches;
next	1.861;

1.861
date	2002.03.29.14.50.09;	author matz;	state Exp;
branches;
next	1.860;

1.860
date	2002.03.29.11.23.10;	author nobu;	state Exp;
branches;
next	1.859;

1.859
date	2002.03.29.07.42.20;	author nobu;	state Exp;
branches;
next	1.858;

1.858
date	2002.03.29.06.49.58;	author usa;	state Exp;
branches;
next	1.857;

1.857
date	2002.03.28.09.59.48;	author usa;	state Exp;
branches;
next	1.856;

1.856
date	2002.03.28.09.17.51;	author matz;	state Exp;
branches;
next	1.855;

1.855
date	2002.03.28.08.53.24;	author aamine;	state Exp;
branches;
next	1.854;

1.854
date	2002.03.27.05.55.01;	author eban;	state Exp;
branches;
next	1.853;

1.853
date	2002.03.27.05.27.57;	author matz;	state Exp;
branches;
next	1.852;

1.852
date	2002.03.26.11.27.50;	author aamine;	state Exp;
branches;
next	1.851;

1.851
date	2002.03.26.11.18.02;	author aamine;	state Exp;
branches;
next	1.850;

1.850
date	2002.03.26.11.17.13;	author aamine;	state Exp;
branches;
next	1.849;

1.849
date	2002.03.26.10.46.12;	author eban;	state Exp;
branches;
next	1.848;

1.848
date	2002.03.26.10.14.44;	author eban;	state Exp;
branches;
next	1.847;

1.847
date	2002.03.26.06.18.49;	author matz;	state Exp;
branches;
next	1.846;

1.846
date	2002.03.26.05.06.45;	author usa;	state Exp;
branches;
next	1.845;

1.845
date	2002.03.26.05.05.27;	author knu;	state Exp;
branches;
next	1.844;

1.844
date	2002.03.26.02.03.04;	author aamine;	state Exp;
branches;
next	1.843;

1.843
date	2002.03.25.18.24.46;	author akr;	state Exp;
branches;
next	1.842;

1.842
date	2002.03.25.16.51.22;	author knu;	state Exp;
branches;
next	1.841;

1.841
date	2002.03.25.15.37.44;	author akr;	state Exp;
branches;
next	1.840;

1.840
date	2002.03.25.14.50.40;	author nobu;	state Exp;
branches;
next	1.839;

1.839
date	2002.03.25.10.33.15;	author eban;	state Exp;
branches;
next	1.838;

1.838
date	2002.03.25.09.08.15;	author nobu;	state Exp;
branches;
next	1.837;

1.837
date	2002.03.25.08.21.01;	author nobu;	state Exp;
branches;
next	1.836;

1.836
date	2002.03.25.06.18.04;	author matz;	state Exp;
branches;
next	1.835;

1.835
date	2002.03.25.02.09.15;	author nobu;	state Exp;
branches;
next	1.834;

1.834
date	2002.03.25.01.08.44;	author nobu;	state Exp;
branches;
next	1.833;

1.833
date	2002.03.23.16.07.55;	author eban;	state Exp;
branches;
next	1.832;

1.832
date	2002.03.22.07.39.02;	author aamine;	state Exp;
branches;
next	1.831;

1.831
date	2002.03.22.07.26.35;	author matz;	state Exp;
branches;
next	1.830;

1.830
date	2002.03.22.07.20.30;	author aamine;	state Exp;
branches;
next	1.829;

1.829
date	2002.03.22.06.38.27;	author aamine;	state Exp;
branches;
next	1.828;

1.828
date	2002.03.22.05.23.59;	author aamine;	state Exp;
branches;
next	1.827;

1.827
date	2002.03.22.05.15.43;	author akr;	state Exp;
branches;
next	1.826;

1.826
date	2002.03.22.04.52.18;	author knu;	state Exp;
branches;
next	1.825;

1.825
date	2002.03.20.16.12.14;	author usa;	state Exp;
branches;
next	1.824;

1.824
date	2002.03.20.16.04.08;	author nobu;	state Exp;
branches;
next	1.823;

1.823
date	2002.03.20.13.19.36;	author akr;	state Exp;
branches;
next	1.822;

1.822
date	2002.03.20.13.00.34;	author nobu;	state Exp;
branches;
next	1.821;

1.821
date	2002.03.20.11.21.19;	author nobu;	state Exp;
branches;
next	1.820;

1.820
date	2002.03.20.11.15.18;	author nobu;	state Exp;
branches;
next	1.819;

1.819
date	2002.03.20.10.44.31;	author akr;	state Exp;
branches;
next	1.818;

1.818
date	2002.03.20.09.43.14;	author matz;	state Exp;
branches;
next	1.817;

1.817
date	2002.03.19.15.45.52;	author knu;	state Exp;
branches;
next	1.816;

1.816
date	2002.03.19.09.03.07;	author matz;	state Exp;
branches;
next	1.815;

1.815
date	2002.03.18.13.21.01;	author nobu;	state Exp;
branches;
next	1.814;

1.814
date	2002.03.18.09.24.39;	author nobu;	state Exp;
branches;
next	1.813;

1.813
date	2002.03.18.08.21.40;	author nobu;	state Exp;
branches;
next	1.812;

1.812
date	2002.03.18.03.54.10;	author eban;	state Exp;
branches;
next	1.811;

1.811
date	2002.03.18.02.04.22;	author nobu;	state Exp;
branches;
next	1.810;

1.810
date	2002.03.18.01.48.56;	author nobu;	state Exp;
branches;
next	1.809;

1.809
date	2002.03.18.01.46.33;	author nobu;	state Exp;
branches;
next	1.808;

1.808
date	2002.03.17.11.09.31;	author nobu;	state Exp;
branches;
next	1.807;

1.807
date	2002.03.16.14.07.06;	author eban;	state Exp;
branches;
next	1.806;

1.806
date	2002.03.15.10.49.05;	author nobu;	state Exp;
branches;
next	1.805;

1.805
date	2002.03.15.08.51.31;	author usa;	state Exp;
branches;
next	1.804;

1.804
date	2002.03.15.05.05.34;	author nobu;	state Exp;
branches;
next	1.803;

1.803
date	2002.03.14.13.26.28;	author nobu;	state Exp;
branches;
next	1.802;

1.802
date	2002.03.14.07.20.34;	author eban;	state Exp;
branches;
next	1.801;

1.801
date	2002.03.14.06.23.43;	author matz;	state Exp;
branches;
next	1.800;

1.800
date	2002.03.14.03.35.52;	author nobu;	state Exp;
branches;
next	1.799;

1.799
date	2002.03.14.00.10.49;	author nobu;	state Exp;
branches;
next	1.798;

1.798
date	2002.03.14.00.04.05;	author nobu;	state Exp;
branches;
next	1.797;

1.797
date	2002.03.13.23.59.41;	author nobu;	state Exp;
branches;
next	1.796;

1.796
date	2002.03.13.10.11.09;	author knu;	state Exp;
branches;
next	1.795;

1.795
date	2002.03.13.09.44.58;	author knu;	state Exp;
branches;
next	1.794;

1.794
date	2002.03.12.09.28.48;	author matz;	state Exp;
branches;
next	1.793;

1.793
date	2002.03.12.08.12.32;	author akr;	state Exp;
branches;
next	1.792;

1.792
date	2002.03.11.14.09.11;	author akr;	state Exp;
branches;
next	1.791;

1.791
date	2002.03.11.12.39.23;	author nobu;	state Exp;
branches;
next	1.790;

1.790
date	2002.03.11.08.02.01;	author matz;	state Exp;
branches;
next	1.789;

1.789
date	2002.03.08.23.47.36;	author akr;	state Exp;
branches;
next	1.788;

1.788
date	2002.03.08.07.03.03;	author matz;	state Exp;
branches;
next	1.787;

1.787
date	2002.03.08.03.19.53;	author akr;	state Exp;
branches;
next	1.786;

1.786
date	2002.03.07.11.19.37;	author nobu;	state Exp;
branches;
next	1.785;

1.785
date	2002.03.06.09.00.32;	author eban;	state Exp;
branches;
next	1.784;

1.784
date	2002.03.04.21.29.11;	author knu;	state Exp;
branches;
next	1.783;

1.783
date	2002.03.04.21.15.47;	author knu;	state Exp;
branches;
next	1.782;

1.782
date	2002.03.04.04.22.19;	author knu;	state Exp;
branches;
next	1.781;

1.781
date	2002.03.03.11.03.05;	author akr;	state Exp;
branches;
next	1.780;

1.780
date	2002.03.01.02.32.20;	author eban;	state Exp;
branches;
next	1.779;

1.779
date	2002.03.01.02.30.08;	author shugo;	state Exp;
branches;
next	1.778;

1.778
date	2002.03.01.02.27.36;	author shugo;	state Exp;
branches;
next	1.777;

1.777
date	2002.02.28.22.05.01;	author akr;	state Exp;
branches;
next	1.776;

1.776
date	2002.02.28.21.31.35;	author akr;	state Exp;
branches;
next	1.775;

1.775
date	2002.02.28.06.53.29;	author matz;	state Exp;
branches;
next	1.774;

1.774
date	2002.02.27.04.52.15;	author matz;	state Exp;
branches;
next	1.773;

1.773
date	2002.02.27.04.29.09;	author eban;	state Exp;
branches;
next	1.772;

1.772
date	2002.02.26.22.07.36;	author knu;	state Exp;
branches;
next	1.771;

1.771
date	2002.02.26.12.35.44;	author usa;	state Exp;
branches;
next	1.770;

1.770
date	2002.02.26.06.48.58;	author matz;	state Exp;
branches;
next	1.769;

1.769
date	2002.02.26.02.35.34;	author akira;	state Exp;
branches;
next	1.768;

1.768
date	2002.02.25.12.23.47;	author knu;	state Exp;
branches;
next	1.767;

1.767
date	2002.02.25.12.13.29;	author knu;	state Exp;
branches;
next	1.766;

1.766
date	2002.02.25.10.43.10;	author nobu;	state Exp;
branches;
next	1.765;

1.765
date	2002.02.25.09.16.24;	author matz;	state Exp;
branches;
next	1.764;

1.764
date	2002.02.25.04.35.08;	author nobu;	state Exp;
branches;
next	1.763;

1.763
date	2002.02.24.08.24.26;	author knu;	state Exp;
branches;
next	1.762;

1.762
date	2002.02.22.12.43.05;	author akr;	state Exp;
branches;
next	1.761;

1.761
date	2002.02.22.12.10.58;	author aamine;	state Exp;
branches;
next	1.760;

1.760
date	2002.02.22.10.57.52;	author usa;	state Exp;
branches;
next	1.759;

1.759
date	2002.02.22.10.28.44;	author matz;	state Exp;
branches;
next	1.758;

1.758
date	2002.02.22.02.31.46;	author akr;	state Exp;
branches;
next	1.757;

1.757
date	2002.02.21.12.42.31;	author usa;	state Exp;
branches;
next	1.756;

1.756
date	2002.02.21.07.15.03;	author matz;	state Exp;
branches;
next	1.755;

1.755
date	2002.02.20.06.33.24;	author nobu;	state Exp;
branches;
next	1.754;

1.754
date	2002.02.20.04.42.49;	author usa;	state Exp;
branches;
next	1.753;

1.753
date	2002.02.20.04.31.50;	author matz;	state Exp;
branches;
next	1.752;

1.752
date	2002.02.19.12.33.51;	author aamine;	state Exp;
branches;
next	1.751;

1.751
date	2002.02.19.08.13.26;	author nobu;	state Exp;
branches;
next	1.750;

1.750
date	2002.02.19.07.47.05;	author matz;	state Exp;
branches;
next	1.749;

1.749
date	2002.02.19.06.43.57;	author matz;	state Exp;
branches;
next	1.748;

1.748
date	2002.02.19.05.39.06;	author matz;	state Exp;
branches;
next	1.747;

1.747
date	2002.02.19.04.49.24;	author matz;	state Exp;
branches;
next	1.746;

1.746
date	2002.02.19.04.25.39;	author eban;	state Exp;
branches;
next	1.745;

1.745
date	2002.02.19.04.19.06;	author nobu;	state Exp;
branches;
next	1.744;

1.744
date	2002.02.18.11.51.10;	author nobu;	state Exp;
branches;
next	1.743;

1.743
date	2002.02.18.09.52.45;	author matz;	state Exp;
branches;
next	1.742;

1.742
date	2002.02.18.05.17.50;	author nobu;	state Exp;
branches;
next	1.741;

1.741
date	2002.02.17.15.31.35;	author nobu;	state Exp;
branches;
next	1.740;

1.740
date	2002.02.17.14.46.40;	author nobu;	state Exp;
branches;
next	1.739;

1.739
date	2002.02.17.14.44.14;	author nobu;	state Exp;
branches;
next	1.738;

1.738
date	2002.02.17.12.43.32;	author nobu;	state Exp;
branches;
next	1.737;

1.737
date	2002.02.16.00.58.51;	author nobu;	state Exp;
branches;
next	1.736;

1.736
date	2002.02.15.06.14.25;	author matz;	state Exp;
branches;
next	1.735;

1.735
date	2002.02.15.04.43.05;	author matz;	state Exp;
branches;
next	1.734;

1.734
date	2002.02.14.08.47.58;	author nobu;	state Exp;
branches;
next	1.733;

1.733
date	2002.02.14.07.49.27;	author matz;	state Exp;
branches;
next	1.732;

1.732
date	2002.02.13.09.01.09;	author matz;	state Exp;
branches;
next	1.731;

1.731
date	2002.02.10.07.55.40;	author nobu;	state Exp;
branches;
next	1.730;

1.730
date	2002.02.09.14.44.20;	author matz;	state Exp;
branches;
next	1.729;

1.729
date	2002.02.08.05.19.47;	author matz;	state Exp;
branches;
next	1.728;

1.728
date	2002.02.07.20.22.39;	author aamine;	state Exp;
branches;
next	1.727;

1.727
date	2002.02.07.04.51.11;	author akira;	state Exp;
branches;
next	1.726;

1.726
date	2002.02.07.04.18.08;	author matz;	state Exp;
branches;
next	1.725;

1.725
date	2002.02.06.08.23.46;	author nobu;	state Exp;
branches;
next	1.724;

1.724
date	2002.02.06.07.30.13;	author matz;	state Exp;
branches;
next	1.723;

1.723
date	2002.02.06.04.38.58;	author shugo;	state Exp;
branches;
next	1.722;

1.722
date	2002.02.05.17.10.54;	author nobu;	state Exp;
branches;
next	1.721;

1.721
date	2002.02.05.07.56.29;	author matz;	state Exp;
branches;
next	1.720;

1.720
date	2002.02.04.13.49.05;	author nobu;	state Exp;
branches;
next	1.719;

1.719
date	2002.02.04.08.07.01;	author matz;	state Exp;
branches;
next	1.718;

1.718
date	2002.02.01.10.23.22;	author nobu;	state Exp;
branches;
next	1.717;

1.717
date	2002.02.01.08.49.02;	author nobu;	state Exp;
branches;
next	1.716;

1.716
date	2002.02.01.06.02.59;	author matz;	state Exp;
branches;
next	1.715;

1.715
date	2002.01.31.12.03.08;	author nobu;	state Exp;
branches;
next	1.714;

1.714
date	2002.01.31.04.24.04;	author akr;	state Exp;
branches;
next	1.713;

1.713
date	2002.01.30.07.12.55;	author nobu;	state Exp;
branches;
next	1.712;

1.712
date	2002.01.30.07.00.57;	author nobu;	state Exp;
branches;
next	1.711;

1.711
date	2002.01.29.19.33.11;	author nobu;	state Exp;
branches;
next	1.710;

1.710
date	2002.01.29.10.01.41;	author akr;	state Exp;
branches;
next	1.709;

1.709
date	2002.01.29.09.15.59;	author akr;	state Exp;
branches;
next	1.708;

1.708
date	2002.01.29.07.16.04;	author matz;	state Exp;
branches;
next	1.707;

1.707
date	2002.01.28.10.18.14;	author nobu;	state Exp;
branches;
next	1.706;

1.706
date	2002.01.28.09.33.56;	author nobu;	state Exp;
branches;
next	1.705;

1.705
date	2002.01.28.08.44.37;	author matz;	state Exp;
branches;
next	1.704;

1.704
date	2002.01.25.08.58.15;	author eban;	state Exp;
branches;
next	1.703;

1.703
date	2002.01.25.08.58.00;	author eban;	state Exp;
branches;
next	1.702;

1.702
date	2002.01.25.08.22.04;	author matz;	state Exp;
branches;
next	1.701;

1.701
date	2002.01.23.07.30.39;	author matz;	state Exp;
branches;
next	1.700;

1.700
date	2002.01.23.07.21.50;	author nobu;	state Exp;
branches;
next	1.699;

1.699
date	2002.01.21.13.59.41;	author nobu;	state Exp;
branches;
next	1.698;

1.698
date	2002.01.21.07.44.05;	author matz;	state Exp;
branches;
next	1.697;

1.697
date	2002.01.19.14.21.44;	author matz;	state Exp;
branches;
next	1.696;

1.696
date	2002.01.18.14.23.06;	author matz;	state Exp;
branches;
next	1.695;

1.695
date	2002.01.18.01.13.58;	author usa;	state Exp;
branches;
next	1.694;

1.694
date	2002.01.17.08.04.57;	author matz;	state Exp;
branches;
next	1.693;

1.693
date	2002.01.16.09.25.54;	author matz;	state Exp;
branches;
next	1.692;

1.692
date	2002.01.16.03.37.23;	author akr;	state Exp;
branches;
next	1.691;

1.691
date	2002.01.16.02.17.29;	author nobu;	state Exp;
branches;
next	1.690;

1.690
date	2002.01.11.09.18.49;	author matz;	state Exp;
branches;
next	1.689;

1.689
date	2002.01.10.20.18.39;	author nobu;	state Exp;
branches;
next	1.688;

1.688
date	2002.01.10.13.28.58;	author nobu;	state Exp;
branches;
next	1.687;

1.687
date	2002.01.10.02.43.06;	author usa;	state Exp;
branches;
next	1.686;

1.686
date	2002.01.09.17.50.41;	author nobu;	state Exp;
branches;
next	1.685;

1.685
date	2002.01.08.07.02.26;	author nobu;	state Exp;
branches;
next	1.684;

1.684
date	2002.01.07.05.27.01;	author matz;	state Exp;
branches;
next	1.683;

1.683
date	2002.01.07.03.56.55;	author akr;	state Exp;
branches;
next	1.682;

1.682
date	2002.01.05.16.09.46;	author nobu;	state Exp;
branches;
next	1.681;

1.681
date	2002.01.05.04.19.58;	author nobu;	state Exp;
branches;
next	1.680;

1.680
date	2002.01.05.03.22.38;	author nobu;	state Exp;
branches;
next	1.679;

1.679
date	2002.01.04.15.20.48;	author nobu;	state Exp;
branches;
next	1.678;

1.678
date	2002.01.03.16.01.35;	author matz;	state Exp;
branches;
next	1.677;

1.677
date	2002.01.02.14.41.57;	author eban;	state Exp;
branches;
next	1.676;

1.676
date	2001.12.31.17.48.33;	author eban;	state Exp;
branches;
next	1.675;

1.675
date	2001.12.31.05.23.52;	author nobu;	state Exp;
branches;
next	1.674;

1.674
date	2001.12.30.19.18.45;	author aamine;	state Exp;
branches;
next	1.673;

1.673
date	2001.12.29.16.08.34;	author eban;	state Exp;
branches;
next	1.672;

1.672
date	2001.12.28.05.42.23;	author nobu;	state Exp;
branches;
next	1.671;

1.671
date	2001.12.27.09.53.54;	author nobu;	state Exp;
branches;
next	1.670;

1.670
date	2001.12.26.16.56.51;	author nobu;	state Exp;
branches;
next	1.669;

1.669
date	2001.12.24.18.10.20;	author akr;	state Exp;
branches;
next	1.668;

1.668
date	2001.12.22.16.58.16;	author matz;	state Exp;
branches;
next	1.667;

1.667
date	2001.12.22.02.51.00;	author matz;	state Exp;
branches;
next	1.666;

1.666
date	2001.12.21.09.23.21;	author matz;	state Exp;
branches;
next	1.665;

1.665
date	2001.12.21.07.20.23;	author nobu;	state Exp;
branches;
next	1.664;

1.664
date	2001.12.20.18.19.42;	author nobu;	state Exp;
branches;
next	1.663;

1.663
date	2001.12.20.16.23.25;	author nobu;	state Exp;
branches;
next	1.662;

1.662
date	2001.12.20.05.00.20;	author aamine;	state Exp;
branches;
next	1.661;

1.661
date	2001.12.19.08.02.54;	author shugo;	state Exp;
branches;
next	1.660;

1.660
date	2001.12.19.07.48.30;	author matz;	state Exp;
branches;
next	1.659;

1.659
date	2001.12.18.18.14.08;	author akr;	state Exp;
branches;
next	1.658;

1.658
date	2001.12.18.09.37.34;	author nobu;	state Exp;
branches;
next	1.657;

1.657
date	2001.12.18.08.56.51;	author eban;	state Exp;
branches;
next	1.656;

1.656
date	2001.12.18.08.46.56;	author matz;	state Exp;
branches;
next	1.655;

1.655
date	2001.12.17.07.52.34;	author nobu;	state Exp;
branches;
next	1.654;

1.654
date	2001.12.17.07.29.19;	author eban;	state Exp;
branches;
next	1.653;

1.653
date	2001.12.17.07.22.03;	author akr;	state Exp;
branches;
next	1.652;

1.652
date	2001.12.17.06.45.37;	author akr;	state Exp;
branches;
next	1.651;

1.651
date	2001.12.13.19.15.21;	author aamine;	state Exp;
branches;
next	1.650;

1.650
date	2001.12.13.08.19.07;	author matz;	state Exp;
branches;
next	1.649;

1.649
date	2001.12.11.03.48.08;	author matz;	state Exp;
branches;
next	1.648;

1.648
date	2001.12.10.18.21.31;	author nobu;	state Exp;
branches;
next	1.647;

1.647
date	2001.12.10.14.43.37;	author usa;	state Exp;
branches;
next	1.646;

1.646
date	2001.12.10.10.08.58;	author eban;	state Exp;
branches;
next	1.645;

1.645
date	2001.12.10.07.18.12;	author matz;	state Exp;
branches;
next	1.644;

1.644
date	2001.12.09.14.07.47;	author keiju;	state Exp;
branches;
next	1.643;

1.643
date	2001.12.09.13.47.54;	author nobu;	state Exp;
branches;
next	1.642;

1.642
date	2001.12.09.08.58.30;	author aamine;	state Exp;
branches;
next	1.641;

1.641
date	2001.12.07.10.04.25;	author aamine;	state Exp;
branches;
next	1.640;

1.640
date	2001.12.07.06.51.33;	author usa;	state Exp;
branches;
next	1.639;

1.639
date	2001.12.06.09.54.19;	author usa;	state Exp;
branches;
next	1.638;

1.638
date	2001.12.03.10.07.46;	author matz;	state Exp;
branches;
next	1.637;

1.637
date	2001.12.03.09.38.35;	author eban;	state Exp;
branches;
next	1.636;

1.636
date	2001.12.03.07.08.18;	author eban;	state Exp;
branches;
next	1.635;

1.635
date	2001.12.03.07.05.36;	author usa;	state Exp;
branches;
next	1.634;

1.634
date	2001.12.02.18.33.10;	author usa;	state Exp;
branches;
next	1.633;

1.633
date	2001.12.02.14.10.26;	author eban;	state Exp;
branches;
next	1.632;

1.632
date	2001.11.30.09.21.46;	author eban;	state Exp;
branches;
next	1.631;

1.631
date	2001.11.30.09.17.30;	author eban;	state Exp;
branches;
next	1.630;

1.630
date	2001.11.29.15.57.25;	author matz;	state Exp;
branches;
next	1.629;

1.629
date	2001.11.29.15.29.03;	author usa;	state Exp;
branches;
next	1.628;

1.628
date	2001.11.28.14.55.55;	author matz;	state Exp;
branches;
next	1.627;

1.627
date	2001.11.27.10.00.30;	author matz;	state Exp;
branches;
next	1.626;

1.626
date	2001.11.26.12.00.39;	author knu;	state Exp;
branches;
next	1.625;

1.625
date	2001.11.26.07.59.01;	author usa;	state Exp;
branches;
next	1.624;

1.624
date	2001.11.25.12.09.21;	author usa;	state Exp;
branches;
next	1.623;

1.623
date	2001.11.21.15.41.26;	author matz;	state Exp;
branches;
next	1.622;

1.622
date	2001.11.21.03.30.20;	author shugo;	state Exp;
branches;
next	1.621;

1.621
date	2001.11.19.16.20.05;	author matz;	state Exp;
branches;
next	1.620;

1.620
date	2001.11.19.14.42.44;	author matz;	state Exp;
branches;
next	1.619;

1.619
date	2001.11.19.05.03.02;	author matz;	state Exp;
branches;
next	1.618;

1.618
date	2001.11.18.20.08.14;	author wakou;	state Exp;
branches;
next	1.617;

1.617
date	2001.11.18.10.49.28;	author nobu;	state Exp;
branches;
next	1.616;

1.616
date	2001.11.15.15.56.08;	author nobu;	state Exp;
branches;
next	1.615;

1.615
date	2001.11.14.18.41.45;	author usa;	state Exp;
branches;
next	1.614;

1.614
date	2001.11.13.16.14.42;	author usa;	state Exp;
branches;
next	1.613;

1.613
date	2001.11.13.10.53.19;	author eban;	state Exp;
branches;
next	1.612;

1.612
date	2001.11.13.08.19.51;	author matz;	state Exp;
branches;
next	1.611;

1.611
date	2001.11.13.07.50.19;	author usa;	state Exp;
branches;
next	1.610;

1.610
date	2001.11.13.03.59.20;	author usa;	state Exp;
branches;
next	1.609;

1.609
date	2001.11.09.04.51.30;	author usa;	state Exp;
branches;
next	1.608;

1.608
date	2001.11.08.12.40.44;	author nobu;	state Exp;
branches;
next	1.607;

1.607
date	2001.11.08.09.21.59;	author matz;	state Exp;
branches;
next	1.606;

1.606
date	2001.11.07.09.05.08;	author matz;	state Exp;
branches;
next	1.605;

1.605
date	2001.11.06.05.20.23;	author shugo;	state Exp;
branches;
next	1.604;

1.604
date	2001.11.03.13.41.57;	author keiju;	state Exp;
branches;
next	1.603;

1.603
date	2001.11.01.05.11.22;	author matz;	state Exp;
branches;
next	1.602;

1.602
date	2001.11.01.04.51.22;	author matz;	state Exp;
branches;
next	1.601;

1.601
date	2001.10.31.08.00.18;	author matz;	state Exp;
branches;
next	1.600;

1.600
date	2001.10.31.06.53.22;	author matz;	state Exp;
branches;
next	1.599;

1.599
date	2001.10.30.17.48.24;	author wakou;	state Exp;
branches;
next	1.598;

1.598
date	2001.10.30.09.23.14;	author usa;	state Exp;
branches;
next	1.597;

1.597
date	2001.10.30.08.43.25;	author matz;	state Exp;
branches;
next	1.596;

1.596
date	2001.10.29.06.16.00;	author usa;	state Exp;
branches;
next	1.595;

1.595
date	2001.10.29.05.07.17;	author matz;	state Exp;
branches;
next	1.594;

1.594
date	2001.10.22.16.28.51;	author nobu;	state Exp;
branches;
next	1.593;

1.593
date	2001.10.22.16.20.14;	author nobu;	state Exp;
branches;
next	1.592;

1.592
date	2001.10.22.06.48.13;	author matz;	state Exp;
branches;
next	1.591;

1.591
date	2001.10.21.13.22.54;	author nobu;	state Exp;
branches;
next	1.590;

1.590
date	2001.10.19.14.32.51;	author nobu;	state Exp;
branches;
next	1.589;

1.589
date	2001.10.17.05.28.02;	author nobu;	state Exp;
branches;
next	1.588;

1.588
date	2001.10.16.15.14.37;	author nobu;	state Exp;
branches;
next	1.587;

1.587
date	2001.10.16.05.21.16;	author nobu;	state Exp;
branches;
next	1.586;

1.586
date	2001.10.16.03.27.05;	author matz;	state Exp;
branches;
next	1.585;

1.585
date	2001.10.15.15.11.51;	author nobu;	state Exp;
branches;
next	1.584;

1.584
date	2001.10.10.08.21.12;	author matz;	state Exp;
branches;
next	1.583;

1.583
date	2001.10.09.09.46.42;	author matz;	state Exp;
branches;
next	1.582;

1.582
date	2001.10.09.09.42.47;	author eban;	state Exp;
branches;
next	1.581;

1.581
date	2001.10.09.08.15.56;	author nobu;	state Exp;
branches;
next	1.580;

1.580
date	2001.10.05.06.30.42;	author matz;	state Exp;
branches;
next	1.579;

1.579
date	2001.10.05.05.49.02;	author nobu;	state Exp;
branches;
next	1.578;

1.578
date	2001.10.04.09.30.13;	author matz;	state Exp;
branches;
next	1.577;

1.577
date	2001.10.04.05.32.09;	author eban;	state Exp;
branches;
next	1.576;

1.576
date	2001.10.03.07.52.01;	author nobu;	state Exp;
branches;
next	1.575;

1.575
date	2001.10.03.07.19.10;	author matz;	state Exp;
branches;
next	1.574;

1.574
date	2001.10.02.10.36.34;	author eban;	state Exp;
branches;
next	1.573;

1.573
date	2001.10.02.04.31.18;	author matz;	state Exp;
branches;
next	1.572;

1.572
date	2001.10.01.23.28.57;	author nobu;	state Exp;
branches;
next	1.571;

1.571
date	2001.09.26.17.09.47;	author ts;	state Exp;
branches;
next	1.570;

1.570
date	2001.09.25.01.47.46;	author usa;	state Exp;
branches;
next	1.569;

1.569
date	2001.09.20.12.51.58;	author nobu;	state Exp;
branches;
next	1.568;

1.568
date	2001.09.20.06.25.42;	author nobu;	state Exp;
branches;
next	1.567;

1.567
date	2001.09.19.06.54.10;	author matz;	state Exp;
branches;
next	1.566;

1.566
date	2001.09.08.14.17.09;	author matz;	state Exp;
branches;
next	1.565;

1.565
date	2001.09.07.22.17.13;	author wakou;	state Exp;
branches;
next	1.564;

1.564
date	2001.09.07.00.56.10;	author wakou;	state Exp;
branches;
next	1.563;

1.563
date	2001.09.06.22.18.11;	author wakou;	state Exp;
branches;
next	1.562;

1.562
date	2001.09.06.08.48.07;	author nobu;	state Exp;
branches;
next	1.561;

1.561
date	2001.09.06.05.27.19;	author knu;	state Exp;
branches;
next	1.560;

1.560
date	2001.09.06.05.14.04;	author shugo;	state Exp;
branches;
next	1.559;

1.559
date	2001.09.06.04.59.51;	author knu;	state Exp;
branches;
next	1.558;

1.558
date	2001.09.06.04.33.06;	author eban;	state Exp;
branches;
next	1.557;

1.557
date	2001.09.05.22.31.07;	author nobu;	state Exp;
branches;
next	1.556;

1.556
date	2001.09.05.22.18.51;	author nobu;	state Exp;
branches;
next	1.555;

1.555
date	2001.09.05.08.45.47;	author eban;	state Exp;
branches;
next	1.554;

1.554
date	2001.09.05.06.54.53;	author matz;	state Exp;
branches;
next	1.553;

1.553
date	2001.09.03.11.30.58;	author nobu;	state Exp;
branches;
next	1.552;

1.552
date	2001.09.03.05.37.42;	author matz;	state Exp;
branches;
next	1.551;

1.551
date	2001.09.03.05.16.29;	author knu;	state Exp;
branches;
next	1.550;

1.550
date	2001.09.01.01.23.17;	author nobu;	state Exp;
branches;
next	1.549;

1.549
date	2001.08.29.06.28.44;	author matz;	state Exp;
branches;
next	1.548;

1.548
date	2001.08.24.05.44.20;	author usa;	state Exp;
branches;
next	1.547;

1.547
date	2001.08.23.17.49.08;	author nobu;	state Exp;
branches;
next	1.546;

1.546
date	2001.08.23.06.02.14;	author matz;	state Exp;
branches;
next	1.545;

1.545
date	2001.08.20.10.55.46;	author eban;	state Exp;
branches;
next	1.544;

1.544
date	2001.08.20.06.15.53;	author matz;	state Exp;
branches;
next	1.543;

1.543
date	2001.08.20.04.29.56;	author matz;	state Exp;
branches;
next	1.542;

1.542
date	2001.08.17.03.08.45;	author aamine;	state Exp;
branches;
next	1.541;

1.541
date	2001.08.16.04.54.31;	author usa;	state Exp;
branches;
next	1.540;

1.540
date	2001.08.16.00.54.53;	author usa;	state Exp;
branches;
next	1.539;

1.539
date	2001.08.15.18.51.58;	author usa;	state Exp;
branches;
next	1.538;

1.538
date	2001.08.14.20.05.20;	author knu;	state Exp;
branches;
next	1.537;

1.537
date	2001.08.14.19.05.36;	author knu;	state Exp;
branches;
next	1.536;

1.536
date	2001.08.14.17.03.59;	author knu;	state Exp;
branches;
next	1.535;

1.535
date	2001.08.14.12.15.21;	author knu;	state Exp;
branches;
next	1.534;

1.534
date	2001.08.14.08.13.26;	author matz;	state Exp;
branches;
next	1.533;

1.533
date	2001.08.13.05.17.38;	author knu;	state Exp;
branches;
next	1.532;

1.532
date	2001.08.12.09.41.39;	author nobu;	state Exp;
branches;
next	1.531;

1.531
date	2001.08.07.00.21.17;	author usa;	state Exp;
branches;
next	1.530;

1.530
date	2001.08.06.15.05.50;	author nobu;	state Exp;
branches;
next	1.529;

1.529
date	2001.08.06.05.33.17;	author usa;	state Exp;
branches;
next	1.528;

1.528
date	2001.08.06.03.08.56;	author matz;	state Exp;
branches;
next	1.527;

1.527
date	2001.08.06.03.05.12;	author matz;	state Exp;
branches;
next	1.526;

1.526
date	2001.08.01.16.49.11;	author nobu;	state Exp;
branches;
next	1.525;

1.525
date	2001.08.01.06.45.13;	author usa;	state Exp;
branches;
next	1.524;

1.524
date	2001.07.31.08.33.17;	author usa;	state Exp;
branches;
next	1.523;

1.523
date	2001.07.31.08.04.13;	author nobu;	state Exp;
branches;
next	1.522;

1.522
date	2001.07.31.06.24.42;	author matz;	state Exp;
branches;
next	1.521;

1.521
date	2001.07.30.22.41.59;	author nobu;	state Exp;
branches;
next	1.520;

1.520
date	2001.07.30.02.15.12;	author shugo;	state Exp;
branches;
next	1.519;

1.519
date	2001.07.27.09.12.12;	author matz;	state Exp;
branches;
next	1.518;

1.518
date	2001.07.26.03.54.34;	author eban;	state Exp;
branches;
next	1.517;

1.517
date	2001.07.25.08.19.49;	author knu;	state Exp;
branches;
next	1.516;

1.516
date	2001.07.24.15.11.02;	author nobu;	state Exp;
branches;
next	1.515;

1.515
date	2001.07.24.10.27.14;	author knu;	state Exp;
branches;
next	1.514;

1.514
date	2001.07.24.09.07.33;	author matz;	state Exp;
branches;
next	1.513;

1.513
date	2001.07.22.12.20.49;	author knu;	state Exp;
branches;
next	1.512;

1.512
date	2001.07.20.15.19.28;	author knu;	state Exp;
branches;
next	1.511;

1.511
date	2001.07.19.02.46.28;	author usa;	state Exp;
branches;
next	1.510;

1.510
date	2001.07.18.20.59.03;	author aamine;	state Exp;
branches;
next	1.509;

1.509
date	2001.07.18.20.45.55;	author aamine;	state Exp;
branches;
next	1.508;

1.508
date	2001.07.18.05.55.20;	author matz;	state Exp;
branches;
next	1.507;

1.507
date	2001.07.17.05.25.15;	author aamine;	state Exp;
branches;
next	1.506;

1.506
date	2001.07.17.02.13.13;	author usa;	state Exp;
branches;
next	1.505;

1.505
date	2001.07.16.04.22.46;	author usa;	state Exp;
branches;
next	1.504;

1.504
date	2001.07.14.15.17.18;	author matz;	state Exp;
branches;
next	1.503;

1.503
date	2001.07.14.03.29.49;	author knu;	state Exp;
branches;
next	1.502;

1.502
date	2001.07.13.21.16.11;	author aamine;	state Exp;
branches;
next	1.501;

1.501
date	2001.07.13.17.59.37;	author knu;	state Exp;
branches;
next	1.500;

1.500
date	2001.07.13.14.18.58;	author knu;	state Exp;
branches;
next	1.499;

1.499
date	2001.07.12.06.16.49;	author eban;	state Exp;
branches;
next	1.498;

1.498
date	2001.07.09.08.09.14;	author eban;	state Exp;
branches;
next	1.497;

1.497
date	2001.07.09.07.54.49;	author eban;	state Exp;
branches;
next	1.496;

1.496
date	2001.07.08.11.53.37;	author knu;	state Exp;
branches;
next	1.495;

1.495
date	2001.07.08.07.00.23;	author aamine;	state Exp;
branches;
next	1.494;

1.494
date	2001.07.05.17.19.28;	author knu;	state Exp;
branches;
next	1.493;

1.493
date	2001.07.03.19.18.17;	author aamine;	state Exp;
branches;
next	1.492;

1.492
date	2001.07.03.19.03.15;	author aamine;	state Exp;
branches;
next	1.491;

1.491
date	2001.07.03.18.13.13;	author aamine;	state Exp;
branches;
next	1.490;

1.490
date	2001.07.03.15.00.22;	author knu;	state Exp;
branches;
next	1.489;

1.489
date	2001.07.03.09.37.08;	author matz;	state Exp;
branches;
next	1.488;

1.488
date	2001.07.03.07.29.00;	author matz;	state Exp;
branches;
next	1.487;

1.487
date	2001.07.03.05.57.16;	author shugo;	state Exp;
branches;
next	1.486;

1.486
date	2001.07.03.05.52.20;	author shugo;	state Exp;
branches;
next	1.485;

1.485
date	2001.07.02.08.46.21;	author matz;	state Exp;
branches;
next	1.484;

1.484
date	2001.06.27.15.35.03;	author keiju;	state Exp;
branches;
next	1.483;

1.483
date	2001.06.26.23.50.26;	author aamine;	state Exp;
branches;
next	1.482;

1.482
date	2001.06.26.23.49.21;	author aamine;	state Exp;
branches;
next	1.481;

1.481
date	2001.06.23.09.30.42;	author knu;	state Exp;
branches;
next	1.480;

1.480
date	2001.06.22.14.44.03;	author eban;	state Exp;
branches;
next	1.479;

1.479
date	2001.06.22.14.16.25;	author keiju;	state Exp;
branches;
next	1.478;

1.478
date	2001.06.22.09.12.19;	author matz;	state Exp;
branches;
next	1.477;

1.477
date	2001.06.19.15.41.18;	author eban;	state Exp;
branches;
next	1.476;

1.476
date	2001.06.19.09.21.38;	author knu;	state Exp;
branches;
next	1.475;

1.475
date	2001.06.19.07.33.08;	author matz;	state Exp;
branches;
next	1.474;

1.474
date	2001.06.19.04.35.13;	author matz;	state Exp;
branches;
next	1.473;

1.473
date	2001.06.13.10.51.39;	author knu;	state Exp;
branches;
next	1.472;

1.472
date	2001.06.12.05.31.46;	author matz;	state Exp;
branches;
next	1.471;

1.471
date	2001.06.12.05.23.56;	author knu;	state Exp;
branches;
next	1.470;

1.470
date	2001.06.11.05.31.17;	author eban;	state Exp;
branches;
next	1.469;

1.469
date	2001.06.09.07.41.44;	author usa;	state Exp;
branches;
next	1.468;

1.468
date	2001.06.08.14.20.19;	author matz;	state Exp;
branches;
next	1.467;

1.467
date	2001.06.07.08.29.59;	author matz;	state Exp;
branches;
next	1.466;

1.466
date	2001.06.06.14.19.32;	author keiju;	state Exp;
branches;
next	1.465;

1.465
date	2001.06.06.07.40.30;	author matz;	state Exp;
branches;
next	1.464;

1.464
date	2001.06.06.06.42.21;	author matz;	state Exp;
branches;
next	1.463;

1.463
date	2001.06.05.07.50.59;	author matz;	state Exp;
branches;
next	1.462;

1.462
date	2001.06.05.07.19.38;	author matz;	state Exp;
branches;
next	1.461;

1.461
date	2001.06.05.04.42.46;	author eban;	state Exp;
branches;
next	1.460;

1.460
date	2001.06.03.19.25.07;	author wakou;	state Exp;
branches;
next	1.459;

1.459
date	2001.06.02.14.19.37;	author shugo;	state Exp;
branches;
next	1.458;

1.458
date	2001.06.01.15.21.36;	author keiju;	state Exp;
branches;
next	1.457;

1.457
date	2001.06.01.09.38.11;	author matz;	state Exp;
branches;
next	1.456;

1.456
date	2001.06.01.07.52.34;	author matz;	state Exp;
branches;
next	1.455;

1.455
date	2001.06.01.06.47.30;	author matz;	state Exp;
branches;
next	1.454;

1.454
date	2001.06.01.02.25.28;	author eban;	state Exp;
branches;
next	1.453;

1.453
date	2001.05.31.04.40.37;	author eban;	state Exp;
branches;
next	1.452;

1.452
date	2001.05.30.23.02.54;	author usa;	state Exp;
branches;
next	1.451;

1.451
date	2001.05.30.16.28.06;	author knu;	state Exp;
branches;
next	1.450;

1.450
date	2001.05.30.09.12.33;	author matz;	state Exp;
branches;
next	1.449;

1.449
date	2001.05.28.16.07.33;	author eban;	state Exp;
branches;
next	1.448;

1.448
date	2001.05.28.13.25.34;	author usa;	state Exp;
branches;
next	1.447;

1.447
date	2001.05.27.17.24.23;	author knu;	state Exp;
branches;
next	1.446;

1.446
date	2001.05.25.22.06.26;	author usa;	state Exp;
branches;
next	1.445;

1.445
date	2001.05.24.20.41.51;	author knu;	state Exp;
branches;
next	1.444;

1.444
date	2001.05.24.16.49.08;	author knu;	state Exp;
branches;
next	1.443;

1.443
date	2001.05.24.16.19.37;	author knu;	state Exp;
branches;
next	1.442;

1.442
date	2001.05.24.16.00.53;	author knu;	state Exp;
branches;
next	1.441;

1.441
date	2001.05.24.15.55.39;	author knu;	state Exp;
branches;
next	1.440;

1.440
date	2001.05.24.07.13.56;	author eban;	state Exp;
branches;
next	1.439;

1.439
date	2001.05.24.06.10.32;	author matz;	state Exp;
branches;
next	1.438;

1.438
date	2001.05.22.08.28.11;	author matz;	state Exp;
branches;
next	1.437;

1.437
date	2001.05.21.04.22.54;	author matz;	state Exp;
branches;
next	1.436;

1.436
date	2001.05.17.20.37.25;	author knu;	state Exp;
branches;
next	1.435;

1.435
date	2001.05.17.20.23.08;	author knu;	state Exp;
branches;
next	1.434;

1.434
date	2001.05.17.18.49.40;	author knu;	state Exp;
branches;
next	1.433;

1.433
date	2001.05.17.16.13.34;	author knu;	state Exp;
branches;
next	1.432;

1.432
date	2001.05.17.16.05.49;	author knu;	state Exp;
branches;
next	1.431;

1.431
date	2001.05.17.11.04.15;	author knu;	state Exp;
branches;
next	1.430;

1.430
date	2001.05.17.10.19.44;	author knu;	state Exp;
branches;
next	1.429;

1.429
date	2001.05.17.10.09.49;	author knu;	state Exp;
branches;
next	1.428;

1.428
date	2001.05.17.08.49.44;	author matz;	state Exp;
branches;
next	1.427;

1.427
date	2001.05.16.23.39.28;	author knu;	state Exp;
branches;
next	1.426;

1.426
date	2001.05.16.22.28.40;	author knu;	state Exp;
branches;
next	1.425;

1.425
date	2001.05.16.22.25.02;	author knu;	state Exp;
branches;
next	1.424;

1.424
date	2001.05.16.22.19.30;	author knu;	state Exp;
branches;
next	1.423;

1.423
date	2001.05.16.22.14.01;	author knu;	state Exp;
branches;
next	1.422;

1.422
date	2001.05.16.21.34.18;	author knu;	state Exp;
branches;
next	1.421;

1.421
date	2001.05.16.21.14.27;	author knu;	state Exp;
branches;
next	1.420;

1.420
date	2001.05.16.09.05.49;	author matz;	state Exp;
branches;
next	1.419;

1.419
date	2001.05.13.14.51.44;	author usa;	state Exp;
branches;
next	1.418;

1.418
date	2001.05.12.06.47.24;	author usa;	state Exp;
branches;
next	1.417;

1.417
date	2001.05.11.17.16.23;	author knu;	state Exp;
branches;
next	1.416;

1.416
date	2001.05.11.06.13.44;	author eban;	state Exp;
branches;
next	1.415;

1.415
date	2001.05.11.05.24.54;	author matz;	state Exp;
branches;
next	1.414;

1.414
date	2001.05.07.09.26.23;	author matz;	state Exp;
branches;
next	1.413;

1.413
date	2001.05.07.06.57.40;	author eban;	state Exp;
branches;
next	1.412;

1.412
date	2001.05.02.18.35.50;	author knu;	state Exp;
branches;
next	1.411;

1.411
date	2001.05.02.17.09.22;	author usa;	state Exp;
branches;
next	1.410;

1.410
date	2001.05.02.12.07.30;	author eban;	state Exp;
branches;
next	1.409;

1.409
date	2001.05.02.04.22.10;	author matz;	state Exp;
branches;
next	1.408;

1.408
date	2001.04.30.18.25.04;	author knu;	state Exp;
branches;
next	1.407;

1.407
date	2001.04.30.18.11.08;	author knu;	state Exp;
branches;
next	1.406;

1.406
date	2001.04.26.13.58.10;	author eban;	state Exp;
branches;
next	1.405;

1.405
date	2001.04.24.06.21.58;	author knu;	state Exp;
branches;
next	1.404;

1.404
date	2001.04.22.09.49.15;	author eban;	state Exp;
branches;
next	1.403;

1.403
date	2001.04.17.19.43.27;	author wakou;	state Exp;
branches;
next	1.402;

1.402
date	2001.04.14.04.38.19;	author usa;	state Exp;
branches;
next	1.401;

1.401
date	2001.04.09.02.57.33;	author shugo;	state Exp;
branches;
next	1.400;

1.400
date	2001.04.03.01.16.13;	author eban;	state Exp;
branches;
next	1.399;

1.399
date	2001.04.02.05.26.28;	author shugo;	state Exp;
branches;
next	1.398;

1.398
date	2001.04.02.04.57.22;	author shugo;	state Exp;
branches;
next	1.397;

1.397
date	2001.04.02.03.41.32;	author shugo;	state Exp;
branches;
next	1.396;

1.396
date	2001.04.02.03.03.26;	author shugo;	state Exp;
branches;
next	1.395;

1.395
date	2001.04.01.16.53.40;	author knu;	state Exp;
branches;
next	1.394;

1.394
date	2001.04.01.16.22.12;	author eban;	state Exp;
branches;
next	1.393;

1.393
date	2001.03.30.19.51.24;	author shugo;	state Exp;
branches;
next	1.392;

1.392
date	2001.03.30.13.58.14;	author shugo;	state Exp;
branches;
next	1.391;

1.391
date	2001.03.28.14.47.21;	author knu;	state Exp;
branches;
next	1.390;

1.390
date	2001.03.28.10.32.17;	author knu;	state Exp;
branches;
next	1.389;

1.389
date	2001.03.28.08.43.24;	author matz;	state Exp;
branches;
next	1.388;

1.388
date	2001.03.28.00.54.29;	author eban;	state Exp;
branches;
next	1.387;

1.387
date	2001.03.27.07.09.23;	author matz;	state Exp;
branches;
next	1.386;

1.386
date	2001.03.26.14.29.57;	author eban;	state Exp;
branches;
next	1.385;

1.385
date	2001.03.26.12.29.49;	author shugo;	state Exp;
branches;
next	1.384;

1.384
date	2001.03.26.08.54.06;	author matz;	state Exp;
branches;
next	1.383;

1.383
date	2001.03.26.05.11.18;	author eban;	state Exp;
branches;
next	1.382;

1.382
date	2001.03.22.13.23.26;	author eban;	state Exp;
branches;
next	1.381;

1.381
date	2001.03.22.09.19.57;	author matz;	state Exp;
branches;
next	1.380;

1.380
date	2001.03.22.08.59.02;	author matz;	state Exp;
branches;
next	1.379;

1.379
date	2001.03.21.14.12.09;	author eban;	state Exp;
branches;
next	1.378;

1.378
date	2001.03.21.03.41.40;	author matz;	state Exp;
branches;
next	1.377;

1.377
date	2001.03.20.23.10.05;	author usa;	state Exp;
branches;
next	1.376;

1.376
date	2001.03.20.14.50.42;	author eban;	state Exp;
branches;
next	1.375;

1.375
date	2001.03.19.03.20.20;	author matz;	state Exp;
branches;
next	1.374;

1.374
date	2001.03.18.00.01.57;	author wakou;	state Exp;
branches;
next	1.373;

1.373
date	2001.03.16.08.30.08;	author matz;	state Exp;
branches;
next	1.372;

1.372
date	2001.03.16.08.17.44;	author knu;	state Exp;
branches;
next	1.371;

1.371
date	2001.03.14.08.38.49;	author matz;	state Exp;
branches;
next	1.370;

1.370
date	2001.03.14.04.44.47;	author matz;	state Exp;
branches;
next	1.369;

1.369
date	2001.03.13.09.00.01;	author matz;	state Exp;
branches;
next	1.368;

1.368
date	2001.03.13.07.57.53;	author eban;	state Exp;
branches;
next	1.367;

1.367
date	2001.03.13.06.01.45;	author aamine;	state Exp;
branches;
next	1.366;

1.366
date	2001.03.13.05.48.58;	author aamine;	state Exp;
branches;
next	1.365;

1.365
date	2001.03.13.05.45.08;	author matz;	state Exp;
branches;
next	1.364;

1.364
date	2001.03.12.10.19.56;	author eban;	state Exp;
branches;
next	1.363;

1.363
date	2001.03.10.16.03.06;	author eban;	state Exp;
branches;
next	1.362;

1.362
date	2001.03.09.17.49.24;	author eban;	state Exp;
branches;
next	1.361;

1.361
date	2001.03.08.08.39.39;	author aamine;	state Exp;
branches;
next	1.360;

1.360
date	2001.03.07.05.43.11;	author eban;	state Exp;
branches;
next	1.359;

1.359
date	2001.03.06.08.17.16;	author matz;	state Exp;
branches;
next	1.358;

1.358
date	2001.03.05.08.33.16;	author matz;	state Exp;
branches;
next	1.357;

1.357
date	2001.03.05.08.28.50;	author eban;	state Exp;
branches;
next	1.356;

1.356
date	2001.03.04.11.56.01;	author knu;	state Exp;
branches;
next	1.355;

1.355
date	2001.03.04.09.45.29;	author eban;	state Exp;
branches;
next	1.354;

1.354
date	2001.02.28.06.30.03;	author matz;	state Exp;
branches;
next	1.353;

1.353
date	2001.02.27.07.52.11;	author matz;	state Exp;
branches;
next	1.352;

1.352
date	2001.02.26.05.29.00;	author matz;	state Exp;
branches;
next	1.351;

1.351
date	2001.02.25.20.34.59;	author wakou;	state Exp;
branches;
next	1.350;

1.350
date	2001.02.25.19.57.56;	author wakou;	state Exp;
branches;
next	1.349;

1.349
date	2001.02.24.17.51.02;	author eban;	state Exp;
branches;
next	1.348;

1.348
date	2001.02.24.13.19.12;	author eban;	state Exp;
branches;
next	1.347;

1.347
date	2001.02.24.04.53.49;	author aamine;	state Exp;
branches;
next	1.346;

1.346
date	2001.02.22.23.23.57;	author aamine;	state Exp;
branches;
next	1.345;

1.345
date	2001.02.20.14.52.30;	author eban;	state Exp;
branches;
next	1.344;

1.344
date	2001.02.20.07.42.03;	author matz;	state Exp;
branches;
next	1.343;

1.343
date	2001.02.19.09.14.58;	author matz;	state Exp;
branches;
next	1.342;

1.342
date	2001.02.19.07.03.05;	author matz;	state Exp;
branches;
next	1.341;

1.341
date	2001.02.18.08.18.46;	author eban;	state Exp;
branches;
next	1.340;

1.340
date	2001.02.17.20.40.50;	author aamine;	state Exp;
branches;
next	1.339;

1.339
date	2001.02.17.15.17.09;	author usa;	state Exp;
branches;
next	1.338;

1.338
date	2001.02.16.07.53.19;	author matz;	state Exp;
branches;
next	1.337;

1.337
date	2001.02.15.06.00.55;	author matz;	state Exp;
branches;
next	1.336;

1.336
date	2001.02.15.02.45.07;	author shugo;	state Exp;
branches;
next	1.335;

1.335
date	2001.02.14.08.40.46;	author shugo;	state Exp;
branches;
next	1.334;

1.334
date	2001.02.14.05.51.57;	author matz;	state Exp;
branches;
next	1.333;

1.333
date	2001.02.13.14.15.39;	author eban;	state Exp;
branches;
next	1.332;

1.332
date	2001.02.13.05.08.59;	author matz;	state Exp;
branches;
next	1.331;

1.331
date	2001.02.11.14.59.03;	author eban;	state Exp;
branches;
next	1.330;

1.330
date	2001.02.11.07.12.02;	author eban;	state Exp;
branches;
next	1.329;

1.329
date	2001.02.09.15.02.14;	author usa;	state Exp;
branches;
next	1.328;

1.328
date	2001.02.09.14.11.23;	author eban;	state Exp;
branches;
next	1.327;

1.327
date	2001.02.08.13.23.48;	author eban;	state Exp;
branches;
next	1.326;

1.326
date	2001.02.08.09.19.16;	author matz;	state Exp;
branches;
next	1.325;

1.325
date	2001.02.07.17.17.51;	author aamine;	state Exp;
branches;
next	1.324;

1.324
date	2001.02.07.07.23.09;	author aamine;	state Exp;
branches;
next	1.323;

1.323
date	2001.02.06.12.26.24;	author aamine;	state Exp;
branches;
next	1.322;

1.322
date	2001.02.06.11.14.51;	author aamine;	state Exp;
branches;
next	1.321;

1.321
date	2001.02.02.11.38.10;	author matz;	state Exp;
branches;
next	1.320;

1.320
date	2001.01.31.14.26.46;	author eban;	state Exp;
branches;
next	1.319;

1.319
date	2001.01.29.06.12.56;	author matz;	state Exp;
branches;
next	1.318;

1.318
date	2001.01.29.05.10.41;	author matz;	state Exp;
branches;
next	1.317;

1.317
date	2001.01.26.05.02.17;	author matz;	state Exp;
branches;
next	1.316;

1.316
date	2001.01.24.06.32.10;	author matz;	state Exp;
branches;
next	1.315;

1.315
date	2001.01.24.06.01.46;	author knu;	state Exp;
branches;
next	1.314;

1.314
date	2001.01.23.09.55.10;	author matz;	state Exp;
branches;
next	1.313;

1.313
date	2001.01.23.08.08.59;	author matz;	state Exp;
branches;
next	1.312;

1.312
date	2001.01.22.07.37.14;	author eban;	state Exp;
branches;
next	1.311;

1.311
date	2001.01.20.14.02.27;	author matz;	state Exp;
branches;
next	1.310;

1.310
date	2001.01.19.19.00.07;	author matz;	state Exp;
branches;
next	1.309;

1.309
date	2001.01.18.08.43.07;	author matz;	state Exp;
branches;
next	1.308;

1.308
date	2001.01.17.04.45.49;	author eban;	state Exp;
branches;
next	1.307;

1.307
date	2001.01.17.04.33.29;	author eban;	state Exp;
branches;
next	1.306;

1.306
date	2001.01.16.07.57.43;	author aamine;	state Exp;
branches;
next	1.305;

1.305
date	2001.01.15.07.00.53;	author matz;	state Exp;
branches;
next	1.304;

1.304
date	2001.01.14.09.22.24;	author usa;	state Exp;
branches;
next	1.303;

1.303
date	2001.01.13.19.07.14;	author aamine;	state Exp;
branches;
next	1.302;

1.302
date	2001.01.13.10.46.35;	author eban;	state Exp;
branches;
next	1.301;

1.301
date	2001.01.11.01.56.08;	author eban;	state Exp;
branches;
next	1.300;

1.300
date	2001.01.10.09.52.13;	author matz;	state Exp;
branches;
next	1.299;

1.299
date	2001.01.10.08.09.01;	author eban;	state Exp;
branches;
next	1.297;

1.297
date	2001.01.10.07.30.18;	author eban;	state Exp;
branches;
next	1.296;

1.296
date	2001.01.10.04.49.41;	author eban;	state Exp;
branches;
next	1.295;

1.295
date	2001.01.10.02.30.41;	author eban;	state Exp;
branches;
next	1.294;

1.294
date	2001.01.09.16.55.50;	author matz;	state Exp;
branches;
next	1.293;

1.293
date	2001.01.09.08.04.38;	author matz;	state Exp;
branches;
next	1.292;

1.292
date	2001.01.09.07.26.16;	author matz;	state Exp;
branches;
next	1.291;

1.291
date	2001.01.05.15.24.13;	author eban;	state Exp;
branches;
next	1.290;

1.290
date	2000.12.29.18.23.22;	author matz;	state Exp;
branches;
next	1.289;

1.289
date	2000.12.29.02.47.06;	author matz;	state Exp;
branches;
next	1.288;

1.288
date	2000.12.27.05.59.03;	author matz;	state Exp;
branches;
next	1.287;

1.287
date	2000.12.26.08.32.35;	author matz;	state Exp;
branches;
next	1.286;

1.286
date	2000.12.26.08.08.50;	author matz;	state Exp;
branches;
next	1.285;

1.285
date	2000.12.25.06.53.24;	author matz;	state Exp;
branches
	1.285.2.1;
next	1.284;

1.284
date	2000.12.25.06.28.53;	author matz;	state Exp;
branches;
next	1.283;

1.283
date	2000.12.24.20.20.40;	author wakou;	state Exp;
branches;
next	1.282;

1.282
date	2000.12.24.19.39.09;	author aamine;	state Exp;
branches;
next	1.281;

1.281
date	2000.12.22.18.40.49;	author aamine;	state Exp;
branches;
next	1.280;

1.280
date	2000.12.22.09.00.12;	author matz;	state Exp;
branches;
next	1.279;

1.279
date	2000.12.22.06.36.10;	author matz;	state Exp;
branches;
next	1.278;

1.278
date	2000.12.22.03.21.52;	author matz;	state Exp;
branches;
next	1.277;

1.277
date	2000.12.21.06.34.58;	author shugo;	state Exp;
branches;
next	1.276;

1.276
date	2000.12.18.14.22.36;	author eban;	state Exp;
branches;
next	1.275;

1.275
date	2000.12.18.09.45.56;	author matz;	state Exp;
branches;
next	1.274;

1.274
date	2000.12.14.00.25.56;	author wakou;	state Exp;
branches;
next	1.273;

1.273
date	2000.12.13.03.48.29;	author eban;	state Exp;
branches;
next	1.272;

1.272
date	2000.12.12.07.42.19;	author matz;	state Exp;
branches;
next	1.271;

1.271
date	2000.12.08.07.10.14;	author matz;	state Exp;
branches;
next	1.270;

1.270
date	2000.12.07.08.38.37;	author shugo;	state Exp;
branches;
next	1.269;

1.269
date	2000.12.06.09.10.06;	author eban;	state Exp;
branches;
next	1.268;

1.268
date	2000.12.05.09.36.22;	author matz;	state Exp;
branches;
next	1.267;

1.267
date	2000.12.04.15.03.51;	author eban;	state Exp;
branches;
next	1.266;

1.266
date	2000.11.27.09.23.16;	author matz;	state Exp;
branches;
next	1.265;

1.265
date	2000.11.21.14.26.18;	author matz;	state Exp;
branches;
next	1.264;

1.264
date	2000.11.20.08.26.47;	author matz;	state Exp;
branches;
next	1.263;

1.263
date	2000.11.20.07.31.36;	author matz;	state Exp;
branches;
next	1.262;

1.262
date	2000.11.20.01.24.20;	author eban;	state Exp;
branches;
next	1.261;

1.261
date	2000.11.18.05.04.34;	author aamine;	state Exp;
branches;
next	1.260;

1.260
date	2000.11.17.05.59.44;	author eban;	state Exp;
branches;
next	1.259;

1.259
date	2000.11.17.04.41.06;	author matz;	state Exp;
branches;
next	1.258;

1.258
date	2000.11.16.14.03.17;	author aamine;	state Exp;
branches;
next	1.257;

1.257
date	2000.11.16.07.24.09;	author matz;	state Exp;
branches;
next	1.256;

1.256
date	2000.11.14.07.10.20;	author matz;	state Exp;
branches;
next	1.255;

1.255
date	2000.11.13.10.11.26;	author eban;	state Exp;
branches;
next	1.254;

1.254
date	2000.11.13.05.39.30;	author matz;	state Exp;
branches;
next	1.253;

1.253
date	2000.11.11.00.07.23;	author aamine;	state Exp;
branches;
next	1.252;

1.252
date	2000.11.10.23.31.29;	author aamine;	state Exp;
branches;
next	1.251;

1.251
date	2000.11.10.08.52.22;	author matz;	state Exp;
branches;
next	1.250;

1.250
date	2000.11.10.07.16.48;	author matz;	state Exp;
branches;
next	1.249;

1.249
date	2000.11.08.05.29.20;	author matz;	state Exp;
branches;
next	1.248;

1.248
date	2000.11.07.11.27.13;	author aamine;	state Exp;
branches;
next	1.247;

1.247
date	2000.11.02.09.04.52;	author matz;	state Exp;
branches;
next	1.246;

1.246
date	2000.10.31.08.37.37;	author matz;	state Exp;
branches;
next	1.245;

1.245
date	2000.10.25.17.40.28;	author aamine;	state Exp;
branches;
next	1.244;

1.244
date	2000.10.25.04.48.38;	author matz;	state Exp;
branches;
next	1.243;

1.243
date	2000.10.20.16.36.48;	author matz;	state Exp;
branches;
next	1.242;

1.242
date	2000.10.17.18.13.53;	author matz;	state Exp;
branches;
next	1.241;

1.241
date	2000.10.16.09.13.14;	author matz;	state Exp;
branches;
next	1.240;

1.240
date	2000.10.15.21.37.28;	author aamine;	state Exp;
branches;
next	1.239;

1.239
date	2000.10.14.14.44.51;	author matz;	state Exp;
branches;
next	1.238;

1.238
date	2000.10.13.09.01.52;	author matz;	state Exp;
branches;
next	1.237;

1.237
date	2000.10.13.08.09.27;	author shugo;	state Exp;
branches;
next	1.236;

1.236
date	2000.10.12.09.54.29;	author aamine;	state Exp;
branches;
next	1.235;

1.235
date	2000.10.11.16.28.13;	author wakou;	state Exp;
branches;
next	1.234;

1.234
date	2000.10.11.06.29.05;	author matz;	state Exp;
branches;
next	1.233;

1.233
date	2000.10.11.05.47.36;	author aamine;	state Exp;
branches;
next	1.232;

1.232
date	2000.10.11.05.27.53;	author aamine;	state Exp;
branches;
next	1.231;

1.231
date	2000.10.10.07.20.09;	author eban;	state Exp;
branches;
next	1.230;

1.230
date	2000.10.10.07.03.14;	author matz;	state Exp;
branches;
next	1.229;

1.229
date	2000.10.06.06.13.48;	author eban;	state Exp;
branches;
next	1.228;

1.228
date	2000.10.05.09.56.59;	author matz;	state Exp;
branches;
next	1.227;

1.227
date	2000.10.02.07.48.31;	author matz;	state Exp;
branches;
next	1.226;

1.226
date	2000.09.30.17.06.07;	author eban;	state Exp;
branches;
next	1.225;

1.225
date	2000.09.27.09.44.05;	author matz;	state Exp;
branches;
next	1.224;

1.224
date	2000.09.27.07.22.17;	author eban;	state Exp;
branches;
next	1.223;

1.223
date	2000.09.26.09.11.46;	author eban;	state Exp;
branches;
next	1.222;

1.222
date	2000.09.26.07.07.12;	author matz;	state Exp;
branches;
next	1.221;

1.221
date	2000.09.25.17.51.20;	author matz;	state Exp;
branches;
next	1.220;

1.220
date	2000.09.25.09.14.57;	author matz;	state Exp;
branches;
next	1.219;

1.219
date	2000.09.25.07.00.52;	author eban;	state Exp;
branches;
next	1.218;

1.218
date	2000.09.25.04.33.53;	author eban;	state Exp;
branches;
next	1.217;

1.217
date	2000.09.24.15.50.40;	author eban;	state Exp;
branches;
next	1.216;

1.216
date	2000.09.23.18.00.25;	author aamine;	state Exp;
branches;
next	1.215;

1.215
date	2000.09.22.18.15.40;	author matz;	state Exp;
branches;
next	1.214;

1.214
date	2000.09.22.06.44.57;	author aamine;	state Exp;
branches;
next	1.213;

1.213
date	2000.09.22.05.37.51;	author matz;	state Exp;
branches;
next	1.212;

1.212
date	2000.09.22.05.00.45;	author eban;	state Exp;
branches;
next	1.211;

1.211
date	2000.09.22.05.00.21;	author eban;	state Exp;
branches;
next	1.210;

1.210
date	2000.09.22.01.19.36;	author eban;	state Exp;
branches;
next	1.209;

1.209
date	2000.09.22.01.02.41;	author eban;	state Exp;
branches;
next	1.208;

1.208
date	2000.09.21.10.08.54;	author eban;	state Exp;
branches;
next	1.207;

1.207
date	2000.09.21.09.30.54;	author matz;	state Exp;
branches;
next	1.206;

1.206
date	2000.09.21.06.57.58;	author aamine;	state Exp;
branches;
next	1.205;

1.205
date	2000.09.21.06.37.13;	author matz;	state Exp;
branches;
next	1.204;

1.204
date	2000.09.20.09.16.25;	author matz;	state Exp;
branches;
next	1.203;

1.203
date	2000.09.19.09.03.21;	author eban;	state Exp;
branches;
next	1.202;

1.202
date	2000.09.19.08.47.51;	author matz;	state Exp;
branches;
next	1.201;

1.201
date	2000.09.19.07.54.21;	author matz;	state Exp;
branches;
next	1.200;

1.200
date	2000.09.19.07.01.51;	author eban;	state Exp;
branches;
next	1.199;

1.199
date	2000.09.19.05.03.06;	author eban;	state Exp;
branches;
next	1.198;

1.198
date	2000.09.18.16.28.33;	author matz;	state Exp;
branches;
next	1.197;

1.197
date	2000.09.18.08.47.04;	author matz;	state Exp;
branches;
next	1.196;

1.196
date	2000.09.15.06.00.22;	author matz;	state Exp;
branches;
next	1.195;

1.195
date	2000.09.12.21.16.05;	author wakou;	state Exp;
branches;
next	1.194;

1.194
date	2000.09.12.13.56.46;	author eban;	state Exp;
branches;
next	1.193;

1.193
date	2000.09.12.07.08.39;	author eban;	state Exp;
branches;
next	1.192;

1.192
date	2000.09.12.06.41.22;	author matz;	state Exp;
branches;
next	1.191;

1.191
date	2000.09.12.05.37.18;	author matz;	state Exp;
branches;
next	1.190;

1.190
date	2000.09.11.22.09.44;	author wakou;	state Exp;
branches;
next	1.189;

1.189
date	2000.09.07.06.59.35;	author matz;	state Exp;
branches;
next	1.188;

1.188
date	2000.09.04.08.24.00;	author matz;	state Exp;
branches;
next	1.187;

1.187
date	2000.09.04.04.43.25;	author eban;	state Exp;
branches;
next	1.186;

1.186
date	2000.09.01.09.18.10;	author matz;	state Exp;
branches;
next	1.185;

1.185
date	2000.09.01.08.10.48;	author matz;	state Exp;
branches;
next	1.184;

1.184
date	2000.09.01.07.25.19;	author matz;	state Exp;
branches;
next	1.183;

1.183
date	2000.09.01.03.30.56;	author matz;	state Exp;
branches;
next	1.182;

1.182
date	2000.08.31.09.08.12;	author matz;	state Exp;
branches;
next	1.181;

1.181
date	2000.08.31.08.08.38;	author matz;	state Exp;
branches;
next	1.180;

1.180
date	2000.08.31.05.29.32;	author matz;	state Exp;
branches;
next	1.179;

1.179
date	2000.08.30.08.16.34;	author eban;	state Exp;
branches;
next	1.178;

1.178
date	2000.08.30.05.32.58;	author eban;	state Exp;
branches;
next	1.177;

1.177
date	2000.08.30.05.20.35;	author matz;	state Exp;
branches;
next	1.176;

1.176
date	2000.08.30.02.35.01;	author eban;	state Exp;
branches;
next	1.175;

1.175
date	2000.08.29.07.29.44;	author matz;	state Exp;
branches;
next	1.174;

1.174
date	2000.08.29.02.52.28;	author matz;	state Exp;
branches;
next	1.173;

1.173
date	2000.08.28.09.53.24;	author matz;	state Exp;
branches;
next	1.172;

1.172
date	2000.08.25.08.25.58;	author matz;	state Exp;
branches;
next	1.171;

1.171
date	2000.08.24.06.29.28;	author eban;	state Exp;
branches;
next	1.170;

1.170
date	2000.08.24.06.21.27;	author matz;	state Exp;
branches;
next	1.169;

1.169
date	2000.08.18.16.46.16;	author eban;	state Exp;
branches;
next	1.168;

1.168
date	2000.08.16.19.26.04;	author aamine;	state Exp;
branches;
next	1.167;

1.167
date	2000.08.15.09.04.26;	author matz;	state Exp;
branches;
next	1.166;

1.166
date	2000.08.15.07.11.10;	author eban;	state Exp;
branches;
next	1.165;

1.165
date	2000.08.15.06.22.38;	author matz;	state Exp;
branches;
next	1.164;

1.164
date	2000.08.10.14.23.09;	author matz;	state Exp;
branches;
next	1.163;

1.163
date	2000.08.09.21.27.04;	author eban;	state Exp;
branches;
next	1.162;

1.162
date	2000.08.09.07.34.58;	author matz;	state Exp;
branches;
next	1.161;

1.161
date	2000.08.09.04.26.03;	author eban;	state Exp;
branches;
next	1.160;

1.160
date	2000.08.08.05.05.31;	author eban;	state Exp;
branches;
next	1.159;

1.159
date	2000.08.07.06.11.33;	author matz;	state Exp;
branches;
next	1.158;

1.158
date	2000.08.07.05.01.45;	author matz;	state Exp;
branches;
next	1.157;

1.157
date	2000.08.05.08.39.36;	author eban;	state Exp;
branches;
next	1.156;

1.156
date	2000.08.02.09.50.35;	author matz;	state Exp;
branches;
next	1.155;

1.155
date	2000.08.02.04.54.10;	author matz;	state Exp;
branches;
next	1.154;

1.154
date	2000.08.01.09.25.32;	author matz;	state Exp;
branches;
next	1.153;

1.153
date	2000.07.31.04.36.36;	author matz;	state Exp;
branches;
next	1.152;

1.152
date	2000.07.29.14.04.37;	author eban;	state Exp;
branches;
next	1.151;

1.151
date	2000.07.27.09.49.12;	author matz;	state Exp;
branches;
next	1.150;

1.150
date	2000.07.26.02.25.49;	author eban;	state Exp;
branches;
next	1.149;

1.149
date	2000.07.26.01.12.30;	author eban;	state Exp;
branches;
next	1.148;

1.148
date	2000.07.25.14.46.43;	author eban;	state Exp;
branches;
next	1.147;

1.147
date	2000.07.25.10.09.57;	author eban;	state Exp;
branches;
next	1.146;

1.146
date	2000.07.25.07.21.49;	author matz;	state Exp;
branches;
next	1.145;

1.145
date	2000.07.25.06.03.46;	author matz;	state Exp;
branches;
next	1.144;

1.144
date	2000.07.24.09.58.07;	author eban;	state Exp;
branches;
next	1.143;

1.143
date	2000.07.24.07.19.31;	author matz;	state Exp;
branches;
next	1.142;

1.142
date	2000.07.21.08.45.30;	author matz;	state Exp;
branches;
next	1.141;

1.141
date	2000.07.19.08.04.44;	author matz;	state Exp;
branches;
next	1.140;

1.140
date	2000.07.18.06.00.34;	author matz;	state Exp;
branches;
next	1.139;

1.139
date	2000.07.17.09.37.54;	author matz;	state Exp;
branches;
next	1.138;

1.138
date	2000.07.15.13.36.55;	author matz;	state Exp;
branches;
next	1.137;

1.137
date	2000.07.15.00.33.10;	author matz;	state Exp;
branches;
next	1.136;

1.136
date	2000.07.14.08.21.28;	author eban;	state Exp;
branches;
next	1.135;

1.135
date	2000.07.14.07.18.56;	author matz;	state Exp;
branches;
next	1.134;

1.134
date	2000.07.14.04.34.34;	author matz;	state Exp;
branches;
next	1.133;

1.133
date	2000.07.12.09.36.21;	author matz;	state Exp;
branches;
next	1.132;

1.132
date	2000.07.12.06.33.23;	author matz;	state Exp;
branches;
next	1.131;

1.131
date	2000.07.12.06.06.44;	author matz;	state Exp;
branches;
next	1.130;

1.130
date	2000.07.12.06.04.38;	author aamine;	state Exp;
branches;
next	1.129;

1.129
date	2000.07.11.08.27.05;	author matz;	state Exp;
branches;
next	1.128;

1.128
date	2000.07.10.06.30.10;	author eban;	state Exp;
branches;
next	1.127;

1.127
date	2000.07.10.04.49.09;	author matz;	state Exp;
branches;
next	1.126;

1.126
date	2000.07.07.03.20.49;	author matz;	state Exp;
branches;
next	1.125;

1.125
date	2000.07.06.07.21.05;	author matz;	state Exp;
branches;
next	1.124;

1.124
date	2000.07.05.16.01.47;	author eban;	state Exp;
branches;
next	1.123;

1.123
date	2000.07.05.14.12.24;	author eban;	state Exp;
branches;
next	1.122;

1.122
date	2000.07.04.16.27.16;	author eban;	state Exp;
branches;
next	1.121;

1.121
date	2000.07.04.07.04.30;	author matz;	state Exp;
branches;
next	1.120;

1.120
date	2000.07.04.04.22.00;	author eban;	state Exp;
branches;
next	1.119;

1.119
date	2000.07.04.04.17.07;	author matz;	state Exp;
branches;
next	1.118;

1.118
date	2000.07.03.16.51.55;	author eban;	state Exp;
branches;
next	1.117;

1.117
date	2000.07.03.09.37.17;	author eban;	state Exp;
branches;
next	1.116;

1.116
date	2000.07.03.09.20.24;	author aamine;	state Exp;
branches;
next	1.115;

1.115
date	2000.07.03.08.29.57;	author eban;	state Exp;
branches;
next	1.114;

1.114
date	2000.07.03.07.52.19;	author eban;	state Exp;
branches;
next	1.113;

1.113
date	2000.07.03.05.46.32;	author matz;	state Exp;
branches;
next	1.112;

1.112
date	2000.07.03.01.47.02;	author eban;	state Exp;
branches;
next	1.111;

1.111
date	2000.07.02.15.57.13;	author eban;	state Exp;
branches;
next	1.110;

1.110
date	2000.07.01.18.28.13;	author aamine;	state Exp;
branches;
next	1.109;

1.109
date	2000.07.01.06.46.32;	author matz;	state Exp;
branches;
next	1.108;

1.108
date	2000.06.29.07.41.53;	author matz;	state Exp;
branches;
next	1.107;

1.107
date	2000.06.28.08.26.53;	author matz;	state Exp;
branches;
next	1.106;

1.106
date	2000.06.27.13.29.59;	author aamine;	state Exp;
branches;
next	1.105;

1.105
date	2000.06.26.15.16.02;	author eban;	state Exp;
branches;
next	1.104;

1.104
date	2000.06.24.14.06.32;	author eban;	state Exp;
branches;
next	1.103;

1.103
date	2000.06.23.07.01.22;	author matz;	state Exp;
branches;
next	1.102;

1.102
date	2000.06.22.08.29.39;	author matz;	state Exp;
branches;
next	1.101;

1.101
date	2000.06.22.05.37.09;	author shugo;	state Exp;
branches;
next	1.100;

1.100
date	2000.06.22.04.39.06;	author eban;	state Exp;
branches;
next	1.99;

1.99
date	2000.06.20.01.55.26;	author eban;	state Exp;
branches;
next	1.98;

1.98
date	2000.06.19.21.16.41;	author wakou;	state Exp;
branches;
next	1.97;

1.97
date	2000.06.19.08.38.03;	author matz;	state Exp;
branches;
next	1.96;

1.96
date	2000.06.19.03.37.51;	author eban;	state Exp;
branches;
next	1.95;

1.95
date	2000.06.17.08.15.16;	author aamine;	state Exp;
branches;
next	1.94;

1.94
date	2000.06.16.12.41.05;	author eban;	state Exp;
branches;
next	1.93;

1.93
date	2000.06.16.07.44.00;	author matz;	state Exp;
branches;
next	1.92;

1.92
date	2000.06.14.08.08.46;	author matz;	state Exp;
branches;
next	1.91;

1.91
date	2000.06.14.05.50.32;	author matz;	state Exp;
branches;
next	1.90;

1.90
date	2000.06.14.05.30.20;	author matz;	state Exp;
branches;
next	1.89;

1.89
date	2000.06.14.05.20.08;	author eban;	state Exp;
branches;
next	1.88;

1.88
date	2000.06.14.05.11.55;	author eban;	state Exp;
branches;
next	1.87;

1.87
date	2000.06.13.15.52.02;	author wakou;	state Exp;
branches;
next	1.86;

1.86
date	2000.06.13.09.42.38;	author matz;	state Exp;
branches;
next	1.85;

1.85
date	2000.06.12.14.46.43;	author eban;	state Exp;
branches;
next	1.84;

1.84
date	2000.06.12.07.48.18;	author matz;	state Exp;
branches;
next	1.83;

1.83
date	2000.06.07.15.49.35;	author eban;	state Exp;
branches;
next	1.82;

1.82
date	2000.06.05.08.46.47;	author matz;	state Exp;
branches;
next	1.81;

1.81
date	2000.06.04.15.32.17;	author eban;	state Exp;
branches;
next	1.80;

1.80
date	2000.06.03.18.18.59;	author wakou;	state Exp;
branches;
next	1.79;

1.79
date	2000.06.03.17.13.41;	author eban;	state Exp;
branches;
next	1.78;

1.78
date	2000.05.31.16.40.03;	author matz;	state Exp;
branches;
next	1.77;

1.77
date	2000.05.31.03.09.59;	author matz;	state Exp;
branches;
next	1.76;

1.76
date	2000.05.30.19.15.26;	author wakou;	state Exp;
branches;
next	1.75;

1.75
date	2000.05.30.04.23.52;	author matz;	state Exp;
branches;
next	1.74;

1.74
date	2000.05.29.02.10.16;	author eban;	state Exp;
branches;
next	1.73;

1.73
date	2000.05.25.05.54.58;	author matz;	state Exp;
branches;
next	1.72;

1.72
date	2000.05.24.07.10.22;	author wakou;	state Exp;
branches;
next	1.71;

1.71
date	2000.05.24.04.33.52;	author matz;	state Exp;
branches;
next	1.70;

1.70
date	2000.05.21.12.23.50;	author eban;	state Exp;
branches;
next	1.69;

1.69
date	2000.05.21.09.25.56;	author eban;	state Exp;
branches;
next	1.68;

1.68
date	2000.05.18.04.32.02;	author matz;	state Exp;
branches;
next	1.67;

1.67
date	2000.05.17.06.33.45;	author matz;	state Exp;
branches;
next	1.66;

1.66
date	2000.05.17.04.38.08;	author matz;	state Exp;
branches;
next	1.65;

1.65
date	2000.05.16.15.50.46;	author eban;	state Exp;
branches;
next	1.64;

1.64
date	2000.05.16.02.46.50;	author matz;	state Exp;
branches;
next	1.63;

1.63
date	2000.05.15.06.38.41;	author matz;	state Exp;
branches;
next	1.62;

1.62
date	2000.05.14.09.36.25;	author eban;	state Exp;
branches;
next	1.61;

1.61
date	2000.05.13.17.22.07;	author eban;	state Exp;
branches;
next	1.60;

1.60
date	2000.05.13.16.12.13;	author eban;	state Exp;
branches;
next	1.59;

1.59
date	2000.05.12.09.07.31;	author matz;	state Exp;
branches;
next	1.58;

1.58
date	2000.05.10.02.58.31;	author matz;	state Exp;
branches;
next	1.57;

1.57
date	2000.05.09.04.52.50;	author matz;	state Exp;
branches;
next	1.56;

1.56
date	2000.05.01.09.41.09;	author matz;	state Exp;
branches;
next	1.55;

1.55
date	2000.04.12.05.06.19;	author matz;	state Exp;
branches;
next	1.54;

1.54
date	2000.04.10.05.44.04;	author matz;	state Exp;
branches;
next	1.53;

1.53
date	2000.03.23.08.37.23;	author matz;	state Exp;
branches;
next	1.52;

1.52
date	2000.03.17.08.58.08;	author matz;	state Exp;
branches;
next	1.51;

1.51
date	2000.03.15.09.05.36;	author matz;	state Exp;
branches;
next	1.50;

1.50
date	2000.03.15.05.01.15;	author matz;	state Exp;
branches;
next	1.49;

1.49
date	2000.03.13.07.18.32;	author matz;	state Exp;
branches;
next	1.48;

1.48
date	2000.03.09.08.59.53;	author matz;	state Exp;
branches;
next	1.47;

1.47
date	2000.03.08.06.23.12;	author matz;	state Exp;
branches;
next	1.46;

1.46
date	2000.03.07.08.37.24;	author matz;	state Exp;
branches;
next	1.45;

1.45
date	2000.03.06.04.15.28;	author matz;	state Exp;
branches;
next	1.44;

1.44
date	2000.02.29.08.05.23;	author matz;	state Exp;
branches;
next	1.43;

1.43
date	2000.02.25.03.51.15;	author matz;	state Exp;
branches;
next	1.42;

1.42
date	2000.02.23.05.23.02;	author matz;	state Exp;
branches;
next	1.41;

1.41
date	2000.02.18.06.59.28;	author matz;	state Exp;
branches;
next	1.40;

1.40
date	2000.02.17.07.11.06;	author matz;	state Exp;
branches;
next	1.39;

1.39
date	2000.02.08.08.48.43;	author matz;	state Exp;
branches;
next	1.38;

1.38
date	2000.02.02.08.10.30;	author matz;	state Exp;
branches;
next	1.37;

1.37
date	2000.02.01.03.11.57;	author matz;	state Exp;
branches;
next	1.36;

1.36
date	2000.01.18.06.09.02;	author matz;	state Exp;
branches;
next	1.35;

1.35
date	2000.01.17.08.37.38;	author matz;	state Exp;
branches;
next	1.34;

1.34
date	2000.01.08.05.00.16;	author matz;	state Exp;
branches;
next	1.33;

1.33
date	2000.01.05.04.36.55;	author matz;	state Exp;
branches;
next	1.32;

1.32
date	99.12.14.06.49.38;	author matz;	state Exp;
branches;
next	1.31;

1.31
date	99.12.07.09.23.21;	author matz;	state Exp;
branches;
next	1.30;

1.30
date	99.12.06.09.03.49;	author matz;	state Exp;
branches;
next	1.29;

1.29
date	99.12.02.06.58.47;	author matz;	state Exp;
branches;
next	1.28;

1.28
date	99.12.01.09.24.11;	author matz;	state Exp;
branches;
next	1.27;

1.27
date	99.11.29.06.32.57;	author matz;	state Exp;
branches;
next	1.26;

1.26
date	99.11.25.09.03.04;	author matz;	state Exp;
branches;
next	1.25;

1.25
date	99.11.17.07.30.28;	author matz;	state Exp;
branches;
next	1.24;

1.24
date	99.11.11.04.08.25;	author matz;	state Exp;
branches;
next	1.23;

1.23
date	99.11.10.06.47.06;	author matz;	state Exp;
branches;
next	1.22;

1.22
date	99.11.08.03.56.58;	author matz;	state Exp;
branches;
next	1.21;

1.21
date	99.11.04.08.39.35;	author matz;	state Exp;
branches;
next	1.20;

1.20
date	99.10.29.09.25.29;	author matz;	state Exp;
branches;
next	1.19;

1.19
date	99.10.21.07.52.14;	author matz;	state Exp;
branches;
next	1.18;

1.18
date	99.10.20.07.10.22;	author matz;	state Exp;
branches;
next	1.17;

1.17
date	99.10.18.09.02.59;	author matz;	state Exp;
branches;
next	1.16;

1.16
date	99.10.16.10.33.04;	author matz;	state Exp;
branches;
next	1.15;

1.15
date	99.10.15.08.52.15;	author matz;	state Exp;
branches;
next	1.14;

1.14
date	99.10.13.09.32.16;	author matz;	state Exp;
branches;
next	1.13;

1.13
date	99.10.13.06.44.40;	author matz;	state Exp;
branches;
next	1.12;

1.12
date	99.10.12.04.53.31;	author matz;	state Exp;
branches
	1.12.2.1;
next	1.11;

1.11
date	99.10.04.04.51.03;	author matz;	state Exp;
branches;
next	1.10;

1.10
date	99.09.22.04.30.08;	author matz;	state Exp;
branches;
next	1.9;

1.9
date	99.09.20.07.14.17;	author matz;	state Exp;
branches;
next	1.8;

1.8
date	99.09.18.04.48.49;	author matz;	state Exp;
branches;
next	1.7;

1.7
date	99.09.16.16.11.24;	author matz;	state Exp;
branches;
next	1.6;

1.6
date	99.09.16.09.40.30;	author matz;	state Exp;
branches;
next	1.5;

1.5
date	99.09.01.09.47.59;	author matz;	state Exp;
branches;
next	1.4;

1.4
date	99.08.24.08.21.51;	author matz;	state Exp;
branches;
next	1.3;

1.3
date	99.08.13.08.24.05;	author matz;	state Exp;
branches;
next	1.2;

1.2
date	99.08.13.05.45.00;	author matz;	state Exp;
branches;
next	1.1;

1.1
date	98.01.16.12.13.05;	author matz;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.01.16.12.13.05;	author matz;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	98.01.16.12.19.08;	author matz;	state Exp;
branches
	1.1.1.2.2.1;
next	1.1.1.3;

1.1.1.3
date	99.01.20.04.59.20;	author matz;	state Exp;
branches
	1.1.1.3.2.1;
next	;

1.1.1.3.2.1
date	99.01.26.10.08.08;	author matz;	state Exp;
branches;
next	1.1.1.3.2.2;

1.1.1.3.2.2
date	99.01.27.08.08.34;	author matz;	state Exp;
branches;
next	1.1.1.3.2.3;

1.1.1.3.2.3
date	99.01.28.07.55.29;	author matz;	state Exp;
branches;
next	1.1.1.3.2.4;

1.1.1.3.2.4
date	99.02.01.07.34.52;	author matz;	state Exp;
branches;
next	1.1.1.3.2.5;

1.1.1.3.2.5
date	99.02.03.09.47.57;	author matz;	state Exp;
branches;
next	1.1.1.3.2.6;

1.1.1.3.2.6
date	99.02.05.10.27.29;	author matz;	state Exp;
branches;
next	1.1.1.3.2.7;

1.1.1.3.2.7
date	99.02.09.06.08.17;	author matz;	state Exp;
branches;
next	1.1.1.3.2.8;

1.1.1.3.2.8
date	99.02.10.08.44.21;	author matz;	state Exp;
branches;
next	1.1.1.3.2.9;

1.1.1.3.2.9
date	99.02.12.11.17.00;	author matz;	state Exp;
branches;
next	1.1.1.3.2.10;

1.1.1.3.2.10
date	99.02.15.07.31.47;	author matz;	state Exp;
branches;
next	1.1.1.3.2.11;

1.1.1.3.2.11
date	99.02.24.04.31.16;	author matz;	state Exp;
branches;
next	1.1.1.3.2.12;

1.1.1.3.2.12
date	99.02.25.06.39.02;	author matz;	state Exp;
branches;
next	1.1.1.3.2.13;

1.1.1.3.2.13
date	99.03.24.08.52.23;	author matz;	state Exp;
branches;
next	1.1.1.3.2.14;

1.1.1.3.2.14
date	99.04.09.17.57.34;	author matz;	state Exp;
branches;
next	1.1.1.3.2.15;

1.1.1.3.2.15
date	99.04.12.09.59.26;	author matz;	state Exp;
branches;
next	1.1.1.3.2.16;

1.1.1.3.2.16
date	99.04.16.06.03.29;	author matz;	state Exp;
branches;
next	1.1.1.3.2.17;

1.1.1.3.2.17
date	99.04.16.06.12.49;	author matz;	state Exp;
branches;
next	1.1.1.3.2.18;

1.1.1.3.2.18
date	99.04.16.07.18.23;	author matz;	state Exp;
branches;
next	1.1.1.3.2.19;

1.1.1.3.2.19
date	99.04.20.08.21.33;	author matz;	state Exp;
branches;
next	1.1.1.3.2.20;

1.1.1.3.2.20
date	99.04.22.08.20.10;	author matz;	state Exp;
branches;
next	1.1.1.3.2.21;

1.1.1.3.2.21
date	99.04.26.09.42.27;	author matz;	state Exp;
branches;
next	1.1.1.3.2.22;

1.1.1.3.2.22
date	99.04.27.02.56.24;	author matz;	state Exp;
branches;
next	1.1.1.3.2.23;

1.1.1.3.2.23
date	99.04.27.05.11.08;	author matz;	state Exp;
branches;
next	1.1.1.3.2.24;

1.1.1.3.2.24
date	99.04.27.07.03.22;	author matz;	state Exp;
branches;
next	1.1.1.3.2.25;

1.1.1.3.2.25
date	99.04.30.06.19.07;	author matz;	state Exp;
branches;
next	1.1.1.3.2.26;

1.1.1.3.2.26
date	99.04.30.07.55.41;	author matz;	state Exp;
branches;
next	1.1.1.3.2.27;

1.1.1.3.2.27
date	99.05.06.08.31.24;	author matz;	state Exp;
branches;
next	1.1.1.3.2.28;

1.1.1.3.2.28
date	99.05.07.08.24.33;	author matz;	state Exp;
branches;
next	1.1.1.3.2.29;

1.1.1.3.2.29
date	99.05.10.08.22.43;	author matz;	state Exp;
branches;
next	1.1.1.3.2.30;

1.1.1.3.2.30
date	99.05.11.01.34.29;	author matz;	state Exp;
branches;
next	1.1.1.3.2.31;

1.1.1.3.2.31
date	99.05.12.05.27.31;	author matz;	state Exp;
branches;
next	1.1.1.3.2.32;

1.1.1.3.2.32
date	99.05.13.10.00.57;	author matz;	state Exp;
branches;
next	1.1.1.3.2.33;

1.1.1.3.2.33
date	99.05.14.08.56.02;	author matz;	state Exp;
branches;
next	1.1.1.3.2.34;

1.1.1.3.2.34
date	99.05.17.09.53.55;	author matz;	state Exp;
branches;
next	1.1.1.3.2.35;

1.1.1.3.2.35
date	99.05.18.00.34.34;	author matz;	state Exp;
branches;
next	1.1.1.3.2.36;

1.1.1.3.2.36
date	99.05.18.06.06.10;	author matz;	state Exp;
branches;
next	1.1.1.3.2.37;

1.1.1.3.2.37
date	99.05.25.08.25.45;	author matz;	state Exp;
branches;
next	1.1.1.3.2.38;

1.1.1.3.2.38
date	99.05.31.09.12.58;	author matz;	state Exp;
branches;
next	1.1.1.3.2.39;

1.1.1.3.2.39
date	99.06.01.06.58.57;	author matz;	state Exp;
branches;
next	1.1.1.3.2.40;

1.1.1.3.2.40
date	99.06.09.09.20.59;	author matz;	state Exp;
branches;
next	1.1.1.3.2.41;

1.1.1.3.2.41
date	99.06.11.06.29.43;	author matz;	state Exp;
branches;
next	1.1.1.3.2.42;

1.1.1.3.2.42
date	99.06.11.06.43.34;	author matz;	state Exp;
branches;
next	1.1.1.3.2.43;

1.1.1.3.2.43
date	99.06.24.04.23.41;	author matz;	state Exp;
branches;
next	1.1.1.3.2.44;

1.1.1.3.2.44
date	99.06.25.09.02.28;	author matz;	state Exp;
branches;
next	1.1.1.3.2.45;

1.1.1.3.2.45
date	99.07.15.07.59.30;	author matz;	state Exp;
branches;
next	1.1.1.3.2.46;

1.1.1.3.2.46
date	99.07.22.10.37.00;	author matz;	state Exp;
branches;
next	1.1.1.3.2.47;

1.1.1.3.2.47
date	99.07.28.09.26.24;	author matz;	state Exp;
branches;
next	1.1.1.3.2.48;

1.1.1.3.2.48
date	99.08.06.06.48.00;	author matz;	state Exp;
branches;
next	1.1.1.3.2.49;

1.1.1.3.2.49
date	99.08.11.07.23.46;	author matz;	state Exp;
branches;
next	1.1.1.3.2.50;

1.1.1.3.2.50
date	99.08.12.08.33.03;	author matz;	state Exp;
branches;
next	1.1.1.3.2.51;

1.1.1.3.2.51
date	99.08.13.05.17.30;	author matz;	state Exp;
branches;
next	;

1.1.1.2.2.1
date	98.01.16.12.35.42;	author matz;	state Exp;
branches;
next	1.1.1.2.2.2;

1.1.1.2.2.2
date	98.01.19.05.08.19;	author matz;	state Exp;
branches;
next	1.1.1.2.2.3;

1.1.1.2.2.3
date	98.01.19.07.33.58;	author matz;	state Exp;
branches;
next	1.1.1.2.2.4;

1.1.1.2.2.4
date	98.01.19.08.33.16;	author matz;	state Exp;
branches;
next	1.1.1.2.2.5;

1.1.1.2.2.5
date	98.01.19.08.40.05;	author matz;	state Exp;
branches;
next	1.1.1.2.2.6;

1.1.1.2.2.6
date	98.01.20.04.16.43;	author matz;	state Exp;
branches;
next	1.1.1.2.2.7;

1.1.1.2.2.7
date	98.01.20.06.40.03;	author matz;	state Exp;
branches;
next	1.1.1.2.2.8;

1.1.1.2.2.8
date	98.01.20.08.36.41;	author matz;	state Exp;
branches;
next	1.1.1.2.2.9;

1.1.1.2.2.9
date	98.01.21.06.34.30;	author matz;	state Exp;
branches;
next	1.1.1.2.2.10;

1.1.1.2.2.10
date	98.01.21.08.09.11;	author matz;	state Exp;
branches;
next	1.1.1.2.2.11;

1.1.1.2.2.11
date	98.01.22.03.34.24;	author matz;	state Exp;
branches;
next	1.1.1.2.2.12;

1.1.1.2.2.12
date	98.01.22.08.12.08;	author matz;	state Exp;
branches;
next	1.1.1.2.2.13;

1.1.1.2.2.13
date	98.01.22.08.22.26;	author matz;	state Exp;
branches;
next	1.1.1.2.2.14;

1.1.1.2.2.14
date	98.01.22.08.32.46;	author matz;	state Exp;
branches;
next	1.1.1.2.2.15;

1.1.1.2.2.15
date	98.01.22.10.07.52;	author matz;	state Exp;
branches;
next	1.1.1.2.2.16;

1.1.1.2.2.16
date	98.01.23.10.01.06;	author matz;	state Exp;
branches;
next	1.1.1.2.2.17;

1.1.1.2.2.17
date	98.01.23.10.40.43;	author matz;	state Exp;
branches;
next	1.1.1.2.2.18;

1.1.1.2.2.18
date	98.01.29.08.18.02;	author matz;	state Exp;
branches;
next	1.1.1.2.2.19;

1.1.1.2.2.19
date	98.01.29.09.48.12;	author matz;	state Exp;
branches;
next	1.1.1.2.2.20;

1.1.1.2.2.20
date	98.02.02.04.49.11;	author matz;	state Exp;
branches;
next	1.1.1.2.2.21;

1.1.1.2.2.21
date	98.02.03.10.02.54;	author matz;	state Exp;
branches;
next	1.1.1.2.2.22;

1.1.1.2.2.22
date	98.02.04.05.02.43;	author matz;	state Exp;
branches;
next	1.1.1.2.2.23;

1.1.1.2.2.23
date	98.02.05.09.46.09;	author matz;	state Exp;
branches;
next	1.1.1.2.2.24;

1.1.1.2.2.24
date	98.02.09.10.56.16;	author matz;	state Exp;
branches;
next	1.1.1.2.2.25;

1.1.1.2.2.25
date	98.02.10.08.44.05;	author matz;	state Exp;
branches;
next	1.1.1.2.2.26;

1.1.1.2.2.26
date	98.02.10.08.53.37;	author matz;	state Exp;
branches;
next	1.1.1.2.2.27;

1.1.1.2.2.27
date	98.02.13.09.40.27;	author matz;	state Exp;
branches;
next	1.1.1.2.2.28;

1.1.1.2.2.28
date	98.02.16.06.05.43;	author matz;	state Exp;
branches;
next	1.1.1.2.2.29;

1.1.1.2.2.29
date	98.02.18.01.56.22;	author matz;	state Exp;
branches;
next	1.1.1.2.2.30;

1.1.1.2.2.30
date	98.02.18.10.01.45;	author matz;	state Exp;
branches;
next	1.1.1.2.2.31;

1.1.1.2.2.31
date	98.02.20.02.10.26;	author matz;	state Exp;
branches;
next	1.1.1.2.2.32;

1.1.1.2.2.32
date	98.02.20.08.28.43;	author matz;	state Exp;
branches;
next	1.1.1.2.2.33;

1.1.1.2.2.33
date	98.02.20.09.28.04;	author matz;	state Exp;
branches;
next	1.1.1.2.2.34;

1.1.1.2.2.34
date	98.02.23.05.36.36;	author matz;	state Exp;
branches;
next	1.1.1.2.2.35;

1.1.1.2.2.35
date	98.02.24.03.55.00;	author matz;	state Exp;
branches;
next	1.1.1.2.2.36;

1.1.1.2.2.36
date	98.02.25.06.52.41;	author matz;	state Exp;
branches;
next	1.1.1.2.2.37;

1.1.1.2.2.37
date	98.02.26.08.27.05;	author matz;	state Exp;
branches;
next	1.1.1.2.2.38;

1.1.1.2.2.38
date	98.02.27.05.39.51;	author matz;	state Exp;
branches;
next	1.1.1.2.2.39;

1.1.1.2.2.39
date	98.02.27.05.43.39;	author matz;	state Exp;
branches;
next	1.1.1.2.2.40;

1.1.1.2.2.40
date	98.02.27.09.33.21;	author matz;	state Exp;
branches;
next	1.1.1.2.2.41;

1.1.1.2.2.41
date	98.03.03.02.39.30;	author matz;	state Exp;
branches;
next	1.1.1.2.2.42;

1.1.1.2.2.42
date	98.03.03.10.16.11;	author matz;	state Exp;
branches;
next	1.1.1.2.2.43;

1.1.1.2.2.43
date	98.03.05.06.37.40;	author matz;	state Exp;
branches;
next	1.1.1.2.2.44;

1.1.1.2.2.44
date	98.03.06.10.07.52;	author matz;	state Exp;
branches;
next	1.1.1.2.2.45;

1.1.1.2.2.45
date	98.03.09.07.56.53;	author matz;	state Exp;
branches;
next	1.1.1.2.2.46;

1.1.1.2.2.46
date	98.03.09.08.38.21;	author matz;	state Exp;
branches;
next	1.1.1.2.2.47;

1.1.1.2.2.47
date	98.03.11.07.32.50;	author matz;	state Exp;
branches;
next	1.1.1.2.2.48;

1.1.1.2.2.48
date	98.03.11.09.19.48;	author matz;	state Exp;
branches;
next	1.1.1.2.2.49;

1.1.1.2.2.49
date	98.03.12.07.22.54;	author matz;	state Exp;
branches;
next	1.1.1.2.2.50;

1.1.1.2.2.50
date	98.03.12.09.58.00;	author matz;	state Exp;
branches;
next	1.1.1.2.2.51;

1.1.1.2.2.51
date	98.03.13.09.04.28;	author matz;	state Exp;
branches;
next	1.1.1.2.2.52;

1.1.1.2.2.52
date	98.03.16.06.00.10;	author matz;	state Exp;
branches;
next	1.1.1.2.2.53;

1.1.1.2.2.53
date	98.03.16.06.37.10;	author matz;	state Exp;
branches;
next	1.1.1.2.2.54;

1.1.1.2.2.54
date	98.03.17.10.06.56;	author matz;	state Exp;
branches;
next	1.1.1.2.2.55;

1.1.1.2.2.55
date	98.03.18.08.47.47;	author matz;	state Exp;
branches;
next	1.1.1.2.2.56;

1.1.1.2.2.56
date	98.03.19.06.22.54;	author matz;	state Exp;
branches;
next	1.1.1.2.2.57;

1.1.1.2.2.57
date	98.03.19.06.25.33;	author matz;	state Exp;
branches;
next	1.1.1.2.2.58;

1.1.1.2.2.58
date	98.03.20.09.20.28;	author matz;	state Exp;
branches;
next	1.1.1.2.2.59;

1.1.1.2.2.59
date	98.03.23.09.48.00;	author matz;	state Exp;
branches;
next	1.1.1.2.2.60;

1.1.1.2.2.60
date	98.03.23.09.49.16;	author matz;	state Exp;
branches;
next	1.1.1.2.2.61;

1.1.1.2.2.61
date	98.03.24.06.21.52;	author matz;	state Exp;
branches;
next	1.1.1.2.2.62;

1.1.1.2.2.62
date	98.03.25.09.36.57;	author matz;	state Exp;
branches;
next	1.1.1.2.2.63;

1.1.1.2.2.63
date	98.03.26.09.07.25;	author matz;	state Exp;
branches;
next	1.1.1.2.2.64;

1.1.1.2.2.64
date	98.03.26.09.09.36;	author matz;	state Exp;
branches;
next	1.1.1.2.2.65;

1.1.1.2.2.65
date	98.03.26.10.22.11;	author matz;	state Exp;
branches;
next	1.1.1.2.2.66;

1.1.1.2.2.66
date	98.03.27.06.09.17;	author matz;	state Exp;
branches;
next	1.1.1.2.2.67;

1.1.1.2.2.67
date	98.03.28.10.57.38;	author matz;	state Exp;
branches;
next	1.1.1.2.2.68;

1.1.1.2.2.68
date	98.03.28.11.05.45;	author matz;	state Exp;
branches;
next	1.1.1.2.2.69;

1.1.1.2.2.69
date	98.03.28.11.52.18;	author matz;	state Exp;
branches;
next	1.1.1.2.2.70;

1.1.1.2.2.70
date	98.03.30.09.32.42;	author matz;	state Exp;
branches;
next	1.1.1.2.2.71;

1.1.1.2.2.71
date	98.03.30.09.41.07;	author matz;	state Exp;
branches;
next	1.1.1.2.2.72;

1.1.1.2.2.72
date	98.03.31.04.52.06;	author matz;	state Exp;
branches;
next	1.1.1.2.2.73;

1.1.1.2.2.73
date	98.04.02.10.03.46;	author matz;	state Exp;
branches;
next	1.1.1.2.2.74;

1.1.1.2.2.74
date	98.04.02.10.05.13;	author matz;	state Exp;
branches;
next	1.1.1.2.2.75;

1.1.1.2.2.75
date	98.04.07.08.34.04;	author matz;	state Exp;
branches;
next	1.1.1.2.2.76;

1.1.1.2.2.76
date	98.04.07.08.41.19;	author matz;	state Exp;
branches;
next	1.1.1.2.2.77;

1.1.1.2.2.77
date	98.04.07.10.18.08;	author matz;	state Exp;
branches;
next	1.1.1.2.2.78;

1.1.1.2.2.78
date	98.04.08.08.12.34;	author matz;	state Exp;
branches;
next	1.1.1.2.2.79;

1.1.1.2.2.79
date	98.04.09.09.30.16;	author matz;	state Exp;
branches;
next	1.1.1.2.2.80;

1.1.1.2.2.80
date	98.04.09.09.57.58;	author matz;	state Exp;
branches;
next	1.1.1.2.2.81;

1.1.1.2.2.81
date	98.04.09.10.19.08;	author matz;	state Exp;
branches;
next	1.1.1.2.2.82;

1.1.1.2.2.82
date	98.04.10.10.09.47;	author matz;	state Exp;
branches;
next	1.1.1.2.2.83;

1.1.1.2.2.83
date	98.04.13.06.06.11;	author matz;	state Exp;
branches;
next	1.1.1.2.2.84;

1.1.1.2.2.84
date	98.04.14.04.55.45;	author matz;	state Exp;
branches;
next	1.1.1.2.2.85;

1.1.1.2.2.85
date	98.04.14.09.08.12;	author matz;	state Exp;
branches;
next	1.1.1.2.2.86;

1.1.1.2.2.86
date	98.04.16.07.42.39;	author matz;	state Exp;
branches;
next	1.1.1.2.2.87;

1.1.1.2.2.87
date	98.04.16.10.20.13;	author matz;	state Exp;
branches;
next	1.1.1.2.2.88;

1.1.1.2.2.88
date	98.04.16.10.39.20;	author matz;	state Exp;
branches;
next	1.1.1.2.2.89;

1.1.1.2.2.89
date	98.04.16.10.41.52;	author matz;	state Exp;
branches;
next	1.1.1.2.2.90;

1.1.1.2.2.90
date	98.04.17.03.53.53;	author matz;	state Exp;
branches;
next	1.1.1.2.2.91;

1.1.1.2.2.91
date	98.04.17.09.29.32;	author matz;	state Exp;
branches;
next	1.1.1.2.2.92;

1.1.1.2.2.92
date	98.04.20.05.55.31;	author matz;	state Exp;
branches;
next	1.1.1.2.2.93;

1.1.1.2.2.93
date	98.04.20.06.20.32;	author matz;	state Exp;
branches;
next	1.1.1.2.2.94;

1.1.1.2.2.94
date	98.04.21.08.41.02;	author matz;	state Exp;
branches;
next	1.1.1.2.2.95;

1.1.1.2.2.95
date	98.04.22.08.57.17;	author matz;	state Exp;
branches;
next	1.1.1.2.2.96;

1.1.1.2.2.96
date	98.04.23.06.53.13;	author matz;	state Exp;
branches;
next	1.1.1.2.2.97;

1.1.1.2.2.97
date	98.04.24.09.33.13;	author matz;	state Exp;
branches;
next	1.1.1.2.2.98;

1.1.1.2.2.98
date	98.04.27.10.03.47;	author matz;	state Exp;
branches;
next	1.1.1.2.2.99;

1.1.1.2.2.99
date	98.04.28.06.16.04;	author matz;	state Exp;
branches;
next	1.1.1.2.2.100;

1.1.1.2.2.100
date	98.04.28.06.28.33;	author matz;	state Exp;
branches;
next	1.1.1.2.2.101;

1.1.1.2.2.101
date	98.04.30.07.41.05;	author matz;	state Exp;
branches;
next	1.1.1.2.2.102;

1.1.1.2.2.102
date	98.05.01.08.56.25;	author matz;	state Exp;
branches;
next	1.1.1.2.2.103;

1.1.1.2.2.103
date	98.05.06.03.08.46;	author matz;	state Exp;
branches;
next	1.1.1.2.2.104;

1.1.1.2.2.104
date	98.05.06.09.16.03;	author matz;	state Exp;
branches;
next	1.1.1.2.2.105;

1.1.1.2.2.105
date	98.05.08.09.38.05;	author matz;	state Exp;
branches;
next	1.1.1.2.2.106;

1.1.1.2.2.106
date	98.05.12.08.38.34;	author matz;	state Exp;
branches;
next	1.1.1.2.2.107;

1.1.1.2.2.107
date	98.05.13.05.57.48;	author matz;	state Exp;
branches;
next	1.1.1.2.2.108;

1.1.1.2.2.108
date	98.05.13.07.25.55;	author matz;	state Exp;
branches;
next	1.1.1.2.2.109;

1.1.1.2.2.109
date	98.05.15.05.43.14;	author matz;	state Exp;
branches;
next	1.1.1.2.2.110;

1.1.1.2.2.110
date	98.05.15.05.44.17;	author matz;	state Exp;
branches;
next	1.1.1.2.2.111;

1.1.1.2.2.111
date	98.05.18.05.57.33;	author matz;	state Exp;
branches;
next	1.1.1.2.2.112;

1.1.1.2.2.112
date	98.05.18.09.12.14;	author matz;	state Exp;
branches;
next	1.1.1.2.2.113;

1.1.1.2.2.113
date	98.05.19.07.39.47;	author matz;	state Exp;
branches;
next	1.1.1.2.2.114;

1.1.1.2.2.114
date	98.05.25.09.42.11;	author matz;	state Exp;
branches;
next	1.1.1.2.2.115;

1.1.1.2.2.115
date	98.05.26.03.24.57;	author matz;	state Exp;
branches;
next	1.1.1.2.2.116;

1.1.1.2.2.116
date	98.05.26.08.24.34;	author matz;	state Exp;
branches;
next	1.1.1.2.2.117;

1.1.1.2.2.117
date	98.05.27.09.31.48;	author matz;	state Exp;
branches;
next	1.1.1.2.2.118;

1.1.1.2.2.118
date	98.05.29.09.32.06;	author matz;	state Exp;
branches;
next	1.1.1.2.2.119;

1.1.1.2.2.119
date	98.06.01.04.23.39;	author matz;	state Exp;
branches;
next	1.1.1.2.2.120;

1.1.1.2.2.120
date	98.06.02.10.05.12;	author matz;	state Exp;
branches;
next	1.1.1.2.2.121;

1.1.1.2.2.121
date	98.06.05.09.54.20;	author matz;	state Exp;
branches;
next	1.1.1.2.2.122;

1.1.1.2.2.122
date	98.06.09.07.23.47;	author matz;	state Exp;
branches;
next	1.1.1.2.2.123;

1.1.1.2.2.123
date	98.06.11.10.02.49;	author matz;	state Exp;
branches;
next	1.1.1.2.2.124;

1.1.1.2.2.124
date	98.06.12.09.34.56;	author matz;	state Exp;
branches;
next	1.1.1.2.2.125;

1.1.1.2.2.125
date	98.06.16.04.23.05;	author matz;	state Exp;
branches;
next	1.1.1.2.2.126;

1.1.1.2.2.126
date	98.06.18.07.46.38;	author matz;	state Exp;
branches;
next	1.1.1.2.2.127;

1.1.1.2.2.127
date	98.06.19.09.31.55;	author matz;	state Exp;
branches;
next	1.1.1.2.2.128;

1.1.1.2.2.128
date	98.06.22.05.53.14;	author matz;	state Exp;
branches;
next	1.1.1.2.2.129;

1.1.1.2.2.129
date	98.06.23.10.30.05;	author matz;	state Exp;
branches;
next	1.1.1.2.2.130;

1.1.1.2.2.130
date	98.06.24.04.37.52;	author matz;	state Exp;
branches;
next	1.1.1.2.2.131;

1.1.1.2.2.131
date	98.06.25.09.15.47;	author matz;	state Exp;
branches;
next	1.1.1.2.2.132;

1.1.1.2.2.132
date	98.06.26.09.44.04;	author matz;	state Exp;
branches;
next	1.1.1.2.2.133;

1.1.1.2.2.133
date	98.06.30.01.40.39;	author matz;	state Exp;
branches;
next	1.1.1.2.2.134;

1.1.1.2.2.134
date	98.07.03.07.06.13;	author matz;	state Exp;
branches;
next	1.1.1.2.2.135;

1.1.1.2.2.135
date	98.07.09.08.40.07;	author matz;	state Exp;
branches;
next	1.1.1.2.2.136;

1.1.1.2.2.136
date	98.07.13.04.37.20;	author matz;	state Exp;
branches;
next	1.1.1.2.2.137;

1.1.1.2.2.137
date	98.07.15.06.12.44;	author matz;	state Exp;
branches;
next	1.1.1.2.2.138;

1.1.1.2.2.138
date	98.07.17.00.53.46;	author matz;	state Exp;
branches;
next	1.1.1.2.2.139;

1.1.1.2.2.139
date	98.07.17.05.12.33;	author matz;	state Exp;
branches;
next	1.1.1.2.2.140;

1.1.1.2.2.140
date	98.07.21.05.17.08;	author matz;	state Exp;
branches;
next	1.1.1.2.2.141;

1.1.1.2.2.141
date	98.07.21.09.17.58;	author matz;	state Exp;
branches;
next	1.1.1.2.2.142;

1.1.1.2.2.142
date	98.07.22.03.00.36;	author matz;	state Exp;
branches;
next	1.1.1.2.2.143;

1.1.1.2.2.143
date	98.07.24.04.32.20;	author matz;	state Exp;
branches;
next	1.1.1.2.2.144;

1.1.1.2.2.144
date	98.07.24.04.41.47;	author matz;	state Exp;
branches;
next	1.1.1.2.2.145;

1.1.1.2.2.145
date	98.07.29.09.50.19;	author matz;	state Exp;
branches;
next	1.1.1.2.2.146;

1.1.1.2.2.146
date	98.08.10.05.41.03;	author matz;	state Exp;
branches;
next	1.1.1.2.2.147;

1.1.1.2.2.147
date	98.08.11.04.06.24;	author matz;	state Exp;
branches;
next	1.1.1.2.2.148;

1.1.1.2.2.148
date	98.08.14.03.56.15;	author matz;	state Exp;
branches;
next	1.1.1.2.2.149;

1.1.1.2.2.149
date	98.08.27.03.54.54;	author matz;	state Exp;
branches;
next	1.1.1.2.2.150;

1.1.1.2.2.150
date	98.09.03.07.43.20;	author matz;	state Exp;
branches
	1.1.1.2.2.150.2.1;
next	1.1.1.2.2.151;

1.1.1.2.2.151
date	98.09.08.09.17.22;	author matz;	state Exp;
branches;
next	1.1.1.2.2.152;

1.1.1.2.2.152
date	98.10.06.02.44.52;	author matz;	state Exp;
branches;
next	1.1.1.2.2.153;

1.1.1.2.2.153
date	98.11.09.09.11.47;	author matz;	state Exp;
branches;
next	1.1.1.2.2.154;

1.1.1.2.2.154
date	98.11.17.09.12.25;	author matz;	state Exp;
branches;
next	1.1.1.2.2.155;

1.1.1.2.2.155
date	98.11.26.08.25.40;	author matz;	state Exp;
branches;
next	1.1.1.2.2.156;

1.1.1.2.2.156
date	98.12.14.09.00.05;	author matz;	state Exp;
branches;
next	1.1.1.2.2.157;

1.1.1.2.2.157
date	98.12.25.04.35.34;	author matz;	state Exp;
branches;
next	1.1.1.2.2.158;

1.1.1.2.2.158
date	99.01.11.07.55.23;	author matz;	state Exp;
branches;
next	1.1.1.2.2.159;

1.1.1.2.2.159
date	99.01.18.09.08.48;	author matz;	state Exp;
branches;
next	1.1.1.2.2.160;

1.1.1.2.2.160
date	99.01.21.09.04.50;	author matz;	state Exp;
branches;
next	1.1.1.2.2.161;

1.1.1.2.2.161
date	99.02.09.03.29.19;	author matz;	state Exp;
branches;
next	1.1.1.2.2.162;

1.1.1.2.2.162
date	99.02.16.03.42.19;	author matz;	state Exp;
branches;
next	1.1.1.2.2.163;

1.1.1.2.2.163
date	99.04.08.10.14.29;	author matz;	state Exp;
branches;
next	1.1.1.2.2.164;

1.1.1.2.2.164
date	99.04.09.18.04.05;	author matz;	state Exp;
branches;
next	1.1.1.2.2.165;

1.1.1.2.2.165
date	99.04.09.18.04.31;	author matz;	state Exp;
branches;
next	1.1.1.2.2.166;

1.1.1.2.2.166
date	99.04.13.05.54.22;	author matz;	state Exp;
branches;
next	1.1.1.2.2.167;

1.1.1.2.2.167
date	99.04.13.06.00.00;	author matz;	state Exp;
branches;
next	1.1.1.2.2.168;

1.1.1.2.2.168
date	99.04.20.08.20.54;	author matz;	state Exp;
branches;
next	1.1.1.2.2.169;

1.1.1.2.2.169
date	99.04.26.07.41.40;	author matz;	state Exp;
branches;
next	1.1.1.2.2.170;

1.1.1.2.2.170
date	99.05.14.08.56.44;	author matz;	state Exp;
branches;
next	1.1.1.2.2.171;

1.1.1.2.2.171
date	99.06.21.06.30.56;	author matz;	state Exp;
branches;
next	1.1.1.2.2.172;

1.1.1.2.2.172
date	99.07.15.03.05.13;	author matz;	state Exp;
branches;
next	;

1.1.1.2.2.150.2.1
date	98.09.08.07.08.22;	author matz;	state Exp;
branches;
next	1.1.1.2.2.150.2.2;

1.1.1.2.2.150.2.2
date	98.10.06.03.27.58;	author matz;	state Exp;
branches;
next	1.1.1.2.2.150.2.3;

1.1.1.2.2.150.2.3
date	98.11.25.03.31.08;	author matz;	state Exp;
branches;
next	1.1.1.2.2.150.2.4;

1.1.1.2.2.150.2.4
date	98.12.16.07.30.27;	author matz;	state Exp;
branches;
next	1.1.1.2.2.150.2.5;

1.1.1.2.2.150.2.5
date	98.12.22.09.01.47;	author matz;	state Exp;
branches;
next	;

1.12.2.1
date	99.10.13.03.42.11;	author matz;	state Exp;
branches;
next	1.12.2.2;

1.12.2.2
date	99.10.13.09.32.10;	author matz;	state Exp;
branches;
next	1.12.2.3;

1.12.2.3
date	99.10.15.08.44.36;	author matz;	state Exp;
branches;
next	1.12.2.4;

1.12.2.4
date	99.10.20.09.20.07;	author matz;	state Exp;
branches;
next	1.12.2.5;

1.12.2.5
date	99.11.24.07.13.49;	author matz;	state Exp;
branches;
next	1.12.2.6;

1.12.2.6
date	99.11.29.06.30.57;	author matz;	state Exp;
branches;
next	1.12.2.7;

1.12.2.7
date	99.12.01.09.24.44;	author matz;	state Exp;
branches;
next	1.12.2.8;

1.12.2.8
date	99.12.02.07.49.24;	author matz;	state Exp;
branches;
next	1.12.2.9;

1.12.2.9
date	99.12.06.09.03.24;	author matz;	state Exp;
branches;
next	1.12.2.10;

1.12.2.10
date	99.12.07.09.25.55;	author matz;	state Exp;
branches;
next	1.12.2.11;

1.12.2.11
date	99.12.07.16.47.12;	author matz;	state Exp;
branches;
next	1.12.2.12;

1.12.2.12
date	99.12.14.06.50.36;	author matz;	state Exp;
branches;
next	1.12.2.13;

1.12.2.13
date	2000.01.05.04.40.58;	author matz;	state Exp;
branches;
next	1.12.2.14;

1.12.2.14
date	2000.01.17.08.23.50;	author matz;	state Exp;
branches;
next	1.12.2.15;

1.12.2.15
date	2000.01.24.03.46.01;	author matz;	state Exp;
branches;
next	1.12.2.16;

1.12.2.16
date	2000.02.01.03.11.17;	author matz;	state Exp;
branches;
next	1.12.2.17;

1.12.2.17
date	2000.02.02.08.09.37;	author matz;	state Exp;
branches;
next	1.12.2.18;

1.12.2.18
date	2000.02.08.08.53.44;	author matz;	state Exp;
branches;
next	1.12.2.19;

1.12.2.19
date	2000.02.17.08.28.50;	author matz;	state Exp;
branches;
next	1.12.2.20;

1.12.2.20
date	2000.02.18.06.58.55;	author matz;	state Exp;
branches;
next	1.12.2.21;

1.12.2.21
date	2000.03.02.03.51.36;	author matz;	state Exp;
branches;
next	1.12.2.22;

1.12.2.22
date	2000.03.08.06.25.06;	author matz;	state Exp;
branches;
next	1.12.2.23;

1.12.2.23
date	2000.03.09.09.04.32;	author matz;	state Exp;
branches;
next	1.12.2.24;

1.12.2.24
date	2000.03.13.09.15.32;	author matz;	state Exp;
branches;
next	1.12.2.25;

1.12.2.25
date	2000.03.23.04.14.06;	author matz;	state Exp;
branches;
next	1.12.2.26;

1.12.2.26
date	2000.03.24.09.37.23;	author matz;	state Exp;
branches;
next	1.12.2.27;

1.12.2.27
date	2000.04.10.05.48.25;	author matz;	state Exp;
branches;
next	1.12.2.28;

1.12.2.28
date	2000.04.14.14.35.39;	author matz;	state Exp;
branches;
next	1.12.2.29;

1.12.2.29
date	2000.04.17.06.24.42;	author matz;	state Exp;
branches;
next	1.12.2.30;

1.12.2.30
date	2000.05.01.09.42.15;	author matz;	state Exp;
branches;
next	1.12.2.31;

1.12.2.31
date	2000.05.09.04.50.04;	author matz;	state Exp;
branches;
next	1.12.2.32;

1.12.2.32
date	2000.05.12.09.06.05;	author matz;	state Exp;
branches;
next	1.12.2.33;

1.12.2.33
date	2000.05.24.07.19.37;	author wakou;	state Exp;
branches;
next	1.12.2.34;

1.12.2.34
date	2000.05.30.04.20.57;	author matz;	state Exp;
branches;
next	1.12.2.35;

1.12.2.35
date	2000.05.30.19.18.04;	author wakou;	state Exp;
branches;
next	1.12.2.36;

1.12.2.36
date	2000.05.31.16.40.58;	author matz;	state Exp;
branches;
next	1.12.2.37;

1.12.2.37
date	2000.06.03.07.49.16;	author eban;	state Exp;
branches;
next	1.12.2.38;

1.12.2.38
date	2000.06.03.16.04.34;	author eban;	state Exp;
branches;
next	1.12.2.39;

1.12.2.39
date	2000.06.03.17.14.01;	author eban;	state Exp;
branches;
next	1.12.2.40;

1.12.2.40
date	2000.06.03.18.22.21;	author wakou;	state Exp;
branches;
next	1.12.2.41;

1.12.2.41
date	2000.06.05.09.00.34;	author matz;	state Exp;
branches;
next	1.12.2.42;

1.12.2.42
date	2000.06.05.18.47.58;	author matz;	state Exp;
branches;
next	1.12.2.43;

1.12.2.43
date	2000.06.08.16.20.44;	author eban;	state Exp;
branches;
next	1.12.2.44;

1.12.2.44
date	2000.06.13.09.50.40;	author matz;	state Exp;
branches;
next	1.12.2.45;

1.12.2.45
date	2000.06.13.15.53.16;	author wakou;	state Exp;
branches;
next	1.12.2.46;

1.12.2.46
date	2000.06.14.04.19.18;	author eban;	state Exp;
branches;
next	1.12.2.47;

1.12.2.47
date	2000.06.19.21.18.35;	author wakou;	state Exp;
branches;
next	1.12.2.48;

1.12.2.48
date	2000.06.20.06.08.26;	author matz;	state Exp;
branches;
next	1.12.2.49;

1.12.2.49
date	2000.06.21.15.25.46;	author eban;	state Exp;
branches;
next	1.12.2.50;

1.12.2.50
date	2000.06.23.07.05.46;	author matz;	state Exp;
branches;
next	1.12.2.51;

1.12.2.51
date	2000.06.23.08.38.35;	author matz;	state Exp;
branches;
next	1.12.2.52;

1.12.2.52
date	2000.06.23.16.06.48;	author matz;	state Exp;
branches;
next	1.12.2.53;

1.12.2.53
date	2000.06.24.10.05.16;	author matz;	state Exp;
branches;
next	1.12.2.54;

1.12.2.54
date	2000.06.26.08.03.11;	author matz;	state Exp;
branches;
next	1.12.2.55;

1.12.2.55
date	2000.06.27.05.42.10;	author matz;	state Exp;
branches;
next	1.12.2.56;

1.12.2.56
date	2000.06.27.13.28.42;	author aamine;	state Exp;
branches;
next	1.12.2.57;

1.12.2.57
date	2000.06.28.00.30.47;	author eban;	state Exp;
branches;
next	1.12.2.58;

1.12.2.58
date	2000.06.30.09.13.31;	author matz;	state Exp;
branches;
next	1.12.2.59;

1.12.2.59
date	2000.07.01.06.47.43;	author matz;	state Exp;
branches;
next	1.12.2.60;

1.12.2.60
date	2000.07.01.18.27.21;	author aamine;	state Exp;
branches;
next	1.12.2.61;

1.12.2.61
date	2000.07.03.09.19.32;	author aamine;	state Exp;
branches;
next	1.12.2.62;

1.12.2.62
date	2000.07.10.08.01.24;	author matz;	state Exp;
branches;
next	1.12.2.63;

1.12.2.63
date	2000.07.14.04.33.16;	author matz;	state Exp;
branches;
next	1.12.2.64;

1.12.2.64
date	2000.07.24.07.15.52;	author matz;	state Exp;
branches;
next	1.12.2.65;

1.12.2.65
date	2000.07.24.09.56.35;	author eban;	state Exp;
branches;
next	1.12.2.66;

1.12.2.66
date	2000.07.25.06.15.16;	author matz;	state Exp;
branches;
next	1.12.2.67;

1.12.2.67
date	2000.07.26.09.41.05;	author matz;	state Exp;
branches;
next	1.12.2.68;

1.12.2.68
date	2000.07.29.14.05.13;	author eban;	state Exp;
branches;
next	1.12.2.69;

1.12.2.69
date	2000.07.31.09.20.52;	author matz;	state Exp;
branches;
next	1.12.2.70;

1.12.2.70
date	2000.08.05.08.40.07;	author eban;	state Exp;
branches;
next	1.12.2.71;

1.12.2.71
date	2000.08.07.05.04.39;	author matz;	state Exp;
branches;
next	1.12.2.72;

1.12.2.72
date	2000.08.09.04.46.29;	author eban;	state Exp;
branches;
next	1.12.2.73;

1.12.2.73
date	2000.08.09.04.58.57;	author matz;	state Exp;
branches;
next	1.12.2.74;

1.12.2.74
date	2000.08.15.08.57.38;	author matz;	state Exp;
branches;
next	1.12.2.75;

1.12.2.75
date	2000.08.16.06.49.50;	author matz;	state Exp;
branches;
next	1.12.2.76;

1.12.2.76
date	2000.08.18.16.44.50;	author eban;	state Exp;
branches;
next	1.12.2.77;

1.12.2.77
date	2000.08.24.06.41.30;	author eban;	state Exp;
branches;
next	1.12.2.78;

1.12.2.78
date	2000.08.24.06.49.05;	author matz;	state Exp;
branches;
next	1.12.2.79;

1.12.2.79
date	2000.08.27.03.55.28;	author eban;	state Exp;
branches;
next	1.12.2.80;

1.12.2.80
date	2000.08.29.06.38.24;	author matz;	state Exp;
branches;
next	1.12.2.81;

1.12.2.81
date	2000.08.30.02.36.03;	author eban;	state Exp;
branches;
next	1.12.2.82;

1.12.2.82
date	2000.08.30.05.25.40;	author eban;	state Exp;
branches;
next	1.12.2.83;

1.12.2.83
date	2000.08.30.05.34.00;	author eban;	state Exp;
branches;
next	1.12.2.84;

1.12.2.84
date	2000.09.11.22.13.42;	author wakou;	state Exp;
branches;
next	1.12.2.85;

1.12.2.85
date	2000.09.12.05.32.54;	author matz;	state Exp;
branches;
next	;

1.285.2.1
date	2000.12.28.04.45.15;	author matz;	state Exp;
branches;
next	1.285.2.2;

1.285.2.2
date	2000.12.29.03.48.35;	author matz;	state Exp;
branches;
next	1.285.2.3;

1.285.2.3
date	2001.01.09.07.29.02;	author matz;	state Exp;
branches;
next	1.285.2.4;

1.285.2.4
date	2001.01.09.08.02.46;	author matz;	state Exp;
branches;
next	1.285.2.5;

1.285.2.5
date	2001.01.09.16.58.17;	author matz;	state Exp;
branches;
next	1.285.2.6;

1.285.2.6
date	2001.01.10.05.05.09;	author matz;	state Exp;
branches;
next	1.285.2.7;

1.285.2.7
date	2001.01.13.10.19.33;	author eban;	state Exp;
branches;
next	1.285.2.8;

1.285.2.8
date	2001.01.13.17.46.44;	author aamine;	state Exp;
branches;
next	1.285.2.9;

1.285.2.9
date	2001.01.15.07.33.11;	author matz;	state Exp;
branches;
next	1.285.2.10;

1.285.2.10
date	2001.01.16.07.56.06;	author aamine;	state Exp;
branches;
next	1.285.2.11;

1.285.2.11
date	2001.01.17.04.31.29;	author eban;	state Exp;
branches;
next	1.285.2.12;

1.285.2.12
date	2001.01.17.04.44.06;	author eban;	state Exp;
branches;
next	1.285.2.13;

1.285.2.13
date	2001.01.18.19.06.19;	author knu;	state Exp;
branches;
next	1.285.2.14;

1.285.2.14
date	2001.01.22.07.43.21;	author eban;	state Exp;
branches;
next	1.285.2.15;

1.285.2.15
date	2001.01.23.09.54.35;	author matz;	state Exp;
branches;
next	1.285.2.16;

1.285.2.16
date	2001.01.31.14.27.36;	author eban;	state Exp;
branches;
next	1.285.2.17;

1.285.2.17
date	2001.02.02.11.39.51;	author matz;	state Exp;
branches;
next	1.285.2.18;

1.285.2.18
date	2001.02.02.15.54.02;	author usa;	state Exp;
branches;
next	1.285.2.19;

1.285.2.19
date	2001.02.06.11.57.09;	author aamine;	state Exp;
branches;
next	1.285.2.20;

1.285.2.20
date	2001.02.08.09.17.56;	author matz;	state Exp;
branches;
next	1.285.2.21;

1.285.2.21
date	2001.02.08.13.22.25;	author eban;	state Exp;
branches;
next	1.285.2.22;

1.285.2.22
date	2001.02.08.14.55.14;	author usa;	state Exp;
branches;
next	1.285.2.23;

1.285.2.23
date	2001.02.08.14.59.00;	author usa;	state Exp;
branches;
next	1.285.2.24;

1.285.2.24
date	2001.02.09.14.11.20;	author eban;	state Exp;
branches;
next	1.285.2.25;

1.285.2.25
date	2001.02.09.15.07.51;	author usa;	state Exp;
branches;
next	1.285.2.26;

1.285.2.26
date	2001.02.11.07.11.47;	author eban;	state Exp;
branches;
next	1.285.2.27;

1.285.2.27
date	2001.02.11.14.58.52;	author eban;	state Exp;
branches;
next	1.285.2.28;

1.285.2.28
date	2001.02.13.05.10.42;	author matz;	state Exp;
branches;
next	1.285.2.29;

1.285.2.29
date	2001.02.13.07.55.16;	author aamine;	state Exp;
branches;
next	1.285.2.30;

1.285.2.30
date	2001.02.13.14.15.55;	author eban;	state Exp;
branches;
next	1.285.2.31;

1.285.2.31
date	2001.02.14.08.30.51;	author shugo;	state Exp;
branches;
next	1.285.2.32;

1.285.2.32
date	2001.02.15.02.38.56;	author shugo;	state Exp;
branches;
next	1.285.2.33;

1.285.2.33
date	2001.02.16.08.06.25;	author matz;	state Exp;
branches;
next	1.285.2.34;

1.285.2.34
date	2001.02.18.08.18.52;	author eban;	state Exp;
branches;
next	1.285.2.35;

1.285.2.35
date	2001.02.19.07.04.48;	author matz;	state Exp;
branches;
next	1.285.2.36;

1.285.2.36
date	2001.02.19.09.15.27;	author matz;	state Exp;
branches;
next	1.285.2.37;

1.285.2.37
date	2001.02.20.07.42.20;	author matz;	state Exp;
branches;
next	1.285.2.38;

1.285.2.38
date	2001.02.22.23.19.50;	author aamine;	state Exp;
branches;
next	1.285.2.39;

1.285.2.39
date	2001.02.23.04.22.03;	author aamine;	state Exp;
branches;
next	1.285.2.40;

1.285.2.40
date	2001.02.23.07.31.07;	author aamine;	state Exp;
branches;
next	1.285.2.41;

1.285.2.41
date	2001.02.24.06.38.34;	author aamine;	state Exp;
branches;
next	1.285.2.42;

1.285.2.42
date	2001.02.24.13.19.06;	author eban;	state Exp;
branches;
next	1.285.2.43;

1.285.2.43
date	2001.02.24.17.50.14;	author eban;	state Exp;
branches;
next	1.285.2.44;

1.285.2.44
date	2001.02.25.19.56.55;	author wakou;	state Exp;
branches;
next	1.285.2.45;

1.285.2.45
date	2001.02.25.20.33.52;	author wakou;	state Exp;
branches;
next	1.285.2.46;

1.285.2.46
date	2001.02.26.04.07.47;	author matz;	state Exp;
branches;
next	1.285.2.47;

1.285.2.47
date	2001.02.27.08.04.23;	author matz;	state Exp;
branches;
next	1.285.2.48;

1.285.2.48
date	2001.02.28.06.31.20;	author matz;	state Exp;
branches;
next	1.285.2.49;

1.285.2.49
date	2001.03.04.09.46.08;	author eban;	state Exp;
branches;
next	1.285.2.50;

1.285.2.50
date	2001.03.04.11.58.21;	author knu;	state Exp;
branches;
next	1.285.2.51;

1.285.2.51
date	2001.03.05.08.29.00;	author eban;	state Exp;
branches;
next	1.285.2.52;

1.285.2.52
date	2001.03.06.08.17.53;	author matz;	state Exp;
branches;
next	1.285.2.53;

1.285.2.53
date	2001.03.07.05.42.21;	author eban;	state Exp;
branches;
next	1.285.2.54;

1.285.2.54
date	2001.03.08.08.38.19;	author aamine;	state Exp;
branches;
next	1.285.2.55;

1.285.2.55
date	2001.03.09.17.49.31;	author eban;	state Exp;
branches;
next	1.285.2.56;

1.285.2.56
date	2001.03.10.16.03.56;	author eban;	state Exp;
branches;
next	1.285.2.57;

1.285.2.57
date	2001.03.12.10.20.00;	author eban;	state Exp;
branches;
next	1.285.2.58;

1.285.2.58
date	2001.03.13.05.48.32;	author matz;	state Exp;
branches;
next	1.285.2.59;

1.285.2.59
date	2001.03.13.05.55.31;	author aamine;	state Exp;
branches;
next	1.285.2.60;

1.285.2.60
date	2001.03.13.07.58.07;	author eban;	state Exp;
branches;
next	1.285.2.61;

1.285.2.61
date	2001.03.14.04.45.44;	author matz;	state Exp;
branches;
next	1.285.2.62;

1.285.2.62
date	2001.03.14.08.39.13;	author matz;	state Exp;
branches;
next	1.285.2.63;

1.285.2.63
date	2001.03.16.08.25.17;	author knu;	state Exp;
branches;
next	1.285.2.64;

1.285.2.64
date	2001.03.18.00.00.20;	author wakou;	state Exp;
branches;
next	1.285.2.65;

1.285.2.65
date	2001.03.19.07.56.47;	author matz;	state Exp;
branches;
next	1.285.2.66;

1.285.2.66
date	2001.03.19.09.00.30;	author matz;	state Exp;
branches;
next	1.285.2.67;

1.285.2.67
date	2001.03.20.14.50.25;	author eban;	state Exp;
branches;
next	1.285.2.68;

1.285.2.68
date	2001.03.21.08.07.00;	author matz;	state Exp;
branches;
next	1.285.2.69;

1.285.2.69
date	2001.03.21.08.12.15;	author matz;	state Exp;
branches;
next	1.285.2.70;

1.285.2.70
date	2001.03.21.14.11.29;	author eban;	state Exp;
branches;
next	1.285.2.71;

1.285.2.71
date	2001.03.22.08.59.26;	author matz;	state Exp;
branches;
next	1.285.2.72;

1.285.2.72
date	2001.03.22.13.23.36;	author eban;	state Exp;
branches;
next	1.285.2.73;

1.285.2.73
date	2001.03.26.05.11.03;	author eban;	state Exp;
branches;
next	1.285.2.74;

1.285.2.74
date	2001.03.26.08.56.03;	author matz;	state Exp;
branches;
next	1.285.2.75;

1.285.2.75
date	2001.03.26.14.29.43;	author eban;	state Exp;
branches;
next	1.285.2.76;

1.285.2.76
date	2001.03.27.07.10.55;	author matz;	state Exp;
branches;
next	1.285.2.77;

1.285.2.77
date	2001.03.28.00.54.48;	author eban;	state Exp;
branches;
next	1.285.2.78;

1.285.2.78
date	2001.03.28.08.44.36;	author matz;	state Exp;
branches;
next	1.285.2.79;

1.285.2.79
date	2001.03.28.10.35.40;	author knu;	state Exp;
branches;
next	1.285.2.80;

1.285.2.80
date	2001.03.28.14.47.44;	author knu;	state Exp;
branches;
next	1.285.2.81;

1.285.2.81
date	2001.04.01.16.21.26;	author eban;	state Exp;
branches;
next	1.285.2.82;

1.285.2.82
date	2001.04.02.03.46.12;	author shugo;	state Exp;
branches;
next	1.285.2.83;

1.285.2.83
date	2001.04.02.04.59.41;	author shugo;	state Exp;
branches;
next	1.285.2.84;

1.285.2.84
date	2001.04.02.05.27.46;	author shugo;	state Exp;
branches;
next	1.285.2.85;

1.285.2.85
date	2001.04.03.01.15.56;	author eban;	state Exp;
branches;
next	1.285.2.86;

1.285.2.86
date	2001.04.03.05.43.49;	author matz;	state Exp;
branches;
next	1.285.2.87;

1.285.2.87
date	2001.04.03.06.30.32;	author knu;	state Exp;
branches;
next	1.285.2.88;

1.285.2.88
date	2001.04.06.05.42.39;	author matz;	state Exp;
branches;
next	1.285.2.89;

1.285.2.89
date	2001.04.09.02.58.53;	author shugo;	state Exp;
branches;
next	1.285.2.90;

1.285.2.90
date	2001.04.09.04.56.38;	author matz;	state Exp;
branches;
next	1.285.2.91;

1.285.2.91
date	2001.04.10.06.09.00;	author matz;	state Exp;
branches;
next	1.285.2.92;

1.285.2.92
date	2001.04.11.07.41.31;	author matz;	state Exp;
branches;
next	1.285.2.93;

1.285.2.93
date	2001.04.14.04.37.00;	author usa;	state Exp;
branches;
next	1.285.2.94;

1.285.2.94
date	2001.04.16.06.54.35;	author matz;	state Exp;
branches;
next	1.285.2.95;

1.285.2.95
date	2001.04.17.08.26.13;	author matz;	state Exp;
branches;
next	1.285.2.96;

1.285.2.96
date	2001.04.17.15.35.03;	author matz;	state Exp;
branches;
next	1.285.2.97;

1.285.2.97
date	2001.04.17.19.41.48;	author wakou;	state Exp;
branches;
next	1.285.2.98;

1.285.2.98
date	2001.04.22.09.48.37;	author eban;	state Exp;
branches;
next	1.285.2.99;

1.285.2.99
date	2001.04.24.06.44.12;	author matz;	state Exp;
branches;
next	1.285.2.100;

1.285.2.100
date	2001.04.24.07.00.44;	author knu;	state Exp;
branches;
next	1.285.2.101;

1.285.2.101
date	2001.04.24.07.06.31;	author knu;	state Exp;
branches;
next	1.285.2.102;

1.285.2.102
date	2001.04.26.13.57.31;	author eban;	state Exp;
branches;
next	1.285.2.103;

1.285.2.103
date	2001.04.30.18.39.34;	author knu;	state Exp;
branches;
next	1.285.2.104;

1.285.2.104
date	2001.05.01.08.45.10;	author matz;	state Exp;
branches;
next	1.285.2.105;

1.285.2.105
date	2001.05.01.08.57.59;	author matz;	state Exp;
branches;
next	1.285.2.106;

1.285.2.106
date	2001.05.02.04.16.26;	author matz;	state Exp;
branches;
next	1.285.2.107;

1.285.2.107
date	2001.05.02.12.07.07;	author eban;	state Exp;
branches;
next	1.285.2.108;

1.285.2.108
date	2001.05.02.19.08.07;	author knu;	state Exp;
branches;
next	1.285.2.109;

1.285.2.109
date	2001.05.07.06.51.36;	author eban;	state Exp;
branches;
next	1.285.2.110;

1.285.2.110
date	2001.05.07.08.39.26;	author matz;	state Exp;
branches;
next	1.285.2.111;

1.285.2.111
date	2001.05.07.09.24.33;	author matz;	state Exp;
branches;
next	1.285.2.112;

1.285.2.112
date	2001.05.08.08.29.51;	author matz;	state Exp;
branches;
next	1.285.2.113;

1.285.2.113
date	2001.05.11.05.21.56;	author matz;	state Exp;
branches;
next	1.285.2.114;

1.285.2.114
date	2001.05.11.14.55.58;	author knu;	state Exp;
branches;
next	1.285.2.115;

1.285.2.115
date	2001.05.11.17.16.54;	author knu;	state Exp;
branches;
next	1.285.2.116;

1.285.2.116
date	2001.05.13.14.50.45;	author usa;	state Exp;
branches;
next	1.285.2.117;

1.285.2.117
date	2001.05.15.08.49.20;	author matz;	state Exp;
branches;
next	1.285.2.118;

1.285.2.118
date	2001.05.16.20.44.26;	author keiju;	state Exp;
branches;
next	1.285.2.119;

1.285.2.119
date	2001.05.16.21.38.36;	author knu;	state Exp;
branches;
next	1.285.2.120;

1.285.2.120
date	2001.05.16.22.31.24;	author knu;	state Exp;
branches;
next	1.285.2.121;

1.285.2.121
date	2001.05.17.08.48.59;	author matz;	state Exp;
branches;
next	1.285.2.122;

1.285.2.122
date	2001.05.17.10.35.31;	author knu;	state Exp;
branches;
next	1.285.2.123;

1.285.2.123
date	2001.05.17.10.41.19;	author knu;	state Exp;
branches;
next	1.285.2.124;

1.285.2.124
date	2001.05.17.11.01.44;	author knu;	state Exp;
branches;
next	1.285.2.125;

1.285.2.125
date	2001.05.17.18.50.50;	author knu;	state Exp;
branches;
next	1.285.2.126;

1.285.2.126
date	2001.05.17.20.39.01;	author knu;	state Exp;
branches;
next	1.285.2.127;

1.285.2.127
date	2001.05.17.20.43.26;	author knu;	state Exp;
branches;
next	1.285.2.128;

1.285.2.128
date	2001.05.19.15.30.35;	author knu;	state Exp;
branches;
next	1.285.2.129;

1.285.2.129
date	2001.05.21.04.21.16;	author matz;	state Exp;
branches;
next	1.285.2.130;

1.285.2.130
date	2001.05.21.06.31.36;	author keiju;	state Exp;
branches;
next	1.285.2.131;

1.285.2.131
date	2001.05.22.08.27.02;	author matz;	state Exp;
branches;
next	1.285.2.132;

1.285.2.132
date	2001.05.24.05.26.20;	author matz;	state Exp;
branches;
next	1.285.2.133;

1.285.2.133
date	2001.05.24.07.13.47;	author eban;	state Exp;
branches;
next	1.285.2.134;

1.285.2.134
date	2001.05.24.16.38.57;	author knu;	state Exp;
branches;
next	1.285.2.135;

1.285.2.135
date	2001.05.24.17.10.07;	author knu;	state Exp;
branches;
next	1.285.2.136;

1.285.2.136
date	2001.05.25.15.01.05;	author matz;	state Exp;
branches;
next	1.285.2.137;

1.285.2.137
date	2001.05.25.15.18.08;	author usa;	state Exp;
branches;
next	1.285.2.138;

1.285.2.138
date	2001.05.25.22.01.23;	author usa;	state Exp;
branches;
next	1.285.2.139;

1.285.2.139
date	2001.05.25.22.22.01;	author usa;	state Exp;
branches;
next	1.285.2.140;

1.285.2.140
date	2001.05.27.17.45.18;	author knu;	state Exp;
branches;
next	1.285.2.141;

1.285.2.141
date	2001.05.28.13.25.08;	author usa;	state Exp;
branches;
next	1.285.2.142;

1.285.2.142
date	2001.05.28.16.07.00;	author eban;	state Exp;
branches;
next	1.285.2.143;

1.285.2.143
date	2001.05.29.08.59.36;	author matz;	state Exp;
branches;
next	1.285.2.144;

1.285.2.144
date	2001.05.29.09.47.35;	author matz;	state Exp;
branches;
next	1.285.2.145;

1.285.2.145
date	2001.05.30.16.29.32;	author knu;	state Exp;
branches;
next	1.285.2.146;

1.285.2.146
date	2001.05.30.23.35.05;	author usa;	state Exp;
branches;
next	1.285.2.147;

1.285.2.147
date	2001.05.31.04.40.19;	author eban;	state Exp;
branches;
next	1.285.2.148;

1.285.2.148
date	2001.06.01.02.26.08;	author eban;	state Exp;
branches;
next	1.285.2.149;

1.285.2.149
date	2001.06.01.06.46.08;	author matz;	state Exp;
branches;
next	1.285.2.150;

1.285.2.150
date	2001.06.01.09.38.30;	author matz;	state Exp;
branches;
next	1.285.2.151;

1.285.2.151
date	2001.06.01.15.24.25;	author keiju;	state Exp;
branches;
next	1.285.2.152;

1.285.2.152
date	2001.06.02.14.16.45;	author shugo;	state Exp;
branches;
next	1.285.2.153;

1.285.2.153
date	2001.06.03.19.24.09;	author wakou;	state Exp;
branches;
next	1.285.2.154;

1.285.2.154
date	2001.06.04.09.01.09;	author matz;	state Exp;
branches;
next	1.285.2.155;

1.285.2.155
date	2001.06.04.09.02.30;	author matz;	state Exp;
branches;
next	1.285.2.156;

1.285.2.156
date	2001.06.05.03.53.45;	author matz;	state Exp;
branches;
next	1.285.2.157;

1.285.2.157
date	2001.06.05.04.43.17;	author eban;	state Exp;
branches;
next	1.285.2.158;

1.285.2.158
date	2001.06.05.06.40.49;	author matz;	state Exp;
branches;
next	1.285.2.159;

1.285.2.159
date	2001.06.06.07.39.38;	author matz;	state Exp;
branches;
next	1.285.2.160;

1.285.2.160
date	2001.06.11.05.31.00;	author eban;	state Exp;
branches;
next	1.285.2.161;

1.285.2.161
date	2001.06.11.06.26.16;	author matz;	state Exp;
branches;
next	1.285.2.162;

1.285.2.162
date	2001.06.12.05.25.03;	author knu;	state Exp;
branches;
next	1.285.2.163;

1.285.2.163
date	2001.06.19.04.36.33;	author matz;	state Exp;
branches;
next	1.285.2.164;

1.285.2.164
date	2001.06.19.15.41.59;	author eban;	state Exp;
branches;
next	1.285.2.165;

1.285.2.165
date	2001.06.22.08.16.31;	author matz;	state Exp;
branches;
next	1.285.2.166;

1.285.2.166
date	2001.06.22.14.11.25;	author keiju;	state Exp;
branches;
next	1.285.2.167;

1.285.2.167
date	2001.06.22.14.44.43;	author eban;	state Exp;
branches;
next	1.285.2.168;

1.285.2.168
date	2001.06.23.10.29.23;	author knu;	state Exp;
branches;
next	1.285.2.169;

1.285.2.169
date	2001.06.26.23.49.01;	author aamine;	state Exp;
branches;
next	1.285.2.170;

1.285.2.170
date	2001.06.26.23.51.16;	author aamine;	state Exp;
branches;
next	1.285.2.171;

1.285.2.171
date	2001.06.27.15.46.04;	author keiju;	state Exp;
branches;
next	1.285.2.172;

1.285.2.172
date	2001.06.29.08.32.51;	author matz;	state Exp;
branches;
next	1.285.2.173;

1.285.2.173
date	2001.07.02.08.43.26;	author matz;	state Exp;
branches;
next	1.285.2.174;

1.285.2.174
date	2001.07.03.15.02.20;	author knu;	state Exp;
branches;
next	1.285.2.175;

1.285.2.175
date	2001.07.03.15.10.41;	author knu;	state Exp;
branches;
next	1.285.2.176;

1.285.2.176
date	2001.07.03.15.13.29;	author knu;	state Exp;
branches;
next	1.285.2.177;

1.285.2.177
date	2001.07.05.15.54.00;	author knu;	state Exp;
branches;
next	1.285.2.178;

1.285.2.178
date	2001.07.06.06.32.19;	author knu;	state Exp;
branches;
next	1.285.2.179;

1.285.2.179
date	2001.07.06.06.36.57;	author matz;	state Exp;
branches;
next	1.285.2.180;

1.285.2.180
date	2001.07.08.07.01.21;	author aamine;	state Exp;
branches;
next	1.285.2.181;

1.285.2.181
date	2001.07.08.11.54.54;	author knu;	state Exp;
branches;
next	1.285.2.182;

1.285.2.182
date	2001.07.09.08.00.23;	author eban;	state Exp;
branches;
next	1.285.2.183;

1.285.2.183
date	2001.07.09.08.10.26;	author eban;	state Exp;
branches;
next	1.285.2.184;

1.285.2.184
date	2001.07.12.06.15.23;	author eban;	state Exp;
branches;
next	1.285.2.185;

1.285.2.185
date	2001.07.13.05.50.03;	author matz;	state Exp;
branches;
next	1.285.2.186;

1.285.2.186
date	2001.07.13.10.26.53;	author knu;	state Exp;
branches;
next	1.285.2.187;

1.285.2.187
date	2001.07.13.14.19.27;	author knu;	state Exp;
branches;
next	1.285.2.188;

1.285.2.188
date	2001.07.13.18.02.10;	author knu;	state Exp;
branches;
next	1.285.2.189;

1.285.2.189
date	2001.07.13.21.20.40;	author aamine;	state Exp;
branches;
next	1.285.2.190;

1.285.2.190
date	2001.07.16.04.01.41;	author matz;	state Exp;
branches;
next	1.285.2.191;

1.285.2.191
date	2001.07.17.02.19.07;	author usa;	state Exp;
branches;
next	1.285.2.192;

1.285.2.192
date	2001.07.17.05.26.40;	author aamine;	state Exp;
branches;
next	1.285.2.193;

1.285.2.193
date	2001.07.18.05.52.47;	author matz;	state Exp;
branches;
next	1.285.2.194;

1.285.2.194
date	2001.07.18.20.57.41;	author aamine;	state Exp;
branches;
next	1.285.2.195;

1.285.2.195
date	2001.07.19.10.22.12;	author keiju;	state Exp;
branches;
next	1.285.2.196;

1.285.2.196
date	2001.07.20.13.37.08;	author usa;	state Exp;
branches;
next	1.285.2.197;

1.285.2.197
date	2001.07.20.15.20.24;	author knu;	state Exp;
branches;
next	1.285.2.198;

1.285.2.198
date	2001.07.22.12.24.11;	author knu;	state Exp;
branches;
next	1.285.2.199;

1.285.2.199
date	2001.07.24.09.02.48;	author matz;	state Exp;
branches;
next	1.285.2.200;

1.285.2.200
date	2001.07.24.10.29.16;	author knu;	state Exp;
branches;
next	1.285.2.201;

1.285.2.201
date	2001.07.26.03.54.48;	author eban;	state Exp;
branches;
next	1.285.2.202;

1.285.2.202
date	2001.07.27.08.54.48;	author matz;	state Exp;
branches;
next	1.285.2.203;

1.285.2.203
date	2001.07.27.09.08.53;	author matz;	state Exp;
branches;
next	1.285.2.204;

1.285.2.204
date	2001.07.31.04.00.43;	author nobu;	state Exp;
branches;
next	1.285.2.205;

1.285.2.205
date	2001.07.31.06.20.10;	author matz;	state Exp;
branches;
next	1.285.2.206;

1.285.2.206
date	2001.08.01.11.49.13;	author usa;	state Exp;
branches;
next	1.285.2.207;

1.285.2.207
date	2001.08.06.03.10.12;	author matz;	state Exp;
branches;
next	1.285.2.208;

1.285.2.208
date	2001.08.06.08.03.29;	author matz;	state Exp;
branches;
next	1.285.2.209;

1.285.2.209
date	2001.08.07.00.21.40;	author usa;	state Exp;
branches;
next	1.285.2.210;

1.285.2.210
date	2001.08.11.14.10.23;	author nobu;	state Exp;
branches;
next	1.285.2.211;

1.285.2.211
date	2001.08.14.08.10.59;	author matz;	state Exp;
branches;
next	1.285.2.212;

1.285.2.212
date	2001.08.15.18.55.10;	author usa;	state Exp;
branches;
next	1.285.2.213;

1.285.2.213
date	2001.08.16.07.35.41;	author knu;	state Exp;
branches;
next	1.285.2.214;

1.285.2.214
date	2001.08.16.10.57.56;	author knu;	state Exp;
branches;
next	1.285.2.215;

1.285.2.215
date	2001.08.17.04.56.02;	author usa;	state Exp;
branches;
next	1.285.2.216;

1.285.2.216
date	2001.08.17.05.06.30;	author matz;	state Exp;
branches;
next	1.285.2.217;

1.285.2.217
date	2001.08.20.10.56.02;	author eban;	state Exp;
branches;
next	1.285.2.218;

1.285.2.218
date	2001.08.23.06.00.29;	author matz;	state Exp;
branches;
next	1.285.2.219;

1.285.2.219
date	2001.08.24.05.45.55;	author usa;	state Exp;
branches;
next	1.285.2.220;

1.285.2.220
date	2001.08.24.06.36.13;	author matz;	state Exp;
branches;
next	1.285.2.221;

1.285.2.221
date	2001.08.26.22.45.08;	author nobu;	state Exp;
branches;
next	1.285.2.222;

1.285.2.222
date	2001.09.01.01.25.08;	author nobu;	state Exp;
branches;
next	1.285.2.223;

1.285.2.223
date	2001.09.03.05.18.02;	author knu;	state Exp;
branches;
next	1.285.2.224;

1.285.2.224
date	2001.09.03.05.29.17;	author matz;	state Exp;
branches;
next	1.285.2.225;

1.285.2.225
date	2001.09.03.05.40.56;	author eban;	state Exp;
branches;
next	1.285.2.226;

1.285.2.226
date	2001.09.03.11.28.37;	author nobu;	state Exp;
branches;
next	1.285.2.227;

1.285.2.227
date	2001.09.05.06.53.26;	author matz;	state Exp;
branches;
next	1.285.2.228;

1.285.2.228
date	2001.09.05.08.45.44;	author eban;	state Exp;
branches;
next	1.285.2.229;

1.285.2.229
date	2001.09.06.03.05.02;	author nobu;	state Exp;
branches;
next	1.285.2.230;

1.285.2.230
date	2001.09.06.04.34.36;	author eban;	state Exp;
branches;
next	1.285.2.231;

1.285.2.231
date	2001.09.06.05.02.29;	author knu;	state Exp;
branches;
next	1.285.2.232;

1.285.2.232
date	2001.09.06.05.29.26;	author knu;	state Exp;
branches;
next	1.285.2.233;

1.285.2.233
date	2001.09.06.07.47.45;	author matz;	state Exp;
branches;
next	1.285.2.234;

1.285.2.234
date	2001.09.06.08.42.57;	author nobu;	state Exp;
branches;
next	1.285.2.235;

1.285.2.235
date	2001.09.06.22.16.48;	author wakou;	state Exp;
branches;
next	1.285.2.236;

1.285.2.236
date	2001.09.07.00.54.31;	author wakou;	state Exp;
branches;
next	1.285.2.237;

1.285.2.237
date	2001.09.07.22.15.32;	author wakou;	state Exp;
branches;
next	1.285.2.238;

1.285.2.238
date	2001.09.08.14.05.49;	author matz;	state Exp;
branches;
next	1.285.2.239;

1.285.2.239
date	2001.09.19.08.48.57;	author matz;	state Exp;
branches;
next	1.285.2.240;

1.285.2.240
date	2001.09.25.01.45.56;	author usa;	state Exp;
branches;
next	1.285.2.241;

1.285.2.241
date	2001.09.27.07.10.54;	author ts;	state Exp;
branches;
next	1.285.2.242;

1.285.2.242
date	2001.10.02.04.25.51;	author matz;	state Exp;
branches;
next	1.285.2.243;

1.285.2.243
date	2001.10.02.09.36.22;	author matz;	state Exp;
branches;
next	1.285.2.244;

1.285.2.244
date	2001.10.02.10.36.15;	author eban;	state Exp;
branches;
next	1.285.2.245;

1.285.2.245
date	2001.10.04.05.30.32;	author eban;	state Exp;
branches;
next	1.285.2.246;

1.285.2.246
date	2001.10.04.09.29.25;	author matz;	state Exp;
branches;
next	1.285.2.247;

1.285.2.247
date	2001.10.09.08.19.46;	author nobu;	state Exp;
branches;
next	1.285.2.248;

1.285.2.248
date	2001.10.09.09.47.56;	author matz;	state Exp;
branches;
next	1.285.2.249;

1.285.2.249
date	2001.10.10.08.23.46;	author matz;	state Exp;
branches;
next	1.285.2.250;

1.285.2.250
date	2001.10.15.15.15.44;	author nobu;	state Exp;
branches;
next	1.285.2.251;

1.285.2.251
date	2001.10.16.15.17.09;	author nobu;	state Exp;
branches;
next	1.285.2.252;

1.285.2.252
date	2001.10.21.13.22.48;	author nobu;	state Exp;
branches;
next	1.285.2.253;

1.285.2.253
date	2001.10.22.06.46.05;	author matz;	state Exp;
branches;
next	1.285.2.254;

1.285.2.254
date	2001.10.29.05.04.39;	author matz;	state Exp;
branches;
next	1.285.2.255;

1.285.2.255
date	2001.10.30.08.42.20;	author matz;	state Exp;
branches;
next	1.285.2.256;

1.285.2.256
date	2001.10.30.17.45.51;	author wakou;	state Exp;
branches;
next	1.285.2.257;

1.285.2.257
date	2001.10.31.06.52.24;	author matz;	state Exp;
branches;
next	1.285.2.258;

1.285.2.258
date	2001.10.31.07.59.53;	author matz;	state Exp;
branches;
next	1.285.2.259;

1.285.2.259
date	2001.11.01.05.09.50;	author matz;	state Exp;
branches;
next	1.285.2.260;

1.285.2.260
date	2001.11.03.13.38.33;	author keiju;	state Exp;
branches;
next	1.285.2.261;

1.285.2.261
date	2001.11.07.09.01.30;	author matz;	state Exp;
branches;
next	1.285.2.262;

1.285.2.262
date	2001.11.08.12.42.38;	author nobu;	state Exp;
branches;
next	1.285.2.263;

1.285.2.263
date	2001.11.09.04.52.53;	author usa;	state Exp;
branches;
next	1.285.2.264;

1.285.2.264
date	2001.11.13.08.22.25;	author matz;	state Exp;
branches;
next	1.285.2.265;

1.285.2.265
date	2001.11.13.08.32.18;	author usa;	state Exp;
branches;
next	1.285.2.266;

1.285.2.266
date	2001.11.13.13.28.00;	author eban;	state Exp;
branches;
next	1.285.2.267;

1.285.2.267
date	2001.11.18.10.48.18;	author nobu;	state Exp;
branches;
next	1.285.2.268;

1.285.2.268
date	2001.11.18.20.06.04;	author wakou;	state Exp;
branches;
next	1.285.2.269;

1.285.2.269
date	2001.11.19.04.57.52;	author matz;	state Exp;
branches;
next	1.285.2.270;

1.285.2.270
date	2001.11.19.14.36.40;	author matz;	state Exp;
branches;
next	1.285.2.271;

1.285.2.271
date	2001.11.19.16.16.12;	author matz;	state Exp;
branches;
next	1.285.2.272;

1.285.2.272
date	2001.11.21.15.35.57;	author matz;	state Exp;
branches;
next	1.285.2.273;

1.285.2.273
date	2001.11.22.18.16.24;	author usa;	state Exp;
branches;
next	1.285.2.274;

1.285.2.274
date	2001.11.25.12.09.36;	author usa;	state Exp;
branches;
next	1.285.2.275;

1.285.2.275
date	2001.11.28.14.52.56;	author matz;	state Exp;
branches;
next	1.285.2.276;

1.285.2.276
date	2001.11.29.15.30.54;	author usa;	state Exp;
branches;
next	1.285.2.277;

1.285.2.277
date	2001.12.02.14.09.43;	author eban;	state Exp;
branches;
next	1.285.2.278;

1.285.2.278
date	2001.12.02.18.31.14;	author usa;	state Exp;
branches;
next	1.285.2.279;

1.285.2.279
date	2001.12.03.07.06.27;	author usa;	state Exp;
branches;
next	1.285.2.280;

1.285.2.280
date	2001.12.03.07.09.01;	author eban;	state Exp;
branches;
next	1.285.2.281;

1.285.2.281
date	2001.12.03.09.39.21;	author knu;	state Exp;
branches;
next	1.285.2.282;

1.285.2.282
date	2001.12.03.10.06.37;	author matz;	state Exp;
branches;
next	1.285.2.283;

1.285.2.283
date	2001.12.03.10.11.03;	author eban;	state Exp;
branches;
next	1.285.2.284;

1.285.2.284
date	2001.12.04.04.53.30;	author matz;	state Exp;
branches;
next	1.285.2.285;

1.285.2.285
date	2001.12.06.09.55.30;	author usa;	state Exp;
branches;
next	1.285.2.286;

1.285.2.286
date	2001.12.07.06.52.30;	author usa;	state Exp;
branches;
next	1.285.2.287;

1.285.2.287
date	2001.12.07.09.40.15;	author aamine;	state Exp;
branches;
next	1.285.2.288;

1.285.2.288
date	2001.12.07.10.12.51;	author aamine;	state Exp;
branches;
next	1.285.2.289;

1.285.2.289
date	2001.12.09.08.58.05;	author aamine;	state Exp;
branches;
next	1.285.2.290;

1.285.2.290
date	2001.12.09.14.11.29;	author keiju;	state Exp;
branches;
next	1.285.2.291;

1.285.2.291
date	2001.12.10.07.22.49;	author matz;	state Exp;
branches;
next	1.285.2.292;

1.285.2.292
date	2001.12.10.10.06.19;	author eban;	state Exp;
branches;
next	1.285.2.293;

1.285.2.293
date	2001.12.12.09.07.35;	author matz;	state Exp;
branches;
next	1.285.2.294;

1.285.2.294
date	2001.12.13.08.12.59;	author matz;	state Exp;
branches;
next	1.285.2.295;

1.285.2.295
date	2001.12.17.08.13.16;	author nobu;	state Exp;
branches;
next	1.285.2.296;

1.285.2.296
date	2001.12.18.08.40.29;	author matz;	state Exp;
branches;
next	1.285.2.297;

1.285.2.297
date	2001.12.19.07.45.27;	author matz;	state Exp;
branches;
next	1.285.2.298;

1.285.2.298
date	2001.12.20.02.03.03;	author nobu;	state Exp;
branches;
next	1.285.2.299;

1.285.2.299
date	2001.12.20.16.21.43;	author nobu;	state Exp;
branches;
next	1.285.2.300;

1.285.2.300
date	2001.12.20.18.18.18;	author nobu;	state Exp;
branches;
next	1.285.2.301;

1.285.2.301
date	2001.12.21.07.19.59;	author nobu;	state Exp;
branches;
next	1.285.2.302;

1.285.2.302
date	2001.12.21.09.20.53;	author matz;	state Exp;
branches;
next	1.285.2.303;

1.285.2.303
date	2001.12.25.15.09.04;	author matz;	state Exp;
branches;
next	1.285.2.304;

1.285.2.304
date	2001.12.26.17.01.20;	author nobu;	state Exp;
branches;
next	1.285.2.305;

1.285.2.305
date	2001.12.27.09.53.41;	author nobu;	state Exp;
branches;
next	1.285.2.306;

1.285.2.306
date	2001.12.29.16.10.23;	author eban;	state Exp;
branches;
next	1.285.2.307;

1.285.2.307
date	2001.12.30.09.10.27;	author akr;	state Exp;
branches;
next	1.285.2.308;

1.285.2.308
date	2001.12.31.05.26.23;	author nobu;	state Exp;
branches;
next	1.285.2.309;

1.285.2.309
date	2001.12.31.17.47.28;	author eban;	state Exp;
branches;
next	1.285.2.310;

1.285.2.310
date	2002.01.02.14.42.00;	author eban;	state Exp;
branches;
next	1.285.2.311;

1.285.2.311
date	2002.01.03.15.53.45;	author matz;	state Exp;
branches;
next	1.285.2.312;

1.285.2.312
date	2002.01.04.15.23.25;	author nobu;	state Exp;
branches;
next	1.285.2.313;

1.285.2.313
date	2002.01.05.03.24.58;	author nobu;	state Exp;
branches;
next	1.285.2.314;

1.285.2.314
date	2002.01.07.03.56.54;	author akr;	state Exp;
branches;
next	1.285.2.315;

1.285.2.315
date	2002.01.07.05.24.02;	author matz;	state Exp;
branches;
next	1.285.2.316;

1.285.2.316
date	2002.01.07.05.40.10;	author matz;	state Exp;
branches;
next	1.285.2.317;

1.285.2.317
date	2002.01.08.06.59.51;	author nobu;	state Exp;
branches;
next	1.285.2.318;

1.285.2.318
date	2002.01.08.07.31.28;	author nobu;	state Exp;
branches;
next	1.285.2.319;

1.285.2.319
date	2002.01.09.17.52.08;	author nobu;	state Exp;
branches;
next	1.285.2.320;

1.285.2.320
date	2002.01.10.02.31.19;	author usa;	state Exp;
branches;
next	1.285.2.321;

1.285.2.321
date	2002.01.10.13.30.17;	author nobu;	state Exp;
branches;
next	1.285.2.322;

1.285.2.322
date	2002.01.10.23.38.56;	author nobu;	state Exp;
branches;
next	1.285.2.323;

1.285.2.323
date	2002.01.15.03.34.58;	author aamine;	state Exp;
branches;
next	1.285.2.324;

1.285.2.324
date	2002.01.16.02.20.25;	author nobu;	state Exp;
branches;
next	1.285.2.325;

1.285.2.325
date	2002.01.16.09.22.37;	author matz;	state Exp;
branches;
next	1.285.2.326;

1.285.2.326
date	2002.01.21.07.43.39;	author matz;	state Exp;
branches;
next	1.285.2.327;

1.285.2.327
date	2002.01.23.07.24.26;	author nobu;	state Exp;
branches;
next	1.285.2.328;

1.285.2.328
date	2002.01.25.08.23.30;	author matz;	state Exp;
branches;
next	1.285.2.329;

1.285.2.329
date	2002.01.25.09.00.49;	author eban;	state Exp;
branches;
next	1.285.2.330;

1.285.2.330
date	2002.01.28.08.42.34;	author matz;	state Exp;
branches;
next	1.285.2.331;

1.285.2.331
date	2002.01.28.15.14.17;	author nobu;	state Exp;
branches;
next	1.285.2.332;

1.285.2.332
date	2002.01.31.12.01.40;	author nobu;	state Exp;
branches;
next	1.285.2.333;

1.285.2.333
date	2002.02.01.06.01.48;	author matz;	state Exp;
branches;
next	1.285.2.334;

1.285.2.334
date	2002.02.04.08.09.09;	author matz;	state Exp;
branches;
next	1.285.2.335;

1.285.2.335
date	2002.02.06.08.24.59;	author nobu;	state Exp;
branches;
next	1.285.2.336;

1.285.2.336
date	2002.02.07.05.01.06;	author akira;	state Exp;
branches;
next	1.285.2.337;

1.285.2.337
date	2002.02.07.20.29.57;	author aamine;	state Exp;
branches;
next	1.285.2.338;

1.285.2.338
date	2002.02.08.05.20.32;	author matz;	state Exp;
branches;
next	1.285.2.339;

1.285.2.339
date	2002.02.09.14.47.50;	author matz;	state Exp;
branches;
next	1.285.2.340;

1.285.2.340
date	2002.02.10.07.54.42;	author nobu;	state Exp;
branches;
next	1.285.2.341;

1.285.2.341
date	2002.02.13.09.02.13;	author matz;	state Exp;
branches;
next	1.285.2.342;

1.285.2.342
date	2002.02.15.04.43.57;	author matz;	state Exp;
branches;
next	1.285.2.343;

1.285.2.343
date	2002.02.16.00.58.44;	author nobu;	state Exp;
branches;
next	1.285.2.344;

1.285.2.344
date	2002.02.18.09.53.24;	author matz;	state Exp;
branches;
next	1.285.2.345;

1.285.2.345
date	2002.02.19.04.18.37;	author nobu;	state Exp;
branches;
next	1.285.2.346;

1.285.2.346
date	2002.02.19.04.48.03;	author matz;	state Exp;
branches;
next	1.285.2.347;

1.285.2.347
date	2002.02.19.06.43.34;	author matz;	state Exp;
branches;
next	1.285.2.348;

1.285.2.348
date	2002.02.19.13.40.21;	author aamine;	state Exp;
branches;
next	1.285.2.349;

1.285.2.349
date	2002.02.20.04.28.49;	author matz;	state Exp;
branches;
next	1.285.2.350;

1.285.2.350
date	2002.02.20.06.35.36;	author nobu;	state Exp;
branches;
next	1.285.2.351;

1.285.2.351
date	2002.02.22.10.29.24;	author matz;	state Exp;
branches;
next	1.285.2.352;

1.285.2.352
date	2002.02.22.10.59.45;	author usa;	state Exp;
branches;
next	1.285.2.353;

1.285.2.353
date	2002.02.22.11.24.23;	author nobu;	state Exp;
branches;
next	1.285.2.354;

1.285.2.354
date	2002.02.22.12.50.21;	author aamine;	state Exp;
branches;
next	1.285.2.355;

1.285.2.355
date	2002.02.24.08.25.08;	author knu;	state Exp;
branches;
next	1.285.2.356;

1.285.2.356
date	2002.02.24.20.42.19;	author akr;	state Exp;
branches;
next	1.285.2.357;

1.285.2.357
date	2002.02.25.06.24.37;	author nobu;	state Exp;
branches;
next	1.285.2.358;

1.285.2.358
date	2002.02.25.09.18.08;	author matz;	state Exp;
branches;
next	1.285.2.359;

1.285.2.359
date	2002.02.25.10.42.25;	author nobu;	state Exp;
branches;
next	1.285.2.360;

1.285.2.360
date	2002.02.25.12.56.22;	author knu;	state Exp;
branches;
next	1.285.2.361;

1.285.2.361
date	2002.02.26.02.36.04;	author akira;	state Exp;
branches;
next	1.285.2.362;

1.285.2.362
date	2002.02.26.12.36.25;	author usa;	state Exp;
branches;
next	1.285.2.363;

1.285.2.363
date	2002.02.26.22.09.48;	author knu;	state Exp;
branches;
next	1.285.2.364;

1.285.2.364
date	2002.02.27.04.30.18;	author eban;	state Exp;
branches;
next	1.285.2.365;

1.285.2.365
date	2002.02.27.04.50.28;	author matz;	state Exp;
branches;
next	1.285.2.366;

1.285.2.366
date	2002.02.28.06.52.47;	author matz;	state Exp;
branches;
next	1.285.2.367;

1.285.2.367
date	2002.03.01.02.31.01;	author eban;	state Exp;
branches;
next	1.285.2.368;

1.285.2.368
date	2002.03.01.14.11.03;	author matz;	state Exp;
branches;
next	1.285.2.369;

1.285.2.369
date	2002.03.03.04.31.01;	author akr;	state Exp;
branches;
next	1.285.2.370;

1.285.2.370
date	2002.03.04.04.24.26;	author knu;	state Exp;
branches;
next	1.285.2.371;

1.285.2.371
date	2002.03.04.18.42.17;	author usa;	state Exp;
branches;
next	1.285.2.372;

1.285.2.372
date	2002.03.06.09.00.08;	author eban;	state Exp;
branches;
next	1.285.2.373;

1.285.2.373
date	2002.03.07.11.19.26;	author nobu;	state Exp;
branches;
next	1.285.2.374;

1.285.2.374
date	2002.03.08.06.59.51;	author matz;	state Exp;
branches;
next	1.285.2.375;

1.285.2.375
date	2002.03.11.16.04.28;	author knu;	state Exp;
branches;
next	1.285.2.376;

1.285.2.376
date	2002.03.12.09.27.25;	author matz;	state Exp;
branches;
next	1.285.2.377;

1.285.2.377
date	2002.03.13.09.53.53;	author knu;	state Exp;
branches;
next	1.285.2.378;

1.285.2.378
date	2002.03.14.06.21.37;	author matz;	state Exp;
branches;
next	1.285.2.379;

1.285.2.379
date	2002.03.15.08.55.57;	author matz;	state Exp;
branches;
next	1.285.2.380;

1.285.2.380
date	2002.03.18.02.00.04;	author nobu;	state Exp;
branches;
next	1.285.2.381;

1.285.2.381
date	2002.03.19.09.02.02;	author matz;	state Exp;
branches;
next	1.285.2.382;

1.285.2.382
date	2002.03.19.15.51.05;	author knu;	state Exp;
branches;
next	1.285.2.383;

1.285.2.383
date	2002.03.20.07.42.11;	author eban;	state Exp;
branches;
next	1.285.2.384;

1.285.2.384
date	2002.03.20.09.42.29;	author matz;	state Exp;
branches;
next	1.285.2.385;

1.285.2.385
date	2002.03.20.11.49.26;	author nobu;	state Exp;
branches;
next	1.285.2.386;

1.285.2.386
date	2002.03.20.13.10.02;	author nobu;	state Exp;
branches;
next	1.285.2.387;

1.285.2.387
date	2002.03.22.05.34.58;	author aamine;	state Exp;
branches;
next	1.285.2.388;

1.285.2.388
date	2002.03.25.02.33.09;	author nobu;	state Exp;
branches;
next	1.285.2.389;

1.285.2.389
date	2002.03.25.02.37.06;	author nobu;	state Exp;
branches;
next	1.285.2.390;

1.285.2.390
date	2002.03.25.06.15.58;	author matz;	state Exp;
branches;
next	1.285.2.391;

1.285.2.391
date	2002.03.25.10.37.30;	author eban;	state Exp;
branches;
next	1.285.2.392;

1.285.2.392
date	2002.03.26.05.08.55;	author usa;	state Exp;
branches;
next	1.285.2.393;

1.285.2.393
date	2002.03.26.10.46.30;	author eban;	state Exp;
branches;
next	1.285.2.394;

1.285.2.394
date	2002.03.26.19.46.18;	author knu;	state Exp;
branches;
next	1.285.2.395;

1.285.2.395
date	2002.03.27.05.41.18;	author eban;	state Exp;
branches;
next	1.285.2.396;

1.285.2.396
date	2002.03.29.08.09.27;	author nobu;	state Exp;
branches;
next	1.285.2.397;

1.285.2.397
date	2002.03.29.11.25.01;	author nobu;	state Exp;
branches;
next	1.285.2.398;

1.285.2.398
date	2002.04.01.07.40.39;	author matz;	state Exp;
branches;
next	1.285.2.399;

1.285.2.399
date	2002.04.02.17.03.37;	author nobu;	state Exp;
branches;
next	1.285.2.400;

1.285.2.400
date	2002.04.04.06.47.40;	author eban;	state Exp;
branches;
next	1.285.2.401;

1.285.2.401
date	2002.04.04.06.57.46;	author eban;	state Exp;
branches;
next	1.285.2.402;

1.285.2.402
date	2002.04.10.05.24.47;	author nobu;	state Exp;
branches;
next	1.285.2.403;

1.285.2.403
date	2002.04.10.08.47.39;	author matz;	state Exp;
branches;
next	1.285.2.404;

1.285.2.404
date	2002.04.10.10.41.34;	author nobu;	state Exp;
branches;
next	1.285.2.405;

1.285.2.405
date	2002.04.10.17.00.43;	author wakou;	state Exp;
branches;
next	1.285.2.406;

1.285.2.406
date	2002.04.11.09.46.53;	author eban;	state Exp;
branches;
next	1.285.2.407;

1.285.2.407
date	2002.04.11.11.00.02;	author eban;	state Exp;
branches;
next	1.285.2.408;

1.285.2.408
date	2002.04.19.08.08.13;	author eban;	state Exp;
branches;
next	1.285.2.409;

1.285.2.409
date	2002.04.23.15.43.24;	author usa;	state Exp;
branches;
next	1.285.2.410;

1.285.2.410
date	2002.04.23.16.45.08;	author nobu;	state Exp;
branches;
next	1.285.2.411;

1.285.2.411
date	2002.04.24.05.32.47;	author eban;	state Exp;
branches;
next	1.285.2.412;

1.285.2.412
date	2002.04.24.12.06.57;	author eban;	state Exp;
branches;
next	1.285.2.413;

1.285.2.413
date	2002.04.28.09.15.02;	author eban;	state Exp;
branches;
next	1.285.2.414;

1.285.2.414
date	2002.05.01.09.37.56;	author matz;	state Exp;
branches;
next	1.285.2.415;

1.285.2.415
date	2002.05.02.09.30.33;	author eban;	state Exp;
branches;
next	1.285.2.416;

1.285.2.416
date	2002.05.04.12.04.50;	author knu;	state Exp;
branches;
next	1.285.2.417;

1.285.2.417
date	2002.05.07.00.20.49;	author aamine;	state Exp;
branches;
next	1.285.2.418;

1.285.2.418
date	2002.05.07.06.24.51;	author aamine;	state Exp;
branches;
next	1.285.2.419;

1.285.2.419
date	2002.05.10.10.05.17;	author nobu;	state Exp;
branches;
next	1.285.2.420;

1.285.2.420
date	2002.05.14.06.08.42;	author matz;	state Exp;
branches;
next	1.285.2.421;

1.285.2.421
date	2002.05.14.06.10.50;	author eban;	state Exp;
branches;
next	1.285.2.422;

1.285.2.422
date	2002.05.16.06.18.25;	author eban;	state Exp;
branches;
next	1.285.2.423;

1.285.2.423
date	2002.05.16.07.15.14;	author nobu;	state Exp;
branches;
next	1.285.2.424;

1.285.2.424
date	2002.05.17.07.35.24;	author eban;	state Exp;
branches;
next	1.285.2.425;

1.285.2.425
date	2002.05.20.04.32.53;	author nobu;	state Exp;
branches;
next	1.285.2.426;

1.285.2.426
date	2002.05.20.19.54.57;	author wakou;	state Exp;
branches;
next	1.285.2.427;

1.285.2.427
date	2002.05.21.04.35.08;	author nobu;	state Exp;
branches;
next	1.285.2.428;

1.285.2.428
date	2002.05.21.05.40.59;	author matz;	state Exp;
branches;
next	1.285.2.429;

1.285.2.429
date	2002.05.22.09.40.16;	author aamine;	state Exp;
branches;
next	1.285.2.430;

1.285.2.430
date	2002.05.22.11.23.11;	author eban;	state Exp;
branches;
next	1.285.2.431;

1.285.2.431
date	2002.05.22.12.32.06;	author nobu;	state Exp;
branches;
next	1.285.2.432;

1.285.2.432
date	2002.05.22.12.44.44;	author tadf;	state Exp;
branches;
next	1.285.2.433;

1.285.2.433
date	2002.05.23.05.36.27;	author matz;	state Exp;
branches;
next	1.285.2.434;

1.285.2.434
date	2002.05.23.05.54.23;	author eban;	state Exp;
branches;
next	1.285.2.435;

1.285.2.435
date	2002.05.28.03.19.53;	author nobu;	state Exp;
branches;
next	1.285.2.436;

1.285.2.436
date	2002.05.29.04.47.17;	author wakou;	state Exp;
branches;
next	1.285.2.437;

1.285.2.437
date	2002.05.29.05.22.00;	author matz;	state Exp;
branches;
next	1.285.2.438;

1.285.2.438
date	2002.05.30.00.19.41;	author wakou;	state Exp;
branches;
next	1.285.2.439;

1.285.2.439
date	2002.06.02.22.16.48;	author nobu;	state Exp;
branches;
next	1.285.2.440;

1.285.2.440
date	2002.06.03.15.52.28;	author nobu;	state Exp;
branches;
next	1.285.2.441;

1.285.2.441
date	2002.06.03.15.53.24;	author nobu;	state Exp;
branches;
next	1.285.2.442;

1.285.2.442
date	2002.06.04.07.11.51;	author matz;	state Exp;
branches;
next	1.285.2.443;

1.285.2.443
date	2002.06.05.09.54.06;	author matz;	state Exp;
branches;
next	1.285.2.444;

1.285.2.444
date	2002.06.10.10.14.59;	author nobu;	state Exp;
branches;
next	1.285.2.445;

1.285.2.445
date	2002.06.10.13.26.17;	author nobu;	state Exp;
branches;
next	1.285.2.446;

1.285.2.446
date	2002.06.11.06.58.35;	author matz;	state Exp;
branches;
next	1.285.2.447;

1.285.2.447
date	2002.06.12.06.06.16;	author nobu;	state Exp;
branches;
next	1.285.2.448;

1.285.2.448
date	2002.06.12.09.24.57;	author matz;	state Exp;
branches;
next	1.285.2.449;

1.285.2.449
date	2002.06.12.09.32.34;	author akira;	state Exp;
branches;
next	1.285.2.450;

1.285.2.450
date	2002.06.13.03.54.38;	author matz;	state Exp;
branches;
next	1.285.2.451;

1.285.2.451
date	2002.06.14.06.26.58;	author nobu;	state Exp;
branches;
next	1.285.2.452;

1.285.2.452
date	2002.06.15.10.32.23;	author knu;	state Exp;
branches;
next	1.285.2.453;

1.285.2.453
date	2002.06.17.01.54.43;	author nobu;	state Exp;
branches;
next	1.285.2.454;

1.285.2.454
date	2002.06.19.05.54.24;	author eban;	state Exp;
branches;
next	1.285.2.455;

1.285.2.455
date	2002.06.20.08.17.57;	author eban;	state Exp;
branches;
next	1.285.2.456;

1.285.2.456
date	2002.06.20.10.25.10;	author eban;	state Exp;
branches;
next	1.285.2.457;

1.285.2.457
date	2002.06.20.12.14.14;	author nobu;	state Exp;
branches;
next	1.285.2.458;

1.285.2.458
date	2002.06.24.15.26.16;	author H_Konishi;	state Exp;
branches;
next	1.285.2.459;

1.285.2.459
date	2002.06.25.09.43.23;	author H_Konishi;	state Exp;
branches;
next	1.285.2.460;

1.285.2.460
date	2002.06.27.15.51.48;	author usa;	state Exp;
branches;
next	1.285.2.461;

1.285.2.461
date	2002.06.30.09.07.53;	author eban;	state Exp;
branches;
next	1.285.2.462;

1.285.2.462
date	2002.07.02.14.18.34;	author wakou;	state Exp;
branches;
next	1.285.2.463;

1.285.2.463
date	2002.07.03.02.35.56;	author wakou;	state Exp;
branches;
next	1.285.2.464;

1.285.2.464
date	2002.07.05.05.03.35;	author wakou;	state Exp;
branches;
next	1.285.2.465;

1.285.2.465
date	2002.07.11.08.24.52;	author matz;	state Exp;
branches;
next	1.285.2.466;

1.285.2.466
date	2002.07.11.12.31.36;	author nobu;	state Exp;
branches;
next	1.285.2.467;

1.285.2.467
date	2002.07.11.15.51.47;	author nobu;	state Exp;
branches;
next	1.285.2.468;

1.285.2.468
date	2002.07.30.06.36.30;	author eban;	state Exp;
branches;
next	1.285.2.469;

1.285.2.469
date	2002.07.31.05.17.26;	author matz;	state Exp;
branches;
next	1.285.2.470;

1.285.2.470
date	2002.08.01.04.54.34;	author nobu;	state Exp;
branches;
next	1.285.2.471;

1.285.2.471
date	2002.08.12.07.40.30;	author matz;	state Exp;
branches;
next	1.285.2.472;

1.285.2.472
date	2002.08.19.00.37.15;	author nobu;	state Exp;
branches;
next	1.285.2.473;

1.285.2.473
date	2002.08.19.03.40.49;	author nobu;	state Exp;
branches;
next	1.285.2.474;

1.285.2.474
date	2002.08.19.05.59.04;	author matz;	state Exp;
branches;
next	1.285.2.475;

1.285.2.475
date	2002.08.19.06.40.39;	author matz;	state Exp;
branches;
next	1.285.2.476;

1.285.2.476
date	2002.08.19.10.07.06;	author nobu;	state Exp;
branches;
next	1.285.2.477;

1.285.2.477
date	2002.08.20.10.42.57;	author eban;	state Exp;
branches;
next	1.285.2.478;

1.285.2.478
date	2002.08.21.08.31.23;	author matz;	state Exp;
branches;
next	1.285.2.479;

1.285.2.479
date	2002.08.24.05.18.07;	author akr;	state Exp;
branches;
next	1.285.2.480;

1.285.2.480
date	2002.08.25.20.15.52;	author wakou;	state Exp;
branches;
next	1.285.2.481;

1.285.2.481
date	2002.09.02.15.20.10;	author aamine;	state Exp;
branches;
next	1.285.2.482;

1.285.2.482
date	2002.09.05.04.12.38;	author nobu;	state Exp;
branches;
next	1.285.2.483;

1.285.2.483
date	2002.09.05.20.08.47;	author aamine;	state Exp;
branches;
next	1.285.2.484;

1.285.2.484
date	2002.09.05.20.53.30;	author nobu;	state Exp;
branches;
next	1.285.2.485;

1.285.2.485
date	2002.09.06.02.58.54;	author aamine;	state Exp;
branches;
next	1.285.2.486;

1.285.2.486
date	2002.09.06.23.41.42;	author aamine;	state Exp;
branches;
next	1.285.2.487;

1.285.2.487
date	2002.09.07.14.37.18;	author nobu;	state Exp;
branches;
next	1.285.2.488;

1.285.2.488
date	2002.09.08.10.25.41;	author usa;	state Exp;
branches;
next	1.285.2.489;

1.285.2.489
date	2002.09.09.11.43.27;	author usa;	state Exp;
branches;
next	1.285.2.490;

1.285.2.490
date	2002.09.09.14.48.21;	author eban;	state Exp;
branches;
next	1.285.2.491;

1.285.2.491
date	2002.09.11.07.17.18;	author knu;	state Exp;
branches;
next	1.285.2.492;

1.285.2.492
date	2002.09.11.07.29.56;	author knu;	state Exp;
branches;
next	1.285.2.493;

1.285.2.493
date	2002.09.11.07.51.48;	author knu;	state Exp;
branches;
next	1.285.2.494;

1.285.2.494
date	2002.09.11.15.25.33;	author nobu;	state Exp;
branches;
next	1.285.2.495;

1.285.2.495
date	2002.09.11.15.58.48;	author usa;	state Exp;
branches;
next	1.285.2.496;

1.285.2.496
date	2002.09.15.12.56.42;	author H_Konishi;	state Exp;
branches;
next	1.285.2.497;

1.285.2.497
date	2002.09.22.15.33.36;	author nobu;	state Exp;
branches;
next	1.285.2.498;

1.285.2.498
date	2002.09.25.07.07.35;	author matz;	state Exp;
branches;
next	1.285.2.499;

1.285.2.499
date	2002.10.01.08.15.23;	author matz;	state Exp;
branches;
next	1.285.2.500;

1.285.2.500
date	2002.10.01.15.25.47;	author nobu;	state Exp;
branches;
next	1.285.2.501;

1.285.2.501
date	2002.10.02.04.28.00;	author eban;	state Exp;
branches;
next	1.285.2.502;

1.285.2.502
date	2002.10.03.11.15.21;	author nobu;	state Exp;
branches;
next	1.285.2.503;

1.285.2.503
date	2002.10.04.05.44.51;	author eban;	state Exp;
branches;
next	1.285.2.504;

1.285.2.504
date	2002.10.05.21.07.23;	author aamine;	state Exp;
branches;
next	1.285.2.505;

1.285.2.505
date	2002.10.07.07.14.49;	author matz;	state Exp;
branches;
next	1.285.2.506;

1.285.2.506
date	2002.10.07.07.44.17;	author matz;	state Exp;
branches;
next	1.285.2.507;

1.285.2.507
date	2002.10.10.07.01.09;	author nobu;	state Exp;
branches;
next	1.285.2.508;

1.285.2.508
date	2002.10.10.08.30.52;	author eban;	state Exp;
branches;
next	1.285.2.509;

1.285.2.509
date	2002.10.10.21.07.10;	author nobu;	state Exp;
branches;
next	1.285.2.510;

1.285.2.510
date	2002.10.17.07.25.35;	author matz;	state Exp;
branches;
next	1.285.2.511;

1.285.2.511
date	2002.10.17.16.27.16;	author knu;	state Exp;
branches;
next	1.285.2.512;

1.285.2.512
date	2002.10.18.14.40.55;	author nobu;	state Exp;
branches;
next	1.285.2.513;

1.285.2.513
date	2002.10.23.08.19.20;	author matz;	state Exp;
branches;
next	1.285.2.514;

1.285.2.514
date	2002.10.25.19.37.49;	author knu;	state Exp;
branches;
next	1.285.2.515;

1.285.2.515
date	2002.10.25.19.39.22;	author knu;	state Exp;
branches;
next	1.285.2.516;

1.285.2.516
date	2002.10.25.19.46.02;	author knu;	state Exp;
branches;
next	1.285.2.517;

1.285.2.517
date	2002.10.26.15.57.19;	author knu;	state Exp;
branches;
next	1.285.2.518;

1.285.2.518
date	2002.10.31.18.43.04;	author matz;	state Exp;
branches;
next	;


desc
@@


1.1248
log
@* eval.c (rb_mod_public_method_defined, etc.): new methods:
  public_method_defined?, private_method_defined?,
  protected_method_defined?

* object.c (rb_obj_public_methods): new method
  Object#public_methods.

* class.c (ins_methods_i): Object#methods should list both public
  and protected methods.

* class.c (rb_class_public_instance_methods): new method
  Module#public_instance_methods.
@
text
@Wed Oct 30 17:00:47 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_mod_public_method_defined, etc.): new methods:
	  public_method_defined?, private_method_defined?,
	  protected_method_defined?

	* object.c (rb_obj_public_methods): new method
	  Object#public_methods.

	* class.c (ins_methods_i): Object#methods should list both public
	  and protected methods.

	* class.c (rb_class_public_instance_methods): new method
	  Module#public_instance_methods.

Wed Oct 30 06:29:00 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* eval.c, file.c, gc.c, io.c, object.c, ruby.c, ruby.h, struct.c,
	  ext/socket/socket.c: differentiate long and int; use proper
	  printf type specifiers and do casts where appropriate.

Wed Oct 30 04:07:33 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (error_print, rb_longjmp, rb_thread_schedule): flush
	  error message.  [ruby-dev:18582]

	* eval.c (ruby_cleanup): added.  just clean up without exit.
	  [ruby-dev:18582]

	* eval.c (ruby_exec): added.  execute main evaluation tree without
	  exit.  [ruby-dev:18582]

	* intern.h: prototypes; ruby_cleanup, ruby_exec

Tue Oct 29 02:00:08 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/extmk.rb (extmake): use dummy_makefile to create dummy
	  Makefile.

	* lib/mkmf.rb (find_executable0): EXEEXT is optional.

	* lib/mkmf.rb (dummy_makefile): make dummy Makefile content.

	* lib/mkmf.rb (create_makefile): define EXTLIB replacing -l.

	* lib/mkmf.rb ($bccwin): detect Borland make by help message.

	* lib/mkmf.rb (CLEANINGS): common rules to clean.

Mon Oct 28 01:27:17 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* djgpp/config.sed (@@program_transform_name@@): use `%', not `,'.

Sun Oct 27 22:59:50 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* ext/extmk.rb(78) : The unnecessary error when installing by bccwin32
	                     is controlled. 

	* lib/mkmf.rb(773) : Also in the case of bccwin32, the path was added.

Sun Oct 27 17:07:25 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* djgpp/*: sync with the latest.

	* ext/extmk.rb, lib/mkmf.rb: flush $stdout.

	* io.c (READ_DATA_PENDING_COUNT, READ_DATA_PENDING_PTR):
	  undef these macros on DJGPP.

Sat Oct 26 10:11:47 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* node.h (nd_type): cast the value to int.

Sat Oct 26 04:27:35 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/dbm/dbm.c (fdbm_indexes, fdbm_select): add a missing
	  argument and prevent coredump when a nonexistent key is
	  specified.

	* ext/sdbm/init.c (fsdbm_indexes, fsdbm_select): ditto.

Sat Oct 26 03:28:43 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* eval.c, gc.c: use a common set of alloca() #ifdef's.  This fixes
	  the build with Intel C Compiler for Linux.

	* eval.c (rb_f_require): declare old_func with a real type, not
	  just type modifiers.

Fri Oct 25 02:55:01 2002  Minero Aoki  <aamine@@loveruby.net>

	* string.c (rb_str_split_m): RSTRING(str)->ptr might become NULL.
	  [ruby-dev:18581]

Thu Oct 24 21:57:02 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* configure.in (LIBPATHFLAG): avoid $ substitution.
	  [ruby-dev:18577]

	* ext/extmk.rb (extmake): expand $srcdir.

	* ext/win32ole/extconf.rb: should not override $CFLAGS, but
	  append.

	* lib/mkmf.rb (config_string): use given config hash.

	* bcc32/Makefile.sub (.rc.res): directory part may be empty in
	  Borland make.

Thu Oct 24 03:38:07 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* lib/mkmf.rb (create_makefile): site-install target for backward
	  compatibility.

	* lib/mkmf.rb (init_mkmf): libdir prior to topdir.

	* configure.in (LIBPATHFLAG): should escape $.  [ruby-dev:18572]

	* mkconfig.rb: never substute escaped $$.

	* instruby.rb: not install LIBRUBY_SO unless enable-shared.
	  [ruby-dev:18569]

Wed Oct 23 19:16:06 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_eval): added NODE_DSYM, symbol literal with
	  interpolation.

	* node.h: ditto.

	* intern.h: prototypes; rb_is_junk_id, rb_str_dump, rb_str_intern

	* object.c (sym_inspect): escape and quote for non-alphanumeric
	  symbols.

	* parse.y (dsym, tokadd_string, yylex): extended symbol literals.

	* parse.y (rb_is_junk_id): added.

	* string.c (rb_str_dump, rb_str_intern) : make extern.

	* lib/mkmf.rb (create_makefile): deffile should be removed by
	  distclean, not clean.

Tue Oct 22 23:56:41 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/mkmf.rb (init_mkmf): add dir_config("opt").

Tue Oct 22 19:44:03 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* bcc32/configure.bat : The command line when calling setup.mak is 
	                        corrected. 

	* bcc32/readme.bcc32 : It follows up about the option of configure.bat.

Tue Oct 22 15:23:19 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* instruby.rb: add dryrun mode.

	* ext/extmk.rb (extmake): add install: target to dummy Makefile.

	* ext/extmk.rb (extmake): avoid Borland make's quirk behavior.

	* lib/mkmf.rb (link_command): opt is not a makefile macro.

	* bcc32/Makefile.sub ($(LIBRUBY_SO) $(LIBRUBY)): EXTOBJS were not
	  linked.

	* bcc32/Makefile.sub (ext/extinit.obj): missing.

	* bcc32/Makefile.sub (TRY_LINK): options have to place before any
	  non-option arguments.

	* win32/Makefile.sub (TRY_LINK): need -link and -libpath options.

	* bcc32/Makefile.sub, win32/Makefile.sub (RANLIB): logical
	  operator never work with command.com.

Tue Oct 22 00:59:59 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in (RUBY_CPPOUTFILE): fix cache file bug.

	* lib/mkmf.rb (link_command): put 'opt' after conftest.c for
	  static linking.

Mon Oct 21 22:53:02 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* configure.in (XCFLAGS): CFLAGS to comile ruby itself.

	* configure.in (LIBEXT): suffix for static libraries.

	* configure.in (LIBPATHFLAG): switch template to specify library
	  path.

	* configure.in (LINK_SO): command to link shared objects.

	* configure.in (DEFFILE, ARCHFILE): miscellaneous system dependent
	  files.

	* configure.in (EXPORT_PREFIX): prefix to exported symbols on
	  Windows.

	* configure.in (COMMON_LIBS, COMMON_MACROS, COMMON_HEADERS):
	  libraries, macros and headers used in common.

	* configure.in (RUBYW_INSTALL_NAME, rubyw_install_name): GUI mode
	  excutable name.

	* Makefile.in (CFLAGS): append XCFLAGS.

	* Makefile.in (PREP): miscellaneous system dependent files.

	* Makefile.in (ruby.imp, ext/extinit.o): moved from ext/extmk.rb.

	* Makefile.in (fake.rb): CROSS_COMPILING keeps building platform.

	* Makefile.in (MAKEFILES): depend on *.in and config.status.

	* Makefile.in (parse.c): replace "y.tab.c" with actual name for
	  byacc.

	* ext/extmk.rb, lib/mkmf.rb: integrated.

	* ext/extmk.rb: propagate MFLAGS.

	* ext/extmk.rb (extmake): make dummy Makefile to clean even if no
	  Makefile is made.

	* lib/mkmf.rb (older): accept multiple file names and Time
	  objects.

	* lib/mkmf.rb (xsystem): split and qoute.

	* lib/mkmf.rb (cpp_include): make include directives.

	* lib/mkmf.rb (try_func): try wheather specified function is
	  available.

	* lib/mkmf.rb (install_files): default to site-install.

	* lib/mkmf.rb (checking_for): added.

	* lib/mkmf.rb (find_executable0): just find executable file with
	  no message.

	* lib/mkmf.rb (create_header): output header file is variable.

	* lib/mkmf.rb (create_makefile): separate sections.

	* lib/mkmf.rb (init_mkmf): initialize global variables.

	* win32/Makefile.sub, bcc32/Makefile.sub (CPP, AR): added.

	* bcc32/Makefile.sub (ARCH): fixed to i386.

	* win32/Makefile.sub, bcc32/Makefile.sub (miniruby): should not
	  link EXTOBJS.

	* ext/dl/extconf.rb: use try_cpp to cross compile.

	* ext/dl/extconf.rb: not modify files in source directory.

Fri Oct 18 23:11:21 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (value_expr0): allow return/break/next/redo/retry in rhs
	  of logical operator.  [ruby-dev:18534]

	* parse.y (remove_begin): eliminate useless NODE_BEGIN.
	  [ruby-dev:18535]

Fri Oct 18 01:02:44 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* hash.c, eval.c: Use (*_NSGetEnviron()) instead of environ on
	  Darwin for namespace cleanness.  [ruby-core:00537]

	* dln.c (dln_load): Fix Darwin support that has been disabled and
	  switch to using it on Darwin instead of the system dlopen().
	  [ruby-core:00541]

Thu Oct 17 19:17:56 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* marshal.c (w_byten): added; write n bytes from s to arg.

	* marshal.c (dump): flush buffered data.

	* marshal.c (marshal_dump, r_byte, r_bytes0, marshal_load): unify
	  marshaling I/O.  [ruby-talk:53368]

Thu Oct 17 12:58:24 2002  Minero Aoki  <aamine@@loveruby.net>

	* lib/fileutils.rb: stat.blksize might become 0/nil.

	* lib/fileutils.rb: change coding style.

Wed Oct 16 22:35:53 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* sprintf.c (rb_f_sprintf): disallow mixed usage of numbered and
	  unnumbered arguments.  [ruby-dev:18531]
	  get rid of memory leak at exception.  [ruby-core:00460]

Wed Oct 16 13:36:29 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* variable.c (rb_global_entry): not add global entry until
	  initialized to avoid accessing it while GC.  [ruby-dev:18514]

	* variable.c (rb_alias_variable): ditto.

Wed Oct 16 01:03:54 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_str_to_dbl): RString ptr might be NULL.

	* object.c (rb_cstr_to_dbl): p pointer might be NULL.

	* bignum.c (rb_str_to_inum): RString ptr might be NULL.

	* bignum.c (rb_cstr_to_inum): str pointer might be NULL.

Sat Oct 12 23:44:11 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* win32/win32.c (rb_w32_putc): wrong condition to fill or flush on
	  bccwin32.  [ruby-win32:408]

Fri Oct 11 15:58:06 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (arg): rescue modifier is now an operator with
	  precedence right below assignments. i.e. "a = b rescue c" now
	  parsed as "a = (b rescue c)", not as "(a = b) rescue c". [new]
	  [experimental]

Fri Oct 11 06:05:30 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* win32/win32.c (rb_w32_fclose, rb_w32_close): use closesocket()
	  for socket.  [ruby-win32:382]

	* win32/win32.c (StartSockets): set NtSocketsInitialized.

	* win32/win32.h: prototypes; rb_w32_fclose, rb_w32_close

Fri Oct 11 00:24:57 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* gc.c (ruby_xmalloc, ruby_xrealloc): restrict total allocation
	  size according to memories consumed by live objects.
	  [ruby-dev:18482]

	* gc.c (gc_sweep): estimate how live objects consume memories.

Thu Oct 10 17:26:12 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/tcltklib/stubs.c (ruby_tcltk_stubs): fix memory leak.
	  [ruby-dev:18478]

Thu Oct 10 15:20:18 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* lib/weakref.rb (WeakRef::@@@@final): use Hash#delete.

	* lib/weakref.rb (WeakRef::__getobj__): examin if alive or not by
	  ID_REV_MAP to deal with recycled object.  [ruby-dev:18472]

	* lib/weakref.rb (WeakRef::weakref_alive?): ditto.

Wed Oct  9 07:11:25 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* gc.c (gc_sweep): also adjust heaps_limits when free unused heap
	  page.  [ruby-core:00526]

	* io.c (io_fflush): condition to retry can occur.

	* io.c (io_write): returned 0 wrongly if no error occurred.

Tue Oct  8 14:19:07 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* io.c (io_write): must check returned value from fwrite() before
	  test with ferror().  (ruby-bugs-ja:PR#350)

Tue Oct  8 10:55:23 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/prettyprint.rb (PrettyPrint.singleline_format): new method.

Mon Oct  7 16:43:07 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (bigdivrem): bignum zero's len should not be 0.

Mon Oct  7 15:36:42 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (bigdivmod): wrong condition check for Bignum zero.

	* bignum.c (Init_Bignum): need to add Bignum#div.

Sun Oct  6 00:49:15 2002  Minero Aoki  <aamine@@loveruby.net>

	* eval.c (rb_load): should not pass blocks to the loaded file.
	  [ruby-dev:18458]

Fri Oct  4 20:25:38 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_thread_interrupt, rb_thread_signal_raise): no need to
	  save dead thread context. (same as [ruby-dev:18322])
	  (ruby-bugs-ja:PR#349)

Fri Oct  4 13:05:58 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in (RUBY_PROG_GNU_LD): check whether the linker is GNU ld.

	* ext/extmk.rb (create_makefile): add -Wl,-no-undefined to $DLDFLAGS
	  on Linux if GNU ld is used and --enable-shared is specified.

Fri Oct  4 02:21:16 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big_rshift): num should be initialized by carry
	  bits if x is negative.

	* bignum.c (bigdivmod): len for bignum zero is 1, not 0.

Thu Oct  3 20:22:11 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* bcc32/mkexports.rb: to work on cygwin via telnet.
	  [ruby-win32:358]

	* ext/tcltklib/tcltklib.c (ip_invoke): requires command name
	  argument.  [ruby-dev:18438]

	* eval.c (ruby_init, ruby_options): Init_stack() with local
	  location.  (ruby-bugs-ja:PR#277)

	* eval.c (rb_call0): disable trace call.  [ruby-dev:18074]

	* eval.c (eval, rb_load): enable trace call.  [ruby-dev:18074]

	* eval.c (rb_f_require): set source file name for extension
	  libraries.  [ruby-dev:18445]

	* gc.c (Init_stack): prefer address of argument rather than local
	  variable to initialize rb_gc_stack_start.

	* ruby.c (translate_char): translate a character in a string;
	  DOSISH only.  [ruby-dev:18274]

	* ruby.c (ruby_init_loadpath): added argv[0] handling under
	  Human68K.  [ruby-dev:18274]

	* ruby.c (proc_options): translate directory separator in $0 to
	  '/'.  [ruby-dev:18274]

Thu Oct  3 00:27:26 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* lib/delegate.rb (Delegator::initialize): use Object#class
	  instead of deprecated Object#type.

Wed Oct  2 23:32:48 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* configure.in (RUBY_CHECK_IO_NEED_FLUSH): check whether fflush()
	  is needed.

	* io.c (flush_before_seek): flush before seek if buffered data
	  may remain.

	* io.c (rb_io_check_readable): flush if the last operation was
	  write.

	* io.c (rb_io_check_writable): flush if the last operation was
	  read.

	* rubyio.h (FMODE_RBUF): added.

Wed Oct  2 23:09:20 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* io.c (rb_io_wait_readable): handle retryable errors.

	* io.c (rb_io_wait_writable): ditto.

	* ext/socket/socket.c (bsock_send): ditto.

	* ext/socket/socket.c (s_recvfrom): ditto.

	* ext/socket/socket.c (s_accept): ditto.

	* ext/socket/socket.c (udp_send): ditto.

	* ext/socket/getaddrinfo.c (afdl): made private structures constant.

	* rubyio.h: prototype; rb_io_wait_readable(), rb_io_wait_writable().

Wed Oct  2 13:03:58 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: set ac_cv_func_setitimer to "no" on Cygwin.

Wed Oct  2 10:59:29 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (gc_sweep): free unused heap page to reduce process size if
	  possible.

	* object.c (rb_obj_type): deprecated Object#type; use Object#class.

Tue Oct  1 23:48:32 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/socket/socket.c (init_sock): no need for special finalizer,
	  socket descriptor is no longer duplicated in 1.7.
	  [ruby-talk:50732]

	* win32/win32.c, win32/win32.h (rb_w32_fddup, rb_w32_fdclose):
	  delete.

Mon Sep 30 20:29:10 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* io.c (rb_io_inspect): not need to raise IOError for closed
	  stream.  [ruby-talk:51871]

Mon Sep 30 03:48:15 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* range.c (range_check): need no Fixnum check.

Sun Sep 29 18:30:24 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* win32/win32.c (rb_w32_open_osfhandle): adjust
	  rb_w32_open_osfhandle() with _open_osfhandle().

	* win32/win32.c (rb_w32_accept, rb_w32_socket): return -1 on
	  error.

	* win32/win32.h: should use file descriptor instead of SOCKET.

Sun Sep 29 06:33:03 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* win32/win32.c (is_socket, rb_w32_select, rb_w32_accept, rb_w32_bind,
	  rb_w32_connect, rb_w32_getpeername, rb_w32_getsockname,
	  rb_w32_getsockopt, rb_w32_ioctlsocket, rb_w32_listen, rb_w32_recv,
	  rb_w32_recvfrom, rb_w32_send, rb_w32_sendto, rb_w32_setsockopt,
	  rb_w32_shutdown, rb_w32_socket, rb_w32_gethostbyaddr,
	  rb_w32_gethostbyname, rb_w32_gethostname, rb_w32_getprotobyname,
	  rb_w32_getprotobynumber, rb_w32_getservbyname, rb_w32_getservbyport):
	  need to protect WSAGetLastError() by RUBY_CRITICAL. [ruby-talk:51778]

Sat Sep 28 20:06:36 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* keywords: add braces around initializers.

Sat Sep 28 13:19:29 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* hash.c (rb_hash_become): should check self-assignment after
	  conversion.

Sat Sep 28 10:40:44 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_hash_become): Hash#become should check added
	  self-assignment.

	* class.c (rb_make_metaclass): metaclass of a superclass may be
	  NULL at boot time.

Sat Sep 28 09:50:03 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* ext/extmk.rb: The condition judgment without necessity was deleted.

Fri Sep 27 18:40:42 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_thread_deadlock): more verbose message at deadlock.

	* eval.c (rb_thread_schedule): ditto.

	* eval.c (rb_thread_join): ditto.

Fri Sep 27 13:24:35 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): Class#inherited should be called after the
	  execution of the class body.

Fri Sep 27 02:41:53 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/sha1: Use OpenSSL's SHA1 engine if available.  It is
	  much faster than what we have now (sha1.[ch]).  Add a knob
	  (--with-bundled-sha1) to extconf.rb which makes it use the
	  bundled one anyway.

Fri Sep 27 02:25:14 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/rmd160: Use OpenSSL's RMD160 engine if available.  It
	  is much faster than what we have now (rmd160.[ch]).  Add a knob
	  (--with-bundled-rmd160) to extconf.rb which makes it use the
	  bundled one anyway.

Fri Sep 27 01:23:39 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/md5: Use OpenSSL's MD5 engine if available.  It is
	  much faster than what we have now (md5.[ch]).  Add a knob
	  (--with-bundled-md5) to extconf.rb which makes it use the
	  bundled one anyway.

Thu Sep 26 22:44:21 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/digest.c (rb_digest_base_s_digest): Fix a double
	  free() bug mingled with allocation framework deployment.

	* ext/digest/digest.c (rb_digest_base_s_hexdigest): Get rid of
	  redundant struct allocation.

Thu Sep 26 09:52:52 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (primary): remove "return outside of method" check at
	  compile time.

Wed Sep 25 23:51:29 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* dir.c (glob_helper): must not closedir() when exception raised
	  while globbing "**".

	* marshal.c (w_uclass): unused variable.

	* re.c (match_clone): unused.

	* regex.c (re_compile_pattern): get rid of implicit promotion from
	  plain char to int.

Wed Sep 25 17:46:46 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* lib/mkmf.rb (libpathflag): restore ENV['LIB'] when some error occured.

Wed Sep 25 16:14:51 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_match): p1 may exceed pend limit.

Mon Sep 23 23:22:43 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_call0): must not clear ruby_current_node, or
	  backtrace cannot be genetated.

	* intern.h (ruby_yyparse): rather than yyparse().

	* parse.y (yylex): nextc() returns -1 at end of input, not 0.

	* parse.y (newline_node): reduce duplicated newline node.

	* parse.y (literal_concat): get rid of warning.

	* parse.y (new_evstr): fixed junk code.

Mon Sep 23 19:57:52 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in (RUBY_MINGW32): new macro. check for the MinGW
	  compiler envionment.

	* lib/mkmf.rb: refactoring.

Mon Sep 23 08:27:11 2002  Tanaka Akira  <akr@@m17n.org>

	* io.c (appendline): forget to terminate with nul.

Mon Sep 23 02:46:29 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (ruby_run): should set toplevel visibility again here. 

	* eval.c (rb_eval): should not rely on ruby_class == rb_cObject
	  check.   Besides allow implicit publicity for attribute set
	  methods.

	* parse.y (primary): need not to check class_nest, just set
	  whether method is an attrset or not.

Sun Sep 22 21:49:42 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (call_trace_func): should not call trace function while
	  compilation.

	* eval.c (rb_call0): also inside c-func.

	* parse.y (yycompile): ditto.

	* ruby.c (require_libraries): preserve source file/line for each
	  require.

Sun Sep 22 17:08:11 2002  Tanaka Akira  <akr@@m17n.org>
	
	* string.c (rb_str_each_line): p might be at the top of the
	  string.

Sat Sep 21 23:28:28 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_make_metaclass): class of metaclass should be
	  metaclass of superclass, unless class itself is a metaclass;
	  class of metaclass of metaclass should point back to self.
	  eh, confusing, isn't it.

	* class.c (rb_singleton_class): check if its class is singleton
	  AND attached to self.

Sat Sep 21 22:23:41 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_thread_raise): no need to save dead thread context.
	  [ruby-dev:18322]

Fri Sep 20 23:02:01 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (block_append): eliminate unused literal nodes.

	* parse.y (literal_concat): refined literal concatination.

Fri Sep 20 19:43:40 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/set.rb: Merge rough/lib/set.rb rev.1.5-1.15.

Wed Sep 18 12:41:16 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): should define class/module under ruby_cbase.

	* eval.c (rb_eval): should set class/module path based on
	  ruby_cbase, not ruby_class.

	* eval.c (module_setup): use ruby_cbase instead of ruby_class.

Tue Sep 17 21:06:04 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_thread_die): put thread dead state.

	* eval.c (rb_thread_atfork): free stack buffer at fork too.

Tue Sep 17 01:13:31 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_mod_nesting): load wrapping module should appear in
	  Module#nesting list. (ruby-bugs-ja:PR#328)

	* eval.c (rb_thread_remove): free stack buffer on remove.

Tue Sep 17 00:58:35 2002  Minero Aoki  <aamine@@loveruby.net>

	* io.c: add parameter prototype.

	* re.c: ditto.

Sun Sep 15 21:14:22 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* win32/win32.c (rb_w32_opendir, rb_w32_stat): Corresponds to
	  the unjust path containing ".

Sun Sep 15 19:48:55 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in (OUTFLAG, CPPOUTFILE): moved from lib/mkmf.rb.
	  check whether ${CPP} accepts the -o option.

	* win32/Makefile.sub (OUTFLAG, CPPOUTFILE): ditto.

	* bcc32/Makefile.sub (OUTFLAG, CPPOUTFILE): ditto.

	* djgpp/config.sed (OUTFLAG, CPPOUTFILE): ditto.

	* lib/mkmf.rb (OUTFLAG, CPPOUTFILE): use CONFIG.
	  make easy to understand log.

	* mkconfig.rb (val): should not strip.

Sat Sep 14 20:13:42 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* error.c(rb_sys_fail): remove case EPIPE on bcc32 .

Fri Sep 13 23:39:49 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* dir.c (glob_func_caller): add prototype to get rid of warning.

Fri Sep 13 18:35:12 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_eval): avoid uninitialized global/class variable
	  warnings at `||='.  [ruby-dev:18278]

	* parse.y (stmt, arg): ditto

Fri Sep 13 13:28:04 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/mkmf.rb ($INSTALLFILES): avoid warning when $VERBOSE mode.

Thu Sep 12 23:20:10 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* bcc32/setup.mak    : Control of a message.

	* bcc32/makefile.sub : include resource.

Thu Sep 12 18:10:03 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* dir.c (glob_helper): fixed freeing buffer.  (ruby-bugs-ja:PR#332)

	* dir.c (glob_helper): should pass matched path.  (ruby-bugs-ja:PR#333)

Thu Sep 12 00:09:32 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_trap_eval): preserve thread status and so on.
	  [ruby-talk:40337], [ruby-core:00019]

Wed Sep 11 21:25:52 2002  Tanaka Akira  <akr@@m17n.org>

	* pp.rb (ARGF.pretty_print): implemented.
	  (PP.pp): arguments reordered.

Wed Sep 11 18:55:38 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (proc_to_s): refined format.  [ruby-dev:18215]

Wed Sep 11 17:47:17 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* win32/win32.c, win32/win32.h (rb_w32_getpid): negate pid under Win9x.
	  [ruby-dev:18262]

Wed Sep 11 12:58:57 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* string.c (get_pat): Add an extra argument "quote".

	* string.c (rb_str_match_m): Do not bother to convert if a regexp
	  is given.

Wed Sep 11 11:33:40 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* bcc32/Makefile.sub: remove unnecessary `.dll' from filename of 
	  dll's resource file.

	* cygwin/GNUmakefile.in: ditto. [ruby-dev:17103]

	* win32/Makefile.sub: ditto. [ruby-dev:17103]

	* win32/resource.rb: ditto. [ruby-dev:17103]

Wed Sep 11 09:59:46 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* io.c (rb_io_wait_readable): added.

	* io.c (rb_io_wait_writable): added.

	* io.c (io_read_retryable): added.

	* io.c (io_write): retry on EINTR, ERESTART and EWOULDBLOCK.
	  [ruby-dev:17855], [ruby-dev:17878], [ruby-core:00444]

	* io.c (rb_io_fread): ditto.

	* io.c (read_all): ditto.

	* io.c (appendline): ditto.

	* io.c (rb_io_each_byte): ditto.

	* io.c (rb_io_getc): ditto.

Wed Sep 11 09:29:24 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* win32/Makefile.sub (ext): make directory `ext' on compile dir.
	  [ruby-dev:18255]

Wed Sep 11 00:41:10 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_mod_define_method): initialize orig_func too.
	  (ruby-bugs-ja:PR#330)

Wed Sep 11 00:01:32 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* dir.c (glob_helper): prevent memory leak using rb_protect().

	* string.c (rb_str_associate): no need to check freeze flag.

	* string.c (rb_str_resize): should honor STR_ASSOC flag on
	  resize.

	* string.c (rb_str_resize): proper STR_ASSOC handling.  pointed
	  out by Michal Rokos.

	* string.c (rb_str_buf_cat): ditto.

	* string.c (rb_str_cat): ditto.

	* string.c (rb_str_buf_append): ditto.

	* string.c (rb_str_append): ditto.

Tue Sep 10 23:35:46 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (nextc): restore line number after here documents.
	  (ruby-bugs-ja:PR#331)

	* parse.y (heredoc_restore): ditto.

Tue Sep 10 18:26:52 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb, lib/mkmf.rb ($INCFLAGS): new var for -I$(topdir).

	* lib/mkmf.rb: add #define WIN32_LEAN_AND_MEAN to improve compile
	  times.

Tue Sep 10 17:16:14 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* win32/Makefile.sub (miniruby): shouldn't link $(EXTOBJS).
	  [ruby-dev:17059]

	* win32/Makefile.sub ($(LIBRUBY_A), $(LIBRUBY)): avoid lib.exe's
	  warning. [ruby-dev:17059]

	* win32/Makefile.sub: remove unnecessary rules. [ruby-dev:17059]

	* win32/configure.bat, win32/setup.mak, win32/README.win32: enable to
	  pass some arguments to configure. [ruby-dev:17059]

Mon Sep  9 23:43:33 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.h (S_I?USR): define only if not mingw32.

Mon Sep  9 11:21:04 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/stringio/stringio.c (strio_set_string): reinitialize
	  properly.

	* ext/stringio/stringio.c (strio_become): added self-assign check
	  and experimental auto-conversion to StringIO.

	* ext/stringio/stringio.c (strio_reopen): added.


Sun Sep  8 21:29:25 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* time.c (time_free): prototype; struct time_object -> void *.
	  avoid GCC warnings.

	* lib/mkmf.rb, ext/extmk.rb ($LINK, $CPP): move to lib/mkmf.rb.

Sun Sep  8 19:02:28 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* time.c: prototype; time_free() to avoid VC++ warnings.

	* ext/tcltklib/tcltklib.c: prototype; invoke_queue_handler() to avoid
	  VC++ warning.

	* win32/win32.c (rb_w32_stat): remove S_IWGRP and S_IWOTH bits from
	  st_mode.

	* win32/win32.h (S_I*): define if not defined.

Sun Sep  8 14:38:31 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: modify program_prefix only if specified
	  --program-prefix.

	* configure.in: don't generate ext/extmk.rb.

	* Makefile.in: execute directly $(srcdir)/ext/extmk.rb.
	  remove -Cext option, "Dir::chdir 'ext'" in ext/extmk.rb.

	* {win32,bccwin32}/Makefile.sub: ditto.

	* instruby.rb: ditto.

	* ext/extmk.rb: renamed from ext/extmk.rb.in.

	* lib/mkmf.rb (module Logging): create log files (mkmf.log)
	  in each extension module directories.

	* ext/extmk.rb: ditto.

	* lib/mkmf.rb (macro_defined?): new method.

	* ext/.cvsignore: remove extmk.rb.

	* ext/*/.cvsignore: add "*.def".

	* lib/mkmf.rb (have_struct_member): moved from ext/socket/extconf.rb.

	* ext/socket/extconf.rb: use macro_defined? instead of egrep_cpp.

	* ext/etc/extconf.rb: use have_struct_member.

	* ext/etc/etc.c: add prefix HAVE_ST_ to PW_ macros.

Sun Sep  8 14:36:40 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* bcc32/configure.bat : Control of a message.
	* bcc32/makefile.sub  : @@(sitearch) typo.
	* ext/extmk.rb.in     : [bccwin32] libdir is added to a library path.
	* lib/mkmf.rb         : ditto.

Sat Sep  7 23:32:56 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* misc/inf-ruby.el (inferior-ruby-error-regexp-alist): regexp
	  alist for error message from ruby.

	* misc/inf-ruby.el (inferior-ruby-mode): fixed for Emacs.

	* misc/inf-ruby.el (ruby-send-region): compilation-parse-errors
	  doesn't parse first line, so insert separators before each
	  evaluations.

Sat Sep  7 19:46:57 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/set.rb: Disallow Set.new(false).  Add even more tests.
	  [Submitted by: "Christoph" <chr_news@@gmx.net>]

Sat Sep  7 19:23:56 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/set.rb: Fix a bug in flatten()'s recursive set detection.
	  [Submitted by: "Christoph" <chr_news@@gmx.net>]  Some tests
	  against the bug are added.

	* lib/set.rb: Resurrect the test suite by putting it after
	  __END__ and executing `eval DATA.read'.

Sat Sep  7 08:41:39 2002  Minero Aoki  <aamine@@loveruby.net>

	* parse.y (rb_gc_mark_parser): ruby_eval_tree is marked in eval.c.

Fri Sep  6 20:01:38 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* lib/mkmf.rb ($CC): command to compile C source.

	* lib/mkmf.rb (logging): added.

	* lib/mkmf.rb (try_compile): added.

	* lib/mkmf.rb (egrep_cpp): use internal grep when pattern is
	  Regexp, otherwise use external egrep command but get rid of
	  pipe of command.com.

	* lib/mkmf.rb (have_func): local variable should be volatile not
	  to be eliminated by optimization.

	* lib/mkmf.rb (create_makefile): link with CONFIG["LIBS"].

	* lib/mkmf.rb (create_makefile): emit .SUFFIXES:.

Fri Sep  6 12:11:22 2002  Minero Aoki  <aamine@@loveruby.net>

	* parse.y (rb_gc_mark_parser): should mark ALL global variables
	  defined in parse.y.

Fri Sep  6 01:15:23 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (ruby_xmalloc): remove MALLOC_LIMIT to avoid frequent
	  garabage collection.

Fri Sep  6 11:47:37 2002  Minero Aoki  <aamine@@loveruby.net>

	* parse.y (rb_gc_mark_parser): should mark global variables
	  defined in parse.y.

Fri Sep  6 10:34:32 2002  Minero Aoki  <aamine@@loveruby.net>

	* io.c (rb_io_puts): RSTRING(line)->ptr might be NULL.

Fri Sep  6 10:26:37 2002  Minero Aoki  <aamine@@loveruby.net>

	* parse.y: should not put non-NODE-VALUEs in the semantic stack.

Fri Sep  6 05:48:26 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* file.c (rb_path_check): nothing to check under DOSISH.
	  [ruby-list:35772]

Fri Sep  6 05:03:50 2002  Minero Aoki  <aamine@@loveruby.net>

	* gc.c (rb_gc): should mark parser.

	* parse.y (rb_gc_mark_parser): new function.

	* intern.h (rb_gc_mark_parser): added.

Thu Sep  5 18:32:32 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_path2class): should not use rb_eval_string().

Thu Sep  5 17:18:22 2002  Michal Rokos  <michal@@ruby-lang.org>

	* dln.c: fix memory leak in dln_load (ruby-core:405) and 
	  in load_1 (ruby-core:407)

Thu Sep  5 15:43:54 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_extended): should allow marshaling of object which
	  is extended by named module.

	* class.c (rb_make_metaclass): super may be T_ICLASS, need to skip.

Thu Sep  5 13:09:22 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_eval): overriding false constant with class/module
	  definition should be error.  (PR#327)

Thu Sep  5 01:24:26 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* extmk.rb (create_makefile): add macro MAKEDIRS, INSTALL_PROG,
	  INSTALL_DATA.

	* extmk.rb (create_makefile): support for building to any directory.

	* extmk.rb (xsystem): move to mkmf.rb.

	* mkmf.rb (xsystem): support for extmk.rb

	* mkmf.rb ($CPP): remove '-E' option.  add CPPFLAGS.

Wed Sep  4 16:15:17 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/set.rb: ==(o) should be aware of all the Set variant
	  instances, not just those of its subclasses. [Submitted by:
	  "Christoph" <chr_news@@gmx.net>]

	* lib/set.rb: - Fix eql?(). [ditto]

Wed Sep  4 15:23:23 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_make_metaclass): obj.meta.super.meta should be equal
	  to obj.meta.meta.super (ruby-bugs-ja:PR#324).

Wed Sep  4 05:10:16 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* parse.y (yylex): the warning message "invalid
          character syntax" was never issued (ruby-bugs-ja:PR#323).

Wed Sep  4 01:08:45 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (r_bytes): do not use alloca (ruby-bugs:PR#382).

Tue Sep  3 17:12:59 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* extmk.rb: require mkmf.rb.  remove duplicate methods.
	  use Config::CONFIG["FOO"] instead of @@FOO@@.

	* mkmf.rb: support for extmk.rb.

Mon Sep  2 23:01:50 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* re.c (rb_reg_search): MatchData must be rb_cMatch.
	  (ruby-bugs-ja:PR#319)

Mon Sep  2 21:21:46 2002  Minero Aoki  <aamine@@loveruby.net>

	* gc.c (gc_sweep): does reclaim nodes in also compile time, if we
	  can.

	* ruby.c (load_file): omit GC if we can.

	* parse.y (ruby_parser_stack_on_heap): new function.

	* intern.h (ruby_parser_stack_on_heap): added.

Mon Sep  2 18:45:07 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_copy_generic_ivar): remove old generic instance
	  variable table if it existes.

Sun Sep  1 15:54:33 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* config.guess: fixed for Linux/PPC.

Sat Aug 31 09:38:12 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_make_metaclass): metaclass of a metaclass is a
	  metaclass itself.

Fri Aug 30 22:45:16 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/set.rb: Added.

Fri Aug 30 20:58:54 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* ext/Win32API/Win32API.c (Win32API_Call): typo.

Fri Aug 30 19:45:52 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* variable.c (rb_const_assign): st_delete() takes pointer to key.

Fri Aug 30 19:40:28 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/Win32API/Win32API.c (Win32API_Call): RSTRING()->ptr may be
	  NULL.

	* ext/nkf/nkf.c (rb_nkf_guess): ditto.

	* ext/readline/readline.c (readline_s_set_completion_append_character):
	  ditto.

	* ext/socket/socket.c (sock_s_getaddrinfo, sock_s_getnameinfo):
	  ditto.

	* ext/tcltklib/tcltklib.c (ip_toUTF8, ip_fromUTF8): ditto.

Fri Aug 30 01:32:17 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_singleton_class): superclass of a metaclass
	  should be a metaclass of superclass.

	* range.c (range_eq): two instances must belong to a same class to
	  be equal.

	* range.c (range_eql): ditto.

	* io.c (rb_io_taint_check): frozen check added.

	* file.c (rb_stat_become): frozen check added.

	* object.c (rb_obj_become): ditto.

	* re.c (rb_reg_become): ditto.

	* struct.c (rb_struct_become): ditto.

	* time.c (time_become): ditto.

	* array.c (rb_ary_become): should call rb_ary_modify().

	* hash.c (rb_hash_become): should call rb_hash_modify().

	* compar.c (cmp_equal): should not use NUM2LONG(), since <=> may
	  return bignum.

	* compar.c (cmp_gt, cmp_ge, cmp_lt, cmp_le, cmp_between): ditto.

Thu Aug 29 23:34:42 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* bcc32/MakeFile.sub (sitearch): add.

Thu Aug 29 13:36:42 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* io.c (read_all): should use off_t instead of long.

Thu Aug 29 00:55:55 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* marshal.c (r_object): yield loaded objects, not intermediates.
	  (ruby-bugs-ja:PR#296)

Thu Aug 29 00:06:54 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_become): should not free ptr if it's shared.

	* eval.c (rb_alias): prohibit making an alias named "allocate" if
	  klass is a metaclass.

Wed Aug 28 23:59:15 2002  Michal Rokos  <michal@@ruby-lang.org>

	* signal.c: remove #ifdef SIGINT for struct signals.

	* variable.c: get rid of fix length buffer in rb_class_path.

Wed Aug 28 23:34:32 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* io.c (appendline): data was lost when raw mode.

Wed Aug 28 22:57:34 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_string_value_ptr): StringValuePtr() should never
	  return NULL pointer.

Wed Aug 28 19:12:46 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/stringio/stringio.c (strio_initialize): RSTRING(mode)->ptr
	  can be NULL.

	* ext/stringio/stringio.c (strio_ungetc): fix buffer overflow.

Wed Aug 28 18:19:55 2002  Michal Rokos  <michal@@ruby-lang.org>

	* file.c: fix memory leak in rb_stat_init.

Wed Aug 28 17:45:03 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* win32/win32.c (kill): negate pid under Win9x.

Wed Aug 28 16:36:40 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in (ar): don't check ar twice.

Wed Aug 28 15:00:29 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_delete_bang): should check if str->ptr is 0.

	* string.c (rb_str_squeeze_bang): ditto.

	* string.c (rb_str_count): ditto.

	* string.c (rb_str_lstrip_bang): ditto.

	* string.c (rb_str_rstrip_bang): ditto.

	* string.c (rb_str_intern): ditto.

Wed Aug 28 11:37:35 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* win32/win32.h: define SIGINT and SIGKILL if not defined.

	* win32/win32.c: remove definition of SIGINT and SIGKILL.

Tue Aug 27 19:50:27 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ruby.c (require_libraries): prevent ruby_sorcefile from GC.

Tue Aug 27 15:03:35 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_find_file): $LOAD_PATH must not be empty.

	* file.c (rb_find_file_ext): ditto.

Tue Aug 27 02:35:21 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* range.c (range_eq): class check should be based on range.class,
	  instead of Range to work with Range.dup.

	* range.c (range_eql): ditto.

Mon Aug 26 18:17:56 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_mod_dup): need to preserve metaclass and flags.

Mon Aug 26 10:44:18 2002  Tanaka Akira  <akr@@m17n.org>

	* object.c (rb_cstr_to_dbl): had a buffer overrun.

Sun Aug 25 20:10:32 2002  Wakou Aoyama  <wakou@@ruby-lang.org>

	* lib/cgi.rb (CGI#form): fix ruby-bugs-ja:PR#280, add default action.

Sat Aug 24 15:32:16 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (call_trace_func): restore source file/line, as trace
	  function installed in required library with -r option can be
	  called while parsing.  (ruby-bugs:PR#372)

	* eval.c (module_setup): unused variable.  [ruby-core:00358]

Sat Aug 24 14:59:02 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_class): integrate singleton check into a funciton
	  to follow DRY principle.

	* marshal.c (w_uclass): should check singleton method.

	* object.c (rb_obj_dup): dmark and dfree functions must be match
	  for T_DATA type.

	* object.c (rb_obj_dup): class of the duped object must be match
	  to the class of the original.

Sat Aug 24 13:57:28 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/time.rb (Time.rfc2822, Time#rfc2822): preserve localtimeness.

	* lib/pp.rb: pretty_print_cycled is renamed to pretty_print_cycle.

Fri Aug 23 23:59:57 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (method_call): check receiver is defined.

	* eval.c (umethod_call): removed.

Fri Aug 23 23:39:17 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_quote): do not escape \t, \f, \r, \n, for they are
	  not regular expression metacharacters.

	* time.c (time_s_alloc): use time_free instead of free (null check,
	  also serves for type mark).

	* time.c (time_s_at): check dfree function too.

Fri Aug 23 17:06:48 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: RUBY_SO_NAME is msvcrt-rubyXX on mswin32/mingw32.

	* configure.in (sitearch): new var.

	* mkconfig.rb, lib/mkmf.rb (sitearch): ditto.

	* win32/Makefile.sub, win32/setup.mak (sitearch): ditto.

	* instruby.rb: ditto.

Wed Aug 21 16:53:00 2002  Michal Rokos  <michal@@ruby-lang.org>

	* *.c: int, long types cleanup.

	* parse.y: ditto.

	* re.h, regex.h, ruby.h: ditto.

Wed Aug 21 16:43:19 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_cleanup): should not modify the global
	  variable curr_thread.

Wed Aug 21 16:14:26 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: set ac_cv_func__setjmp to "no" on Cygwin.

	* configure.in: set ac_cv_func_crypt to "no" on MinGW.

Tue Aug 20 21:47 2002  KONISHI Hiromasa  <konishih@@fd6.so-net.ne.jp>

	* io.c          (rb_io_fread): remove case EPIPE on bcc32 .

	* win32/win32.c (rb_w32_getc): clear EPIPE error on bcc32.

Tue Aug 20 19:39:03 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* file.c (rb_file_s_expand_path): accept drive letter on Cygwin.

	* file.c (is_absolute_path): ditto.

Tue Aug 20 12:12:25 2002  Tietew <tietew@@tietew.net>

	* io.c (rb_io_putc): output via rb_io_write().

Mon Aug 19 19:01:55 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* misc/inf-ruby.el (inf-ruby-keys): ruby-send-definition
	  conflicted with ruby-insert-end.

	* misc/inf-ruby.el (inferior-ruby-mode): compilation-minor-mode.

	* misc/inf-ruby.el (ruby-send-region): send as here document to
	  adjust source file/line.  [ruby-talk:47113], [ruby-dev:17965]

	* misc/inf-ruby.el (ruby-send-terminator): added to make unique
	  terminator.

Mon Aug 19 17:08:19 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_initialize_m): frozen check should be moved here
	  from rb_reg_initialize().

Mon Aug 19 15:38:44 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (sort_2): comparison should be done as signed long.

	* array.c (sort_2): should return int, not VALUE.

Mon Aug 19 12:38:33 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_thread_save_context, rb_thread_restore_context):
	  save/restore SEH chain on MS-Windows at thread switch.
	  [ruby-win32:273]

	* eval.c (win32_get_exception_list, win32_set_exception_list):
	  added.

Sat Aug 17 23:01:25 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (sort_2): *a - *b may overflow.

Sat Aug 17 00:25:08 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (ary_new): len*sizeof(VALUE) may be a positive value.

	* array.c (rb_ary_initialize): ditto.

Fri Aug 16 15:58:16 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* io.c (NOFILE): define NOFILE as 64 if not defined.

	* signal.c (sighandler_t): rename to sh_t on dietlibc.

Fri Aug 16 15:37:04 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* bignum.c (rb_cstr_to_inum): new decimal and octal string.

Fri Aug 16 13:17:11 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_class_allocate_instance): move singleton class
	  check from rb_obj_alloc().

Fri Aug 16 11:47:24 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* io.c (rb_io_fread): renamed from io_fread and made extern.

	* marshal.c (r_bytes0): check if successfully read, use
	  rb_io_fread() instead of fread() to be preemptive.
	  (ruby-bugs-ja:PR#294, 295)

	* rubyio.h (rb_io_fread): added.

Fri Aug 16 07:57:26 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (compile_error): must not clear ruby_sourcefile here.
	  (ruby-bugs:PR#364).

	* eval.c (rb_longjmp): set ruby_sourcefile before making
	  backtrace.

Thu Aug 15 20:38:58 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (ruby_current_node) : added to set sourceline on demand.

	* eval.c (error_pos, error_print, rb_longjmp, assign): set source
	  file/line.

	* eval.c (rb_eval): store current node instead of file/line, and
	  preserve it at return.

	* eval.c (module_setup): ditto.

	* eval.c (struct thread): store node instead of file/line.

	* eval.c (rb_thread_raise): ditto.

	* intern.h (ruby_current_node): added.

	* intern.h (ruby_set_current_source): added.

	* parse.y (stmt, arg): not fix position of assignment.

	* parse.y (node_assign): ditto.

	* parse.y (yycompile): clear current node.

Thu Aug 15 00:48:46 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_initialize): should not modify frozen Regexp.

Tue Aug 13 18:33:18 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/tcltklib/tcltklib.c (ip_init): allocation framework.

Tue Aug 13 15:32:14 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_hash_replace): should copy ifnone.

	* hash.c (rb_hash_dup): should preserve HASH_PROC_DEFAULT and
	  HASH_DELETED flags.

	* hash.c (rb_hash_shift): shift from empty hash should not return
	  its default proc.

	* hash.c (rb_hash_default_proc): new method. [new]

Tue Aug 13 00:37:11 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_aref): no need for Bignum check.

	* array.c (rb_ary_aset): explicit Bignum check removd.

	* numeric.c (fix_aref): normalize bignum before bit-op.

	* bignum.c (rb_big_rand): max may be Bignum zero.

	* bignum.c (rb_cstr_to_inum): should normalize bignums, to avoid
	  returning fixable bignum value.

	* bignum.c (rb_uint2big): there should be no zero sized bignum.

Mon Aug 12 23:45:28 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/extmk.rb.in: extmake() that works properly for both tkutil
	  (tk/tkutil.so) and digest/sha1.

Mon Aug 12 22:29:35 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ruby.c (set_arg0): Correct the position of #endif.

Mon Aug 12 17:25:06 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_hash_equal): should check HASH_PROC_DEFAULT too.

Mon Aug 12 16:15:37 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* bignum.c (rb_big_cmp): raise for NaN.  (ruby-bugs-ja:PR#284).

Sun Aug 11 09:34:07 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_eval): set line number from all nodes.

	* eval.c (proc_to_s): show source file/line if available.

	* marshal.c (r_object): register TYPE_BIGNUM regardless real type.

Sat Aug 10 23:47:16 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big_cmp): use dbl2big() for Floats, instead of
	  big2dbl().

	* bignum.c (Init_Bignum): rb_big_zero_p() removed.  There may be
	  Bignum zero.

Fri Aug  9 13:31:40 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/Win32API/extconf.rb: check existence of <windows.h>.

Thu Aug  8 09:37:02 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* lib/optparse.rb (NilClass): must provide conversion block.

	* lib/optparse.rb (String): ditto.

Thu Aug  8 00:45:15 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_call0): new argument added for original method name.
	  preserve original method name in frame->orig_func.

	* eval.c (is_defined): use frame->orig_func, not last_func.

	* eval.c (rb_eval): ditto.

	* eval.c (method_call): supply data->oid also to rb_call0().

	* object.c (rb_class_allocate_instance): call rb_obj_alloc() when
	  called from alias, thus invoke original "allocate".

	* eval.c (remove_method): removing allocate from classes should
	  cause NameError.

Wed Aug  7 22:12:54 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* lib/optparse.rb (OptionParser::Completion::convert): returned
	  all values not first one.

	* lib/optparse.rb (OptionParser::Switch::parse): return values as
	  is.

	* lib/optparse.rb (OptionParser::order): ditto.

	* lib/optparse/time.rb: prior time.rb.

	* lib/optparse/uri.rb: require standard uri module.  thanks to
	  Minero Aoki.

Wed Aug  7 09:51:54 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_hash_equal): should check default values.

Wed Aug  7 08:44:32 2002  Minero Aoki  <aamine@@loveruby.net>

	* ext/racc/cparse/cparse.c: reduce goto.

Tue Aug  6 15:19:39 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* string.c (rb_str_rindex): must return -1 if unmatched.

Mon Aug  5 22:41:18 2002  Minero Aoki  <aamine@@loveruby.net>

	* MANIFEST: add lib/racc/parser.rb.

	* ext/racc/cparse/cparse.c: code refine.

	* ext/racc/cparse/MANIFEST: add depend.

Sun Aug  4 22:30:50 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/curses/curses.c: follow allocation framework.

Sat Aug  3 21:23:56 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_eval): set constant in cbase scope.

	* eval.c (assign): ditto.

Fri Aug  2 09:12:32 2002  Minero Aoki  <aamine@@loveruby.net>

	* ext/strscan/strscan.c: follow allocation framework.

Fri Aug  2 01:21:52 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/socket/socket.c (s_recvfrom): update RSTRING len.

Thu Aug  1 17:47:15 2002  Tachino Nobuhiro <tachino@@jp.fujitsu.com>

	* parse.y (tokadd_string): ignore backslashed spaces in %w.

Thu Aug  1 14:14:15 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* enum.c (enum_find): do not use rb_eval_cmd(); should not accept
	  a string for if_none.

Wed Jul 31 14:11:43 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_undef): undef should be done for klass, not ruby_class.

Tue Jul 30 19:48:51 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* misc/ruby-mode.el (ruby-accurate-end-of-block): restrict search
	  region.

	* misc/ruby-mode.el (ruby-parse-partial): reversed wrong patch.

Tue Jul 30 17:21:13 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* misc/ruby-mode.el (ruby-accurate-end-of-block): incomplete block
	  caused infinite loop.

	* misc/ruby-mode.el (ruby-parse-partial): returns nil unless
	  delimiters found.

Tue Jul 30 15:24:07 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/tcltklib/stubs.c (ruby_tcltk_stubs): win32_getenv returns
	  the same address always, so allocate string by ruby_strdup.

	* win32/win32.c: prototype; rb_w32_open_osfhandle().

Tue Jul 30 09:11:07 2002  Minero Aoki  <aamine@@loveruby.net>

	* eval.c (rb_thread_join_m): add parameter type declaration.

Tue Jul 30 08:37:11 2002  Minero Aoki  <aamine@@loveruby.net>

	* eval.c (localjump_error): add parameter type declaration.

Mon Jul 29 16:00:54 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb.in: always use File.expand_path for $top_srcdir.

Sat Jul 27 23:07:52 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (num_to_int): default to_int implementaion for every
	  numeric class.

Sat Jul 27 08:09:03 2002  Booker C. Bense  <bbense@@slac.stanford.edu>

	* re.c (rb_reg_quote): initial part of the string was never copied
	  to the quoted string.

Fri Jul 26 23:03:53 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_eval): no need to convert to string twice.

Fri Jul 26 18:32:37 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* misc/ruby-mode.el (ruby-expr-beg): wrong indent at modifiers
	  after ?.

Fri Jul 26 16:01:16 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb.in (create_makefile): use Regexp in gsub.

	* sample/mkproto.rb: ditto and fix bug.

Fri Jul 26 14:31:06 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* random.c: replace with Mersenne Twister RNG.

Fri Jul 26 12:14:48 2002  Minero Aoki  <aamine@@loveruby.net>

	* parse.y (yylex): modify to accept a code like "m (a){...}".

Thu Jul 25 09:05:02 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* misc/ruby-mode.el (ruby-delimiter): include here document.

	* misc/ruby-mode.el (ruby-deep-arglist): skips spaces after
	  parenthesis when 'space.

	* misc/ruby-mode.el (ruby-imenu-create-index): fix for nested
	  classes.

	* misc/ruby-mode.el (ruby-accurate-end-of-block): added.  scan a
	  block in the order.

	* misc/ruby-mode.el (ruby-expr-beg): support for here document.

	* misc/ruby-mode.el (ruby-parse-partial): splitted from
	  ruby-parse-region.

	* misc/ruby-mode.el (ruby-move-to-block): skips RD style comments.

Wed Jul 24 09:47:42 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (jump_tag_but_local_jump): preserve retval in
	  LocalJumpError exceptions.

	* parse.y (command): no more check for "super outside of method".

	* eval.c (rb_mod_define_method): should set last_class and
	  last_func in the block->frame.

Mon Jul 22 17:23:00 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (error_handle): should handle TAG_THROW as well.

Fri Jul 19 10:52:32 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): new decimal notation '0d4567'.

Thu Jul 18 11:52:02 2002  Shugo Maeda  <shugo@@ruby-lang.org>

	* lib/net/ftp.rb (set_socket): new method.

Thu Jul 18 06:51:24 2002  Minero Aoki  <aamine@@loveruby.net>

	* parse.y (yylex): fix typo.

Wed Jul 17 18:41:28 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): new octal notation '0o777'.

Mon Jul 15 18:36:42 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (string_content): every string_content node should
	  return string only.  use NODE_EVSTR to coercing.

	* eval.c (rb_eval): NODE_EVSTR support.

Mon Jul 15 10:35:35 2002  Minero Aoki  <aamine@@loveruby.net>

	* parse.y (heredoc_identifier): fix typo.

Sat Jul 13 09:30:04 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (literal_concat_string): wrong optimization.

Sat Jul 13 01:25:38 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* lib/resolv.rb (Resolv::DNS::open, close): new.

	* lib/optparse.rb, lib/optparse: import.

Fri Jul 12 06:34:05 2002  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/http.rb: rename HTTP.get_uri get_response.

	* lib/net/http.rb: HTTP.get_print accepts URI objects.

	* lib/net/http.rb: HTTP.get had not work with URI objects.

Fri Jul 12 02:15:58 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* string.c (rb_str_match): fix for string match.

Fri Jul 12 00:02:50 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/stringio/stringio.c (strio_gets_internal): fixed for record
	  separator longer than 1.

Thu Jul 11 17:59:20 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_quote): avoid unnecessary string allocation.

	* string.c (get_pat): quote metachracters before compiling a
	  string into a regex.

	* string.c (rb_str_split_m): special treatment of strings of size
	  1, but AWK emulation.  now uses get_pat().

	* string.c (rb_str_match_m): quote metacharacters.

	* string.c (rb_str_match2): ditto.

Thu Jul 11 12:59:23 2002  Shugo Maeda  <shugo@@ruby-lang.org>

	* lib/resolv.rb: untaint strings read from /etc/hosts and
	/etc/resolv.conf to prevent SecurityError when $SAFE==1.

Thu Jul 11 09:00:43 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_slice_bang): if there's no corresponding
	  substring, slice! should return nil without exception.

Tue Jul  9 20:03:55 2002 Keiju Ishitsuka <keiju@@ishitsuka.com>

	* irb 0.9
	
Sat Jul  6 07:35:02 2002  Jamie Herre  <jfh@@gettysgroup.com>

	* array.c (rb_ary_insert): type fixed.

Fri Jul  5 09:17:00 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_split_m): accept separator value nil as well.

Fri Jul  5 08:59:15 2002  Michal Rokos <michal@@ruby-lang.org>

	* enum.c: Fix bug in enum_sort_by and some code indents

Fri Jul  5 05:00:40 2002  Wakou Aoyama  <wakou@@ruby-lang.org>

	* lib/cgi.rb (CGI#initialize): improvement for mod_ruby.
	thanks to Sean Chittenden <sean@@ruby-lang.org>, Shugo Maeda
	<shugo@@modruby.net>

Fri Jul  5 00:10:09 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_become): was leaking memory.

Thu Jul  4 23:43:26 2002  Minero Aoki  <aamine@@loveruby.net>

	* parse.y: remove useless function str_extend_p().

Wed Jul  3 14:26:40 2002  Sean Chittenden  <sean@@ruby-lang.org>

	* lib/net/ftp.rb (get): new method.

	* lib/net/ftp.rb (putt): ditto.

	* lib/net/ftp.rb (binary): ditto.

	* lib/net/ftp.rb (binary=): ditto.

Wed Jul  3 13:57:53 2002  Sean Chittenden  <sean@@ruby-lang.org>

	* lib/net/ftp.rb (getbinaryfile): the second argument (localfile)
	is now optional.

	* lib/net/ftp.rb (gettextfile): ditto.

Wed Jul  3 13:45:42 2002  Shugo Maeda  <shugo@@ruby-lang.org>

	* lib/net/ftp.rb: use &block and yield for speed.

Wed Jul  3 02:32:31 2002  Wakou Aoyama  <wakou@@ruby-lang.org>

	* lib/cgi.rb (CGI#initialize): improvement for mod_ruby.

Tue Jul  2 14:53:10 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_include_module): should not alter other
	  classes/modules by inclusion.  by this fix, local order may not
	  be preserved for some cases.

	* class.c (include_class_new): module may be T_ICLASS; retrieve
	  original module information.

Tue Jul  2 14:13:11 2002  Wakou Aoyama  <wakou@@ruby-lang.org>

	* lib/cgi.rb (CGI#header): accept any type as value.

Sun Jun 30 17:05:29 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in (seekdir, telldir): add ac_cv_func_telldir=yes,
	  ac_cv_func_seekdir=yes for MinGW.

Sat Jun 29 01:43:32 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* io.c (pipe_finalize, pipe_popen): two-way pipe support for win32.

	* win32/win32.c (ChildRecord, FindFreeChildSlot): ditto.

	* win32/win32.c, win32/win32.h (pipe_exec): new function for two-way
	  pipe support for win32.

	* win32/win32.c, win32/win32.h (FindPipedChildSlot, rb_w32_popen,
	  rb_w32_pclose): removed functions for two-way pipe support for win32.

Fri Jun 28 23:49:34 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* pack.c (pack_unpack): change names of local variables because their
	  names are overlapped.

Fri Jun 28 17:54:07 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/pp.rb: fix object address.

Thu Jun 27 23:55:50 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* win32/win32.c (rb_w32_stat): fix buffer overflow. (ruby-bugs:PR#329)

Thu Jun 27 20:57:45 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/prettyprint.rb, lib/pp.rb: convenience methods added.

Thu Jun 27 15:22:18 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/prettyprint.rb: re-implemented for incremental output to handle
	huge data.  API is changed a bit.

	* lib/pp.rb: adapt new pretty printing API.

Thu Jun 27 08:28:18 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (literal_concat_string): non-string last expression in
	  #{} was ignored when followed by literal.

Thu Jun 27 03:42:04 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_expr_str): need to process backslashes properly.

Wed Jun 26 17:33:38 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_any_to_a): declare Object#to_a to be obsolete.

	* object.c (rb_Array): do not convert nil into [] automagically.

Wed Jun 26 15:40:00 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (words, qwords): word list literal rules.

	* parse.y (parse_string): ditto.

	* parse.y (yylex): %W: word list literal with interpolation. [new]

Tue Jun 25 18:53:34 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (string1, xstring, regexp): moved lex_strnest
	  initialization to string_contents/xstring_contents.

Tue Jun 25 19:24:38 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* dln.c: remove definition rb_loaderror().

Tue Jun 25 00:34:54 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_Integer): use "to_int" instead of
	  "to_i". [experimental]

	* object.c (nil_to_f): new method.

	* object.c (rb_Integer): Symbols and nil should cause error.

	* object.c (rb_Float): nil should cause error.

Tue Jun 25 00:21:00 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* dln.c: remark definition rb_loaderror().

Tue Jun 25 00:14:07 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (string_dvar): allow back references in interpolation.

Mon Jun 24 16:32:31 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_eval): NODE_EVSTR is no longer used.

	* eval.c (eval): not enforce to make assigned variables dynamic.

	* parse.y (string): split rules to strings/xstring/regexp to allow
	  arbitrary statements inside string interpolation.

	* parse.y (here_document): splitted into three phases.

	* parse.y (literall_append, literal_concat): added.
	  append/concatinate string literals.

	* sample/test.rb (valid_syntax): adjust line number for BEGIN.

	* lib/mkmf.rb (create_makefile): get rid of nested string.

	* lib/mkmf.rb (install_rb): site-install didn't work properly.

Sun Jun 23 00:19:10 2002  Tadayoshi Funaba  <tadf@@dotrb.org>

	* lib/date.rb, lib/date/format.rb, sample/cal.rb, sample/goodfriday.rb:
	  updated to the new version (based on date2 3.3).

Sat Jun 22 14:41:33 2002  Guy Decoux  <ts@@moulon.inra.fr>

	* ext/socket/socket.c (sock_addrinfo): make all 3 versions of
	  getaddrinfo happy.  [ruby-core:00184]

Fri Jun 21 18:49:58 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): __END__ should not be effective within
	  string literals.

Thu Jun 20 21:09:37 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/readline/readline.c (readline_readline): get rid of
	  libreadline's bug. (ruby-bugs-ja:PR#268)

Thu Jun 20 17:10:27 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/ftool.rb (BUFSIZE): tuning, set buffer length to 8192.

	* configure.in (__NO_ISOCEXT): add for mingw-runtime 2.0-2.

	* configure.in (__MSVCRT__): removed because it is defined
	  in the GCC specs.

Wed Jun 19 14:46:18 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb, lib/mkmf.rb (xsystem): open the log file if xsystem
	  is called.

Wed Jun 19 01:01:13 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (here_document): should be aware of __END__ within here
	  documents.

Wed Jun 19 00:50:50 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (yylex): ? followed by successive word charaters is
	  ternary operator not numeric literal.

	* parse.y (yylex): commands after break/next/rescue can take
	  arguments.  (ruby-bugs-ja:PR#265)

Tue Jun 18 19:20:16 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* win32/mkexports.rb: remove unnecessary exports. (ruby-dev:17418)

Tue Jun 18 12:50:17 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (yylex): should pushback proper char after '<<'.

	* parse.y (range_op, cond0, cond): get rid of doubled warnings.

	* parse.y (value_expr): reduce recursion level.

	* parse.y (logop): ditto.

Mon Jun 17 11:11:34 2002  Kazuhiro NISHIYAMA  <zn@@mbf.nifty.com>

	* string.c (rb_str_crypt): result need not be tainted always.

Mon Jun 17 10:51:37 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* dln.c (dln_load): need to preserve dln_strerror() result,
	  calling other dl family can clear it.

Sat Jun 15 22:56:37 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): obsolete '?<whitespace>'; use '?\s', '?\n',
	  etc, instead.

Sat Jun 15 18:51:13 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* dir.c (glob_helper): Use lstat() instead of stat() so it catches
	  a dead symlink.  Given a dead symlink named "a", Dir.glob("?") 
	  did catch it but Dir.glob("a") somehow didn't.

Sat Jun 15 01:59:05 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): no here document after a dot.

	* parse.y (yylex): should have set lex_state after '`'.

	* parse.y (yylex): should have set lex_state properly after
	  tOP_ASGN.

Fri Jun 14 21:01:48 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* bcc32/mkexports.rb: insert sleep(1) for win9x.

	* bcc32/configure.bat: change return code LF -> CRLF fo win9x.

	* win32/win32.c: fix rb_w32_open_osfhandle()

Fri Jun 14 15:22:19 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (read_escape): deny zero-width hexadecimal character.
	  (ruby-bugs-ja:PR#260)

	* parse.y (tokadd_escape): ditto.

	* regex.c (re_compile_pattern): ditto.

Fri Jun 14 00:49:54 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big2dbl): return canonical HUGE_VAL for infinity.

Thu Jun 13 09:43:37 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (svalue_to_avalue): v may be Qundef.  This fix was
	  suggested by Guy Decoux.

Thu Jun 13 00:33:49 2002  takuma ozawa  <metal@@mine.ne.jp>

	* hash.c (rb_hash_s_create): use rb_hash_aset() instead of calling
	  st_insert() directly, to dup&freeze string keys.

Thu Jun 13 00:12:54 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): proper error message for "@@@@0".

	* parse.y (yylex): paren to parse_string() must be zero for
	  unparenthesized strings.

	* parse.y (str_extend): broken string when unterminated "#{".

	* enum.c (enum_sort_by): had a bug in 1 element enumeration.

Wed Jun 12 18:04:44 2002  akira yamada  <akira@@arika.org>

	* uri/common.rb (REGEXP::PATTERN::X_ABS_URI): 'file:/foo' is valid.

	* uri/generic.rb (Generic#xxx=): should return substituted value.
	  (ruby-dev:16728.)

	* test/generic.rb (test_set_component): added tests for the above
	  change.

Wed Jun 12 02:38:00 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (stmt): fix typo.

Wed Jun 12 01:10:55 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): 'do' should return kDO_BLOCK on EXPR_ENDARG.

	* parse.y (singleton): "def (()).a end" dumped core.

	* parse.y (range_op): node may be null.

	* parse.y (match_gen): ditto.

Tue Jun 11 19:20:34 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in (LIBRUBY): rename to lib$(LIBRUBY_SO).a on Cygwin/MinGW.

	* configure.in, cygwin/GNUmakefile: use dllwrap when --disable-shared
	  is specified.

Tue Jun 11 17:12:04 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (arg): void value check for "..", "...", "!", and "not".

	* parse.y (match_gen): void value check for "=~".

	* parse.y (value_expr): check NODE_AND and NODE_OR recursively.

	* parse.y (cond0): void value check added for conditionals.

Tue Jun 11 13:18:47 2002  Shugo Maeda  <shugo@@ruby-lang.org>

	* lib/net/ftp.rb (noop): new method.

	* lib/net/ftp.rb (site): ditto.

Tue Jun 11 13:15:41 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* bcc32/Makefile.sub: set PROCESSOR_LEVEL to 6 if it's too big value.

	* win32/Makefile.sub: ditto.

Tue Jun 11 12:37:46 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* bcc32/configure.bat fix.

Tue Jun 11 10:18:23 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* new platform [bccwin32] merged.
	  - create new folder bcc32
	  - modify any files for bccwin32
	      error.c, file.c, hash.c, io.c, instruby.rb, 
	      ext/extmk.rb.in,
	      lib/mkmf.rb, lib/ftools.rb,
	      ext/digest/defs.h,
	      ext/dl/depend, ext/dl/dl.c, ext/dl/sym.c, ext/dl/extconf.rb,
	      ext/socket/extconf.rb,
	      ext/pty/extconf.rb,
	      ext/tcltklib/extconf.rb
	      ext/Win32API/Win32API.c,
	      win32/dir.h, win32/win32.c, win32/win32.h, win32/resource.rb

Mon Jun 10 19:02:19 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* numeric.c (fix_lshift): negative shift count means right shift.
	  (ruby-bugs-ja:PR#248)

	* numeric.c (fix_rshift): return -1 when left side operand is
	  negative. (ruby-bugs-ja:PR#247)

	* parse.y (yylex): `0_' should be an error. (ruby-bugs-ja:PR#249)

Mon Jun 10 01:53:54 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): ruby_frame->last_func may be null, if it's
	  called outside of a method.

	* parse.y (arg): use INT2NUM, not INT2FIX for tUMINUS.

	* parse.y (arg): unnecessary negative tPOW treatment.

	* parse.y (tokadd_escape): wrong backslash escapement.

Sun Jun  9 17:40:41 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>

	* ext/dl: change the callback mechanism.

Sat Jun  8 00:48:38 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (stmt,arg): too much void value check.

	* parse.y (stmt,arg): need to check void value on rules which does
	  not use node_assign().

Thu Jun  6 19:50:39 2002  KONISHI Hiromasa <H_Konishi@@ruby-lang.org>

	* sample/biorhythm.rb (getPosiiton,etc)
	  fix at changing Date module ( Date is changed Fixnum to Rational )

Thu Jun  6 17:42:39 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/socket/socket.c (ipaddr): need not to taint hostnames.

Thu Jun  6 12:04:30 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* win32/Makefile.sub (config.status): use sub! instead of []= because
	  []= causes exception.

Thu Jun  6 11:42:15 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* lib/thread.rb (Queue::pop): get rid of race condition.

Tue Jun  4 23:09:24 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* range.c (range_include): should be based on "<=>", whereas
	  member? still is based on "each".

	* range.c (range_min,range_max): redefine methods based on "<=>".

Tue Jun  4 18:28:37 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/socket/extconf.rb: The IPv6 stack of Cygwin is still incomplete.

	* ext/Win32API/extconf.rb: refactoring.

Tue Jun  4 00:45:50 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/socket/addrinfo.h: typo.

	* ext/socket/getaddrinfo.c (gai_strerror): make literals const.

	* ext/socket/socket.c (init_inetsock): ensures resources are
	  freed at exceptions.

	* ext/socket/socket.c (init_unixsock): ditto.

	* ext/socket/socket.c (udp_connect): ditto.

Mon Jun  3 20:39:51 2002  Masaki Suketa  <masaki.suketa@@nifty.ne.jp>

	* ext/win32ole/extconf.rb : change PLATFORM with RUBY_PLATFORM.

Mon Jun  3 07:07:07 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (here_document): check if identifier is terminated.
	  (ruby-bugs-ja:PR#239)

	* parse.y (yylex): should pushback proper char after '**'.
	  (ruby-bugs-ja:PR#240)

Mon Jun  3 05:56:17 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_aset): should raise error if an indexing string
	  is not found in the receiver.

	* sprintf.c (rb_f_sprintf): "%d" should convert objects into
	  integers using Integer().

Sat Jun  1 19:20:07 2002  Masaki Suketa  <masaki.suketa@@nifty.ne.jp>

	* ext/win32ole: merge from rough.

Fri May 31 17:11:42 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* lib/tempfile.rb (Tempfile::size): added.

Thu May 30 12:52:42 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* range.c (range_step): iteration done using "+" if elements are
	  Numeric.  Otherwise using "succ".

	* range.c (range_each): iteration done using "succ".  If the
	  elements does not respond to "succ", raise TypeError.  As a
	  result, all Enumerable methods, e.g. collect, require elements
	  to respond to "succ".

	* range.c (range_member): comparison done using "each", if
	  elements are non-Numeric or no-"succ" objects.  Otherwise
	  compare using "<=>".

	* range.c (Init_Range): remove "size" and "length".

Thu May 30 09:16:36 2002  Wakou Aoyama  <wakou@@ruby-lang.org>

	* lib/cgi.rb: if StringIO is usable then use it.

Wed May 29 18:55:47 2002  KONISHI Hiromasa <H_Konishi@@ruby-lang.org>

	* function renames my* and win32_* to rb_w32_* in win32/win32.c
	  fixed files win32/win32.c, win32/win32.h, win32/dir.h, 
	              hash.c, rubysig.h, signal.c, ext/socket/socket.c

Wed May 29 17:32:55 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* time.c (tmcmp, search_time_t): activate unless HAVE_TIMEGM.

Wed May 29 13:45:15 2002  Wakou Aoyama  <wakou@@ruby-lang.org>

	* lib/cgi.rb: not use const if GET, HEAD. check multipart form head.

Tue May 28 17:56:02 2002  Sean Chittenden  <sean@@ruby-lang.org>

	* parse.y: yyparse #defines moved from intern.h

	* ruby.c (proc_options): access prefixed "ruby_yydebug".

	* applied modifies to pacify some of gcc -Wall warnings.
	
Tue May 28 14:07:00 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (arg): no more ugly hack for "**", so that "-2**2" to be
	  parsed as "(-2)**2", whereas "- 2**2" or "-(2)**2" to be parsed
	  as "-(2**2)".

	* parse.y (yylex): '-2' to be literal fixnum. [new]

Tue May 28 12:13:37 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (scope_node): trick to keep the node has a scope.

	* eval.c (rb_eval): NODE_EVSTR: write back local_tbl to the node.

	* eval.c (rb_eval): NODE_SCOPE: hold the scope node in ruby_scope.

	* eval.c (module_setup): ditto.

	* eval.c (rb_call0): ditto.

	* node.h (NEW_DASGN, NEW_DASGN_CURR): remove surplus semicolons.

Fri May 24 09:06:29 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_arg): nil test against v[6] (usec).

Thu May 23 16:39:21 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ruby.c (proc_options): option parsing problem.
	  (ruby-bugs-ja:PR#233)

Thu May 23 09:13:56 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.c (proc_options): removed "-*-" support for #! line.

	* io.c (rb_io_s_sysopen): new method to get a raw file
	  descriptor. [new]

	* ext/socket/socket.c (tcp_sysaccept): new method to return an
	  accepted socket fd (integer). [new]

	* ext/socket/socket.c (unix_sysaccept,sock_sysaccept): ditto.

Wed May 22 21:26:47 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ruby.c (proc_options): -T consumes digits only.

Wed May 22 20:18:31 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: need not link vsnprintf.o on MinGW.

Wed May 22 18:34:23 2002  Minero Aoki  <aamine@@loveruby.net>

	* parse.y (yylex): Here-document label ate '-'.

Tue May 21 13:25:18 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* misc/ruby-mode.el (ruby-font-lock-keywords): symbols end with
	  '_'.

Tue May 21 04:48:37 2002  Sean Chittenden <sean@@chittenden.org>

	* lib/cgi-lib.rb: Checking for constant MOD_RUBY instead of
	  environment variable. Remove a mod_ruby warning and use
	  Apache::request.headers_out[] instead.

Tue May 21 01:16:46 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (bodystmt): ensure clause was excuted on else clause
	  without rescue clause.

Tue May 21 00:20:25 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>

	* ext/dl/ptr.c: rename PtrData::alloc to PtrData::malloc.

	* ext/dl/lib/dl/struct.c: rename Struct#alloc to Struct#malloc.

Mon May 20 14:29:14 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (Init_Object): should do exact match for Module#==.

	* compar.c (cmp_eq): returns 'false' if <=> returns 'nil'.

	* compar.c (cmp_gt,cmp_ge,cmp_lt,cmp_le,cmp_between): ditto.

Mon May 20 13:28:52 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* io.c (rb_io_clone): writing stream was not copied properly.

Sat May 18 21:38:11 2002  Tadayoshi Funaba  <tadf@@dotrb.org>

	* lib/date.rb, lib/date/format.rb, lib/parsedate.rb:
	  updated to the new version (based on date2 3.2.1).

Sat May 18 21:18:00 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* win32/Makefile.sub (config.h): add VC++4/5 support about noreturn
	  directive.

Sat May 18 02:16:41 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* pack.c (pack_pack): should propagate taintedness.

	* pack.c (pack_unpack): ditto.

Fri May 17 16:16:19 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* sampl/test.rb: use eval instead of './miniruby -c',
	  in order to check a syntax error.

Thu May 16 14:46:34 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_thread_select): cleanup conditional compilation.

Wed May 15 06:13:35 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_schedule): need to preserve errno before
	  calling rb_trap_exec().

	* regex.c (calculate_must_string): a bug in charset/charset_not
	  parsing.

Tue May 14 18:17:44 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* win32/Makefile.sub: config.h inlined.  and catch up with the
	  latest change.

	* win32/config.h.in: no longer used.

Tue May 14 14:49:05 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* gc.c (is_pointer_to_heap): avoid GCC 3.1 warnings.

	* missing/strftime.c (timezone): it should take no argument on Cygwin.

Tue May 14 03:07:35 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_clear_cache_by_class): new function.

	* eval.c (set_method_visibility): should have clear cache for
	  updated visibility.

Mon May 13 14:38:33 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* djgpp/config.hin, djgpp/config.sed: catch up with the latest change.

Mon May 13 01:59:55 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (flo_to_s): default format precision to be "%.16g".

	* util.c (ruby_strtod): use own strtod(3) implementation to avoid
	  locale hell.  Due to this change "0xff".to_f no longer returns 255.0

Sun May 12 03:01:08 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* missing.h: add for missing/*.c.

	* ruby.h: add `#include "missing.h"'.

	* Makefile.in: add the dependency of missing.h by gcc -MM.

	* MANIFEST: add missing.h

Sat May 11 23:24:52 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>

	* ext/dl: enable dl's stack emulation for constructing function call.

Sat May 11 10:52:09 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* dir.c (glob_helper): remove escaping backslashes.

Sat May 11 02:46:43 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (avalue_to_yvalue): new function to distinguish yvalue
	  (no-arg == Qundef) from svalue (no-arg == Qnil).

	* eval.c (rb_yield_0): use avalue_to_yvalue().

	* eval.c (assign): warn if val == Qundef where it means rhs is
	  void (e.g. yield without value or call without argument).

Fri May 10 19:00:47 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (here_document): preserve line number begins here
	  document.

Fri May 10 01:55:44 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_thread_join): added an argument to limit time to wait
	  the thread.

	* eval.c (rb_thread_join_m): new. and added optional argument.

Wed May  8 23:48:40 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (value_expr): need not to warn for WHILE and UNTIL,
	  since they can have return value (via valued break).

Tue May  7 17:13:40 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: forgot to add '-Wl,' to the gcc option on Cygwin/MinGW.

Tue May  7 15:41:33 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/iconv/iconv.c (iconv_try): should initialize exceptions
	  properly. (ruby-bugs-ja:PR#232)

Tue May  7 15:28:03 2002  Minero Aoki  <aamine@@loveruby.net>

	* eval.c (rb_yield_0): The destination of the goto jump was wrong.

Tue May  7 09:17:51 2002  Minero Aoki  <aamine@@loveruby.net>

	* eval.c (superclass): undesirable "unexpected return" when the
	  superclass is not a Class.

Sun May  5 06:53:45 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/mkmf.rb: exclude topdir from the system configuration
	  section and prevent it from being overridden.

Fri May  3 20:19:00 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: add #include <errno.h> in AC_CHECK_DECLS().

	* win32/config.h.in: define HAVE_DECL_SYS_NERR.

Thu May  2 23:42:40 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_s_quote): # also should be quoted.

Thu May  2 18:27:13 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb.in, lib/mkmf.rb: use 'do...end' instead of '{}' for
	  Borland make.

Thu May  2 08:01:56 2002  Chris Thomas  <kenshin@@apple.com>

	* error.c: use HAVE_DECL_SYS_NERR instead of platform names.

Tue Apr 30 09:23:05 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (num_step): better iteration condition for float
	  values;  suggested by Masahiro TANAKA <masa@@ir.isas.ac.jp>.

Tue Apr 30 05:59:42 2002  Michal Rokos  <m.rokos@@sh.cvut.cz>

	* range.c (range_step): step (for Range#step method) <= 0 makes no
	  sence, thus ArgError will be raised.

	* range.c (range_each): Range#each method is special case for
	  Range#step(1)

Mon Apr 29 18:46:42 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_find_file): load must be done from an abolute path if
	  $SAFE >= 4.

Sun Apr 28 17:01:56 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.c (insert): fix prototype for ANSI C.

Fri Apr 26 13:47:15 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* enum.c (enum_partition): new method. [new]

Fri Apr 26 13:41:00 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_s_quote): quote whitespaces for /x cases.

Fri Apr 26 06:48:23 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>

	* ext/dl/ptr.c (cary2ary): missing break in switch statements.

Fri Apr 26 09:35:47 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_proc_new): make Proc from C function. [new]

	* intern.h (rb_proc_new): prototype.

Wed Apr 24 14:56:46 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (proc_to_proc): return self. [new]

	* eval.c (block_pass): no need to convert if block is Proc.

Wed Apr 24 14:21:41 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: set size of the initial stack from
	  2MB to 32MB on MinGW/Cygwin.

Wed Apr 24 14:06:35 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (num_step): try to reduce residual on Float operations.

Wed Apr 24 06:48:31 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* io.c (rb_io_mode_flags): both 'r+b' and 'rb+' should be allowed.

	* io.c (rb_io_mode_modenum): ditto.

Wed Apr 24 01:16:14 2002  Nobuyoshi Nakada  <nobu@@ruby-lang.org>

	* ext/stringio/stringio.c (strio_mark): must check if ptr is NULL
	  first.  [ruby-talk:38873]

	* lib/mkmf.rb (create_makefile): should print depend file when
	  make is other than nmake.

Wed Apr 24 00:37:12 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* ext/extmk.rb.in (create_makefile): use `{$(srcdir)}' directive instead
	  of `$(srcdir)/' when including depend file.

	* lib/mkmf.rb (create_makefile): add `{$(srcdir)}' when including depend
	  file.

Tue Apr 23 12:58:18 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (rb_memerror): rename from mem_error, and exported.

	* gc.c (Init_GC): pre-allocate NoMemoryError instance.

	* object.c (convert_type): error message changed from "failed to
	  convert" to "cannot convert", since it does not try to convert
	  if an object does not respond to the converting method.

Mon Apr 22 09:31:30 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (block_pass): convert Method to Proc using
	  rb_check_convert_type().

	* object.c (rb_check_convert_type): always convert T_DATA

	* eval.c (rb_thread_cleanup): should not terminate main_thread by
	  Fatal error.

	* regex.c (is_in_list): need to not exclude NUL and NEWLINE.

Sat Apr 20 00:19:13 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_expr_str): wrong backslash escapement.

	* re.c (rb_reg_expr_str): do not escape embedded space
	  characters.

Fri Apr 19 22:03:40 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* win32/Makefile.sub: add -DNT to $CFLAGS instead of $CPPFLAGS.

	* win32/setup.mak: ditto.

Fri Apr 19 17:24:22 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_object): T_DATA process patch from Joel VanderWerf
	  <vjoel@@PATH.Berkeley.EDU>.  This is temporary hack; it remains
	  undocumented, and it will be removed when marshaling is
	  re-designed.

	* marshal.c (r_object): ditto.

Fri Apr 19 17:10:55 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (num_step): Integer#step is moved to Numeric#step;
	  Fixnum#step is merged into this method.

	* numeric.c (int_dotimes): Fixnum#times is merged.

	* numeric.c (int_upto): Fixnum#upto is merged.

	* numeric.c (int_downto): Fixnum#downto is merged.

Fri Apr 19 16:22:55 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/socket/extconf.rb: include <windows.h>, <winsock.h> on _WIN32.

	* win32/win32.c: include <mswsock.h> on __MINGW32__.

	* configure.in: cleanup for autoconf 2.5x.

	* configure.in: use gcc -shared instead of dllwrap on Cygwin/MinGW.

	* ext/extmk.rb, lib/mkmf.rb: get rid of "--def=".

Fri Apr 19 14:57:44 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* re.c (rb_reg_to_s): remove redundant shy group.

Fri Apr 19 01:08:20 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_cleanup): current thread may be THREAD_STOPPED,
	  for example when terminated from signal handler.

Thu Apr 18 19:03:15 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_compile_pattern): remove /p support.

	* regex.h: ditto.

	* parse.y (parse_regx): ditto.

Thu Apr 18 17:01:43 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>

	* ext/dl/ptr.c (rb_dlptr_cast): removed.

Thu Apr 18 17:01:43 2002  Tanaka Akira  <akr@@m17n.org>

	* re.c (rb_reg_to_s): new function for Regexp#to_s.

Wed Apr 17 23:55:34 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/Setup*, ext/bigfloat/*: Back out the import of BigFloat in
	  favor of its forthcoming successor, BigDecimal.

Wed Apr 17 16:53:33 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_expr_str): should treat backslash specially in
	  escaping.

Wed Apr 17 08:16:41 2002  Michal Rokos  <m.rokos@@sh.cvut.cz>

	* io.c: complete off_t handling; missing argument for
	  fptr_finalize(); polished rb_scan_args call.

Wed Apr 17 00:01:59 2002  Michal Rokos  <m.rokos@@sh.cvut.cz>

	* dir.c: wrap multi-statment macro by do { } while (0)

	* eval.c, numeric,c, sprintf.c, util.c: ditto.

Tue Apr 16 08:59:50 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (assign): convert mrhs to mvalue.

Mon Apr 15 18:12:57 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big_eq): check `y == x' if y is neither Fixnum,
	  Bignum, nor Float.

Mon Apr 15 09:27:31 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* pack.c (pack_unpack): should treat 'U' in character unit, not in
	  byte unit.

	* error.c (exc_initialize): should clear backtrace information.

Sat Apr 13 23:42:43 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_fptr_cleanup): should close IO created by IO.new(fd).

	* rubyio.h: remove FMODE_FDOPEN

Fri Apr 12 12:54:04 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* win32/Makefile.sub: use missing/acosh.c.

	* win32/config.h.in: define HAVE_COSH, HAVE_SINH, and HAVE_TANH.

Fri Apr 12 02:58:55 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* struct.c (rb_struct_select): fix typo.

Fri Apr 12 00:34:17 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* MANIFEST (missing/acosh.c): added.

	* Makefile.in (missing/acosh.c): ditto.

	* Makefile.in (missing/fileblocks.c): ditto.

	* configure.in (AC_REPLACE_FUNCS): check acosh() on behalf of
	  inverse hyperbolic functions, asinh() and atanh().

	* missing/acosh.c: added for acosh(), asinh() and atanh().

Thu Apr 11 20:01:44 2002  Masahiro Tomita  <tommy@@tmtm.org>

	* io.c (io_write): check error if written data is less than
	  specified size to detect EPIPE.

Thu Apr 11 19:10:37 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* io.c (remain_size): IO#read returns "" if file.size == 0.

	* random.c (rand_init): add check for initstate(3).

	* configure.in: ditto.

Thu Apr 11 09:31:19 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>

	* ext/dl/ptr.c: raise() -> rb_raise(). (Thanks Tetsuya Watanabe)

	* ext/dl/sym.c: ditto.

Thu Apr 11 07:57:48 2002  Michal Rokos  <m.rokos@@sh.cvut.cz>

	* eval.c (assign): ruby_verbose should be surrounded by RTEST().

	* object.c (rb_str2cstr): ditto.

	* parse.y (void_expr): ditto.

	* parse.y (void_stmts): ditto.

	* variable.c (rb_ivar_get): ditto.

	* variable.c (rb_cvar_set): ditto.

	* variable.c (rb_cvar_get): ditto.

Thu Apr 11 07:02:31 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>

	* ext/dl: Add dl.txt instead of README and README.html.

Thu Apr 11 01:55:52 2002  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi/session.rb: support for multipart form.

Wed Apr 10 18:42:23 2002  Tachino Nobuhiro <tachino@@jp.fujitsu.com>

	* dir.c (glob_helper): should have proceed link when link->path
	  was non existing symbolic link.

Wed Apr 10 17:30:19 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_obj_remove_instance_variable): raise NameError if
	  specified instance variable is not defined.

	* variable.c (generic_ivar_remove): modified to check ivar
	  existence.

Wed Apr 10 14:16:45 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* misc/ruby-mode.el (ruby-font-lock-keywords): fontify symbols for
	  unary operators and aset.

Tue Apr  9 13:40:31 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* lib/mkmf.rb (try_link0): need expand macro in command, sync with
	  ext/extmk.rb.in.

	* lib/mkmf.rb (try_cpp): ditto.

	* lib/mkmf.rb (egrep_cpp): ditto.

Tue Apr  9 12:44:59 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/stringio/stringio.c (check_modifiable): performance
	  improvement.  avoid calling rb_str_modify() twice.

	* ext/stringio/stringio.c (strio_ungetc): ditto.

	* ext/stringio/stringio.c (strio_putc): ditto.

	* ext/stringio/stringio.c (strio_write): ditto, and use
	  rb_str_cat() as possible.

Tue Apr  9 05:17:48 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* re.c (match_select): fix index references and make
	  MatchData#select actually work.

Tue Apr  9 00:20:52 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_file_s_extname): new method based on the proposal
	  (and patch) from Mike Hall. [new]

Mon Apr  8 04:50:51 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (error_handle): default to 1 unless status is set.

	* eval.c (ruby_options): guard error_handle() with PROT_NONE.

	* eval.c (ruby_stop): ditto.

Mon Apr  8 01:22:24 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* math.c (math_acosh): added. [new]

	* math.c (math_asinh): ditto.

	* math.c (math_atanh): ditto.

	* struct.c (rb_struct_each_pair): method added. [new]

Sat Apr  6 02:04:49 2002  Guy Decoux  <ts@@moulon.inra.fr>

	* class.c (rb_singleton_class): wrong condition; was creating
	  unnecessary singleton class.

Sat Apr  6 01:09:41 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* sprintf.c (remove_sign_bits): simplifies the condition.

	* bignum.c (get2comp): calculate proper carry over.

Fri Apr  5 05:07:28 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>

	* ext/dl: Add dl/struct.rb.

Thu Apr  4 14:08:52 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>

	* ext/dl/lib/dl/import.rb: Get rid of ineffective
	  encoding/decoding procedures.

Thu Apr  4 01:08:23 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (int_step): step may be a float less than 1.

Wed Apr  3 20:42:34 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>

	* ext/dl: Merge Nakada's patch.

	* ext/dl/dl.h: define StringValuePtr for ruby-1.6.

Wed Apr  3 15:37:24 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>

	* ext/dl: Add dl/types.rb.

Wed Apr  3 01:54:10 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/extmk.rb.in (enable_config): follow lib/mkmf.rb.

Tue Apr  2 19:59:13 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>

	* ext/dl: Merge from rough.

Tue Apr  2 15:17:54 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* Makefile.in (CPPFLAGS): remove @@includedir@@.

	* lib/mkmf.rb (create_makefile): ditto.

	* ext/extmk.rb.in (create_makefile): ditto.

Tue Apr  2 15:09:05 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/socket/socket.c (sock_addrinfo): should clear addrinfo hints.

Mon Apr  1 23:48:12 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>

	* lib/mkmf.rb: install any files using $INSTALLFILES.
	  (see also [ruby-dev:16683])

Mon Apr  1 17:25:50 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_fptr_cleanup): need flush even when io will not be
	  closed. 

	* io.c (rb_io_initialize): was calling wrong function
	  rb_io_mode_flags().

Mon Apr  1 16:52:00 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/sdbm/init.c (each_pair): moved prototype before the
	  definition.

	* ext/racc/cparse/cparse.c (call_scaniter): ditto.

Mon Apr  1 15:11:40 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* ext/racc/cparse/cparse.c: prototype; call_scaniter().

	* ext/sdbm/init.c: prototype; each_pair().

	* ext/tcltklib/tcltklib.c: prototypes; _timer_for_tcl() and ip_ruby(),
	  Nobu's patch at [ruby-dev:14483].

Mon Apr  1 10:56:40 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (match_setter): it's OK to assign nil to $~.

Mon Apr  1 03:55:46 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_fptr_cleanup): do not close IO created by for_fd().

	* io.c (rb_io_initialize): mark IO created by for_fd

	* ext/socket/socket.c (bsock_s_for_fd): ditto.

Fri Mar 29 20:21:58 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* lib/mkmf.rb (create_makefile): default FLAGS to empty strings.

Fri Mar 29 16:36:52 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* lib/mkmf.rb (arg_config): should use Shellwords::shellwords like
	  ext/extmk.rb.in.

	* lib/mkmf.rb (enable_config): default had priority over command
	  line options and configure_args.

	* lib/mkmf.rb: support autoconf 2.53 style variables from
	  environment.

	* lib/mkmf.rb: add directory options.

Fri Mar 29 15:49:29 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* win32/README.win32: follow recent changes.

Fri Mar 29 14:44:05 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (io_fflush): DRY patch from /Christoph applied.

Thu Mar 28 18:58:13 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* win32/Makefile.sub (config.status): reflect user defined $CC in
	  config.status.

Thu Mar 28 18:03:51 2002  Minero Aoki  <aamine@@loveruby.net>

	* ext/strscan/strscan.c: add taint check.

	* ext/strscan/strscan.c: #getch/#get_byte should set regexp
	  registers.

	* ext/strscan/strscan.c: remove useless #include directive.

	* ext/strscan/strscan.c: refactor struct strscanner.

Thu Mar 28 14:51:38 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/socket/socket.c (sock_addrinfo): should specify socktype
	  from outside.

Wed Mar 27 17:04:30 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (argf_binmode): should call next_argv() to initialize ARGF.

	* io.c (argf_filename): ditto.

	* io.c (argf_file): ditto.

Wed Mar 27 14:47:32 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* io.c (READ_DATA_PENDING): configure.in has supported for uClibc,
	  so remove uClibc stuff.

Wed Mar 27 13:14:43 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_sysseek): new method based on a patch from Aristarkh
	  A Zagorodnikov <xm@@bolotov-team.ru>. [new]

	* io.c (READ_DATA_PENDING): use !feof(fp) for default behavior.

Tue Mar 26 20:28:50 2002  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/http.rb: HTTP.get accepts URI.

	* lib/net/http.rb: new method HTTP.get_uri.

	* lib/net/http.rb: add some HTTP 1.1 response codes.

Tue Mar 26 20:25:28 2002  Minero Aoki  <aamine@@loveruby.net>

	* doc/net/protocol.rd.ja, smtp.rd.ja, pop.rd.ja: removed.

	* MANIFEST: remove doc/net/* entries.

Tue Mar 26 18:45:15 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in (FILE_READPTR): check bufread instead of bufend
	  for uClibc.
	
	* ext/extmk.rb.in (arg_config): should use Shellwords::shellwords.

Tue Mar 26 01:56:33 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (primary): while/until statement modifiers to "begin"
	  statement now work as "do .. while" even when begin statement
	  has "rescue" or "ensure" [new].

	* parse.y (bodystmt): rescue/ensure is allowed at every bodies,
	  i.e. method bodies, begin bodies, class bodies[new], and module
	  bodies[new].

Mon Mar 25 22:10:04 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/socket/socket.c (sock_addrinfo): should specify ai_socktype
	  for getaddrinfo hints.

Mon Mar 25 17:18:48 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* dir.c (rb_push_glob): local variable 'maxnest' was
	  uninitialized.

Mon Mar 25 16:53:30 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_f_abort): embed aborting message into exception
	  object [new].

	* eval.c (terminate_process): utility function for exit and abort.

Tue Mar 26 14:04:47 2002  okabe katsuyuki <HGC02147@@nifty.ne.jp>

	* win32/mkexports.rb: support VC++.NET.

Tue Mar 26 14:00:17 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/bigfloat/bigfloat.c: Fix the initializer's function name
	  according to the new library name. (pointed out by nobu)

Tue Mar 26 11:12:01 2002  Minero Aoki  <aamine@@loveruby.net>

	* lib/fileutils.rb: new file.

Tue Mar 26 03:23:50 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/pp.rb (pp): return nil like p.

Tue Mar 26 01:48:01 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/bigfloat/extconf.rb: Downcase the library name. (BigFloat.so
	  -> bigfloat.so)

	* ext/bigfloat/bigfloat.c (BigFloat_inspect): Alter the inspect
	  format not to look like an array. (pointed out by akr)

	* ext/bigfloat/bigfloat.c (BigFloat_hash): Implement BigFloat#hash.

	* ext/bigfloat/bigfloat.c (BigFloat_dump, BigFloat_load):
	  Support marshaling.

Tue Mar 26 00:38:11 2002  Tanaka Akira  <akr@@m17n.org>

	* configure.in (FILE_READPTR): check _p for 4.4BSD.

Mon Mar 25 23:39:25 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* configure.in (FILE_READPTR): new.  for IO#gets improvement.

	* io.c (READ_DATA_PENDING_PTR): ditto.

	* io.c (remain_size): separated from read_all().

	* io.c (read_all): argument chagend.

	* io.c (appendline): new.  get a line and append to string.

	* io.c (swallow): new.  swallow continuous line delimiters.

	* io.c (rb_io_getline_fast): add delimiter argument.

	* io.c (rb_io_getline): performance improvement.

Mon Mar 25 19:30:25 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb.in (arg_config): get rid of single quotes
	  for autoconf 2.53.

Mon Mar 25 17:49:41 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* regex.c (mbc_startpos_func): VC6 seems to be unable to
	  understand forward declaration for static variables.

	* dir.c (rb_push_glob): local variable 'maxnest' was
	  uninitialized.

Mon Mar 25 13:24:20 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/socket/socket.c (bsock_do_not_rev_lookup_set): should not be
	  allowed when $SAFE > 3.

	* eval.c (rb_thread_ready): THREAD_TO_KILL threads should not turn
	  into THREAD_RUNNABLE on wakeup.

	* eval.c (rb_thread_list): THREAD_TO_KILL threads should be in the
	  list. 

	* eval.c (thgroup_list): ditto; by moving gid clearance from
	  rb_thread_cleanup().

Mon Mar 25 11:06:19 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* dln.c (dln_argv0): unused unless USE_DLN_A_OUT.

	* regex.c (mbc_startpos_func): should be static.

Sun Mar 24 12:19:09 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* dir.c (fnmatch): "*/bar" (with FNM_PATHNAME flag) does not
	  match "foo/bar".

Sun Mar 24 00:46:05 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* util.c (push_element): avoid warning for djgpp.

Sat Mar 23 01:50:30 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (read_all): files on /proc filesystem with zero stat size,
	  may have contents.

Fri Mar 22 18:07:29 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/socket/socket.c (tcp_s_gethostbyname): refactored.

	* ext/socket/socket.c (sock_s_gethostbyname): ditto.

Fri Mar 22 16:46:54 2002  Minero Aoki  <aamine@@loveruby.net>

	* ext/extmk.rb.in: replace mkdir with mkpath to compile racc/cparse.

Fri Mar 22 16:22:55 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* the VMS support patch submitted by Akiyoshi, Masamichi
	  <Masamichi.Akiyoshi@@jp.compaq.com> is merged.

Fri Mar 22 16:27:24 2002  Minero Aoki  <aamine@@loveruby.net>

	* lib/racc/parser.rb: new file.

	* ext/racc/MANIFEST, cparse.c, depend, extconf.rb: new files.

	* lib/README: add racc/parser.rb.

	* ext/Setup*: add racc/cparse.

Fri Mar 22 15:04:03 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (exec_under): changing ruby_class is OK, but should not
	  alter cbase.

	* eval.c (yield_under_i): ditto.

Fri Mar 22 15:44:38 2002  Minero Aoki  <aamine@@loveruby.net>

	* ext/strscan/MANIFEST, strscan.c, depend, extconf.rb: new files.

	* ext/Setup*: add strscan entry.

Fri Mar 22 14:32:14 2002  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/protocol.rb: Protocol#start should return self.

Fri Mar 22 14:14:21 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/resolv.rb: fix arguments to create exceptions.
	  Patch from matt@@lickey.com.  (ruby-bugs:PR#278)

Fri Mar 22 13:51:11 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/bigfloat/.cvsignore, ext/bigfloat/MANIFEST: BigFloat 1.1.8
	  has been imported.  Add .cvsignore and MANIFEST.

Fri Mar 22 04:07:55 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* sprintf.c (rb_f_printf): discard meaningless prefix ".." for '%u'.

Thu Mar 21 01:11:37 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* win32/Makefile.sub (config.status): fix install path (prefix).

Thu Mar 21 01:03:05 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/configsub.rb: latest autoconf style support.

Wed Mar 20 22:16:25 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* mkconfig.rb: close duplicated $stdout before renaming rbconfig.rb.

Wed Mar 20 21:54:17 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* win32/Makefile.sub: made variables configurable.

	* win32/Makefile.sub (config.h): updates RUBY_PLATFORM from
	  Makefile.

	* win32/Makefile.sub (config.status): ditto. and use recent
	  autoconf format.

	* win32/Makefile.sub (clean): separate ext and local clean up.

	* win32/Makefile.sub (distclean): ditto.

	* win32/config.status.in: no longer used.

Wed Mar 20 20:12:35 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* variable.c (rb_const_list): a temporary table must be freed.

Wed Mar 20 19:44:09 2002  Tanaka Akira  <akr@@m17n.org>

	* mkconfig.rb: don't touch rbconfig.rb if there is a trouble.

Wed Mar 20 16:05:37 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (is_defined): should check receiver only once.

	* eval.c (is_defined): should handle NODE_NEWLINE.

Wed Mar 20 11:29:25 2002  Aristarkh A Zagorodnikov  <xm@@xml-objects.com>

	* file.c (rb_file_s_expand_path): memory leak fixed.

Wed Mar 20 00:36:43 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* util.c (ruby_getcwd): the content of buf is uncertain and must
	  not be printed when getcwd(buf, size) has failed.

Mon Mar 18 22:19:52 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/stringio/stringio.c (check_modifiable): wrong declaration.

Mon Mar 18 18:04:05 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/digest: add depend file.

	* ext/digest/md5: ditto.

	* ext/digest/rmd160: ditto.

	* ext/digest/sha1: ditto.

	* ext/digest/sha2: ditto.

	* ext/iconv/MANIFEST: ditto.

	* ext/stringio/MANIFEST: ditto.

	* ext/syslog: ditto.

Mon Mar 18 17:18:06 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_f_abort): should not bypass cleanup.

	* ext/stringio/stringio.c (check_modifiable): void function.

Mon Mar 18 12:52:01 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/iconv/extconf.rb: workaround for GNU libiconv.

Mon Mar 18 10:55:03 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (parse_string): part of multi-byte sequence must not
	  match to paren.

	* parse.y (parse_qstring): ditto.

	* parse.y (parse_quotedwords): ditto.

	* parse.y (str_extend): handle multi-byte characters.

Mon Mar 18 10:31:20 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* enum.c (enum_find): catch a value before recycle.

	* enum.c (enum_all): ditto.

	* enum.c (enum_any): ditto.

	* enum.c (enum_min): ditto.

	* enum.c (enum_max): ditto.

Sun Mar 17 20:08:04 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/iconv/depend: added. 

	* ext/stringio/depend: added. 

Sat Mar 16 22:43:53 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* missing/fileblocks.c: add for autoconf.

Sat Mar 16 15:30:40 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_search): should clear last_match if pos is out of
	  string range.

	* string.c (rb_str_index_m): ditto.

	* string.c (rb_str_rindex): ditto.

Sat Mar 16 09:04:58 2002  Koji Arai <JCA02266@@nifty.ne.jp>

	* enum.c (enum_inject): use the first iterated element as the
	  initial value when omitted.

	* enum.c (inject_i): ditto.

	* enum.c (Init_Enumerable): Enumerable#inject now takes variable
	  count arguments.

Fri Mar 15 19:47:31 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* win32/win32.c (StartSockets): remove duplicated lines.

Fri Mar 15 17:44:08 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* bignum.c, intern.h (rb_ull2big, rb_ll2big, rb_ull2inum, rb_ll2inum,
	  big2ull, rb_big2ull, rb_big2ll): use LONG_LONG macro instead of
	  long long.

	* numeric.c, intern.h, ruby.h (rb_num2ll, rb_num2ull): ditto.

	* ruby.h: use _I64_MAX and _I64_MIN if they are defined (for VC++).

Fri Mar 15 14:02:43 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/iconv/iconv.c: fixed document, Iconv#new is no longer an
	  iterator. thanks to Tanaka Akira <akr@@m17n.org>.

Thu Mar 14 22:17:45 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/iconv: imported.

Thu Mar 14 16:42:37 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_define_class): should handle autoload.

	* class.c (rb_define_module): ditto.

Thu Mar 14 16:18:12 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: autoconf 2.53 support. use AC_LIBOBJ.

Thu Mar 14 00:29:12 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_match): should clear $~ if operand is nil.

	* re.c (rb_reg_match2): ditto.

Thu Mar 14 12:32:59 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/stringio/stringio.c: fixed frozen string bug.  ungetc no
	  longer raises on readonly stream unless modifies actually.

Thu Mar 14 08:57:41 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* dir.c (rb_push_glob): avoid SEGV when a block given.

Thu Mar 14 00:16:02 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* string.c (rb_str_subpat_set): must make str independent after
	  rb_reg_search() matched.

Wed Mar 13 19:05:15 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* dir.c: FNM_PERIOD is obsoleted and FNM_DOTMATCH is introduced
	  instead, which has the opposite meaning of FNM_PERIOD.

	* dir.c: Dir::glob now accepts optional FNM_* flags via the second
	  argument, whereas Dir::[] doesn't.

Wed Mar 13 18:36:55 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/getopts.rb: single_options can be nil[*], and is not not
	  optional. ([*]Pointed out by gotoken)

Wed Mar 13 17:23:46 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* configure: merge Jonathan Baker's large file support patch
	  [ruby-talk:35316], with read_all patch in [ruby-talk:35470].

Wed Mar 13 04:06:48 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_f_abort): optional message argument that be printed
	  on termination.

Tue Mar 12 17:12:06 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/resolv.rb: don't complete domains for absolute FQNs.

Mon Mar 11 23:08:48 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/tsort.rb: new file.

Mon Mar 11 21:03:37 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/stringio: new.

Mon Mar 11 18:03:37 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_compile_pattern): '\0111' should be '\011' plus '1',
	  since octal literals are formed by three digits at most.

Mon Mar 11 14:44:38 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_object): module inclusion using extend() should
	  also be detected.

	* eval.c (rb_eval_cmd): cbase should not be NULL; it should be
	  either ruby_wrapper or Object.

Sun Mar 10 02:18:22 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* enum.c (enum_each_with_index): should return self.

	* process.c (proc_setpgrp): should return value for non-void function.

	* process.c (proc_getpgid): should raise exception if getpgid() return -1.

	* string.c (rb_str_ljust): should return a duplicated string.

	* string.c (rb_str_rjust): ditto.

	* string.c (rb_str_center): ditto.

Sat Mar  9 08:45:58 2002  Tanaka Akira  <akr@@m17n.org>

	* ext/socket/extconf.rb (have_struct_member): don't print checked
	result.

Fri Mar  8 12:19:15 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/resolv.rb: use its own thread group for background threads.

Fri Mar  8 02:21:32 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (cvar_cbase): utility function to find innermost non
	  singleton cbase.

	* eval.c (is_defined): adopt new cvar behavior.

	* eval.c (rb_eval): ditto.

	* eval.c (assign): ditto.

Thu Mar  7 20:08:25 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* gc.c (rb_source_filename): added. holds unique strings for file
	  names with GC space.

	* gc.c (rb_gc_mark): mark source file name.

	* gc.c (gc_sweep): ditto.

	* gc.c (Init_GC): initialize source file name table.

	* intern.h (rb_source_filename): added.

	* eval.c (rb_eval_string): use rb_source_filename().

	* parse.y (yycompile): ditto.

	* ruby.c (proc_options): ditto.

	* ruby.c (load_file): ditto.

	* ruby.c (ruby_script): ditto.

	* ruby.c (ruby_prog_init): ditto.

Wed Mar  6 17:58:08 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* dln.c (dln_load): use LoadLibrary instead of LoadLibraryEx.

Wed Mar  6 16:50:37 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_mod_clone): should not call rb_obj_clone(), since
	  Module does not provide "allocate".

	* class.c (rb_singleton_class): should create new singleton class
	  if obj is a class or module and attached object is different,
	  which means metaclass of singleton class is sought.

	* time.c (time_s_alloc): now follows allocation framework.

Tue Mar  5 05:56:29 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/getopts.rb: Rewrite to fix some bugs and complete features.
	  - Accept options with the colon in the first argument;
	    getopts("a:bcd:") is equivalent to getopts("bc", "a:", "d:").
	  - Do not discard the argument that caused an error.
	  - Do not discard '-', which commonly stands for stdin or stdout.
	  - Allow specifying a long option with a value using '='.
	    (command --long-option=value)
	  - Stop reading options when it meets a non-option argument.

Mon Mar  4 13:19:18 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in (dir_config): Sync with mkmf.rb: Fix a bug where
	  --with-xx-{include,lib} is ignored when --with-xx-dir is
	  specified.

Mon Mar  4 00:09:55 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): should initialize outer class variables from
	  methods in singleton class definitions.

	* eval.c (assign): ditto.

Fri Mar  1 11:29:10 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/socket/{addinfo.h,getaddrinfo.c} (gai_strerror): add const
	  qualifier only for uClibc.

Fri Mar  1 11:22:51 2002  Amos Gouaux  <amos+ruby@@utdallas.edu>

	* lib/net/imap.rb: added document.

	* lib/net/imap.rb (getquotaroot): new method.

	* lib/net/imap.rb (setacl): remove the rights if the rights
	  parameter is nil.

	* lib/net/imap.rb (getacl): return an array of MailboxACLItem.

Fri Mar  1 06:25:49 2002  Tanaka Akira  <akr@@m17n.org>

	* ext/socket/extconf.rb (have_struct_member): new method.
	  check msg_control and msg_accrights in struct msghdr.  check
	  sys/uio.h.

	* ext/socket/socket.c: include sys/uio.h if available.
	  (thread_read_select): new function.
	  (unix_send_io): ditto.
	  (unix_recv_io): ditto.
	  (unix_s_socketpair): ditto.
	  (Init_socket): define UNIXSocket#send_io, UNIXSocket#recv_io, 
	  UNIXSocket.socketpair and UNIXSocket.pair.

	* dln.c (dln_load): fix typo.

Wed Feb 27 16:30:50 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_mod_include): load modules in argument order.

	* st.c (st_init_table_with_size): num_bins should be prime numbers
	  (no decrement).

	* st.c (rehash): ditto.

Wed Feb 27 13:18:49 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* io.c (READ_DATA_PENDING): uClibc support.

	* random.c (rand_init): ditto.

	* ext/socket/{addinfo.h,getaddrinfo.c} (gai_strerror): ditto.

Wed Feb 27 07:05:17 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/sha2/sha2.c: Merge from rough.  Fix a couple of
	  off-by-one errors in Aaron Gifford's code.

	  Obtained from:  KAME via FreeBSD
	  KAME PR:        393
	  FreeBSD PR:     kern/34242

Wed Feb 27 03:36:47 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* ext/dbm/dbm.c (fdbm_select): 1.7 behavior.

	* ext/gdbm/gdbm.c (fgdbm_select): ditto.

	* ext/sdbm/sdbm.c (fsdbm_select): ditto.

	* ext/dbm/dbm.c (fdbm_delete): adopt Hash#delete behavior.

	* ext/sdbm/sdbm.c (fsdbm_delete): ditto.

	* ext/gdbm/gdbm.c: need not to dup key to the block.

	* ext/sdbm/sdbm.c : replace RuntimeError with SDBMError.

Tue Feb 26 21:34:07 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* bignum.c (rb_big_2comp): void function cannot return any value.

Tue Feb 26 16:52:12 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_f_missing): NoMethod error messages for true, false,
	  nil must respond visibility like for other objects.

Tue Feb 26 15:41:30 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): call trace_func for if/while conditions.

	* marshal.c (r_object): separate r_regist from proc calling.

Tue Feb 26 11:25:50 2002  akira yamada  <akira@@arika.org>

	* lib/uri/generic.rb: merge0 shuld return [oth, oth] if oth is
	  absolute URI. 

	* lib/uri/generic.rb: registry part must not be allowed for any
	  schemes for the Internet. (RFC2396, section 3.2.2 and 3.2.1.) 

Mon Feb 25 21:22:41 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/syslog/syslog.c: Merge from rough.  Use SafeStringValue().

Mon Feb 25 21:12:08 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/syslog/syslog.c: Merge from rough.  Turn Syslog into a
	  module keeping backward compatibility intact.

Mon Feb 25 19:35:48 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* sample/test.rb (system): test with scripts under the source
	  directory.

Mon Feb 25 15:14:01 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (method_inspect): should not dump core for unbound
	  singleton methods.

	* object.c (rb_mod_to_s): better description.

Mon Feb 25 13:32:13 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* lib/shell.rb (Shell::expand_path): relative to @@cwd.

Mon Feb 25 06:30:11 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* hash.c (env_select): should path the assoc list.

Sun Feb 24 17:20:22 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/*/*.h: Merge from rough.
	  - Avoid namespace pollution. (MD5_* -> rb_Digest_MD5_*, etc.)

Sat Feb 23 21:12:13 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* process.c (rb_syswait): thread kludge; should be fixed to
	  support native thread.

Fri Feb 22 21:20:53 2002  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/protocol.rb: set read_timeout dynamically.

	* lib/net/http.rb: @@@@newimpl is always true in the main trunk.

	* lib/net/http.rb: HTTP.port -> default_port

	* lib/net/http.rb: HTTPResponse.read_response_status ->
	  read_status_line

Fri Feb 22 19:56:15 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* win32/config.status.in: set LIBRUBY_SO.

Fri Feb 22 03:34:38 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (get2comp): need to specify to carry or not.

	* io.c (rb_io_inspect): embed path info.

Fri Feb 22 11:30:01 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/prettyprint.rb: FillGroup implemented.

Thu Feb 21 21:40:18 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* ext/extmk.rb.in (create_makefile): remove unnecessary -L option from
	  LIBS macro.

Thu Feb 21 02:49:12 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* pack.c (pack_pack): wrong # comment treatment.

	* pack.c (pack_unpack): ditto.

Wed Feb 20 15:15:03 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* intern.h: prototypes; rb_io_addstr(), rb_io_printf(),
	  rb_io_print(), rb_io_puts()

	* io.c (rb_io_addstr): make extern.

	* io.c (rb_io_printf): ditto.

	* io.c (rb_io_print): ditto.

	* io.c (rb_io_puts): ditto.

Wed Feb 20 13:41:35 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* io.c (rb_io_close): return Qnil.

Wed Feb 20 12:41:59 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_any_cmp): should handle Qundef in keys.

	* eval.c (remove_method): should not remove a empty method to
	  implement "undef".

	* eval.c (rb_eval): should allow singleton class def for
	  true/false/nil.

Tue Feb 19 21:43:32 2002  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/protocol.rb: rename Protocol.port to default_port.

	* lib/net/smtp.rb: ditto.

	* lib/net/pop.rb: ditto.

	* lib/net/http.rb: ditto.

	* lib/net/protocol.rb: rename BufferedSocket class to
	  InternetMessageIO.

	* lib/net/smtp.rb: ditto.

	* lib/net/pop.rb: ditto.

	* lib/net/http.rb: ditto.

	* lib/net/protocol.rb: rename InternetMessageIO#write_pendstr to
	  write_message.

	* lib/net/smtp.rb: ditto.

	* lib/net/protocol.rb: new method
	  InternetMessageIO#through_message.

	* lib/net/smtp.rb: ditto.

	* lib/net/protocol.rb: rename InternetMessageIO#read_pendstr to
	  read_message_to.

	* lib/net/pop.rb: ditto.

	* lib/net/protocol.rb: rename InternetMessageIO#read_pendlist to
	  each_list_item

	* lib/net/pop.rb: ditto.

	* lib/net/protocol.rb: Now block size is 1024.

	* lib/net/smtp.rb: new methods SMTP#esmtp? and #esmtp=.

	* lib/net/http.rb: Using singleton method syntax instead of
	  singleton class clause, to avoid behavior change of class
	  variables in ruby 1.7.

	* lib/net/http.rb: HTTPResponse class does not inherit from
	  Net::Response.

	* lib/net/http.rb: devide HTTP#connecting into
	  {begin,end}_transport.

	* lib/net/http.rb: unused class Accumulator removed.

	* lib/net/http.rb: Net::HTTP reads response. not HTTPRequest.

	* lib/net/http.rb: proxy related class-instance-variables are not
	  initialized correctly.

Tue Feb 19 20:20:12 2002  Ed Sinjiashvili  <edsin@@swes.saren.ru>

	* parse.y (str_extend): backslash escape was done wrong.

Tue Feb 19 17:10:25 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c (path_check_1): do not fail on world writable *parent*
	  directories too.

Tue Feb 19 15:51:41 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (path_check_1): do not warn on world writable *parent*
	  directories.

	* class.c (rb_include_module): should preserve ancestor order in
	  the included class/module.

Tue Feb 19 14:45:32 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (path_check_1): should check directory sticky bits.

	* process.c (security): need not to warn twice.

	* marshal.c (r_object): complete restoration before calling
	  r_regist(). 

Tue Feb 19 14:24:36 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): operators in the "op" rule should make
	  lex_state EXPR_ARG on EXPR_FNAME and EXPR_DOT.

Tue Feb 19 13:38:10 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval_string_wrap): should hide the toplevel local
	  variable bindings by PUSH_SCOPE().

Tue Feb 19 13:21:51 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* regex.c: fix prototypes of xmalloc(), xcalloc() and xrealloc().

Tue Feb 19 13:16:08 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* io.c (rb_io_ungetc): don't fail pushed EOF back.

Mon Feb 18 20:48:40 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* pack.c (pack_pack): avoid infinite loop at comment.

	* pack.c (pack_unpack): ditto.

Mon Feb 18 14:06:28 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* misc/ruby-mode.el (ruby-block-hanging-re): rescue block was too
	  indented.

Mon Feb 18 13:56:44 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (expr_value, arg_value, primary_value): value_expr()
	  check in place.

	* eval.c (block_pass): "&nil" should clear block given.

Mon Feb 18 02:05:56 2002  Wolfgang Jahrling <wolfgang@@pro-linux.de>

	* dir.c (push_braces): remove MAXPATHLEN dependency.

	* dir.c (dir_s_globd): ditto.

	* dln.c (init_funcname): ditto.

	* dln.c (load_1): ditto.

	* dln.c (dln_load): ditto.

	* configure.in: add GNU/Hurd switches.

Fri Feb 15 17:44:26 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* pack.c (pack_pack): allows comment in template strings.

	* pack.c (pack_unpack): ditto.

Sun Feb 17 23:41:37 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* mkconfig.rb (Config::expand): expand ${} too.

	* ext/extmk.rb.in (try_link0): expand command.

	* ext/extmk.rb.in (try_cpp): ditto.

	* ext/extmk.rb.in (extmake): default $LIBPATH to $libdir

Sun Feb 17 21:39:24 2002  Tetsuya Watanabe  <tetsuya.watanabe@@nifty.com>

	* ext/digest/md5/md5init.c (Init_md5): rb_cvar_declare() is
	  replaced by rb_cvar_set().

	* ext/digest/rmd160/rmd160init.c (Init_rmd160): ditto.

	* ext/digest/sha1/sha1init.c (Init_sha1): ditto.

	* ext/digest/sha2/sha2init.c (Init_sha2): ditto.

Sun Feb 17 18:10:09 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* class.c (rb_define_class): warn unless superclass is specified
	  explicitly.

	* class.c (rb_define_class_under): ditto.

Thu Feb 16 02:11:08 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* misc/ruby-mode.el (ruby-font-lock-keywords): fontify
	  instance/class/global variables start with '_'.

Fri Feb 15 14:40:38 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): replace rb_cvar_declare() by rb_cvar_set().

	* eval.c (assign): ditto.

	* variable.c (rb_cvar_set): 4th argument (warn) added; define new
	  class variable if it's not defined yet.

	* variable.c (rb_cvar_declare): removed.

Fri Feb 15 13:36:58 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big_rshift): should properly convert the nagative
	  value to 2's compliment.

Thu Feb 14 17:38:35 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y: avoid SEGV at OP_ASIGN to pseudo variable.

Thu Feb 14 14:13:16 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* struct.c (Init_Struct): should undefine "allocate" for Struct
	  class (it's redefined in the subclasses).

Wed Feb 13 17:58:12 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (stmt): local variable declaration order was changed
	  since 1.6

	* parse.y (arg): ditto.

	* pack.c (pack_pack): add templates 'q' and 'Q'.

	* pack.c (pack_unpack): ditto.

	* bignum.c (rb_quad_pack): new utility function.

	* bignum.c (rb_quad_unpack): ditto.

Tue Feb 12 01:21:34 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (assignable): should emit CVASGN within the method
	  body.

Mon Feb 11 06:13:53 2002  Matt Armstrong  <matt@@lickey.com>

	* dir.c (dir_s_glob): should not warn even if no match found.

Mon Feb 11 04:25:54 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): clean up class variable behavior.

	* eval.c (assign): ditto.

	* eval.c (is_defined): ditto.

	* variable.c (rb_mod_class_variables): need not to call rb_cvar_singleton().

	* variable.c (rb_cvar_singleton): removed.

Mon Feb 11 00:10:41 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* regex.c (re_compile_fastmap): skip begpos.

Sun Feb 10 16:52:53 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ruby.c (load_file): avoid SEGV on '#' only input.

Fri Feb  8 23:07:23 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): singleton chech should be moved from yycompile
	  to here.

	* eval.c (is_defined): check should be added here too.

Fri Feb  8 05:31:48 2002  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/http.rb: HTTP.Proxy should use self for proxy-class's
	  super class.

	* lib/net/http.rb: initialize HTTP.proxy_port by HTTP.port.

Fri Feb  8 01:27:33 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yycompile): should inherit "in_single" if eval happened
	  in a singleton method.

	* eval.c (rb_eval): class variables from singleton methods defined
	  within singleton class statement should work like ones defined
	  by sington def statements.

Thu Feb 07 13:44:08 2002  akira yamada  <akira@@arika.org>

	* uri/common.rb (URI::join): new method.

	* uri/generic.rb (Generic#merge): URI.parse("http://a/")+"b" should
	  return "http://a/b" but it returned "http://a//b".

	* uri/generic.rb (Generic#check_path): corrected error message, 
	  @@path -> v

Thu Feb  7 00:18:43 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (io_write): flag when buffered write is done.

	* io.c (fptr_finalize): do not raise error on EBADF if write
	  buffer is empty.

Wed Feb  6 17:18:54 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* configure.in: keep old config.h unless changed.

Wed Feb  6 13:28:53 2002  Amos Gouaux  <amos+ruby@@utdallas.edu>

	* lib/net/imap.rb: OpenSSL support.

	* lib/net/imap.rb (setquota): unset quota if the second argument
	is nil.

Wed Feb  6 13:05:11 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_readlines): avoid calling GetOpenFile() repeatedly.

	* io.c (rb_io_each_line): ditto.

	* io.c (argf_getline): ditto.

	* process.c: should include <time.h> to get proper CLK_TCK.

Wed Feb  6 02:10:30 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* io.c (fptr_finalize): ignore EBADF when f and f2 use same
	  descriptor.

Tue Feb  5 16:17:20 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (fptr_finalize): should raise error when fclose fails.

	* eval.c (method_inspect): proper output format to distinguish
	  methods and singleton methods.

Mon Feb  4 22:44:58 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c (rb_file_s_expand_path): should terminate.

Mon Feb  4 15:38:29 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_class_real): should not follow ICLASS link

	* variable.c (classname): should follow ICLASS link explicitly.

	* eval.c (rb_call): ditto.

Fri Feb  1 19:10:04 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* intern.h: prototypes for new functions; rb_cstr_to_inum(),
	  rb_str_to_inum(), rb_cstr_to_dbl(), rb_str_to_dbl()

	* bignum.c (rb_cstr_to_inum): changed from rb_cstr2inum(), and
	  added argument badcheck to be consistent with parser. [new]

	* bignum.c (rb_str_to_inum): ditto.

	* bignum.c (rb_cstr2inum): wapper of rb_cstr_to_inum() now.

	* bignum.c (rb_str2inum): ditto.

	* object.c (rb_cstr_to_dbl): float number parser. [new]

	* object.c (rb_str_to_dbl): ditto.

	* object.c (rb_Float): use rb_cstr_to_dbl() for strict check.

	* object.c (rb_Integer): use rb_str_to_inum() for strict check.

	* string.c (rb_str_to_f): use rb_str_to_dbl() with less check.

	* string.c (rb_str_to_i): use rb_str_to_inum() with less check.

	* string.c (rb_str_hex): ditto.

	* string.c (rb_str_oct): ditto.

	* sprintf.c (rb_f_sprintf): ditto.

	* time.c (obj2long): ditto.

	* parse.y (yylex): use rb_cstr_to_inum() for strict check.

Fri Feb  1 17:46:39 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* regex.c (mbc_startpos): become macro.

	* regex.c (euc_startpos): added for improvement.

	* regex.c (sjis_startpos): ditto.

	* regex.c (utf8_startpos): ditto.

Fri Feb  1 00:03:30 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_stat_inspect): print dev, rdev in hexadecimal.

Thu Jan 31 20:45:33 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* lib/mkmf.rb (dir_config): prior --with flag.

	* lib/mkmf.rb (arg_config): avoid special variables for
	  font-lock-mode.

Thu Jan 31 13:22:36 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/pp.rb (File::Stat#pretty_print): print rdev_major and rdev_minor.

Wed Jan 30 15:58:04 2002  K.Kosako  <kosako@@sofnec.co.jp>

	* regex.c (re_adjust_startpos): fix for SJIS and UTF-8. 

	* regex.c (mbc_startpos): ditto.

Wed Jan 30 13:37:05 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_search): should set regs.allocated.

Wed Jan 30 02:25:38 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* regex.c (re_adjust_startpos): search start of multibyte
	  backward.

	* regex.c (mbc_startpos): ditto.

Tue Jan 29 17:59:20 2002  Tanaka Akira  <akr@@m17n.org>

	* file.c: `major' and `minor' macro needs sys/mkdev.h on SunOS 5.x.

	* configure.in: add check for `sys/mkdev.h'.

	* lib/pp.rb: don't print a mode File::Stat as decimal number.

Mon Jan 28 19:16:58 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* array.c (rb_ary_fill): shouldn't yield unless block given.

Mon Jan 28 18:33:18 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (yylex): strict check for numbers.

Mon Jan 28 18:01:01 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_stat_rdev_major): added. [new]

	* file.c (rb_stat_rdev_minor): added. [new]

	* file.c (rb_stat_inspect): print mode in octal.

Mon Jan 28 13:29:41 2002  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (is_defined): defined?(Foo::Baz) should check constants
	  only, no methods.

	* eval.c (is_defined): should not dump core on defined?(a::b)
	  where a is not a class nor a module.

Mon Jan 28 02:50:12 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (Init_Object): remove dup and clone from TrueClass,
	  FalseClass, and NilClass.

	* array.c (rb_ary_fill): Array#fill takes block to get the value to
	  fill.

Sat Jan 26 20:05:18 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_to_i): to_i(0) auto-detects base radix.

	* array.c (rb_ary_initialize): fill by the block evaluation value
	  if block is given.

Fri Jan 25 17:48:43 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in (solaris): add '-shared' only for GNU ld.

Fri Jan 25 17:16:23 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_include_module): detect cyclic module inclusion.

Fri Jan 25 02:17:56 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_cleanup): need not to free thread stacks at
	  process termination.

	* array.c (rb_ary_fetch): use the block to get the default value
	  if the block is given.

	* eval.c (rb_thread_schedule): should check time only if BOTH
	  WAIT_SELECT and WAIT_TIME.

Thu Jan 24 11:49:05 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (umethod_bind): should update rklass field.

	* hash.c (rb_hash_update): if a block is given, yields [key,
	  value1, value2] to the block to resolve conflict.

Thu Jan 24 05:42:01 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* string.c (rb_str_split_m): no need to consider KANJI
	characters, if the length of separator is 1 (byte).

Wed Jan 23 16:07:31 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (Init_Array): remove Array#filter.

Wed Jan 23 13:27:44 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_yield_0): restore source file/line after yield.

Wed Jan 23 02:00:14 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_mod_initialize): should accept zero argument.

	* object.c (rb_mod_cmp): should raise ArgumentError if
	  inheritance/inclusion relation between two classes/modules is
	  not defined. [new]

Tue Jan 22 17:45:23 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_fsync): new method. [new]

Mon Jan 21 22:57:18 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* signal.c (ruby_signal): must define sighandler_t for every
	  occasion.

Mon Jan 21 08:25:30 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (ruby_stop): should not trace error handler.

	* signal.c (install_sighandler): do not install sighandler unless
	  the old value is SIG_DFL.

	* io.c (io_write): should not raise exception on O_NONBLOCK io.

	* dir.c (dir_set_pos): seek should return dir, pos= should not.

Sat Jan 19 02:31:45 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): need not to clar method cache for NODE_CLASS,
	  NODE_SCLASS.

	* gc.c (obj_free): need not to clear method cache on class/module
	  finalization.

Fri Jan 18 23:38:03 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_fetch): index out of range raises exception
	  unless optional second argument is specified.

Fri Jan 18 17:32:09 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_s_new): block check moved from initialize to this
	  method.

	* io.c (rb_io_s_open): open should call initialize too. IO#for_fd
	  also calls initialize. [new]

Fri Jan 18 10:26:33 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* error.c (rb_sys_fail): replace INT2FIX() by INT2NUM() since
	  errno value may not fit in Fixnum size on Hurd.

	* error.c (set_syserr): ditto.

Fri Jan 18 10:12:00 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* ext/socket/socket.c (tcp_svr_s_open): fix typo.

Fri Jan 18 02:27:48 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* dir.c (dir_s_glob): returns nil if block given.

	* io.c (rb_io_each_byte): should return self.

	* io.c (rb_io_close_m): close check added.

	* dir.c (dir_seek): should return pos.

Fri Jan 18 01:21:53 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (fixpos): orig may be (NODE*)1, which should not be
	  dereferenced.

Thu Jan 17 16:21:42 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (block_pass): allow "retry" from within argument passed
	  block. [new]

	* eval.c (localjump_error): should preserve exit status in the
	  exception object. [new]

	* eval.c (proc_invoke): should raise exception for "break" if it's
	  yielding, not calling. [new]

	* eval.c (block_pass): should NOT raise exception for "break". [new]

	* eval.c (block_pass): should allow block argument relay even in
	  the tainted mode.

Thu Jan 17 04:51:48 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/socket/socket.c: support subclassing by proper "initialize"
	  calling convention. [new]

Wed Jan 16 18:25:08 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* st.c: primes should be primes.

Wed Jan 16 12:29:14 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/timeout.rb (timeout): new optional argument to specify an
	  exception class.

	* lib/resolv.rb: use Resolv::ResolvTimeout for internal timeout to
	  avoid problem with timeout of application.

Wed Jan 16 11:12:30 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* object.c (rb_Float): remove underscores between digits.

	* bignum.c (rb_cstr2inum): reject prefix followed by spaces only.

	* class.c (rb_class_inherited): should use Object when no super
	  class.

Tue Jan 15 01:11:44 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (is_defined): method defined? check should honor
	  protected too.

Mon Jan 14 13:06:02 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (block_pass): should not pass tainted block, if $SAFE > 0.

Sun Jan 13 09:31:41 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* variable.c (rb_mod_remove_cvar): should pass the char*.

Fri Jan 11 05:06:25 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* class.c (rb_make_metaclass): [new]

	* class.c (rb_define_class_id): use rb_make_metaclass(), don't
	  call Class#inherited hook.

	* class.c (rb_class_inherited): [new]

	* class.c (rb_define_class): call Class#inherited hook here.

	* class.c (rb_define_class_under): ditto after class path is set.

	* class.c (rb_singleton_class): use rb_make_metaclass().

	* eval.c (rb_eval): same as rb_define_class_under().

	* intern.h: prototypes of rb_make_metaclass() and
	  rb_class_inherited().

	* object.c (rb_class_s_new): use rb_make_metaclass() and
	  rb_class_inherited().

	* object.c (Init_Object): use rb_make_metaclass().

	* struct.c (make_struct): use rb_class_inherited().

Thu Jan 10 19:15:15 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_add_method): should clear cache by id always.

	* eval.c (rb_disable_super): no longer need to clear cache before
	  rb_add_method().

	* eval.c (rb_export_method): ditto.

	* eval.c (rb_attr): ditto.

	* eval.c (rb_undef): ditto.

	* eval.c (rb_eval): ditto.

	* eval.c (rb_mod_modfunc): ditto.

	* eval.c (rb_mod_define_method): ditto.

Thu Jan 10 11:42:47 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* win32/resource.rb: Modify copyright in resource script.

Thu Jan 10 07:15:44 2002  takuma ozawa  <metal@@mine.ne.jp>

	* re.c (match_select): should propagate taintness.

Thu Jan 10 00:54:57 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_hash_set_default): Hash#default= should return the
	  new value.

Wed Jan  9 20:21:09 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* misc/ruby-mode.el (ruby-calculate-indent): indentation after
	  comment at beginning of buffer failed.

	* misc/ruby-mode.el (font-lock-defaults): unless XEmacs, set
	  font-lock variables in ruby-mode-hook.

Tue Jan  8 15:56:20 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_to_i): accepts optional base argument. [new]

	* numeric.c (rb_fix2str): should not handle negative fixnum values
	  int32 via calling sprintf() directly.

Tue Jan  8 15:54:02 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_add_method): clear replaced method from the cache.

Mon Jan  7 12:38:47 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/time.rb (Time#xmlschema): new optional argument
	fractional_seconds to specify a number of digits of
	fractional part of the time.

Sat Jan  5 13:18:11 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* range.c (range_member): beginning check was
	  wrong. [ruby-talk:30252]

Sat Jan  5 03:07:34 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_new2): NULL pointer check added.

Sat Jan  5 00:19:12 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (yycompile): strdup()'ed twice.

Fri Jan  4 18:29:10 2002  Michal Rokos  <m.rokos@@sh.cvut.cz>

	* class.c (rb_define_module_under): should locate predefined
	  module using rb_const_defined_at().

Fri Jan  4 17:23:49 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* misc/ruby-mode.el (ruby-forward-string): forward a string. [new]

	* misc/ruby-mode.el (ruby-parse-region): handle nested parentheses
	  in a string and terminators in #{}.

	* misc/ruby-mode.el (ruby-calculate-indent): ditto.

Wed Jan  2 23:34:25 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/mkmf.rb (create_makefile): add -I. to CPPFLAGS.

	* lib/mkmf.rb (create_makefile): srcdir support(.def and depend file).

Wed Jan  2 11:51:56 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* process.c (rb_f_system): abandon vfork.

	* io.c (pipe_open): ditto.

Tue Jan  1 02:16:48 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/curses/extconf.rb: add dir_config.

	* Makefile.in (fake.rb): set RUBY_VERSION.

Mon Dec 31 14:20:46 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (yycompile): always store copy of filename.

	* parse.y (rb_compile_file): no longer need to strdup() here.

Mon Dec 31 05:26:40 2001  Ferris McCormick  <fmccor@@inforead.com>

	* defines.h: sparc linux needs different FLUSH_REGISTER_WINDOWS

Mon Dec 31 04:27:28 2001  Minero Aoki  <aamine@@mx.edit.ne.jp>

	* lib/net/protocol.rb: Protocol#start returns the return value of
	  block.

	* lib/net/protocol.rb: set timeout limit by default.

	* lib/net/protocol.rb: new methods WriteAdapter#write, puts,
	  print, printf.

	* lib/net/http.rb: rename HTTP#get2 to request_get, post2 to
	  request_post ...

	* lib/net/smtp.rb: should not resolve HELO domain automatically.

Sun Dec 30 00:59:16 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb.in, lib/mkmf.rb (have_library): accept -lm
	  unconditionally on mswin32/mingw32.

Sat Dec 29 01:55:42 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_search): abandon stclass optimization.

Fri Dec 28 14:39:05 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* array.c (rb_cmpint): fixed typo.

Thu Dec 27 18:43:04 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* bignum.c (rb_cstr2inum): deny "0_".

Thu Dec 27 01:54:02 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* bignum.c (rb_cstr2inum): allow "0\n" and so on.

Wed Dec 26 19:24:21 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* error.c (rb_invalid_str): utility function to show inspect()'ed
	  string.

	* bignum.c (rb_cstr2inum): prints invalid strings in inspect()'ed
	  format.

	* object.c (rb_Float): ditto.

Wed Dec 26 02:41:29 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_convert_type): no longer use rb_rescue().

Tue Dec 25 18:32:16 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* re.c (rb_reg_search): initialize taint status of match object.

Tue Dec 25 02:37:49 2001  Tanaka Akira  <akr@@m17n.org>

	* lib/pp.rb, lib/prettyprint.rb: new files.

Tue Dec 25 02:11:17 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_convert_type): check method responce check before
	  invoking rb_rescue().

	* object.c (rb_check_convert_type): ditto.

Mon Dec 24 02:37:40 2001  Le Wang  <lewang@@bigfoot.com>

	* misc/ruby-mode.el (ruby-font-lock-syntactic-keywords):
	  fix font-lock problem [ruby-talk:29296].

Sat Dec 22 22:52:14 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_timeval): wrong cast to time_t.

	* time.c (time_plus): ditto.

Fri Dec 21 20:33:34 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* parse.y (str_extend): make up "#$;" handling.

Fri Dec 21 16:18:17 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* dln.h, ruby.h, util.h: enable prototypes in C++.

Fri Dec 21 15:12:41 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_plus): result should not be negative unless
	  NEGATIVE_TIME_T is defined.

	* time.c (time_new_internal): should check tv_sec overflow too.

	* time.c (time_timeval): should check time_t range when time is
	  initialized from float.

	* time.c (time_plus): uses modf(3).

Fri Dec 21 03:15:52 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_mod_define_method): must not convert Method to Proc.

Fri Dec 21 01:17:57 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* lib/mkmf.rb (with_destdir): new.

	* lib/mkmf.rb: prefix target directories with $(DESTDIR) all.

	* lib/mkmf.rb: no need to mkdir $(libdir)

Thu Dec 20 14:08:20 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/protocol.rb: rename Net::Socket to Net::BufferedSocket

Thu Dec 20 13:51:52 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* variable.c (rb_cvar_set): add frozen class/module check.

	* variable.c (rb_cvar_declare): add frozen class/module check.

Thu Dec 20 01:01:50 2001  takuma ozawa  <metal@@mine.ne.jp>

	* re.c (match_to_a): should propagate taint.

	* re.c (rb_reg_s_quote): ditto.

Wed Dec 19 16:58:29 2001  Shugo Maeda  <shugo@@ruby-lang.org>

	* ext/readline/readline.c: new methods
	Readline::basic_word_break_characters,
	Readline::basic_word_break_characters=,
	Readline::completer_word_break_characters,
	Readline::completer_word_break_characters=,
	Readline::basic_quote_characters,
	Readline::basic_quote_characters=,
	Readline::completer_quote_characters,
	Readline::completer_quote_characters=,
	Readline::filename_quote_characters,
	Readline::filename_quote_characters=.

Wed Dec 19 14:05:00 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_mod_define_method): define_method should follow
	  default method visibility.

	* eval.c (rb_attr): should warn if the default method visibility
	  is "module_function" (can be error). 

	* eval.c (rb_mod_define_method): should define class/module method
	  also if the visibility is "module_function".

	* eval.c (rb_mod_define_method): should call hook method
	  "method_added", and "singleton_method_added".

Wed Dec 19 11:42:13 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* string.c: use RESIZE_CAPA for capacity change.

Wed Dec 19 03:08:40 2001  Tanaka Akira  <akr@@m17n.org>

	* lib/time.rb: date.rb is not required anymore.

	* lib/resolv.rb: fix document.  refine IPv6 regex.

Tue Dec 18 23:24:53 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/socket/socket.c (Init_socket): add listen method to
	  TCPServer and UNIXServer.

Tue Dec 18 17:54:53 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* sample/test.rb: Hash#indexes -> Hash#select.

Tue Dec 18 01:02:13 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_schedule): should not select a thread which is
	  not yet initialized.

Mon Dec 17 18:53:49 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* string.c (rb_str_replace): swap arguments of OBJ_INFECT.

Mon Dec 17 16:52:20 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* intern.h: add prototypes.
	  rb_gc_enable(), rb_gc_disable(), rb_gc_start(), rb_str_new5()
	  rb_str_buf_append(), rb_str_buf_cat(), rb_str_buf_cat2(),
	  rb_str_dup_frozen()

	* ruby.h: added declaration.
	  rb_defout, rb_stdin, rb_stdout, rb_stderr, ruby_errinfo

	* rubyio.h: changed double include guard macro to RUBYIO_H.

	* array.c (inspect_call): make static.

	* eval.c (dvar_asgn): ditto.

	* io.c (rb_io_close_read): ditto.

	* lex.c (rb_reserved_word): ditto.

	* ruby.c: (req_list_head, req_list_last): ditto.

	* ruby.c (require_libraries): ditto.

Mon Dec 17 15:41:24 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_plus): wrong boundary check.

	* time.c (time_minus): ditto.

Mon Dec 17 15:19:32 2001  Tanaka Akira  <akr@@m17n.org>

	* time.c: new method `gmtoff', `gmt_offset' and `utc_offset'.
	(time_utc_offset): new function.
	(Init_Time): bind above methods to `time_utc_offset'.

	* time.c: 64bit time_t support.
	(time_s_at): use NUM2LONG instead of NUM2INT for tv_sec.
	(time_arg): initialize tm_isdst correctly.
	use long to initialize tm_year.
	(search_time_t): renamed from `make_time_t'.
	(make_time_t): call `timegm' and `mktime' instead of `search_time_t'
	if available.
	(time_to_i): use LONG2NUM instead of INT2NUM.
	(time_localtime): check localtime failure.
	(time_gmtime): check gmtime failure.
	(time_year): use LONG2NUM instead of INT2FIX.
	(time_to_a): use long for tm_year.
	(time_dump): check tm_year which is not representable with 17bit.
	(time_load): initialize tm_isdst.

	* configure.in: check existence of `mktime' and `timegm'.
	check existence of tm_gmtoff field of struct tm.
	fix negative time_t for 64bit time_t.

	* missing/strftime.c: fix overflow by tm_year + 1900.

	* lib/time.rb: use Time#utc_offset.

Mon Dec 17 00:02:04 2001  Guy Decoux  <ts@@moulon.inra.fr>

	* variable.c (find_class_path): should initialize iv_tbl if it's
	  NULL.

Fri Dec 14 04:23:36 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/pop.rb: new method Net::POP3.APOP

	* lib/net/http.rb: set default Content-Type to
	  x-www-form-urlencoded (causes warning)

	* lib/net/protocol.rb: remove Net::NetPrivate module.

	* lib/net/smtp.rb: ditto.

	* lib/net/pop.rb: ditto.

	* lib/net/http.rb: ditto.

Fri Dec 14 00:16:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_define_class): should return the existing class if
	  the class is already defined and its superclass is ideintical to
	  the specified superclass.

	* class.c (rb_define_class_under): ditto.

	* class.c (rb_define_module): should return the existing module if
	  the module is already defined.

Thu Dec 13 09:52:59 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_new_internal): avoid loop to calculate negative
	  div, mod.

	* time.c (time_cmp): should handle Bignums.

Tue Dec 11 17:39:16 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* array.c (rb_ary_pop): should ELTS_SHARED flag check before
	  REALLOC.

Tue Dec 11 12:45:28 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_match_m): should convert an argument into
	  regexp if it's a string.

Tue Dec 11 03:40:23 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_select): Array#select(n,m,...) now works like
	  Array#indexes(n,m,..). [new, experimental]

	* hash.c (rb_hash_select): ditto.

	* hash.c (env_select): ditto.

	* re.c (match_select): ditto.

	* struct.c (rb_struct_select): ditto.

Tue Dec 11 03:17:19 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* object.c (rb_class_real): follow included modules.

Mon Dec 10 23:37:51 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* util.h: change prototype of ruby_qsort() to accord with its
	  definition.

Mon Dec 10 20:30:01 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* gc.c (STR_ASSOC): use FL_USER3 instead of FL_USER2.

Mon Dec 10 17:40:02 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* parse.y (str_extend): make up pushback call.

Mon Dec 10 02:09:28 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_modify): should copy the internal buffer if the
	  modifying buffer is shared.

	* array.c (ary_make_shared): make an internal buffer of an array
	  to be shared.

	* array.c (rb_ary_shift): avoid sliding an internal buffer by
	  using shared buffer.

	* array.c (rb_ary_subseq): avoid copying the buffer.

Mon Dec 10 01:06:56 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (gettable): should freeze __FILE__ string.

Sun Dec  9 18:06:26 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/protocol.rb: calls on_connect before conn_command

Sat Dec  8 23:27:44 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_puts): old behavoir restored.  rationale: a) if you
	  want to call to_s for arrays, you can just call print a, "\n".
	  b) to_s wastes memory if array (and sum of its contents) is
	  huge.  c) now any object that has to_ary is treated as an array,
	  using rb_check_convert_type().

Sat Dec  8 22:40:38 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_hash_initialize): now accepts a block to calculate
	  the default value. [new]

	* hash.c (rb_hash_aref): call "default" method to get the value
	  corrensponding to the non existing key.  

	* hash.c (rb_hash_default): get the default value based on the
	  block given to 'new'.  Now it takes an optinal "key" argument.
	  "default" became the method to get the value for non existing
	  key.  Users may override "default" method to change the hash
	  behavior.

	* hash.c (rb_hash_set_default): clear the flag if a block is given
	  to 'new'

Sat Dec  8 02:29:54 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (Init_Object): undef Data.allocate, left Data.new.

Fri Dec  7 19:12:14 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/smtp.rb: SMTP.new requires at least one arg.

	* lib/net/pop.rb: POP.new requires at least one arg.

	* lib/net/pop.rb: uses "raise *Error.new" instead of simple raise.

	* lib/net/http.rb: HTTP.new requires at least one arg.

	* lib/net/http.rb: changes implicit start algolithm.

Fri Dec  7 15:49:39 2001  Usaku Nakamura <usa@@ruby-lang.org>

	* ext/extmk.rb.in: ignore adding -Wl,-R to DLDFLAGS when the directory
	  is $topdir.

Fri Dec  7 13:58:58 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/curses/curses.c (window_scrollok): use RTEST().

	* ext/curses/curses.c (window_idlok): ditto.

	* ext/curses/curses.c (window_keypad): ditto.

	* ext/curses/curses.c (window_idlok): idlok() may return void on
	  some platforms; so don't use return value.

	* ext/curses/curses.c (window_scrollok): ditto for consistency.

	* ext/curses/curses.c: replace FIX2INT() by typechecking NUM2INT().

Fri Dec  7 09:51:00 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (str_extend): should not process immature #$x and
	  #@@x interpolation, e.g #@@#@@ etc.

Fri Dec  7 03:21:18 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* enum.c (enum_sort_by): sort_by does not have to be stable always.

	* enum.c (enum_sort_by): call qsort directly to gain performance.

Thu Dec  6 18:52:28 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* ext/extmk.rb.in: add -Wl,-R flags to DLDFLAGS on netbsdelf.

	* lib/mkmf.rb: ditto.

Thu Dec  6 09:15:14 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* util.c (ruby_qsort): ruby_qsort(qs6) is now native thread safe.

	* error.c (rb_sys_fail): it must be a bug if it's called when
	  errno == 0.

Wed Dec  5 23:36:56 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (WC2MBC1ST): should not pass through > 0x80 number in UTF-8.

Wed Dec  5 20:05:18 2001  Florian Frank  <flori@@ping.de>

	* ext/socket/socket.c (bsock_send): should raise EWOULDBLOCK
	  exception.

	* ext/socket/socket.c (s_recvfrom): ditto.

	* ext/socket/socket.c (s_accept): ditto.

	* ext/socket/socket.c (udp_send): ditto.

Tue Dec  4 17:43:10 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.h (DUPSETUP): new SETUP macro for duplication.

	* time.c (time_dup): implement in Time class using DUPSETUP.

	* time.c (time_getlocaltime): new method;  probably requires
	  better name than getlocaltime. [new,experimental]

	* time.c (time_getgmtime): ditto.

	* array.c (rb_ary_dup): uses DUPSETUP.

	* string.c (rb_str_dup): uses DUPSETUP.  now properly copies
	  instance variables too.

Tue Dec  4 03:49:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (io_fread): EAGAIN/EWOULDBLOCK should not terminate and
	  throw away the input.

	* time.c (time_new_internal): underflow adjustment must not use
	  negative div/mod.

	* time.c (time_cmp): should consider tv_usec on non Fixnum number
	  comparison.
Sun Dec  9 23:00:54 2001  Keiju Ishitsuka <keiju@@ishitsuka.com>
	* matrix.rb: Vector#* bug. reported from Massimiliano Mirra
	<info@@chromatic-harp.com>. 
	
Sun Dec  9 22:15:59 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* enum.c (enum_sort_by): should replace with last elements.

Mon Dec  3 16:06:57 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/socket/extconf.rb: remove -L/usr/local/lib.

	* configure.in: add -Wl,-export-dynamic on NetBSD.

Mon Dec  3 16:04:16 2001  Usaku Nakamura <usa@@ruby-lang.org>

	* configure.in: not use X11BASE, since it's not always set.

Mon Dec  3 13:53:49 2001  Tanaka Akira  <akr@@m17n.org>

	* time.c (rb_strftime): buffer length condition was wrong.

	* time.c (time_strftime): should backup buf to the original
	  buffer.

Mon Dec  3 09:59:08 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_plus): must detect result overflow.

	* time.c (time_minus): ditto.

	* time.c (time_new_internal): round usec overflow and underflow
	  here. 

	* time.c (time_plus): move operand overflow/underflow check to
	  time_new_internal().

	* time.c (time_minus): ditto.

	* time.c (time_cmp): should consider tv_usec too.

Mon Dec  3 03:32:22 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* configure.in: apply patch from NetBSD's pkgsrc (patch-aa).

Sun Dec  2 22:01:52 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: use GCC, not without_gcc. remove without_gcc.

	* ext/curses/extconf.rb: check for curses.h.

	* ext/dbm/extconf.rb: check if $CFLAGS includes DBM_HDR.

Sat Dec  1 12:13:20 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_gmtime): time_modify() should be called even if tm
	  struct is not calculated yet.

Fri Nov 30 17:02:55 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: set target_cpu to i386 on cygwin and mingw32.
	
	* configure.in: default --enable-shared to yes on cygwin and mingw32.

Fri Nov 30 00:25:28 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* README.EXT: Appendix B is duplicated.

	* README.EXT.ja: ditto.

Thu Nov 29 00:28:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_equal): object with to_str must be treated as a
	  string.

Wed Nov 28 18:46:28 2001  Ville Mattila  <mulperi@@iki.fi>

	* eval.c (rb_thread_select): should subtract timeofday() from
	  limit, not reverse.

Wed Nov 28 16:03:28 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* util.c (scan_hex): x is not a hexadecimal digit.

Wed Nov 28 13:38:04 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_schedule): should treat the case that
	  select(2) returns 0, if a thread is under both WAIT_SELECT and
	  WAIT_TIME.  Jakub Travnik <J.Travnik@@sh.cvut.cz> actually fixed
	  this bug.

Tue Nov 27 02:15:25 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_float): must distinguish -0.0 from 0.0.

Mon Nov 26 20:57:24 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/Setup*, ext/syslog/*: import the "syslog" module from the
	  rough ruby project.

Mon Nov 26 16:14:42 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* gc.c (gc_mark_all): tweak mark order for little bit better scan.

	* gc.c (rb_gc_mark): ditto.

	* gc.c (rb_gc): ditto.

Mon Nov 26 16:54:59 2001  Usaku Nakamura <usa@@ruby-lang.org>

	* win32/win32.c (mypopen): fixed that mypclose() didn't really close
	  pipe.

	* win32/win32.c (CreateChild): set STARTF_USESTDHANDLES flag only
	  when some handles are passed.

Mon Nov 26 16:31:28 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* enum.c (sort_by_i): slight performance boost.

Sun Nov 25 21:02:18 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* parse.y (str_extend): change types of second and third arguments
	  from char to int.

Thu Nov 22 20:15:28 2001  TAMURA Takashi  <sheepman@@tcn.zaq.ne.jp>

	* gc.c (gc_mark_rest): should call gc_mark_children(), not gc_mark().

	* gc.c (rb_gc_mark): may cause infinite looop.

Thu Nov 22 00:28:13 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (str_extend): should check nesting parentheses in #{}.

Wed Nov 21 12:22:52 2001  Shugo Maeda  <shugo@@ruby-lang.org>

	* lib/cgi.rb: CGI#header: do not set Apache.request.status for
	Location: if Apache.request.status is already set.

Wed Nov 21 02:24:18 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* process.c (pst_wstopsig): returns nil unless WIFSTOPPED() is
	  non-zero.

	* process.c (pst_wtermsig): returns nil unless WIFSIGNALED() is
	  non-zero.

	* process.c (pst_wexitstatus): returns nil unless WIFEXITED() is
	  non-zero.

Wed Nov 21 00:17:54 2001  Ville Mattila  <mulperi@@iki.fi>

	* eval.c (rb_thread_select): tv_sec and tv_usec should not be
	  negative.

	* signal.c (posix_signal): do not set SA_RESTART for SIGVTALRM.

Tue Nov 20 21:09:22 2001  Guy Decoux  <ts@@moulon.inra.fr>

	* parse.y (call_args2): block_arg may follow the first argument in
	  call_args2.

Tue Nov 20 02:01:15 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (stack_check): should avoid stack length check during
	  raising SystemStackError exception.

Tue Nov 20 01:07:13 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (str_extend): should not terminate string interpolation
	  with newlines in here-docs and newline terminated strings.

Mon Nov 19 17:58:49 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_mod_modfunc): should follow NODE_ZSUPER link; based
	  on Guy Decoux's patch in [ruby-talk:25478].

Mon Nov 19 16:09:33 2001  Tanaka Akira  <akr@@m17n.org>

	* string.c (rb_str_succ): there was buffer overrun.

Mon Nov 19 14:14:58 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (str_extend): term can be any character.

Mon Nov 19 04:58:42 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb (header): support for Apache. thanks to
	  Shugo Maeda <shugo@@ruby-lang.org>.

Sun Nov 18 19:37:55 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y: needless conditionals.

	* parse.y (parse_regx): parse error at unterminated regex /#{.
	  (ruby-bugs-ja:PR#142)

Sat Nov 17 12:37:39 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* pack.c (pack_unpack): should give length to utf8_to_uv().

	* pack.c (utf8_to_uv): add length check.

Sat Nov 17 01:41:52 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* massages: replace "wrong #" by "wrong number".

	* marshal.c (w_float): output Infinity and NaN explicitly.

	* marshal.c (r_object): support new explicit float format.

	* eval.c (rb_thread_wait_for): select may cause ERESTART on
	  Solaris.

	* eval.c (rb_thread_select): ditto.

Thu Nov 15 15:29:39 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* array.c (rb_ary_join): non-nil separator must be converted to
	  String.  and separators' total length was wrong.

Thu Nov 15 03:37:17 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* hash.c (ruby_setenv): remove USE_WIN32_RTL_ENV block since it's
	  obsoleted.

	* win32/win32.c, win32/win32.h: sort out #if 0 - #endif or others.

Thu Nov 15 00:07:12 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_to_s): if rb_output_fs is nil, insert newlines
	  between array elements (use rb_default_rs as newline litral)
	  [experimental].

Wed Nov 14 15:16:23 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* gc.c (init_mark_stack): no need to clear mark_stack.

	* gc.c (gc_mark_all): need to handle finalizer mark.

	* gc.c (gc_mark_rest): use MEMCPY instead of memcpy.

	* gc.c (rb_gc_mark): earlier const check to avoid pusing special
	  constants into mark stack.

Wed Nov 14 01:12:07 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* win32/win32.c (waitpid): fix wait count.

	* win32/win32.c (poll_child_status): rename from wait_child().

Wed Nov 14 01:33:49 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (fix_to_s): 'to_s' now takes optional argument to
	  specify radix. [new]

	* bignum.c (rb_big_to_s): ditto. [new]

Tue Nov 13 19:50:30 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: do not override CC if set.

Tue Nov 13 16:49:16 2001  Usaku Nakamura <usa@@ruby-lang.org>

	* win32/win32.c (mypopen): return error status instead of calling
	  rb_sys_fail().

	* win32/win32.c (do_spawn): ditto.

Tue Nov 13 14:39:11 2001  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* signal.c (sighandle): should not re-register sighandler if
	  POSIX_SIGNAL is defined.

Tue Nov 13 12:55:59 2001  Usaku Nakamura <usa@@ruby-lang.org>

	* win32/win32.c (do_spawn): use CreateChild() instead of calling
	  CreateProcess() directly. Original patches comes from Patrick Cheng.

	* win32/win32.c (mypopen): ditto.

	* win32/win32.c (mypclose): use rb_syswait() instead of waiting in this
	  function.

	* win32/win32.c (waitpid): use wait_child() instead of _cwait().

	* win32/win32.c (CreateChild): added. [new]

	* win32/win32.c (wait_child): added. [new]

	* win32/win32.c (FindFirstChildSlot): added. [new]

	* win32/win32.c (FindChildSlot): added. [new]

	* win32/win32.c (FindPipedChildSlot): added. [new]

	* win32/win32.c (CloseChildHandle): added. [new]

	* win32/win32.c (FindFreeChildSlot): added. [new]

Tue Nov 13 12:38:12 2001  Usaku Nakamura <usa@@ruby-lang.org>

	* hash.c (envix): use GET_ENVIRON and FREE_ENVIRON to get environment
	  variables list.

	* hash.c (env_keys): ditto.

	* hash.c (env_each_key): ditto.

	* hash.c (env_values): ditto.

	* hash.c (env_keys): ditto.

	* hash.c (env_each_value): ditto.

	* hash.c (env_each): ditto.

	* hash.c (env_inspect): ditto.

	* hash.c (env_to_a): ditto.

	* hash.c (env_size): ditto.

	* hash.c (env_empty_p): ditto.

	* hash.c (env_has_value): ditto.

	* hash.c (env_index): ditto.

	* hash.c (env_to_hash): ditto.

	* win32/win32.c (win32_getenv): use static buffer.

	* win32/win32.c, win32/win32.h (win32_get_environ): get environment
	  variables list. [new]

	* win32/win32.c, win32/win32.h (win32_free_environ): free environment
	  variables list. [new]

Mon Nov 12 16:48:48 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (error_print): errat array may be empty.

Mon Nov 12 01:30:37 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval_cmd): should not upgrade safe level unless
	  explicitly specified by argument newly added.

	* signal.c (sig_trap): should not allow tainted trap closure.

	* variable.c (rb_f_trace_var): should not allow trace_var on safe
	  level higher than 3.

	* variable.c (rb_f_trace_var): should not allow tainted trace
	  closure. 

Sun Nov 11 00:12:23 2001  TAMURA Takashi  <sheepman@@tcn.zaq.ne.jp>

	* gc.c: do not use static stack until system stack overflows.

Sat Nov 10 03:57:09 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (eval): should call Exception#exception instead of
	  calling rb_exc_new3() directly.

	* error.c (exc_exception): set "mesg" directly to the clone.  it
	  might be better to set mesg via some method for flexibility.

Sat Nov 10 00:14:24 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (cvar_override_check): should print original module
	  name, if 'a' is T_ICLASS.

	* parse.y (yylex): float '1_.0' should not be allowed.

	* variable.c (var_getter): should care about var as Qfalse
	  (ruby-bugs#PR199).

Fri Nov  9 13:50:06 2001  Usaku Nakamura <usa@@ruby-lang.org>

	* win32/config.status.in: make CFLAGS same as Makefile's one.

Thu Nov  8 20:20:37 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_trap_eval): avoid annoying warning with signal.
	  [ruby-talk:23225]

	* eval.c (rb_call0): adjust caller source file/line while
	  evaluating optional arguments.

Thu Nov  8 18:41:58 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (cmpint): <=> or block for {min,max} may return bignum.

	* array.c (sort_1): use rb_compint.

	* array.c (sort_2): ditto.

	* enum.c (min_ii): ditto.

	* enum.c (min_ii): ditto.

	* enum.c (max_i): ditto.

	* enum.c (max_ii): ditto.

Thu Nov  8 18:21:02 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (path_check_1): forgot to initialize 'p'.

Thu Nov  8 14:52:15 2001  Tanaka Akira  <akr@@m17n.org>

	* mkconfig.rb: use String#dump to generate Ruby string literal.

Thu Nov  8 15:46:54 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* range.c (range_eql): should override 'eql?'

	* array.c (rb_ary_hash): should override 'hash' too.

Tue Nov  6 14:38:48 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* process.c (security): always give warning for insecure PATH.

	* dir.c (my_getcwd): do not rely on MAXPATHLEN.

	* file.c (rb_file_s_readlink): ditto.

	* file.c (path_check_1): ditto.

Tue Nov  6 14:17:14 2001  Amos Gouaux <amos+ruby@@utdallas.edu>

	* lib/net/imap.rb (getquota_response): use astring for mailbox
	names.

	* lib/net/imap.rb (getacl_response): ditto.

Mon Nov  5 17:09:55 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_yield_0): should not call rb_f_block_given_p().

Sat Nov  3 23:33:18 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_chomp_bang): should terminate string by NUL.

Sat Nov  3 22:28:51 2001  Keiju Ishitsuka <keiju@@ishitsuka.com>

	* matrix.rb (Matrix#column_vectors, Matrix#row_vectors): ditto bug. 
	  this bug report and fix by tsutomu@@nucba.ac.jp.
	
	* forwardable.rb: change raise to Kernel::raise
	
Sat Nov  3 10:11:57 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_yield_0): better error message.

Thu Nov  1 14:08:42 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big_aref): idx may be a Bignum.

	* numeric.c (fix_aref): negative index must return zero.

Thu Nov  1 13:23:50 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (gc_mark_children): should NOT treat last element of
	  structs and arrays specially.

Wed Oct 31 16:59:25 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (exec_under): should initialize ruby_frame->self;

Wed Oct 31 15:09:28 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (POP_VARS): should not set DVAR_DONT_RECYCLE if _old
	  ruby_vars is already force_recycled.

Wed Oct 31 10:28:49 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (rb_gc): handles mark stack overflow.

	* gc.c (PUSH_MARK): use static mark stack, no more recursion.

Wed Oct 31 02:44:06 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: CGI::Cookie::parse(): Ignore duplicate keys caused by
	  Netscape bug.

Tue Oct 30 18:21:51 2001  Usaku Nakamura <usa@@ruby-lang.org>

	* win32/mkexports.rb: follow the change of rb_io_puts().

Tue Oct 30 14:04:04 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_chomp_bang): do smart chomp if $/ == '\n'. [new]

	* io.c (rb_io_puts): don't treat Array specially.

	* bignum.c (rb_big_cmp): should convert bignum to float.

	* eval.c (rb_f_eval): can't modify untainted binding.

Mon Oct 29 16:08:30 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_compile_pattern): should preserve p0 value.

Mon Oct 29 14:56:44 2001  Usaku Nakamura <usa@@ruby-lang.org>

	* intern.h (rb_protect_inspect): follow the change of array.c.

	* eval.c (rb_exec_end_proc): follow the change of rb_protect().

	* eval.c (method_proc, umethod_proc, rb_catch): cast the first
	  parameter of rb_iterate() to avoid VC++ warning.

	* range.c (range_step): ditto.

	* ext/sdbm/init.c (fsdbm_update, fsdbm_replace): ditto.

Mon Oct 29 07:57:31 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (str_extend): should allow interpolation of $-x.

	* variable.c (rb_cvar_set): empty iv_tbl may cause infinite loop.

	* variable.c (rb_cvar_get): ditto.

	* variable.c (cvar_override_check): ditto.

Sat Oct 27 23:01:19 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big_eq): convert Bignum to Float, instead of
	  reverse.

Fri Oct 26 06:19:29 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_localtime): getting tm should not be prohibited for
	  frozen time objects.

	* time.c (time_gmtime): ditto.

	* version.c (Init_version): freeze RUBY_VERSION,
	  RUBY_RELEASE_DATE, and RUBY_PLATFORM.

	* file.c (Init_File): freeze File::SEPARATOR, ALT_SEPARATOR and
	  PATH_SEPARATOR.

	* file.c (rb_stat_cmp): should check operand type before calling
	  get_stat().

Thu Oct 25 10:28:15 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval_cmd): should not invoke "call" with a block on
	  any occasion.

Wed Oct 24 03:25:31 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (fix_aref): idx may be a Bignum.

Tue Oct 23 01:21:19 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (proc_invoke): fix self switching in Proc#call
	  (ruby-bugs-ja#PR108) and GC failure.  use Qundef instead of 0
	  to direct not switching self.

	* eval.c (call_trace_func): ditto.

	* eval.c (call_end_proc): ditto.

	* eval.c (proc_call): ditto.

	* eval.c (proc_yield): ditto.

Tue Oct 23 01:15:43 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* variable.c (rb_global_entry): reconstruct global variable
	  aliasing (sharing global_entry->var with other global_entry).

	* variable.c (undef_getter): ditto.

	* variable.c (undef_setter): ditto.

	* variable.c (val_setter): ditto.

	* variable.c (mark_global_entry): ditto.

	* variable.c (rb_define_hooked_variable): ditto.

	* variable.c (rb_f_trace_var): ditto.

	* variable.c (remove_trace): ditto.

	* variable.c (rb_f_untrace_var): ditto.

	* variable.c (rb_gvar_get): ditto.

	* variable.c (trace_en): ditto.

	* variable.c (rb_gvar_set): ditto.

	* variable.c (rb_gvar_defined): ditto.

	* variable.c (rb_alias_variable): ditto.

Mon Oct 22 18:53:55 2001  Masahiro Tanaka  <masa@@stars.gsfc.nasa.gov>

	* numeric.c (num_remainder): a bug in Numeric#remainder.

Mon Oct 22 15:21:55 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_exec_end_proc): END might be called within END
	  block.

	* class.c (rb_mod_clone): should not copy class name, since clone
	  should remain anonymous.

Fri Oct 19 23:40:37 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* variable.c (remove_trace): should not access already freed area.

	* variable.c (rb_f_untrace_var): fix memory leak.

Fri Oct 19 17:55:14 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* marshal.c (w_uclass): cloned class is not user
	  class. (ruby-bugs-ja#PR103)

	* marshal.c (r_object): Struct subclass couldn't
	  load. (ruby-bugs-ja#PR104)

Wed Oct 17 14:12:50 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* variable.c (alias_fixup): added. ad hoc support for ordinary
	  global variable aliasing. when original entry is set, make the
	  alias to refer directly as possible.

	* variable.c (alias_getter, alias_setter): ditto.

	* variable.c (rb_alias_variable): ditto. and no need to mark alias
	  variables.

	* variable.c (rb_gvar_defined): refer the original entry of an alias.

Tue Oct 16 23:29:26 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_call0): self in a block given to define_method now be
	  switched to the receiver of the method.

	* eval.c (proc_invoke): added new parameter to allow self
	  switching.

Tue Oct 16 21:38:15 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_f_missing): check stack level with rb_stack_check().

	* eval.c (rb_call0): ditto.

	* eval.c, intern.h (rb_stack_check): added. [new]

Tue Oct 16 13:18:47 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* object.c (rb_mod_initialize): optional block with
	  Module.new. [new] (from 2001-10-10)

Tue Oct 16 00:07:06 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (yylex): disallow alpha-numeric and mbchar for
	  terminator of %string.

Mon Oct 15 18:00:05 2001  Pit Capitain  <pit@@capitain.de>

	* string.c (rb_str_index): wrong increment for non alphanumeric
	  string.

Mon Oct 15 05:23:02 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* sprintf.c (rb_f_sprintf): support "%B".

Wed Oct 10 03:11:47 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_stat_clone): should copy internal data too.

	* numeric.c (num_clone): Numeric should not be copied by clone.

	* object.c (rb_obj_clone): should check immediate values.

	* parse.y (command): `yield' should take command_args.

	* parse.y (parse_quotedwords): %w(...) is not a string.

Tue Oct  9 18:40:35 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* process.c (Init_process): activate the case NT.

Tue Oct  9 17:08:00 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (thread_status_name): separated from
	  rb_thread_inspect(). return string expression for thread status.

	* eval.c (rb_thread_status, rb_thread_inspect): use
	  thread_status_name().

	* eval.c (rb_thread_priority_set): return the priority not but
	  self.

Sat Oct  6 23:07:08 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): NODE_MATCH3 was confusing left and right. sigh.

Fri Oct  5 15:19:46 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_unique): should not dump anonymous class.

Fri Oct  5 11:59:13 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (proc_s_new): revived.

	* eval.c (Init_Proc): define Proc.new instead of Proc.allocate to
	  inhibit from creating uninitialized Proc.

Thu Oct  4 14:11:03 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/socket/socket.c (ruby_connect): EALREADY is the equivalent
	  for EINPROGRESS in ws2_32.lib.

Wed Oct  3 20:11:06 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* re.c (rb_reg_s_alloc): avoid inifinte recursion.

Wed Oct  3 16:49:49 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/gdbm/gdbm.c (rb_gdbm_fetch): str is a VALUE now.

Wed Oct  3 13:32:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (r_object): better allocation type check for
	  TYPE_UCLASS. usage of allocation framework is disabled for now.

	* variable.c (rb_class_path): Module may have subclass.

	* string.c (rb_str_update): should maintain original negative
	  offset. 

	* string.c (rb_str_subpat_set): ditto

	* string.c (rb_str_aset): ditto.

	* re.c (rb_reg_nth_match): should check negative nth.

	* re.c (rb_reg_nth_defined): ditto.

Tue Oct  2 19:12:47 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/ftools.rb (catname): allow trailing '/' for the destination.

Tue Oct  2 18:31:20 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): should override existing class.

Tue Oct  2 17:08:49 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_obj_alloc): general instance allocation framework.
	  use of NEWOBJ() is deprecated except within 'allocate' method.

Tue Oct  2 08:04:52 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* marshal.c (r_object): TYPE_UCLASS check should be inversed.

Mon Oct  1 19:18:54 2001  Tanaka Akira  <akr@@m17n.org>

	* ext/socket/socket.c (unix_addr): getsockname(2) may result len = 0. 

	* ext/socket/socket.c (unix_peeraddr): getpeername(2) may result
	  len = 0.

Mon Oct  1 09:59:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_subpat_set): support function for new argument
	  pattern String#[re,offset] = val. [new]

Sat Sep 29 02:30:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (POP_BLOCK): rb_gc_force_recycle() was called too much.
	  Should not be called if SCOPE_DONT_RECYCLE is set.

Wed Sep 26 22:21:52 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_aref_m): new argument pattern
	  String#[re,offset]. [new]

Wed Sep 26 19:02:39 2001  Guy Decoux  <ts@@moulon.inra.fr>

	* parse.y: allow 'primary[] = arg'

Tue Sep 25 10:46:42 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* win32/win32.c (isInternalCmd): check return value of NtMakeCmdVector
	  (Tietew <tietew@@tietew.net>'s patch).

Mon Sep 24 00:55:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_substr): should return an instance of
	  receiver's class.

	* string.c (rb_str_succ): ditto.

	* array.c (rb_ary_subseq): ditto.

	* array.c (rb_ary_initialize): Array.new([1,2,3]) => [1,2,3]. [new]

Sat Sep 22 22:16:08 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_reverse): should return an instance of
	  receiver's class.

	* string.c (rb_str_times): ditto.

	* array.c (rb_ary_times): ditto

	* string.c (str_gsub): ditto.

	* string.c (rb_str_ljust): ditto.

	* string.c (rb_str_rjust): ditto.

	* string.c (rb_str_center): ditto.

Sat Sep 22 12:13:39 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (eval): retrieves file, line information from binding.

Thu Sep 20 21:25:00 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (MATCH_DATA): access via rb_svar().

Thu Sep 20 15:20:00 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c, intern.h (rb_svar): return reference to special variable
	  from local variable index. [new]

	* eval.c (rb_eval): use rb_svar() for NODE_FLIP{2,3}.

	* parse.y (rb_(backref|lastline)_(get|set)): access via rb_svar().

	* eval.c (proc_invoke): push dynamic variables.

	* eval.c (rb_thread_yield): push special variables as dynamic
	  variables($_, $~ and FLIP states).

Thu Sep 20 15:20:00 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* intern.h, parse.y (rb_is_local_id): return true if the ID is
	  local symbol. [new]

	* parse.y (internal_id): make new ID for internal use. [new]

	* parse.y (cond0): allocate internal ID for NODE_FLIP{2,3}.

	* eval.c (rb_f_local_variables): use rb_is_local_id() to select
	  visible local variables.

Thu Sep 20 15:20:00 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_thread_start_0): SCOPE_SHARED is removed.

	* eval.c, intern.h (rb_thread_scope_shared_p): removed. special
	  variables are no longer shared by threads.

	* re.c (rb_reg_search): MATCHDATA is no longer shared by threads.

Tue Sep 18 11:44:26 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_init): String.new() => "" [new]

Tue Sep 11 20:53:56 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* dir.c (dir_path): new method.

	* dir.c (dir_initialize): wrap DIR into struct, along with path
	  information.

Sat Sep  8 07:13:42 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/net/telnet.rb: waitfor(): improvement. thanks to
	  nobu.nakada@@nifty.ne.jp

Sat Sep  8 04:34:17 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_restore_context): save current value of
	  lastline and lastmatch in the thread struct for later restore.

	* eval.c (rb_thread_save_context): restore lastline and lastmatch.

Fri Sep  7 11:27:56 2001  akira yamada  <akira@@ruby-lang.org>

	* numeric.c (flo_to_s): should handle negative float value.

Fri Sep  7 09:44:44 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/net/telnet.rb: waitfor(): bug fix.

Fri Sep  7 07:11:34 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: CGI#doctype(): bug fix (html4Fr).

	* lib/net/telnet.rb, lib/cgi.rb: remove VERSION, RELEASE_DATE,
	  VERSION_CODE, RELEASE_CODE. please use REVISION.

	* lib/cgi.rb: CGI#header(): bug fix.

	* lib/net/telnet.rb, lib/cgi.rb: concat --> +=

Thu Sep  6 17:38:18 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* dir.c (dir_s_chdir): raise if environment variable HOME/LOGDIR
	  not set.

	* dir.c (glob_helper): avoid infinite loop on a file name with
	  wildcard characters. (ruby-bugs#PR177)

Thu Sep  6 14:25:15 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/digest.c (rb_digest_base_s_hexdigest): remove a debug
	  print.

Thu Sep  6 13:56:14 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/digest.c (rb_digest_base_s_digest,
	  rb_digest_base_s_hexdigest): ensure that a string is given.

Thu Sep  6 13:28:51 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/jcode.rb (_regexp_quote): fix quote handling, again.

Thu Sep  6 07:28:56 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c (rb_find_file_ext): add const qualifiers to ext.

	* intern.h (rb_find_file_ext): ditto.

Thu Sep  6 07:16:14 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/socket/socket.c (Init_socket): remove duplicating constants.

Thu Sep  6 03:15:24 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_include_module): should check whole ancestors to
	  avoid duplicate module inclusion.

Wed Sep  5 20:02:27 2001  Shin'ya Adzumi  <adzumi@@denpa.org>

	* string.c (trnext): should check backslash before updating "now"
	  position.

Wed Sep  5 17:41:11 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/jcode.rb (_regexp_quote): fix quote handling.

Tue Sep  4 01:03:18 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (Init_Regexp): to_s to be alias to inspect.

Mon Sep  3 22:46:59 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): should support 'keyword='.

Mon Sep  3 20:26:08 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* intern.h (rb_find_file_ext): changed from rb_find_file_noext().

Mon Sep  3 15:12:49 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.c (proc_options): should not adjust argc/argv if -e option
	  is supplied.

Mon Sep  3 14:11:17 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* error.c: unbreak the build on *BSD with gcc 3.0.1 by removing
	  the conflicting declaration of sys_nerr for *BSD.

Sat Sep  1 18:50:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.c (proc_options): should not alter origargv[].

	* ruby.c (set_arg0): long strings for $0 dumped core.

Sat Sep  1 09:50:54 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ruby.c (set_arg0): prevent SEGV when val is longer than the
	  original arguments.

	* ruby.c (ruby_process_options): initialize total length of
	  original arguments at first.

Sat Sep  1 14:05:28 2001  Brian F. Feldman  <green@@FreeBSD.org>

	* ruby.c (set_arg0): use setprogtitle() if it's available.

Sat Sep  1 03:49:11 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_popen): accept integer flags as mode.

Fri Aug 31 19:46:05 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c (rb_find_file_ext): extension table can be supplied from
	  outside.  renamed.

	* eval.c (rb_f_require): replace rb_find_file_noext by
	  rb_find_file_ext.

Fri Aug 31 19:26:55 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_provided): should also check feature without
	  extension.

Fri Aug 31 13:06:33 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (flo_to_s): do not rely on decimal point to be '.'

Wed Aug 29 02:18:53 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): ternary ? can be followed by newline.

Tue Aug 28 00:40:48 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_f_require): should check static linked libraries
	  before raising exception.

Fri Aug 24 15:17:40 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_equal): check identiry equality first.

	* string.c (rb_str_equal): ditto.

	* struct.c (rb_struct_equal): ditto.

Fri Aug 24 14:38:17 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* dln.c (dln_strerror): fix a bug that sometimes made null message on
	  win32 (Tietew <tietew@@tietew.net>'s patch).

	* win32/win32.c (mystrerror): ditto.

Fri Aug 24 03:15:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (Init_Numeric): undef Integer::new.

Fri Aug 24 00:46:44 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): NODE_WHILE should update result for each
	  conditional evaluation.

	* eval.c (rb_eval): NODE_UNTIL should return last evaluated value
	  (or value given to break).

Thu Aug 23 21:59:38 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* enum.c (sort_by_i): fix typo.

Thu Aug 23 10:10:59 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (is_defined): should not dump core for "defined?(())".

	* eval.c (umethod_bind): recv can be an instance of descender of
	  oklass if oklass is a Module.

Wed Aug 22 23:20:03 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_hash_equal): check identiry equality first.

Wed Aug 22 19:58:59 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (intersect_fds): counts intersecting fds.

	* eval.c (rb_thread_schedule): only fds requested by
	  each thread count as select_value.

Tue Aug 21 22:28:09 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c (group_member): should check real gid only.

	* file.c (eaccess): do not cache euid, since effective euid may be
	  changed via Process.euid=().

	* file.c (eaccess): return -1 unless every specified access mode
	  is permitted.

Tue Aug 21 16:09:27 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): while/until returns the value which is given
	  to break.

	* parse.y (value_expr): using while/until/class/def as an
	  expression is now gives a warning, not an error.

Tue Aug 21 11:56:02 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* range.c (range_eqq): should compare strings based on magical
	  increment (using String#upto), not dictionary order.

Mon Aug 20 19:53:16 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/digest/sha2/extconf.rb: fix support for cross-compiling.

	* mkconfig.rb: fix support for autoconf 2.52.

Mon Aug 20 17:24:15 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* enum.c (enum_sort_by): new method for Schewartzian transformed
	  stable sort.

Mon Aug 20 16:09:05 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (mod_av_set): detect constant overriding for built-in
	  classes/modules.

Mon Aug 20 15:14:27 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (tokadd_escape): escaped backslashes too much.

Mon Aug 20 13:24:08 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* range.c (range_step): 'iter' here should be an array.

Mon Aug 20 12:43:08 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_object): should retrieve __member__ data from
	  non-singleton class.

Sat Aug 18 23:11:14 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_cvar_get): class variable override check added.

	* variable.c (rb_cvar_set): ditto

	* variable.c (rb_cvar_declare): ditto.

Fri Aug 17 12:13:48 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/protocol.rb: Protocol.new requires at least one arg.

	* lib/net/smtp.rb: ditto.

	* lib/net/pop.rb: ditto.

	* lib/net/http.rb: ditto.

Fri Aug 17 00:49:51 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (parse_regx): handle backslash escaping of delimiter here.

Thu Aug 16 23:03:40 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

       * io.c: prevent recursive malloc calls on NEC UX/4800.

       * ext/socket/socket.c: ditto.

Thu Aug 16 13:54:04 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* ext/socket/socket.c (s_recvfrom): fix typo.

Thu Aug 16 09:53:28 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* ext/socket/socket.c (s_recvfrom): avoid VC++6 warning.

Thu Aug 16 03:50:33 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* win32/win32.c (NtCmdGlob): avoid VC++ warning.

	* lib/mkmf.rb: add -I$(srcdir) to CPPFLAGS.

Wed Aug 15 04:59:15 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/*/extconf.rb: really fix so that they build from any
	  directory.

Wed Aug 15 04:04:02 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/sha2/extconf.rb: fix so that they build from any
	  directory.

Wed Aug 15 01:59:19 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/defs.h: Define NO_UINT64_T instead of emitting an
	  error to fail.

	* ext/digest/sha2/extconf.rb: Do not exit on error, and utilize
	  NO_UINT64_T to detect if the system has a 64bit integer type.

Tue Aug 14 21:14:07 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/sha2/extconf.rb: do not create Makefile when no 64bit
	  integer type is detected.

Tue Aug 14 17:09:12 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* range.c (range_step): new method.

Tue Aug 14 11:49:00 2001  TOYOFUKU Chikanobu  <toyofuku@@juice.or.jp>

	* string.c (rb_str_cmp): remove needless conditional.

Tue Aug 14 03:23:25 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* string.c (rb_str_lstrip_bang) `return Qnil' was missing.

Mon Aug 13 14:16:46 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* bignum.c, marshal.c: Detypo: s/SIZEOF_ING/SIZEOF_INT/.

Sun Aug 12 15:01:58 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* string.c (rb_str_cat): fix buffer overflow.

	* string.c (rb_str_append): nothing to append actually when `str2'
	  is empty.

Sat Aug 11 14:43:47 2001  Tanaka Akira  <akr@@m17n.org>

	* array.c (rb_inspecting_p): initialize inspect_key if it is
	not initialized yet.

Fri Aug 10 22:14:37 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (cond0): operands of logical operators are not treated
	  as conditional expresion anymore, but propagate conditional
	  status if used in conditionals.

Tue Aug  7 09:10:32 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* win32/win32.h: fix problems with BC++ (ruby-bugs#PR161).

Mon Aug  6 23:47:46 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* pack.c (pack_pack): associates p/P strings once at last
	  (reverted to 1.26).

	* string.c (rb_str_associate): associates an Array at once, not
	  but a String. realloc's when str_buf.

Mon Aug  6 17:01:33 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_gc_mark_threads): should mark ruby_cref.

Mon Aug  6 14:31:37 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* numeric.c (num_divmod): fix typo.

Mon Aug  6 03:29:03 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_lstrip_bang): new method.

	* string.c (rb_str_rstrip_bang): new method.

Mon Aug  6 00:35:03 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* struct.c (rb_struct_modify): should check frozen and taint
	  status.

Sun Aug  5 19:28:39 2001  Nobuyoshi Nakada <nobu.nakada@@nifty.ne.jp>

	* string.c (rb_str_associate): should consider STR_ASSOC too.

Sun Aug  5 07:46:18 2001  Nobuyoshi Nakada <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_undefined): do not recurse if method_missing is
	  undefined.

Thu Aug  2 21:37:32 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* process.c (proc_waitpid): now all arguments are optional.

	* process.c (Init_process): waitpid is now alias to wait.

	* process.c (Init_process): waitpid2 is now alias to wait2.

	* process.c (rb_waitpid): made public.

	* ext/pty/pty.c (pty_getpty): avoid disturbing SIGCHLD using
	  thread and rb_waitpid.

Thu Aug  2 11:23:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* process.c (proc_getpgrp): now takes no argument on all
	  platforms.

	* process.c (proc_setpgrp): ditto.

Thu Aug  2 01:29:42 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c (strrdirsep): removed meaningless code.

	* file.c (rb_file_s_expand_path): reverted to 1.66.

Wed Aug  1 16:17:47 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/socket/socket.c (sock_s_pack_sockaddr_in): added
	  Socket::pack_sockaddr_in(). [new]

	* ext/socket/socket.c (sock_s_pack_sockaddr_un): added
	  Socket::pack_sockaddr_un(). [new]

	* ext/socket/socket.c (sock_s_pack_sockaddr_in): added
	  Socket::unpack_sockaddr_in(). [new]

	* ext/socket/socket.c (sock_s_pack_sockaddr_un): added
	  Socket::unpack_sockaddr_un(). [new]

Wed Aug  1 15:42:16 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* eval.c (ruby_run): avoid VC++ warning.

Tue Jul 31 17:30:53 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* marshal.c (Init_marshal): fix typos.

Tue Jul 31 15:16:39 2001  Nobuyoshi Nakada <nobu.nakada@@nifty.ne.jp>

	* process.c (last_status_set): nothing returned, should be void.

	* ext/socket/socket.c (load_addr_info): ditto.

Tue Jul 31 12:11:42 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (Init_marshal): new constant Marshal::MAJOR_VERSION
	  and Marshal::MINOR_VERSION.

Tue Jul 31 07:18:04 2001  Nobuyoshi Nakada <nobu.nokada@@softhome.net>

	* file.c (rb_file_s_expand_path): scans per path element not per
	  byte/character, including fix of [ruby-talk:18152] and
	  multi-byte pathname support.

Tue Jul 31 11:52:10 2001  akira yamada  <akira@@ruby-lang.org>

	* marshal.c (marshal_load): ruby_verbose test should be wrapped by
	  RTEST().

Mon Jul 30 17:54:23 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_hash_index): should return nil (not the default
	  value) if value is not in the hash.

Mon Jul 30 12:55:47 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (num_div): new method added.  alias to '/' which
	  should be preserved even if '/' is redefined (e.g. by
	  mathn). [new]

Mon Jul 30 11:12:14 2001  Amos Gouaux <amos+ruby@@utdallas.edu>

	* lib/net/imap.rb: added new commands for managing folder quotas
	  and folder ACLs.

Mon Jul 30 03:19:53 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_cstr2inum): "0 ff".hex should return 0, not 255.

Fri Jul 27 22:29:41 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c (rb_file_s_expand_path): fixed using CharNext().

Fri Jul 27 18:07:27 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_provided): extension should be guessed using
	  rb_find_file_noext().

	* eval.c (rb_f_require): should call rb_feature_p() after
	  extension completion.

Fri Jul 27 16:25:52 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): add CHECK_INTS before next, redo, retry to
	  avoid potential uninterruptable infinite loop.

Thu Jul 26 11:27:12 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* file.c (rb_find_file_noext, rb_find_file): fix tilde expansion
	  problem.

Wed Jul 25 17:54:20 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_file_s_expand_path): use CharNext() to expand.

Wed Jul 25 17:16:26 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* intern.h: add some missing function prototypes.

Wed Jul 25 15:50:05 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* file.c (rb_file_s_expand_path): should not expand "." and ".."
	  not following dirsep.

Wed Jul 25 12:15:32 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* file.c (rb_find_file_noext): should update f by expanded path.

	* file.c (rb_find_file): ditto.

Tue Jul 24 23:10:47 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c (strrdirsep): multi-byte pathname and DOSish separater
	  supprot. originally comes from Patrick Cheng. [new]

	* file.c (rb_file_s_basename, rb_file_s_dirname): use
	  strrdirsep(). comes from Patrick Cheng.

	* file.c (is_absolute_path): restricted in DOSish absolute path
	  with drive letter, and UNC support. originally comes from
	  Patrick Cheng.

	* file.c (getcwd): define macro using getwd() unless provided.

Tue Jul 24 19:23:15 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in, lib/mkmf.rb: dig the target subdirectory for
	  lib/* files properly in case of create_makefile("dir/name").

Mon Jul 23 00:26:04 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_provide_feature): should not tweak extension used for
	  loading.

Sun Jul 22 21:16:43 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in, lib/mkmf.rb: introduce a couple of new make
	  variables: CLEANFILES and DISTCLEANFILES.  They'd typically be
	  defined in a file "depend".

Sat Jul 21 09:40:10 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* io.c (io_fread): use fread(3) if PENDING_COUNT is available.

Fri Jul 20 22:55:01 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* gc.c (ruby_xrealloc): fix a dangling bug which led memory
	  reallocation to fail even though the second try after a GC
	  succeeds.

Fri Jul 20 03:00:46 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* class.c (rb_mod_include_p): Module#include? added. [new]

Fri Jul 20 01:05:50 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (ignorecase_setter): give warning on modifying $=.

	* string.c (rb_str_casecmp): new method. [new]

	* string.c (rb_str_eql): separated from rb_str_equal(), make it
	  always be case sensitive. [new]

	* string.c (rb_str_hash): made it always be case sensitive.

Thu Jul 19 13:03:15 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_f_require): should not include path in $" value

	* file.c (rb_find_file): should return 0 explicitly on failure.

Tue Jul 17 11:44:40 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* ruby.h: enable volatile directive with VC++.

	* regex.c: ditto.

Tue Jul 17 06:01:12 2001  Minero Aoki  <aamine@@loveruby.net>

	* doc/net/smtp.rd.ja, pop.rd.ja, http.rd.ja: new files.

	* MANIFEST: add doc/net/{http,pop,smtp}.rd.ja.

Tue Jul 17 11:22:01 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (NUM_FAILURE_ITEMS): was confusing NUM_REG_ITEMS and
	  NUM_NONREG_ITEMS, which have happened to be same value.

Tue Jul 17 11:08:34 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* ext/extmk.rb.in: modify RM macro because command.com/cmd.exe don't
	  recognize single quotation as quote character.

	* lib/mkmf.rb: ditto.

Tue Jul 17 01:38:15 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_class_new): subclass check moved to this function.

	* class.c (rb_class_boot): check less version of rb_class_new().

Man Jul 16 13:21:30 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* file.c (file_load_ok): fix typo.

Mon Jul 16 12:58:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (proc_invoke): should preserve iter status for embedded
	  frame in the block.

Mon Jul 16 00:04:39 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_file_s_expand_path): may overrun buffer on stack.

Sun Jul 15 01:38:28 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* string.c (rb_str_insert): forgot to call rb_str_modify().

Sat Jul 14 12:26:30 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/digest/*/extconf.rb: fix so that they build from any
	  directory.

Sat Jul 14 06:20:17 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/net/http.rb: HTTP#proxy? did not worked.

Sat Jul 14 02:56:19 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in: support multi-level ext/ directories.
	  (e.g. you can have ext/foo, ext/foo/bar and ext/foo/baz)

Sat Jul 14 02:55:02 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/.cvsignore: let cvs ignore extinit.c.

Fri Jul 13 23:47:35 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_search): should consider reverse search.

Fri Jul 13 22:26:09 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/mkmf.rb: use File::split to split a target into a prefix and
	  a module name.  This also works around a just found bug of
	  String#rindex.

	* ext/extmk.rb.in: ditto.

Fri Jul 13 02:36:10 2001  Minero Aoki  <aamine@@loveruby.net>

	* dir.c (dir_s_chdir): warn only when invoked from multiple
	  threads or block is not given.

Thu Jul 12 15:11:48 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/socket/socket.c (ruby_connect): workaround for the setup of
	  Cygwin socket(EALREADY).

Mon Jul  9 16:49:30 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb.in: modify RM macro.

	* lib/mkmf.rb: ditto.

Sun Jul  8 20:52:02 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ruby.h: fix a wrong function name: rb_iglob() -> rb_globi().

Sun Jul  8 16:04:35 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/http.rb: rename HTTP#request_by_name to send_request.

	* lib/net/protocol.rb (ProtoSocket#read): modify typo.

Sat Jul  7 17:45:35 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_convert_type): should use rb_rescue(), not rb_rescue2().

	* range.c (range_init): ditto.

Fri Jul  6 18:01:10 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_obj_dup): copies (actually does not free)
	  generic_ivar on dupif original owns them.

Fri Jul  6 02:15:06 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/tempfile.rb: a tempfile must be created with mode 0600.

Thu Jul  5 20:28:53 2001  Tietew <tietew@@tietew.net>

	* string.c (rb_str_each_line): should propagate taint mark. 

	* ext/nkf/nkf.c (rb_nkf_kconv): ditto.

Fri Jul  6 14:54:27 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_f_require): revamp for simpler implementation.

	* file.c (rb_find_file_noext): use String object, instead of
	  passing char* around.

	* file.c (rb_find_file): ditto.

Thu Jul  5 22:01:02 2001  Mitsuhiro Kondo  <kondo@@nik-prt.co.jp>

	* dln.c (dln_load): should use NSLINKMODULE_OPTION_BINDNOW.

Thu Jul  5 13:44:03 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.c (load_file): local variables 'c' remain uninitialized on
	  xflag.

Thu Jul  5 10:00:59 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_match): prefetched escaped character too early.

Wed Jul  4 08:58:30 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_call0): add argument check for attr_readers.

Wed Jul  4 04:22:44 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/http.rb (HTTP#request_by_name): arg order changes.

Wed Jul  4 04:07:36 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/http.rb (HTTP#request_by_name): bug fix.

	* lib/net/http.rb: does not write Connection: by default.

	* lib/net/protocol.rb: "start" for started protocol is an error.

	* lib/net/protocol.rb: "finish" for finished protocol is an error.

Wed Jul  4 03:17:31 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/http.rb: new method HTTP#request_by_name (test)

	* lib/net/http.rb: new class HTTPGenericRequest

Tue Jul  3 23:58:29 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/mkmf.rb: distclean should remove mkmf.log as well.

Tue Jul  3 18:35:49 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval_string_wrap): should push frame (and adjust
	  cbase) before wrapped eval.

	* eval.c (rb_eval_cmd): ditto.

	* eval.c (eval): should update ruby_class always after all.

Tue Jul  3 14:56:27 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* eval.c (block_pass): do not change wrapper information.

	* eval.c (rb_yield_0):  preserve wrapper information.

Tue Jul  3 08:59:50 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* error.c (rb_name_error): raise NameError instead of LoadError.

Mon Jul  2 17:22:00 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* error.c (exc_exception): clone the receiver exception instead of
	  creating brand new exception object of the receiver.

Mon Jul  2 09:53:12 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval_string_wrap): extend new ruby_top_self, not
	  original self.

	* eval.c (rb_eval_cmd): respect ruby_wrapper if set.

	* eval.c (eval): do not update ruby_class unless scope is not
	  provided.

Sun Jul  1 10:51:15 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* eval.c (eval): preserve wrapper information.

	* eval.c (proc_invoke): ditto.

	* eval.c (block_pass): ditto.

Sat Jun 30 02:55:45 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (void_expr): too much warnings for void context
	  (e.g. foo[1] that can be mere Proc call).

Fri Jun 29 17:23:18 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* error.c (rb_name_error): new function to raise NameError with
	  name attribute set.

	* eval.c (rb_f_missing): set name and args in the exception
	  object. [new]

	* error.c (name_name): NameError#name - new method.

	* error.c (nometh_args): NoMethodError#args - new method.

Fri Jun 29 15:29:31 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* lex.c (rb_reserved_word): lex_state after tRESCUE should be
	  EXPR_MID.

Thu Jun 28 00:21:28 2001  Keiju Ishitsuka <keiju@@ishitsuka.com>

	* lib/matrix.rb: resolve 'ruby -w' warnings.

	* lib/irb/locale.rb: resolve 'ruby -w' warnings.

	* lib/irb/multi-irb.rb: resolve 'ruby -w' warnings.

	* lib/irb/ruby-lex.rb: fix problem for "\\M-\\..." and "\\C-\\..."
	  and resolve 'ruby -w' warnings.  

	* lib/irb/ruby-token.rb: fix typo

	* lib/shell/command-processor.rb: resolve 'ruby -w' warnings.
	
Wed Jun 27 08:53:26 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/pop.rb: new methods POP3.auth_only, POP3#auth_only

	* lib/net/http.rb: HTTP.Proxy returns self if ADDRESS is nil.

	* lib/net/protocol.rb: new method ProtocolError#response

	* lib/net/protocol.rb,smtp.rb,pop.rb,http.rb: add document.

Tue Jun 26 18:42:42 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (add_heap): allocation size of the heap unit is doubled for
	  each allocation.

Mon Jun 25 09:54:48 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* dir.c (isdelim): space, tab, and newline are no longer
	  delimiters for glob patterns.

Sat Jun 23 22:28:52 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (svalue_to_avalue): new conversion scheme between single
	  value and array values.

	* eval.c (avalue_to_svalue): ditto.

	* eval.c (rb_eval): REXPAND now uses avalue_to_svalue(), return
	  and yield too.

	* eval.c (rb_yield_0): use avalue_to_svalue().

	* eval.c (proc_invoke): Proc#call gives avaules, whereas
	  Proc#yield gives mvalues.

	* eval.c (bmcall): convert given value (svalue) to avalue.

Sat Jun 23 18:28:52 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/readline/readline.c (readline_event): a non-void function
	  should return a value.

Fri Jun 22 23:17:28 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/socket/socket.c (ruby_connect): workaround for the setup of
	  Cygwin socket.

Fri Jun 22 23:11:17 2001 Keiju Ishitsuka <keiju@@ishitsuka.com>
	
	* lib/irb/locale.rb: fix for require "kconv" problem
	
Fri Jun 22 18:08:45 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_yield_0): no mvalue_to_svalue conversion here.

	* eval.c (massign): takes svalue, convert it to mvalue inside.

	* eval.c (rb_eval): parameters for yield/return are always
	  svalues now.

	* eval.c (svalue_to_mvalue): more strict conversion.

	* eval.c (mvalue_to_svalue): ditto.

Fri Jun 22 17:12:23 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* st.c (new_size): prime hash size enabled.

	* ext/socket/socket.c (Init_socket): SO_* constants added.

Tue Jun 19 22:24:07 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* gc.c (rb_setjmp): avoid GCC 3.0 warnings.

Tue Jun 19 18:19:30 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/readline/readline.c: add new methods:
	  Readline::completion_append_character and
	  Readline::completion_append_character=.

Tue Jun 19 16:29:50 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (svalue_to_mvalue): new function to convert from svalue
	  to mvalue. [experimental]

	* eval.c (mvalue_to_svalue): new function to convert from mvalue
	  to svalue.

	* eval.c (rb_eval): use mvalue_to_svalue().

	* eval.c (rb_yield_0): use mvalue_to_svalue().

	* eval.c (proc_invoke): proper mvalue handling.

Mon Jun 18 17:38:50 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_f_require): searches ".rb" and ".so" at the same
	  time.  previous behavior (search ".rb", then ".so") has a
	  security risk (ruby-bugs#PR140).

	* array.c (rb_ary_to_ary): new function to replace internal
	  rb_Array(), which never calls to_a, but to_ary (rb_Array() might
	  call both). [new]

Mon Jun 18 00:43:20 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (PUSH_FAILURE_POINT): push option status again.

	* regex.c (re_compile_pattern): avoid pushing unnecessary
	  option_set.

Sat Jun 16 10:58:48 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_load): tainted string is OK if wrapped *and*
	  $SAFE >= 4.

Thu Jun 14 16:27:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_start_0): should not nail down higher blocks
	  before preserving original context (i.e. should not alter
	  original context).

Wed Jun 13 19:34:59 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* dir.c (Init_Dir): add a new method File::fnmatch? along with
	  File::Constants::FNM_*.  While I am here, FNM_NOCASE is renamed
	  to FNM_CASEFOLD which is commonly used by *BSD and GNU libc.

Wed Jun 13 09:33:45 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (proc_yield): new method equivalent to Proc#call but no
	  check for number of arguments. [new]

Tue Jun 12 14:21:28 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* lib/mkmf.rb: target_prefix is only for installation, not for
	  build.

Tue Jun 12 00:41:18 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (method_eq): new method Method#==. [new]

Mon Jun 11 14:29:41 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* confgure.in: add RUBY_CANONICAL_BUILD.

Sun Jun 10 17:31:47 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* gc.c (STR_NO_ORIG): STR_NO_ORIG value was different between
	  string.c and gc.c

Sat Jun  9 22:10:04 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): should convert *non-array at the end of
	  arguments by using Array().

Sat Jun  9 17:04:30 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* hash.c (ruby_setenv): readline library leaves their environment
	  strings uncopied.  "free" check revised.

Sat Jun  9 16:31:03 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* ext/extmk.rb.in: Use -F and -T for mswin32 because cl.exe doesn't
	  support -o officially and cl.exe considers that *.cc and *.cxx are
	  OBJs.

	* lib/mkmf.rb: ditto.

	* win32/Makefile.sub: Use del instead of rm.
	  All these changes are derived from Nobuyoshi Nakada's patch.
	  Thanks.

Fri Jun  8 22:37:40 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (Init_stack): avoid __builtin_frame_address(2) to retrieve
	  stack bottom line.

Fri Jun  8 18:14:12 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* st.c (numhash): should shuffle bits by dividing by prime number.

Fri Jun  8 17:05:21 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): multiple assignment behavior fixed, which
	  results "*a = nil" makes "a == []" now.

Fri Jun  8 15:25:09 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_f_require): should set SCOPE_PUBLIC before calling
	  dln_load().

Thu Jun  7 17:28:00 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): exclude kDO_BLOCK too much by false condition.

Wed Jun  6 23:02:36 2001  Keiju Ishitsuka  <keiju@@ishitsuka.com>

	* lib/sync.rb: bug fix if obj.initialize has parameters when
	  obj.extend(Sync_m)

	* lib/mutex_m.rb: modified bit 
	
Wed Jun  6 16:11:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_load): should check if tainted even when wrap is
	  specified.

Wed Jun  6 14:34:27 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (mrhs_basic): "*arg" should always be expanded by REXPAND.

	* regex.c (re_compile_pattern): too much optimization for the
	  cases like /(.|a)b/.

Tue Jun  5 23:58:43 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (fc_i): removed vast string allocation.

Tue Jun  5 16:45:48 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* error.c (Init_Exception): NameError went under StandardError,
	  and NoMethodError went under NameError.

Tue Jun  5 16:40:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (rb_intern): non identifier symbols should be
	  categorized as ID_JUNK. [new]

Tue Jun  5 16:15:58 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_mod_const_at): use hash table as internal
	  data. [new]

	* variable.c (rb_mod_const_of): ditto.

	* variable.c (rb_const_list): new function to convert internal
	  data (hash table) to array of strings.

	* eval.c (rb_mod_s_constants): data handling scheme has changed.

Tue Jun  5 15:16:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_add_method): should not call rb_secure(), for
	  last_func may not be set.

	* io.c (rb_io_ctl): ioctl should accept any integer within C long
	  range.

Tue Jun  5 13:41:13 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/etc/extconf.rb: use egrep_cpp.

Tue Jun  5 12:44:59 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (r_object): wrong type check for modules.

	* marshal.c (w_object): should not dump anonymous classes/modules.

Tue Jun  5 01:19:34 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_open_file): use rb_file_sysopen_internal() if the 3rd
	  argument (permission flags) is given. [new, should be backported?]

	* io.c (rb_io_mode_binmode): mode string (e.g. "r+") to flags to
	  open(2).

Mon Jun  4 23:55:54 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): NODE_REXPAND expand an array of 1 element as
	  the element itself. [new, should be backported?]

	* parse.y (ret_args): should treat "*[a]" in rhs expression as
	  "a", not "[a]".

Mon Jun  4 04:14:53 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/shellwords.rb: don't destroy argument.

Sat Jun  2 23:23:05 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_compile_pattern): should push option modifier at the
	  right place.

Sat Jun  2 23:05:20 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* lib/cgi/session.rb: don't use module_function for Class.

Sat Jun  2 00:02:22 2001  Keiju Ishitsuka <keiju@@ishitsuka.com>

	* irb messages: fix typos.
	
Fri Jun  1 17:26:24 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* hash.c (replace_i): ignore when key == Qundef.

Fri Jun  1 16:50:59 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (call_args2): confusion with list_append() and
	  list_concat() was fixed.

Fri Jun  1 15:01:40 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): fixed 'print CGI::bar() {}, "\n"' syntax
	  breakage, adding new lex_state status.  sigh. [new]

Fri Jun  1 11:21:04 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: use waitpid on mingw32.

	* ext/dbm/extconf.rb: include <ndbm.h>, not <gdbm.h>.

Thu May 31 18:34:57 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* file.c (rb_file_s_unlink): should not allow if $SAFE >= 2.

Thu May 31 17:23:25 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* range.c (Init_Range): define "to_ary".

Thu May 31 13:30:25 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* mkconfig.rb, ext/configsub.rb: VERSION -> RUBY_VERSION.

Thu May 31 08:00:58 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* win32/dir.h: re-add.

Thu May 31 01:25:59 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* configure.in: default --with-libc_r to `no' until the problem is
	  fixed. (FreeBSD only)

Tue May 29 17:24:23 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* ruby.c (proc_options): unexpected SecurityError happens when -T4.

Tue May 29 18:46:04 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_compile_pattern): * \1 .. \9 should be
	  backreferences always.

	* regex.c (re_match): backreferences corresponding to
	  unclosed/unmatched parentheses should fail always.

Tue May 29 16:35:49 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_cat): use rb_str_buf_cat() if possible. [new]

	* string.c (rb_str_append): ditto.

	* string.c (rb_str_buf_cat): remove unnecessary check (type,
	  taint, modify) to gain performance.

	* string.c (rb_str_buf_append): ditto.

	* string.c (rb_str_buf_finish): removed.

Tue May 29 02:05:55 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_buf_new): buffering string function. [new]

	* string.c (rb_str_buf_append): ditto.

	* string.c (rb_str_buf_cat): ditto.

	* string.c (rb_str_buf_finish): ditto.

Mon May 28 23:20:43 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: remove unnecessary AC_CANONICAL_BUILD

	* defins.h: #define HAVE_SETITIMER on Cygwin(bug fixed).

	* ruby.c: use relative path from LIBRUBY_SO.

	* ruby.c: don't use -mwin32 option on Cygwin.

	* cygwin/GNUmakefile.in: ditto.

	* ext/sdbm/_sdbm: ditto.

	* ext/tcltklib/extconf.rb: ditto.

	* ext/tcltklib/stubs.c: ditto.

Mon May 28 22:12:01 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/extconf.rb.in: make the priority of the make rule of .c
	  higher than .C .

Mon May 28 13:22:19 2001  Tanaka Akira  <akr@@m17n.org>

	* time.c (make_time_t): local time adjustment revised.

Mon May 28 02:20:38 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* dir.c (glob_helper): teach has_magic() to handle flags and get
	  glob_helper to properly support FNM_NOESCAPE.

	* dir.c (fnmatch): fix a bug when FNM_PATHNAME and FNM_PERIOD are
	  specified at the same time.

Sat May 26 09:55:26 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y: accomplish extended syntax described in [ruby-talk:14525]
	  using tSPC token. [new, experimental]

Sat May 26 07:05:45 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* MANIFEST: add win32/dir.h .

Fri May 25 20:03:51 2001  Pascal Rigaux  <pixel@@mandrakesoft.com>

	* dln.c (dln_find_1): should exclude directories in executable
	  file lookup.

Fri May 25 18:00:26 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_obj_singleton_methods): list methods in extended
	  modules if optional argument is true. [new]

Fri May 25 14:19:25 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* string.c (rb_str_replace): add taint status infection
	  (OBJ_INFECT()).

	* string.c (rb_str_crypt): ditto.

	* string.c (rb_str_ljust): ditto.

	* string.c (rb_str_rjust): ditto.

	* string.c (rb_str_center): ditto.

Fri May 25 05:39:03 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/sha1/sha1-ruby.c (sha1_hexdigest): fix buffer overflow.  The
	  buffer for a SHA-1 hexdigest needs to be 41 bytes in length.

Fri May 25 01:47:39 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* MANIFEST: update the entries I forgot to add or remove.

Fri May 25 00:57:25 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/sha1/sha1-ruby.c (sha1_new): separate initialize() from
	  new().

	* ext/md5/md5init.c (md5i_new): ditto.

Fri May 25 00:53:41 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/dbm/extconf.rb: fix support for *BSD and set $CFLAGS
	  properly.

Thu May 24 16:10:33 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* range.c (range_member): check based on "<=>" comparison. [new]

	* range.c (range_check): add "succ" check if first end is not a
	  numeric.

	* range.c (range_eqq): comparison should based on "<=>".

	* range.c (range_each): ditto.

Thu May 24 16:08:21 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* mkconfig.rb: autoconf 2.50 support.

Thu May 24 14:23:35 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_yield_0): need argument adjustment for C defined
	  blocks too.

Thu May 24 01:11:30 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/dbm/extconf.rb: header search added. [new]

Wed May 23 02:58:21 2001  Tanaka Akira  <akr@@m17n.org>

	* time.c (make_time_t): fix ad-hoc local time adjustment, using
	  binary tree search.

Tue May 22 17:10:35 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* variable.c (rb_alias_variable): should not allow variable
	  aliasing if $SAFE >= 4.

Tue May 22 02:37:45 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (expr): "break" and "next" to take optional expression,
	  which is used as a value for termination. [new, experimental]

	* eval.c (rb_eval): "break" can give value to terminating method.

	* eval.c (rb_eval): "break" and "next" to take optional expression.

	* eval.c (rb_yield_0): "next" can give value to terminating "yield".

	* eval.c (rb_iterate): "break" can give value to terminating method.

	* eval.c (proc_call): ditto.

Mon May 21 13:15:25 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big2str): t should be protected from GC.

Sat May 19 09:29:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* process.c (rb_proc_times): need not to check return value from
	  times(2).

Fri May 18 05:36:08 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in (xsystem): backout the previous fix which was
	  bogus.

Fri May 18 05:19:55 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/mkmf.rb (xsystem): make a temporary fix to get $(...) macros
	  properly expanded on a command execution.

	* ext/extmk.rb.in (xsystem): ditto.

Fri May 18 03:45:55 2001  Brian F. Feldman  <green@@FreeBSD.org>

	* lib/mkmf.rb: unbreak "make install".  lib/* must be installed
	  under $rubylibdir, not under $libdir.

Fri May 18 01:28:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (expr): break, next, redo, retry are moved from primary.

Fri May 18 01:11:02 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* ext/sha1/sha1-ruby.c (sha1_new): get rid of an unneeded
	  rb_obj_call_init() call.

Fri May 18 01:03:55 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* ext/sha1/sha1.txt, ext/sha1/sha1.txt.jp: fix typos.

Thu May 17 19:17:11 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/shell.rb, lib/shell/process-controller.rb,
	  lib/shell/command-processor.rb: translate Japanese comments into
	  English.

Thu May 17 19:07:14 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* doc/shell.rd.jp: RD'ify and make some fixes.

	* doc/shell.rd: RD'ify, delete Japanese leftovers, make overall
	  English fixes, and sync with doc/shell.rd.jp.

Thu May 17 17:35:04 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_call0): address of local_vars might change during eval.

Thu May 17 07:27:09 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/md5/md5.txt.jp, ext/sha1/sha1.txt.jp:
	  s/SuperClass/Superclass/.

Thu May 17 07:21:44 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/Setup.dj, ext/Setup.emx, ext/Setup.nt, ext/Setup.x68:
	  compile sha1 in as well as md5.

	* ext/Setup: put sha1 in a comment.

Thu May 17 07:16:38 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/sha1/sha1.txt.jp: add the Japanese version derived from
	  ext/md5/md5.txt.jp.

	* ext/sha1/sha1.txt: revise the copyright info and reduce the
	  difference from ext/md5/md5.txt.

	* ext/md5/md5.txt: reduce the difference from ext/sha1/sha1.txt.

Thu May 17 07:11:35 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/sha1/extconf.rb, ext/sha1/sha1.c: use WORDS_BIGENDIAN to
	  detect the platform's endian.

Thu May 17 06:31:30 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/md5/md5.txt: make wording fixes, and mention the newly added
	  method: "<<".

	* ext/md5/md5.txt.jp: ditto.

Wed May 16 18:05:52 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/md5/md5init.c: add an instance method "<<" as an alias for
	  "update". (inspired by Steve Coltrin's ruby-sha1)

Tue May 15 17:46:37 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_and): should not push frozen key string.

	* array.c (rb_ary_or): ditto.

Tue May 15 02:18:23 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/thread.rb: rescue ThreadError in case the thread is dead
	  just before calling Thread#run.

Mon May 14 13:50:22 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_schedule): should save context before raising
	  deadlock, saved context for current thread might be obsolete.

	* time.c (make_time_t): non DST timezone shift supported (hopefully).

	* time.c (make_time_t): strict range detection for negative time_t.

Mon May 14 11:54:20 2001  Tanaka Akira  <akr@@m17n.org>

	* signal.c: SIGINFO added.

Mon May 14 08:57:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_ensure): should not SEGV when prot_tag is NULL.

Sun May 13 23:51:14 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* win32/resource.rb: Modify copyright in resource script.

Sun May 13 14:03:33 2001  Okada Jun  <yun@@be-in.org>

	* lib/thread.rb: fix Queue#pop and SizedQueue#max= to avoid
	  deadlock.

Sat May 12 15:43:55 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* win32/win32.c (kill): add support of signal 9 on mswin32/mingw32.

Fri May 11 15:09:52 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ruby.h (rb_string_value): add volatile to avoid compiler warning.

	* string.c (rb_string_value): ditto.

Fri May 11 03:35:33 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* README.EXT: Document find_library(), with_config() and
	  dir_config().

Fri May 11 03:34:20 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* README.EXT.jp: Remove the description of find_header() because
	  such a function does not actually exist.
    
	* README.EXT.jp: Update the description of dir_config().

Fri May 11 02:42:05 2001  Kazuhiro NISHIYAMA  <zn@@mbf.nifty.com>

	* README, README.jp: Fix CVS access and mailing lists info.

Fri May 11 02:00:44 2001  Ryo HAYASAKA  <ryoh@@jaist.ac.jp>

	* bignum.c (bigdivrem): access boundary bug.

Thu May 10 02:40:47 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_object): prohibit dumping out singleton classes.

	* object.c (rb_mod_to_s): distinguish singleton classes.

	* variable.c (rb_class2name): it's ok to reveal NilClass,
	  TrueClass, FalseClass.

Wed May  9 14:38:33 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (rb_yield_0): preserve and restore ruby_cref as well.

Tue May  8 18:28:19 2001  Keiju Ishitsuka  <keiju@@ishitsuka.com>

	* lib/irb.rb lib/irb/multi-irb.rb lib/irb/ruby-lex.rb
	  lib/irb/version.rb resolve ctrl-c problem

Tue May  8 17:12:43 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (is_defined): core dumped during instance_eval for
	  special constants.

	* eval.c (rb_eval): ditto.

Tue May  8 08:52:57 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* doc/forwardable.rd, doc/forwardable.rd.jp: Hit `=begin' and
	  `=end' in proper places so rd2 can format them without a problem.

	* doc/irb/irb-tools.rd.jp, doc/irb/irb.rd, doc/irb/irb.rd.jp:
	  ditto.

Tue May  8 08:38:53 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* doc/forwardable.rd, doc/forwardable.rd.jp, lib/forwardable.rb:
	  Import forwardable 1.1.

Tue May  8 08:34:33 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* doc/irb/irb-tools.rd.jp, doc/irb/irb.rd.jp: Convert from JIS to
	  EUC.

Tue May  8 03:46:39 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* sample/rbc.rb: Obsoleted by IRB.

Mon May  7 15:58:45 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (arg): "||=" should not warn for uninitialized instance
	  variables.

	* eval.c (rb_eval): ditto.

	* eval.c (eval): preserve and restore ruby_cref as well.

Mon May  7 15:45:48 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/ftools.rb (syscopy): chmod destination file only if
	  it does not exist.

Mon May  7 14:35:57 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_obj_is_instance_of): takes only class/module as an
	  argument.

Sun May  6 16:27:29 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* eval.c (is_defined): rb_reg_nth_defined() may return Qnil.

Thu May  3 03:15:06 2001  SHIROYAMA Takayuki <psi@@fortune.nest.or.jp>

	* configure.in: get --enable-shared to work on MacOS X.

	* Makefile.in: make $(LIBRUBY_SO) depend on miniruby properly.
	  Now `make -jN' should work without a problem.

Thu May  3 02:07:45 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* win32/config.h.in: add SIZEOF___INT64 definition.

Wed May  2 20:39:35 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* dir.c (rb_glob, rb_globi): remove unnecessary FNM_PATHNAME.

Wed May  2 11:46:13 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (block_pass): should not downgrade safe level.

Wed May  2 03:07:49 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/dbm/extconf.rb: allow specifying dbm-type explicitly.

	* ext/dbm/extconf.rb: avoid gdbm if possible, because it leaks
	  memory, whereas gdbm.so doesn't.  potential incompatibility.

Wed May  2 02:02:18 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_insert): new method.

Tue May  1 17:55:58 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): lex_state after RESCUE_MOD should be EXPR_BEG.

Tue May  1 16:23:03 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_insert): new method.

	* array.c (rb_ary_update): new utility function.

Tue May  1 03:24:05 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/irb/completion.rb, lib/irb/frame.rb, lib/irb/xmp.rb,
	  doc/irb/irb-tools.rd.jp: Merge from irb-tools 0.7.1.

Tue May  1 03:07:17 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* sample/irb.rb, lib/irb.rb, lib/irb/*, doc/irb/*: Merge from irb
	  0.7.3.

	* instruby.rb: Install help-message's too.

	* lib/irb/main.rb: This file is not needed anymore.

Fri Apr 27 09:27:10 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (set_outfile): should check if closed before assignment.

Thu Apr 26 22:36:11 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in:  don't use tzname on Cygwin 1.3.1+.

	* configure.in: add -mieee/-ieee to CFLAGS on OSF1/Alpha
	  to disable "DIVISION BY ZERO" exception.

Thu Apr 26 22:30:43 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): should preserve value of ruby_errinfo.

Thu Apr 26 10:36:09 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

       * eval.c (rb_thread_schedule): infinite sleep should not cause
	  dead lock.

Wed Apr 25 16:40:44 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_flatten_bang): proper recursive detection.

Wed Apr 25 15:36:15 2001  K.Kosako  <kosako@@sofnec.co.jp>

       * eval.c (yield_under): need not to prohibit at safe level 4.

Wed Apr 25 15:22:20 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* pack.c (pack_pack): p/P packs nil into NULL.

	* pack.c (pack_unpack): p/P unpacks NULL into nil.

Tue Apr 24 15:35:32 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* pack.c (pack_pack): size check for P template.

	* ruby.c (set_arg0): wrong predicate when new $0 value is bigger
	  than original space.

Tue Apr 24 15:18:49 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in, lib/mkmf.rb: (dir_config) do not add the
	  specified include directory if already included in $CPPFLAGS.

	* ext/extmk.rb.in, lib/mkmf.rb: (dir_config) return a more useful
	  value, [include_dir, lib_dir].

Mon Apr 23 14:43:59 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (id2ref): should use NUM2ULONG()

	* object.c (rb_mod_const_get): check whether name is a class
	  variable name.

	* object.c (rb_mod_const_set): ditto.

	* object.c (rb_mod_const_defined): ditto.

Sat Apr 21 22:33:26 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_float): precision changed to "%.16g"

Sat Apr 21 22:07:58 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* eval.c (rb_call0): wrong retry behavior.

Fri Apr 20 19:12:20 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (fix_aref): a bug on long>int architecture.

Fri Apr 20 14:57:15 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (rb_eval_string_wrap): should restore ruby_wrapper.

Sun Apr 22 17:44:37 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: add -mieee to CFLAGS on Linux/Alpha
	  to disable "DIVISION BY ZERO" exception.

	* configure.in: remove -ansi on OSF/1.

Wed Apr 18 04:37:51 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: CGI::Cookie: no use PATH_INFO.

Wed Apr 18 00:24:40 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_compile_pattern): char class at either edge of range
	  should be invalid.

Tue Apr 17 17:33:55 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (handle_rescue): use === to compare exception match.

	* error.c (syserr_eqq): comparison between SytemCallErrors should
	  based on their error numbers.

Tue Apr 17 16:54:39 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (safe_getter): should use INT2NUM().

Tue Apr 17 15:12:56 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big2long): 2**31 cannot fit in 31 bit long.

Sat Apr 14 22:46:43 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* regex.c (calculate_must_string): wrong length calculation.

Sat Apr 14 13:37:32 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* win32/config.status.in: no longer use missing/alloca.c.

	* win32/Makefile.sub: ditto.

Fri Apr 13 12:40:48 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (rb_thread_start_0): fixed memory leak.

Fri Apr 13 16:41:18 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (none): should clear cmdarg_stack too.

Fri Apr 13 06:19:29 2001  GOTOU YUUZOU  <gotoyuzo@@notwork.org>

	* io.c (rb_fopen): use setvbuf() to avoid recursive malloc() on
	  some platforms.

Wed Apr 11 23:36:26 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_stat_dev): device functions should honor stat field
	  types (except long long such as dev_t).

Wed Apr 11 18:07:53 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (rb_mod_nesting): should not push nil for nesting array.

	* eval.c (rb_mod_s_constants): should not search array by
	  rb_mod_const_at() for nil (happens for singleton class).

Wed Apr 11 13:29:26 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_singleton_class_attached): should modify iv_tbl by
	  itself, no longer use rb_iv_set() to avoid freeze check error.

	* variable.c (rb_const_get): error message "uninitialized constant
	  Foo at Bar::Baz" instead of "uninitialized constantBar::Baz::Foo".

Tue Apr 10 17:52:10 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_mod_included): new hook called from rb_mod_include().

Tue Apr 10 02:24:40 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* io.c (opt_i_set): should strdup() inplace_edit string.

Mon Apr  9 23:29:54 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (exec_under): need to push cref too.

Mon Apr  9 15:20:21 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_f_missing): raise NameError for "undefined local
	  variable or method".

	* error.c (Init_Exception): new exception NoMethodError.
	  NameError moved under ScriptError again.

	* eval.c (rb_f_missing): use NoMethodError instead of NameError.

Mon Apr  9 12:05:44 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (Init_File): should redifine "new" class method.

Mon Apr  9 11:56:52 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* lib/net/imap.rb: fix typo.

Fri Apr  6 01:46:35 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (PUSH_CREF): sharing cref node was problematic.  maintain
	  runtime cref list instead.

	* eval.c (rb_eval): copy defn node before registering.

	* eval.c (rb_load): clear ruby_cref before loading.

Thu Apr  5 22:40:12 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_const_get): no recursion to show full class path
	  for modules.

	* eval.c (rb_set_safe_level): should set safe level in curr_thread
	  as well.

	* eval.c (safe_setter): ditto.

Thu Apr  5 13:46:06 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* object.c (rb_obj_is_instance_of): nil belongs to false, not true.

Thu Apr  5 02:19:03 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (make_time_t): proper (I hope) daylight saving time
	  handling for both US and Europe.  I HATE DST!

	* eval.c (rb_thread_wait_for): non blocked signal interrupt should
	  stop the interval.

Wed Apr  4 03:47:03 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (proc_eq): class check aded.

	* eval.c (proc_eq): typo fixed ("return" was ommitted).

	* error.c (Init_Exception): move NameError under StandardError.

	* class.c (rb_mod_clone): should copy method bodies too.

	* bignum.c (bigdivrem): should trim trailing zero bdigits of
	  remainder, even if dd == 0.

	* file.c (check3rdbyte): safe string check moved here.

Tue Apr  3 09:56:20 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb.in (create_makefile): create def file only if
	  it does not yet exist.

	* lib/mkmf.rb: ditto.

Tue Apr  3 00:05:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (make_time_t): remove HAVE_TM_ZONE code since it
	  sometimes reports wrong time.

	* time.c (make_time_t): remove unnecessary range check for
	  platforms where negative time_t is available.

Mon Apr  2 16:52:48 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* process.c (proc_waitall): should push Process::Status instead of
	  Finuxm status.  

	* process.c (waitall_each): should add all entries in pid_tbl.
	  these changes are inspired by Koji Arai.  Thanks.

	* process.c (proc_wait): should not iterate if pid_tbl is 0.

	* process.c (proc_waitall): ditto.

Mon Apr  2 14:25:49 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* lib/monitor.rb (wait): ensure reentrance.

	* lib/monitor.rb (wait): fix timeout support.

Mon Apr  2 12:40:45 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* lib/net/imap.rb (media_subtype): return subtype.

Mon Apr  2 12:01:15 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* lib/net/imap.rb (flag_list): capitalize flags.

Mon Apr  2 01:32:38 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* Makefile.in: Introduce MAINLIBS.

	* configure.in: Link libc_r against the ruby executable on
	  FreeBSD, which is the first attempt to work around a certain
	  problem regarding pthread on FreeBSD.  It should make ruby/libruby
	  happy when it loads an extention to a library compiled and linked
	  with -pthread.  Note, however, that libruby is _not_ linked with
	  libc_r so as not to mess up pthread unfriendly stuff including
	  apache+mod_ruby and vim6+ruby_interp.

Mon Apr  2 01:16:24 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.c: use ruby's opendir on mingw32.

	* win32/dir.h, dir.c, Makefile: ditto.

Sun Apr  1 23:26:14 2001  TOYOFUKU Chikanobu  <toyofuku@@juice.or.jp>

	* numeric.c (flodivmod): a bug in no fmod case.

Sun Apr  1 18:36:14 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* process.c (pst_wifsignaled): should apply WIFSIGNALED for status
	  (int), not st (VALUE).

Sat Mar 31 04:47:55 2001  Shugo Maeda  <shugo@@ruby-lang.org>

	* lib/net/imap.rb: add document and example code.

Sat Mar 31 03:24:10 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (Init_IO): value of $/ and $\ are no longer restricted to
	  strings.  type checks are done on demand.

	* class.c (rb_include_module): module inclusion should be check
	  taints.

	* ruby.h (STR2CSTR): replace to StringType() and StringTypePtr().

	* ruby.h (rb_str2cstr): ditto.

Fri Mar 30 23:37:49 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_load): should not copy topleve local variables.  It
	  cause variable/method ambiguity.  Thanks to L. Peter Deutsch.

Fri Mar 30 22:56:56 2001  Shugo Maeda  <shugo@@ruby-lang.org>

	* lib/net/imap.rb: rename ContinueRequest to ContinuationRequest.

Fri Mar 30 12:51:19 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_include_module): freeze check at first.

Thu Mar 29 17:05:09 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_attr): sprintf() and rb_intern() moved into
	  conditional body.

Wed Mar 28 23:43:00 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/extmk.rb.in, lib/mkmf.rb: add C++ rules in addition to C
	  rules for the mswin32 platforms.

Wed Mar 28 19:29:21 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in, lib/mkmf.rb: move C++ rules to the right place.

Wed Mar 28 17:39:04 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_str2cstr): warn if string contains \0 and length
	  value is ignored.

Wed Mar 28 15:00:31 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* class.c (rb_singleton_class_clone): should copy class constant
	  table as well.

Wed Mar 28 14:23:23 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_include_module): sometimes cache was mistakenly left
	  uncleared - based on the patch by K.Kosako.

	* ruby.h: all Check_SafeStr()'s are replaced by SafeStr() to
	  ensure 'to_str' be always effective.

Wed Mar 28 09:52:33 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/Makefile.sub: disable global optimization.

Tue Mar 27 15:00:54 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (rb_mod_define_method): should have clear method cache.

	* eval.c (rb_mod_define_method): should have raised exception for
	  type error.

Tue Mar 27 14:48:17 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.h: changed "extern INLINE" to "static inline".

Mon Mar 26 23:19:33 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* time.c (rb_strftime): check whether strftime returns empty string.

Mon Mar 26 21:16:56 2001  Shugo Maeda  <shugo@@ruby-lang.org>

	* lib/net/imap.rb: supports response handlers and multiple commands.

Mon Mar 26 17:21:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c: remove TMP_PROTECT_END to prevent C_ALLOCA crash.

Mon Mar 26 14:04:41 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/Win32API/Win32API.c: remove Init_win32api().

Sun Mar 25 16:52:48 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* file.c (rb_file_flock): do not trap EINTR.

	* missing/flock.c (flock): returns the value from lockf(2)
	  directly.

Sat Mar 24 23:44:50 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (ev_const_defined): should ignore toplevel cbase (Object).

	* eval.c (ev_const_get): ditto.

Fri Mar 23 17:37:52 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/md5/md5.h: replace by independent md5 implementation
	  contributed by L. Peter Deutsch (thanks).

	* ext/md5/md5init.c: adopted to Deutsch's md5 implementation.

Fri Mar 23 17:26:19 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* pack.c (pack_unpack): string from P/p should be tainted.

Fri Mar 23 12:18:44 2001  SHIROYAMA Takayuki  <psi@@fortune.nest.or.jp>

	* ext/curses/curses.c: curses on Mac OS X public beta does not
	  have _maxx etc.

Fri Mar 23 10:50:31 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_object): should truncate trailing zero short for
	  bignums.

Fri Mar 23 09:49:02 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (sym_intern): new method.

Thu Mar 22 22:15:45 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/Win32API/extconf.rb: add -fno-omit-frame-pointer.

Thu Mar 22 18:17:36 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_mod_nesting): should not include Object at the
	  toplevel.

Thu Mar 22 17:43:44 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.h: better inline function support.

	* configure.in (NO_C_INLINE): check if inline is available for the
	  C compiler.

Mon Mar 19 11:03:10 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* marshal.c (r_object): len calculation patch was wrong for
	  machines SIZEOF_BDIGITS == SIZEOF_SHORT.

	* gc.c: alloca prototype reorganized for C_ALLOCA machine.

Wed Mar 21 23:07:45 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.c (win32_stat): WinNT/2k "//host/share" support.

Wed Mar 21 08:05:35 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* win32/dir.h: replace missing/dir.h .

	* win32/win32.h: ditto.

	* win32/win32.c: ditto.

Wed Mar 21 01:26:14 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (id2ref): sometimes confused symbol and reference.

Tue Mar 20 23:09:33 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.c (win32_stat): UNC support.

	* dir.c (extract_path): fix "./*" problem.

Tue Mar 20 15:10:00 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* dir.c (glob_helper): breaks loop after calling recusive
	  glob_helper; all wild cards should be consumed; no need for
	  further match.

	* dir.c (dir_s_glob): gives warning if no match found.

Tue Mar 20 14:13:45  Koji Arai  <JCA02266@@nifty.ne.jp>

	* object.c (sym_inspect): did allocate extra byte space.

Mon Mar 19 19:14:47 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* marshal.c (shortlen): shortlen should return number of bytes
	  written.

Mon Mar 19 16:52:23 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (ev_const_defined): need not to check if cbase->nd_class
	  is rb_cObject.

	* eval.c (ev_const_get): ditto.

Mon Mar 19 17:11:20 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_zone): return "UTC" for UTC time objects.

Mon Mar 19 16:27:32 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (THREAD_ALLOC): flags should be initialized.

	* signal.c (rb_f_kill): should use FIX2INT, not FIX2UINT.

Mon Mar 19 10:55:10 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* dir.c (glob_helper): replace lstat() by stat() to follow symlink
	  in the case like 'symlink/*'.

	* dir.c (glob_helper): gave warning too much.

Sun Mar 18 08:58:18 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: // === '' --> //.match('')

	* lib/cgi.rb: cgi#header(): improvement for mod_ruby.

	* lib/cgi.rb: cgi#rfc1123date(): improvement.
	  thanks to TADA Tadashi <sho@@spc.gr.jp>.

	* lib/cgi.rb: cgi#rfc1123date(): document bug fix.
	  thanks to Kazuhiro NISHIYAMA <zn@@mbf.nifty.com>.

	* lib/cgi.rb: cgi#header(): bug fix.
	  thanks to IWATSUKI Hiroyuki <don@@na.rim.or.jp>.

Sat Mar 17 11:11:24 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* dir.c (glob_helper): * should follow symlink, whereas ** should
	  not follow.

Thu Mar 15 01:28:02 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* dir.c (dir_s_chdir): block form of Dir.chdir. (RCR#U016).

Fri Mar 16 17:14:17 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* configure.in: Set SOLIBS properly for all ELF and
	  FreeBSD/NetBSD/OpenBSD a.out platforms so that the shlib
	  dependencies are recorded in the libruby shlib.

Wed Mar 14 16:41:45 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_schedule): raise FATAL just once to
	  THREAD_TO_KILL.

Wed Mar 14 10:41:34 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_yield_0): 0 (= Qfalse) is a valid value, so that
	  default self should be checked by klass == 0.

	* bignum.c (rb_cstr2inum): should disallow '++1', '+-1', etc.

Tue Mar 13 17:51:09 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (ev_const_defined): add new parameter self for special
	  const fallback.

	* eval.c (ev_const_get): ditto.

Tue Mar 13 16:39:45 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* dir.c (rb_glob_helper): fix drive letter handling on DOSISH.

Tue Mar 13 14:54:39 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: add HTTPRequest#basic_auth.

	* lib/net/smtp.rb: raise if only account or password is given.

	* lib/net/protocol.rb: WriteAdapter#<< returns self.

Tue Mar 13 14:41:16 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (argf_seek_m): wrong calling sequence of rb_io_seek().

Tue Mar 13 09:14:19 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (cond0): no special treatment of string literal in
	  condition.

Mon Mar 12 18:59:38 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/mkmf.rb (create_makefile): save/restore $libs and $LIBPATH.

Sun Mar 11 18:13:34 2001  Masahiro Tanaka  <masa@@stars.gsfc.nasa.gov>

	* math.c: add acos, asin, atan, conh, sinh, tanh and hypot to Math.

	* configure.in: check hypot availablility.

	* missing/hypot.c: public domain rewrite of hypot.

Sun Mar 11 13:21:04 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* parse.y (warn_unless_e_option): warning condition was wrong.

	* parse.y (warning_unless_e_option): ditto.

Sun Mar 11 00:55:31 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/mkmf.rb (install_rb): fix handling of destination path.

Sat Mar 10 22:56:44 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* enum.c (enum_all): new method 'all?', which returns true if
	  block returns true for all elements.

	* enum.c (enum_any): new method 'any?', which returns true if
	  block returns true for any of elements.

Sat Mar 10 02:34:18 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* math.c (math_log, math_log10): use nan() instead of 0.0/0.0 on Cygwin.

Fri Mar  9 09:56:19 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (marshal_load): do not give warning unless explicitly
	  set to verbose.

Fri Mar  9 02:07:53 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_exit): give string value "exit" to SystemExit.

	* ruby.c (proc_options): -v should not print version if
	  proc_options called via moreswitches().

Thu Mar  8 17:45:19 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb: one write(2) per one line.

Wed Mar  7 14:26:11 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* math.c (math_log, math_log10): should return NaN if x < 0.0
	  on Cygwin.

Thu Mar  7 10:31:26 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (stmt): while/until modifier must work for empty body.

Tue Mar  6 22:53:58 2001  Kazuhiro Yoshida   <moriq.kazuhiro@@nifty.ne.jp>

	* ruby.c (ruby_set_argv): clear ARGV contents before adding args.

Tue Mar  6 10:50:29 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (primary): rescue and ensure clauses should be allowed
	  to appear in singleton method body.

Mon Mar  5 17:25:13 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (proc_eq): compare Procs using blocktag equality.

	* eval.c (proc_to_s): stringify according to block tag address.

Mon Mar  5 17:19:56 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.c (gettimeofday): use GetLocalTime() instead of ftime()
	  for high-resolution timing.

Sun Mar  4 17:01:09 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* string.c (trnext): support backslash escape in String#tr.

Sat Mar  3 16:15:16 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): push cbase if ruby_cbase != ruby_class, for
	  example in the case NODE_DEFN/NODE_DEFS are called within
	  module_eval.

Wed Feb 28 11:02:41 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_delete_bang): delete! should take at least 1
	  argument. 

	* ruby.c (load_file): add rb_gc() after loading to avoid
	  extraordinary memory growth.

Wed Feb 28 05:01:40 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* dir.c (rb_glob_helper): "./foo" should match "foo", not "./foo".

Tue Feb 27 16:38:15 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (ev_const_get): retrieve Object's constant if no current
	  class is available (e.g. defining singleton class for Fixnums).

	* eval.c (ev_const_defined): check Object's constant if no current
	  class is available (e.g. defining singleton class for Fixnums).

	* time.c (time_timeval): negative time interval shoule not be
	  allowed.

	* eval.c (proc_call): ignore block to `call' always, despite of
	  being orphan or not.

Wed Feb 27 10:16:32 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_yield_0): should check based on rb_block_given_p()
	  and rb_f_block_given_p().

Tue Feb 27 04:13:45 2001 Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* configure.in (frame-address): --enable-frame-address to allow
	  __builtin_frame_address() to be used.

	* eval.c (stack_length): use __builtin_frame_address() based on
	  the macro USE_BUILTIN_FRAME_ADDRESS.

	* gc.c (rb_gc): ditto.

	* gc.c (Init_stack): ditto.

Mon Feb 26 16:20:27 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.c (proc_options): call ruby_show_version() just once.

	* dir.c (dir_s_open): returns the value from a block (if given).

Mon Feb 26 14:29:04 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in, lib/mkmf.rb: add C++ rules in addition to C
	  rules.

Mon Feb 26 00:04:52 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (proc_call): should not modify ruby_block->frame.iter
	  based on ruby_frame->iter altered by PUSH_ITER().

Mon Feb 26 05:27:52 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/net/telnet.rb: #telnetmode(), #binmode(): bug fix.
	  thanks to nobu.nakada@@nifty.ne.jp.

Mon Feb 26 04:55:50 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: CGI#form(): bug fix.
	  thanks to MoonWolf <moonwolf@@moonwolf.com>.

	* lib/cgi.rb: CGI#rfc1123_date(): improvement.
	  thanks to Tomoyasu Akita <genzo-@@dm4lab.to>.

	* lib/cgi.rb: CGI#header(): improvement for mod_ruby.
	  thanks to Shugo Maeda <shugo@@ruby-lang.org>.

Sun Feb 25 02:45:30 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* file.c (rb_file_s_rename): avoid Cygwin's bug.

Sat Feb 24 23:32:55 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_fd_close): should save current context before
	  raising exception.

Sat Feb 24 22:14:00 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.c (myrename): fix error handling.

Sat Feb 24 13:58:48 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: always close connection on request without
	  body.

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: change copyright.

Sat Feb 24 03:15:49 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (set_stdin): preserve original stdin.

	* io.c (set_outfile): preserve original stdout/stderr.

Fri Feb 23 08:28:58 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb: clear read buffer after reopen.

	* lib/net/protocol.rb: refactoring.

	* lib/net/http.rb: split module HTTPHeader from HTTPResponse.

Tue Feb 20 23:45:35 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* process.c: add W* macro if not available.

Tue Feb 20 16:37:58 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* configure.in: add check for negative time_t for gmtime(3).

	* time.c (time_new_internal): no positive check if gmtime(3) can
	  handle negative time_t.

	* time.c (time_timeval): ditto.

	* bignum.c (rb_big2long): should not raise RangeError for Bignum
	  LONG_MIN value.

Mon Feb 19 17:46:37 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_substr): "a"[1,2] should return ""; need
	  rubicon upgrade.

Mon Feb 19 12:10:36 2001  Triet H. Lai  <thlai@@mail.usyd.edu.au>

	* error.c (rb_sys_warning): new function to give warning with
	  strerror() message.

	* dir.c (rb_glob_helper): better error handling, along with
	  performance tune.

Mon Feb 19 01:55:43 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (secure_visibility): visibility check for untainted modules.

Mon Feb 19 00:29:29 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* signal.c (sigpipe): sighandler which does nothing.

	* signal.c (trap): set sigpipe function for SIGPIPE.

	* signal.c (Init_signal): default SIGPIPE handler should be
	  sigpipe function.

Sun Feb 18 15:42:38 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/curses/extconf.rb: add dir_config.

	* missing/flock.c: use fcntl(2) instead of lockf(2).

Sun Feb 18 05:46:03 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: Response#range_length was not debugged.

Sun Feb 18 04:02:03 2001  Yasushi Shoji  <yashi@@yashi.com>

	* array.c (rb_ary_subseq): wrong boundary check.

Sun Feb 18 00:09:50 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* win32/win32.c: make file I/O faster on mswin32/mingw32.

	* win32/win32.h: ditto.

	* rubysig.h: ditto.

Sat Feb 17 23:32:45 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (cond0): integer literal in condition should not be
	  compared to lineno ($.).

Fri Feb 16 01:44:56 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (set_outfile): f should be the FILE* from the assigning value.

	* ext/socket/socket.c (tcp_s_open): should not give default value
	  to local_host.

	* time.c (time_s_times): move to Process::times.

	* file.c (rb_file_s_lchmod): new method File::lchmod.

	* file.c (rb_file_s_lchown): new method File::lchown.

Thu Feb 15 11:33:49 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* lib/cgi/session.rb (close): fixed reversed condition.

Thu Feb 15 08:34:14 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* process.c (proc_waitall): new method based on a patch from Brian
	  Fundakowski Feldman <green@@green.dyndns.org>.

	* process.c (last_status_set): objectify $? value (Process::Status).

Wed Feb 14 17:28:24 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* lib/net/imap.rb: supports unknown resp_text_code.

Wed Feb 14 00:44:17 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* dir.c (dir_s_glob): support backslash escape of metacharacters
	  and delimiters.

	* dir.c (remove_backslases): remove backslashes from path before
	  calling stat(2).

	* dir.c (dir_s_glob): call rb_yield directly (via push_pattern) if
	  block is given to the method.

	* dir.c (push_pattern): do not call rb_ary_push; yield directly.

	* eval.c (blk_copy_prev): reduced ALLOC_N too much.

	* eval.c (frame_dup): ditto.

Tue Feb 13 23:05:38 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* dir.c (lstat): should use rb_sys_stat if lstat(2) is not
	  available.

Tue Feb 13 08:43:10 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_ctl): do not call ioctl/fcntl for f2, if f and f2
	  have same fileno.

Tue Feb 13 01:13:43 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_load): raise LocaJumpError if unexpected local jumps
	  appear during load.

	* ext/socket/socket.c (bsock_close_read): don't call rb_thread_fd_close();
	  it's supposed to be called by io_io_close().

	* ext/socket/socket.c (bsock_close_read): do not modify f and f2.

	* ext/socket/socket.c (bsock_close_write): ditto.

	* ext/socket/socket.c (sock_new): avoid dup(2) on sockets.

	* parse.y (primary): preserve and clear in_single and in_def using
	  stack to prevent nested method errors in singleton class bodies.

Sun Feb 11 16:00:30 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* eval.c (stack_length): use __builtin_frame_address() only if
	  GCC and i386 CPU.

	* gc.c (rb_gc, Init_stack): ditto.

	* configure.in: add ac_cv_func_getpgrp_void=yes on DJGPP.

Sat Feb 10 23:43:49 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* hash.c (rb_any_hash): dumped core on machines sizeof(int) != sizeof(long).

Sat Feb 10 23:07:15 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_s_for_fd): IO::for_fd(fd) - new method.

	* regex.c (PREV_IS_A_LETTER): should not treat c>0x7f as a word
	  character if -Kn.

Sat Feb 10 00:00:30 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* win32/win32.c (win32_stat): replace stat to enable when pathname
	  ends with '/' or '\' for mswin32 on Win9X / Win2k.

	* win32/win32.h: ditto.

	* ruby.h: ditto.

	* dir.c (rb_glob_helper): ditto.

	* file.c (rb_stat, rb_file_s_stat, eaccess, check3rdbyte): ditto.

Fri Feb  9 22:54:57 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ruby.c (ruby_init_loadpath): convert '\\' to '/'
	  before finding executable file path.

Fri Feb  9 17:41:53 2001  Triet H. Lai  <thlai@@mail.usyd.edu.au>

	* dir.c (rb_glob_helper): do not follow symbolic links.

Thu Feb  8 21:27:24 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/mkmf.rb (install_rb): fix handling of relative path.

	* lib/mkmf.rb (create_makefile): add srcdir.

Thu Feb  8 02:22:09 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: join HTTPReadResponse into HTTPResponse again.

	* lib/net/http.rb: move http_version() from HTTPRequest to
	  HTTPResponse.

	* lib/net/protocol.rb: refactoring.

Wed Feb  7 16:27:27 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: split HTTPResponse into HTTPReadResponse
	  module.

	* lib/net/protocol.rb: add Net::net_private.

	* lib/net/protocol.rb: Socket#reopen takes arg, open_timeout.

Wed Feb  7 16:05:22 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (parse_quotedwords): %w should allow parenthesis escape.

Wed Feb  7 00:57:42 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (parse_qstring): %q should allow terminator escape.

	* re.c (rb_reg_options): new method to give an option values.

	* parse.y (cond0): disable special treating of integer literal in
	  conditional unless option -e is supplied.  changes current
	  behavior.  experimental.

	* parse.y (cond0): give warning for string/integer literals and
	  dot operators in conditionals unless option -e is supplied.

	* re.c (rb_reg_equal): all option flags should be same to be equal.

Tue Feb  6 21:30:44 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: call on_connect() on re-opening socket.

	* lib/net/pop.rb: also POP3 can use APOP auth.

Tue Feb  6 20:19:10 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: add HTTP#request.

	* lib/net/http.rb: take HTTP 1.0 server into account (incomplete).

	* lib/net/protocol.rb: timeout for open/read.

	* lib/net/protocol.rb: add Protocol#on_connect,on_disconnect.

Mon Feb  5 23:15:46 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* error.c (Init_Exception): make Interrupt a subclass of
	  SignalException.

Mon Feb 5 00:39:06 2001  KANEKO Naoshi  <wbs01621@@mail.wbs.ne.jp>

	* dir.c: use ISXXX() instead of isxxx().

	* dln.c (aix_loaderror): ditto.

	* file.c (rb_file_s_expand_path): ditto.

	* string.c (rb_str_upcase_bang): ditto.

	* win32/win32.c (do_spawn): ditto.

	* win32/win32.c (NtMakeCmdVector): ditto.

	* win32/win32.c (opendir): ditto.

Sat Feb  3 14:44:53 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* configure.in (AC_C_INLINE): check inline attribute.

	* gc.c (is_pointer_to_heap): use inline rather than __inline__.

	* pack.c (hex2num): ditto.

	* ruby.h (rb_class_of, rb_type, rb_special_const_p): ditto.

	* util.c (rb_class_of, rb_type, rb_special_const_p): defined in
	  ruby.h.

Fri Feb  2 16:14:51 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_sort_bang): returns self, even if its length is
	  less than 2.

	* eval.c (POP_VARS): propagate DVAR_DONT_RECYCLE, if
	  SCOPE_DONT_RECYCLE of ruby_scope is set.

Wed Jan 31 22:27:29 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: gcc-2.95.2-7(Cygwin) support.
	  add -mwin32 if available.

	* cygwin/GNUmakefile: ditto.

Tue Jan 30 17:56:48 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_fetch): new method.

Mon Jan 29 17:36:19 2001  TOYOFUKU Chikanobu  <toyofuku@@juice.or.jp>

	* eval.c (rb_eval): nd_iter evaluation should be wrapped by
	  BEGIN_CALLARGS and END_CALLARGS.

Mon Jan 29 14:25:39 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (block_pass): return from block jumps directory to
	  block invoker.

Mon Jan 29 01:40:27 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (str_independent): should not clear str->orig here.
	  it's too early.

Fri Jan 26 01:42:40 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y: clarify do ambiguity, bit more complex but natural
	  from my point of view.

Wed Jan 24 14:58:08 2001  Akinori MUSHA  <knu@@ruby-lang.org>

	* lib/cgi.rb: fix the problem that when running under mod_ruby
	  header() outputs only one Set-Cookie line.

Wed Jan 24 01:45:49 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (POP_BLOCK_TAG): call rb_gc_force_recycle() if block has
	  not been objectified.

	* eval.c (rb_callcc): should nail down block->tag history to avoid
	  rb_gc_force_recycle(). 

Tue Jan 23 18:51:57 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (rb_gc_call_finalizer_at_exit): should finalize objects in
	  deferred_final_list too.

Tue Jan 23 16:10:12 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (os_live_obj): do not list terminated object.

	* gc.c (os_obj_of): ditto.

	* gc.c (rb_gc_mark): support new T_BLKTAG tag.

	* gc.c (obj_free): ditto.

	* eval.c (new_blktag): creation of new block tag, which holds
	  destination of global jump and orphan status.

	* eval.c (block_pass): break from orphan Proc object will raise a
	  LocalJumpError exception.

Mon Jan 22 16:33:16 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* mkconfig.rb: autoconf 2.49 support.

Mon Jan 22 00:32:44 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (block_pass): behavior consistency with proc_call(). do
	  not propagate `break'.

Sat Jan 20 03:54:00 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): fixed serious syntax misbehavior.  do's
	  preceding was too high.  a block in `foo bar do .. end' should
	  be passed to `foo', not `bar'.

	* parse.y (block_call): syntax restructure.

Thu Jan 18 04:28:14 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_s_read): new method to call IO#read from
	  pathname.  In addition, it accepts third optional argument to
	  specify starting point.

Wed Jan 17 13:28:26 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: remove DEFS definition.

	* mkconfig.rb: ditto.

	* win32/config.status.in: ditto.

Tue Jan 16 17:00:50 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb: ignore EOFError for read.

	* lib/net/http.rb: user specified header was not used.

Mon Jan 15 16:00:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* pack.c (pack_unpack): should check associated pointer packed by
	  pack("P").  Thus pointers can be retrieved only from pointer
	  packed strings.  restriction added.

Sun Jan 14 21:49:28 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* sprintf.c (rb_f_sprintf): simple typo.  binary base should be 2,
	  not '2'.

	* re.c (rb_reg_s_last_match): should explicitly return nth match.

Sun Jan 14 18:21:30 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* win32/config.status.in: add some field.

	* win32/win32.c (isInternalCmd): ignore case for shell's internal
	  command.

	* win32/win32.c (do_spawn): recognize quoted command line.

Sun Jan 14 04:10:27 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb (adding): too few "yield" in case of arg is
	  not String/File.

	* lib/net/http.rb: add http request object.

Sat Jan 13 19:39:30 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* re.c (rb_reg_desc): separate RE_OPTION_MULTILINE

	* re.c (rb_reg_options): add RE_OPTION_{POSIXLINE,RE_OPTION_MULTILINE,
	  RE_OPTION_EXTENDED}

Thu Jan 11 10:45:04 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.h, win32/config.h.in: move NORETURN from win32.h
	  to config.h.in.

	* win32/config.h.in (inline): renamed from INLINE.

	* djgpp/config.hin (INLINE): removed.

Thu Jan 11 06:45:55 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_mod_dup): should propagate FL_SINGLETON.

	* object.c (inspect_obj): handles the case of no instance variable.

Wed Jan 10 16:15:08 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ruby.h: NORETURN macro is changed for VC++ 6.0.

	* eval.c, intern.h: ditto.

	* djgpp/config.hin, win32/win32.h: ditto.

	* configure.in: ditto.

Wed Jan 10 13:54:53 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* process.c (proc_setuid): use setresuid() if available.

	* process.c (proc_setgid): use setresgid() if available.

	* configure.in: ditto.

Wed Jan 10 01:50:45 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* configure.in (AC_C_INLINE): check inline attribute.

	* string.c (rb_str_reverse_bang): forgot to call rb_str_modify().

Tue Jan  9 17:41:40 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_obj_taint): check frozen status before modifying
	  taint status.

	* object.c (rb_obj_untaint): ditto.

Tue Jan  9 16:22:14 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* enum.c (enum_inject): new method.

Tue Jan  9 02:16:42 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (rb_gc_call_finalizer_at_exit): clear klass member of
	  terminating object.

	* eval.c (rb_call): raise exception for terminated object.

Mon Jan  8 21:24:37 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (bigdivrem): t2 might be too big for signed long; do
	  not use rb_int2big(), but rb_uint2big().

Mon Jan  8 21:35:10 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* file.c (path_check_1): should restore modified path.

Mon Jan  8 03:09:58 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* error.c (rb_load_fail): new func to report LoadError.

	* ruby.c (load_file): use rb_load_fail.

Sat Jan  6 00:17:18 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* pack.c (pack_pack): avoid infinite loop(pack 'm2').

Fri Jan  5 01:02:17 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (ruby_finalize): should enclosed by PUSH_TAG/POP_TAG.

	* gc.c (rb_gc_mark): link 2 of NODE_IFUNC should not be explicitly
	  marked.  it may contain non object pointer.

Tue Jan  2 00:20:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (reg_s_last_match): Regexp::last_match(nth) returns nth
	  substring of the match  (alternative for $& and $<digit>).

Sun Dec 31 01:39:16 2000  Guy Decoux  <decoux@@moulon.inra.fr>

	* eval.c (rb_mod_define_method): wrong comparison for blocks.

Sat Dec 30 19:28:50 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (id2ref): should handle Symbol too.

	* gc.c (id2ref): should print original ptr value

Sat Dec 30 03:14:22 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_iterate): NODE_CFUNC does not protect its data
	  (nd_tval), so create new node NODE_IFUNC for iteration C
	  function. 

	* eval.c (rb_yield_0): use NODE_IFUNC.

	* gc.c (rb_gc_mark): support NODE_IFUNC.

Fri Dec 29 11:41:55 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (mem_error): prohibit recursive mem_error().
	  (ruby-bugs-ja:PR#36)

Fri Dec 29 11:05:41 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_fd_writable): should not switch context if
	  rb_thread_critical is set.

	* eval.c (rb_thread_wait_fd): ditto.

	* eval.c (rb_thread_wait_for): ditto.

	* eval.c (rb_thread_select): ditto.

	* eval.c (rb_thread_join): join during critical section causes
	  deadlock. 

Fri Dec 29 00:38:46 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* m17n.c: new file - core functions of M17N.

Tue Dec 26 18:46:41 2000  NAKAMURA Hiroshi  <nakahiro@@sarion.co.jp>

	* lib/debug.rb: Avoid thread deadlock in debugging stopped thread.

	* lib/debug.rb: Uncleared 'finish' state.

Tue Dec 26 16:53:55 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_yield_0): remove dvar node by rb_gc_force_recycle()
	  more eagerly.

	* eval.c (rb_f_binding): recycling should be stopped for outer
	  scope too.

	* eval.c (proc_new): ditto.

Tue Dec 26 15:45:35 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_inspect): should treat multibyte chracters
	  properly.

Mon Dec 25 17:49:08 2000  K.Kosako  <kosako@@sofnec.co.jp>

	* string.c (rb_str_replace_m): unexpected string share happens if
	  replace is done for associated (STR_NO_ORIG) string.

Tue Dec 26 15:01:53 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_f_p): should not call rb_io_flush() if rb_defout is not
	  a IO (T_FILE).

Mon Dec 25 15:52:39 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* stable version 1.6.2 released.

Mon Dec 25 05:11:04 2000  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: version 2.1.2 (some bug fixes).

	* lib/cgi.rb: Regexp::last_match[1] --> $1

	* lib/net/telnet.rb: ditto.

Mon Dec 25 04:43:02 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: does not send HEAD on closing socket.

Mon Dec 25 00:44:48 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_any_cmp): should use rb_str_cmp() if TYPE == T_STRING
	  and CLASS_OF == rb_cString.

	* string.c (rb_str_new4): should copy class of original too.

Mon Dec 25 00:04:54 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_thread_schedule): initial value of `max' changed to -1.

Mon Dec 25 00:16:14 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_replace_m): copy-on-write replace.

	* parse.y (yylex): should handle => after identifier as well as ==
	  and =~.

Sat Dec 23 23:55:57 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_cstr2inum): Integer("") should not return 0.

Sat Dec 23 11:55:57 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_and): Array#& should preverve original order.

Sat Dec 23 03:44:16 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb: set @@closed false in Socket#reopen.

	* lib/net/pop.rb: add POP3.foreach, delete_all.

	* lib/net/pop.rb: add POP3#delete_all.

	* lib/net/http.rb: add HTTP.version_1_1, version_1_2

	* lib/net/http.rb: refactoring.

Fri Dec 22 23:11:12 2000  Ueno Katsuhiro  <unnie@@blue.sky.or.jp>

	* eval.c (rb_feature_p): ext might be null.

Fri Dec 22 17:04:12 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* win32/win32.c (myselect): avoid busy loop by adjusting fd_count.

Fri Dec 22 15:07:55 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_cstr2inum): prefix like '0x' had removed too much.

Thu Dec 21 13:01:46 2000  Tanaka Akira  <akr@@m17n.org>

	* lib/net/ftp.rb (makeport): don't use TCPsocket.getaddress.

Wed Dec 20 12:00:15 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big_lshift): should cast up to BDIGIT_DBL.

	* parse.y (yylex): disallow trailing '_' for numeric litrals.

	* bignum.c (rb_cstr2inum): allow `_' within converting string.

	* eval.c (specific_eval): should take no argument if block is
	  supplied.

Tue Dec 19 13:44:50 2000  K.Kosako  <kosako@@sofnec.co.jp>

	* io.c (rb_f_p): should flush rb_defout, not stdout.

Tue Dec 19 00:57:10 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_minus): usec might overflow. (ruby-bugs-ja:PR#35)

	* eval.c (rb_obj_extend): Object#extend should take at least one
	  argument.

	* parse.y (mrhs_basic): should check value_expr($3), not $1.

Mon Dec 18 23:18:39 2000  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* util.c (mblen, __crt0_glob_function): add for multibyte
	  on DJGPP 2.03.

Mon Dec 18 18:10:30 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_plus): usec might underflow (ruby-bugs-ja:#PR33).

Mon Dec 18 08:11:20 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_hash_set_default): should call rb_hash_modify().

Sat Dec 16 02:58:26 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* eval.c (rb_eval): should clear ruby_errinfo on retry.

	* eval.c (rb_rescue2): ditto.

Thu Dec 14 13:06:18 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* class.c (rb_include_module): prohibit fronzen class/module.

	* eval.c (rb_frozen_class_p): make external.

	* intern.h (rb_frozen_class_p): prototyped.

	* intern.h (rb_undef): prototyped not but rb_undef_method()
	  which is also in ruby.h.

Thu Dec 14 09:20:26 2000  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: support -T1 on ruby 1.6.2

	* lib/cgi.rb: $1 --> Regexp::last_match[1]

	* lib/net/telnet.rb: ditto.

Wed Dec 13 23:27:06 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): handles case statement without expr, which
	  looks for any TRUE (non nil, non false) when expression.

	* parse.y (primary): case expression should not be compstmt, but
	  mere expr.

	* parse.y (primary): case without following expression is now
	  separated rule.

Wed Dec 13 12:41:27 2000  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ruby.c (proc_options): accept "--^M" for DOS line endings.

Tue Dec 12 15:45:42 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (newline_node): cancel newline unification.

Mon Dec 11 23:01:57 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): supports cases `?' precedes EOF and newline.

Mon Dec 11 12:11:25 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (call_end_proc): some frame members were left
	  uninitialized.

Mon Dec 11 01:14:58 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_fptr_finalize): do not fclose stdin, stdout and
	  stderr at exit.

Sat Dec  9 17:34:48 2000  Tachino Nobuhiro <tachino@@open.nm.fujitsu.co.jp>

	* time.c (time_cmp): should check with kind_of?, not instance_of?

	* time.c (time_eql): ditto.

	* time.c (time_minus): ditto.

Fri Dec  8 17:23:25 2000  Tachino Nobuhiro <tachino@@open.nm.fujitsu.co.jp>

	* sprintf.c (rb_f_sprintf): proper string precision treat.

Fri Dec  8 10:44:05 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_mod_remove_cvar): Module#remove_class_variable
	  added.

Thu Dec  7 17:35:51 2000  Shugo Maeda  <shugo@@ruby-lang.org>

	* eval.c (stack_length): don't use __builtin_frame_address() on alpha.

Wed Dec  6 18:07:13 2000  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* djgpp/config.sed, win32/Makefile.sub: typo.

	* eval.c (rb_mod_define_method): avoid VC4.0 warnings.

Wed Dec  6 13:38:08 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_and): tuning, make hash from shorter operand.

Wed Dec  6 01:28:50 2000  SHIROYAMA Takayuki  <psi@@fortune.nest.or.jp>

	* gc.c (rb_gc): __builtin_frame_address() should not be used on
	  MacOS X.

	* gc.c (Init_stack): ditto.

Mon Dec  4 13:44:01 2000  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/jcode.rb: consider multibyte. not /n.

Mon Dec  4 09:49:36 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_inspect): output whole string contents. no more `...'

	* string.c (rb_str_dump): should propagate taintness.

	* hash.c (env_inspect): hash like human readable output.

	* variable.c (rb_ivar_get): prohibiting instance variable access
	  is too much restriction.

	* class.c (method_list): retrieving information should not be
	  restricted where $SAFE=4.

	* class.c (rb_obj_singleton_methods): ditto.

	* eval.c (rb_thread_priority): ditto.

	* eval.c (rb_thread_local_aref): ditto.

	* variable.c (rb_obj_instance_variables): ditto.

	* variable.c (rb_mod_const_at): ditto.

	* variable.c (rb_mod_class_variables): ditto.

	* eval.c (rb_exec_end_proc): end_proc should be preserved.

Sat Dec  2 22:32:43 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_yield_0): || should accept exactly zero argument.

	* parse.y (stmt): multiple right hand side for single assignment
	  (e.g. a = 1,2) is allowed.

Wed Nov 29 07:55:29 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_long): dumping long should be smaller than 32bit max.

	* marshal.c (w_long): shorter long format for small integers(-123..122).

	* marshal.c (r_long): ditto.

Tue Nov 28 18:10:51 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_mod_define_method): quick hack to implement
	  on-the-fly method definition.  experimental.

Mon Nov 27 17:00:35 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): should not redefine builtin classes/modules
	  from within wrapped load.

Mon Nov 27 08:57:33 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (call_end_proc): should be isolated from outer block.

Mon Nov 27 00:10:08 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_ctl): call ioctl/fcntl for fptr->f2 too.

	* process.c (rb_f_fork): call rb_thread_atfork() after creating
	  child process.

	* eval.c (rb_thread_atfork): kill all other threads immediately,
	  then turn the current thread into the main thread.

Sat Nov 25 23:12:22 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (ruby_run): move calling point of rb_trap_exit after
	  cleaning up threads.

	* eval.c (ruby_finalize): new function to call EXIT trap, END
	  procs and GC finalizers.

	* eval.c (rb_exec_end_proc): prevent recursion.

	* gc.c (rb_gc_call_finalizer_at_exit): ditto.

	* signal.c (rb_trap_exit): ditto. made static.

	* process.c (rb_f_fork): should swallow all exceptions from block
	  execution.

	* process.c (fork_rescue): should call ruby_finalize().

	* parse.y (yycompile): rb_gc() removed.  I don't remember why I put
	  this here.  test code?

Fri Nov 24 22:03:48 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* range.c (EXCL): exclusive infomation is now stored in an
	  instance variable.  this enables proper marshal dump.

	* process.c (proc_waitpid): should clear rb_last_status ($?) if
	  no pid was given by waitpid(2).

Thu Nov 23 01:35:38 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* process.c (proc_waitpid2): returns nil if no pid found.

Wed Nov 22 23:45:15 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* range.c (range_eq): new method.  Compares start and end of range
	  respectively.

Wed Nov 22 11:01:32 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_mod_class_variables): should honor singleton
	  class variable rule defined yesterday.

Tue Nov 21 23:24:14 2000  Mitsuteru S Nakao  <nakao@@kuicr.kyoto-u.ac.jp>

	* numeric.c (flodivmod): missing second operand (typo).

Tue Nov 21 03:39:41 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (marshal_load): marshal format compatibility check
	  revised.   greater minor revision is UPWARD compatibile;
	  downward compatibility is not assured.

	* eval.c (is_defined): clarify class variable behavior for
	  singleton classes.  class variables within singleton class
	  should be treated like within singleton method.

Mon Nov 20 13:45:21 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): set ruby_sourceline before evaluating
	  exceptions.

	* gc.c (gc_sweep): defer finalization in GC during compilation or
	  interrupt prohibit section.

	* gc.c (gc_sweep): mark all nodes before sweeping if GC happened
	  during compilation.

	* eval.c (rb_eval): should treat class variables specially in a
	  method defined in the singleton class.

Mon Nov 20 10:20:21 2000  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* dir.c, win32/win32.c, ruby.h: add rb_iglob().

Mon Nov 20 00:18:16 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_subseq): should return nil for outbound start
	  index.

	* marshal.c (marshal_load): show format versions explicitly when
	  format version mismatch happens.

Sun Nov 19 06:13:24 2000  Kazuhiro NISHIYAMA  <zn@@mbf.nifty.com>

	* marshal.c: use long for string/array length.

	* pack.c (swaps): use bit-or(|) instead of plus(+).

	* pack.c (swapl): ditto.

Sat Nov 18 15:18:16 2000  Kazuhiro NISHIYAMA  <zn@@mbf.nifty.com>

	* array.c (rb_ary_replace): array size should be in long.

	* array.c (rb_ary_concat): ditto.

	* array.c (rb_ary_hash): ditto.

Sat Nov 18 14:07:20 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: Socket#readline() reads until "\n", not "\r\n"

Fri Nov 17 14:55:18 2000  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* string.c (rb_str_succ): output should be NUL terminated.

Fri Nov 17 02:54:15 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_close): need not to flush before closing.

	* eval.c (rb_thread_join): should preserve last thread status when
	  THREAD_TO_KILL.

	* eval.c (rb_thread_stop): ditto.

	* io.c (io_fflush): wrap fflush by TRAP_BEG, TRAP_END.

	* eval.c (rb_eval): method defined within singleton class
	  definition should behave like singleton method about class
	  variables.

	* eval.c (is_defined): ditto.

Thu Nov 16 23:06:07 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: can call {old,new}_implementation any times.

	* lib/net/http.rb: HTTP#connecting, receive ->
	  common_oper, connecting.

	* lib/net/http.rb: output warning if u_header includes
	  duplicated header.

	* lib/net/http.rb: not check Connection:/Proxy-Connection;
	  always read until eof.

	* lib/net/protocol.rb: detects and catches "break" from block.

Thu Nov 16 16:32:45 2000  Masahiro Tanaka  <masa@@stars.gsfc.nasa.gov>

	* bignum.c (bigdivrem): should have incremented ny first.

Thu Nov 16 14:58:00 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/socket/socket.c (sock_new): duplicates file descriptor 
	  with myfddup() on mswin32/mingw32.

	* win32/win32.h: uses system original fdopen().

	* win32/win32.c (myfddup): newly added instead of myfdopen().

	* win32/win32.c (mybind, myconnect, mygetsockname, mygetsockopt, 
	  mylisten, mysetsockopt): now accept file descriptor only, not 
	  SOCKET.

	* win32/win32.c (myaccept, mysocket): return file descriptor, 
	  instead of SOCKET.

Thu Nov 16 10:23:24 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (massign): too strict check for nameless rest argument.

	* eval.c (method_arity): mere * should return -1.

	* eval.c (intersect_fds): should check all FDs in the fd_set.

Wed Nov 15 19:33:20 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_attr): should clear method cache before calling hook.

	* eval.c (rb_eval): ditto.

	* eval.c (rb_mod_modfunc): ditto.

Mon Nov 13 22:44:52 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* error.c (rb_bug): print version to stderr.

Mon Nov 13 19:02:08 2000  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.c, io.c, process.c: the exit status of program must be
	  multiplied 256 on mswin32 and msdosdjgpp(system(), ``).

Sat Nov 11 22:57:38 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (arg): uniformed treatment of -a**b, where a is a
	  number literal;  hacky but behavior appears more consistent.

	* parse.y (newline_node): reduce newline node (one per line).

	* random.c (rb_f_srand): should be prohibited in safe level
	  greater than 4.

Sat Nov 11 22:37:36 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* rubysig.h: do not use rb_trap_immediate on win32.

	* rubysig.h: new macros, ATOMIC_TEST, ATOMIC_SET, ATOMIC_INC,
	  ATOMIC_DEC, RUBY_CRITICAL and new definition of TRAP_BEG,
	  TRAP_END.

	* gc.c (ruby_xmalloc): should wrap malloc() by RUBY_CRITICAL.

	* signal.c (sighandle): better win32 sig handling.

	* win32/win32.c (flock): better implementation.

	* win32/win32.c (myselect): ditto.

	* win32/win32.c (myaccept): ditto.

	* win32/win32.c (waitpid): ditto.

	* win32/win32.c (myrename): ditto.

	* win32/win32.c (wait_events): support function for win32 signal
	  handling.

Sat Nov 11 08:34:18 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.31.

	* lib/net/http.rb: initializes header in HTTP, not HTTPCommand.

	* lib/net/protocol.rb, http.rb: rewrites proxy code.

Fri Nov 10 16:15:53 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (rb_num2long): use to_int, not to_i.

	* error.c: T_SYMBOL was misplaced by T_UNDEF.

	* parse.y (yylex): eval("^") caused infinite loop.

Thu Nov  9 14:22:13 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_taint_check): should check IO taintness; no
	  operation for untainted IO should be allowed in the sandbox.

	* rubyio.h (GetOpenFile): check IO taintness inside using
	  rb_io_taint_check().

Wed Nov  8 03:08:53 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (io_fflush): ensure fflush(3) would not block by calling
	  rb_thread_fd_writable(). 

Tue Nov  7 20:29:56 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.30.

	* lib/net/protocol.rb, smtp.rb: Command#critical_ok -> error_ok

	* lib/net/http.rb: reads header when also "100 Continue".

Tue Nov  7 04:32:19 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (bigdivrem): use bit shift to make y's MSB set.

Mon Nov  6  1:22:49 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* error.c (warn_print): do not use err_append(), to ensure output
	  to stderr.

	* error.c (rb_warn): use warn_print() instead of err_print().

	* error.c (rb_warning): ditto.

	* error.c (rb_bug): ditto.

	* eval.c (rb_load): re-raise exceptions during load.

	* time.c (make_time_t): remove useless adjust

Thu Nov  2 18:01:16 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* random.c (rb_f_rand): half-baked float support fixed.  This fix
	  was originally proposed by K.Kosako <kosako@@sofnec.co.jp>.

Tue Oct 31 17:27:17 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c: change digit size to `long|int' if long long is
	  available.

	* marshal.c (w_object): support `long|int' digits.

	* marshal.c (r_object): ditto.

Sat Oct 28 23:54:22 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): allow =end at the end of file (without a
	  newline at the end).

Fri Oct 27 10:00:27 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_cstr2inum): should ignore trailing white spaces.

	* bignum.c (rb_str2inum): string may not have sentinel NUL.

Fri Oct 27 02:37:22 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_cstr2inum): wrongly assigned base to c before
	  badcheck check.

Thu Oct 26 02:42:50 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb: Command#critical_ok

	* lib/net/smtp.rb: clear critical flag before go to SMTP

Wed Oct 25 12:30:19 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_concat): replacing array might be the receiver
	  itself.  do not call rb_ary_push_m.

	* array.c (rb_ary_replace): replacing array might be the receiver
	  itself.  use memmove.

Fri Oct 20 07:56:23 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): ARGSPUSH should not modify args array.

Thu Oct 19 14:58:17 2000  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* pack.c (NUM2U32): should use NUM2ULONG().

Tue Oct 17 17:30:34 2000  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* eval.c (error_print): ruby_sourcefile may be NULL.

Tue Oct 17 16:36:28 2000  Wes Nakamura  <wknaka@@pobox.com>

	* pack.c (NATINT_U32): wrong use of sizeof.

Tue Oct 17 12:48:20 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* eval.c (rb_abort): nil check against ruby_errinfo.

	* eval.c (rb_thread_schedule): use FOREACH_THREAD_FROM instead of
	  FOREACH_THREAD, since curr_thread may be removed from thread ring.

	* eval.c (THREAD_ALLOC): errinfo should be Qnil.

	* eval.c (rb_callcc): th->prev,th->next are now already
	  initialized in THREAD_ALLOC.

Mon Oct 16 15:37:33 2000  Kazuhiro NISHIYAMA  <zn@@mbf.nifty.com>

	* eval.c (rb_thread_inspect): tag size was shorter than required.

	* object.c (rb_obj_inspect): ditto.

Mon Oct 16 14:25:18 2000  Shugo Maeda  <shugo@@ruby-lang.org>

	* object.c (sym_inspect): used `name' before initialization.

Mon Oct 16 14:06:00 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* pack.c (pack_pack): use NATINT_U32 for 'l', 'L', and 'N'.

	* pack.c (I32,U32): 32 bit sized integer.

	* pack.c (OFF16,OFF32B): big endian offset for network byteorder.

Mon Oct 16 06:39:32 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: hex-alpha is not [a-h] but [a-f].

Mon Oct 16 01:02:02 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_start_0): should not abort on exception if
	  $SAFE >= 4.

	* parse.y (sym): symbols for class variable names.

Sun Oct 15 01:49:18 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_file_flock): should accept interrupt.

	* process.c (rb_waitpid): ditto.

	* process.c (rb_waitpid): ditto.

	* process.c (proc_wait): ditto.

	* process.c (proc_waitpid2): wrong recursion.

Sat Oct 14 03:32:13 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_alloc): should not link a new thread in the
	  live thread ring before initialization.

Fri Oct 13 17:08:09 2000  Shugo Maeda  <shugo@@ruby-lang.org>

	* lib/net/imap.rb: new file.

Thu Oct 12 18:56:28 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/pop.rb: POP3#reset

	* lib/net/http.rb: a code for "Switch Protocol" was wrongly 100.

Thu Oct 12 01:23:38 2000  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: bug fix: CGI::html(): PRETTY option didn't work.

Thu Oct 12 00:03:02 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (sym_inspect): should adjust string length.

	* struct.c (rb_struct_to_s): ditto.

	* struct.c (rb_struct_inspect): ditto.

Wed Oct 11 22:15:47 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* eval.c (rb_thread_inspect): should adjust string length.

	* object.c (rb_any_to_s): ditto.

	* object.c (rb_obj_inspect): ditto.

Wed Oct 11 18:13:50 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_start_0): should check insecure exit.

Wed Oct 11 14:29:51 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb: 2nd arg for ProtocolError#initialize is
	  optional.

	* lib/net/http.rb: code refining.

Wed Oct 11 11:13:03 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (primary): setter method (e.g. foo=) should always be
	  public.

	* eval.c (rb_thread_raise): should not raise SecurityError if
	  exception raised by the interpreter.

	* eval.c (rb_thread_cleanup): skip all THREAD_KILLED threads
	  before FOREACH_THREAD.

Tue Oct 10 16:11:54 2000  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* dln.c (dln_load): remove unused code for Cygwin.

Tue Oct 10 09:49:23 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (Init_File): FileTest.size should return 0 (not nil) for
	  empty files.

Sun Oct  8 13:20:26 2000  Guy Decoux  <decoux@@moulon.inra.fr>

	* eval.c (POP_SCOPE): not just set SCOPE_DONT_RECYCLE, but do
	  scope_dup().

Sat Oct  7 15:10:50 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_reverse_bang): unnecessary ALLOCA_N() was
	  removed.

Fri Oct  6 14:50:24 2000  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb.in, lib/mkmf.rb: remove "DESTDIR =".

	* Makefile.in, win32/Makefile.sub, ruby.1: renamed -X to -C.

Fri Oct  6 12:50:52 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_plus): use to_ary(), not Check_Type().

	* array.c (rb_ary_concat): ditto.

	* gc.c (rb_gc): use __builtin_frame_address() for gcc.

	* eval.c (stack_length): ditto.

	* parse.y (assign_in_cond): stop warning till some better warning
	  condition will be found.

Thu Oct  5 18:02:39 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_obj_dup): should have propagated taint flag.
	  (ruby-bugs:#PR64,65)

Wed Oct  4 00:26:11 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (proc_arity): proc{|a|}'s arity should be -1.

Mon Oct  2 05:28:58 2000  akira yamada  <akira@@ruby-lang.org>

	* string.c (trnext): minus at the end of pattern.

Sun Oct  1 00:43:34 2000  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: exp-name was wrong on cygwin and mingw32.

Thu Sep 28 14:57:09 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_compile_pattern): should try must_string calculation
	  every time.

Tue Sep 19 23:47:44 2000  SHIROYAMA Takayuki  <psi@@fortune.nest.or.jp>

	* configure.in, config.guess, config.sub: MacOS X support.

Wed Sep 27 18:40:05 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* stable version 1.6.1 released.

Wed Sep 27 16:13:05 2000  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* mkconfig.rb: variables should be expanded only if /\$\{?\w+\}?/.

Tue Sep 26 18:09:51 2000  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* string.c: include <math.h>

Tue Sep 26 15:59:50 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_mod_dup): metaclasses of class/module should not be
	  cleared by rb_obj_dup.

Tue Sep 26 02:44:54 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (GC_MALLOC_LIMIT): size extended.

	* regex.c (DOUBLE_STACK): use machine's stack region for regex
	  stack if its size is small enough.

Mon Sep 25 18:13:07 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c: include <defines.h>.

	* eval.c (rb_add_method): cache mismatch by method
	  definition. need to clear_cache_by_id every time.

Mon Sep 25 13:31:45 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* win32/win32.c (NtCmdGlob): substitute '\\' with '/'.

Mon Sep 25 00:35:01 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* defines.h: #undef HAVE_SETITIMER on cygwin.

Sun Sep 24 03:01:53 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, http.rb: typo.

Sat Sep 23 07:33:20 2000  Aleksi Niemela  <aleksi.niemela@@cinnober.com>

	* regex.c (re_compile_pattern): nicer regexp error messages for
	  invalid patterns.

Sat Sep 23 03:06:25 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_autoload_load): should not require already
	  provided features. 

Fri Sep 22 15:46:21 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: too early parameter expansion in string.

Fri Sep 22 13:58:51 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/extmk.rb.in: don't use default $:

Fri Sep 22 13:42:50 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* regex.c (PUSH_FAILURE_COUNT): avoid casting warning on alpha.

	* regex.c (PUSH_FAILURE_POINT): ditto.

Fri Sep 22 10:16:21 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* win32/config.h.in: add HAVE_TELLDIR, HAVE_SEEKDIR

Thu Sep 21 19:04:34 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/extmk.rb, lib/mkmf.rb (install_rb): check whether libdir is
	  directory or not.

Thu Sep 21 17:23:05 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_file_s_symlink): use HAVE_SYMLINK.

	* file.c (rb_file_s_readlink): use HAVE_READLINK.

	* dir.c (dir_tell): use HAVE_TELLDIR.

	* dir.c (dir_seek): use HAVE_SEEKDIR.

	* configure.in (AC_CHECK_FUNCS): lstat, symlink, readlink,
	  telldir, seekdir checks added.

	* file.c (lstat): should use stat(2) if lstat(2) is not
	  available.

Thu Sep 21 15:59:23 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.29.

	* lib/net/http.rb: HTTPReadAdapter -> HTTPResponseReceiver

	* lib/net/http.rb (connecting): response is got in receive()

Thu Sep 21 15:49:07 2000  Wayne Scott  <wscott@@ichips.intel.com>

	* lib/find.rb (find): should not follow symbolic links;
	  tuned performance too.

Wed Sep 20 23:21:38 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.c (load_file): two Ctrl-D was required to stop ruby at the
	  beginning of stdin script read.

Wed Sep 20 14:01:45 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_provided): detect infinite load loop.

	* eval.c (rb_provided): too weak filename comparison.

	* eval.c (rb_thread_alloc): avoid recycling still referenced
	  dvar structures. 

	* eval.c (rb_callcc): ditto.

	* eval.c (THREAD_ALLOC): fiil dyna_vars field by ruby_dyna_vars.

Tue Sep 19 17:47:03 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* stable version 1.6.0 released.

Tue Sep 19 16:24:52 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (Init_marshal): provide marshal.so no more.

Tue Sep 19 14:01:01 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in, win32/setup.mak: include version number
	  in RUBY_SO_NAME.

Tue Sep 19 13:07:47 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): was confusing $~ and $_.

Tue Sep 19 13:06:53 2000  GOTOU YUUZOU  <gotoyuzo@@notwork.org>

	* signal.c (rb_f_kill): signum may be a negative number, should be
	  treated by signed number.

Tue Sep 19 01:14:56 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_provide): better feature handling.

	* eval.c (rb_f_require): loading ruby library may be partial
	  state.  checks in rb_thread_loading is integrated.

	* eval.c (rb_provided): better thread awareness.

	* lib/irb/frame.rb: 6 (not 5) parameters for trace_func proc.

	* eval.c (error_print): should print error position even if
	  get_backtrace() failed.

Sat Sep 16 03:29:59 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_f_require): rb_provided() was called too early; does
	  not work well with threads.

	* parse.y (ensure): should distinguish empty ensure and non
	  existing ensure.

	* file.c (Init_File): extending File by class of FileTest was
	  serious mistake.

Thu Sep 14 02:46:54 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_yield): array strip should be done in this
	  function. 

Wed Sep 13 17:01:03 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big_eq): incomplete value comparison of bignums.

Wed Sep 13 06:39:54 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_mod_class_variables): Module#class_variables added.

Wed Sep 13 06:09:26 2000  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: bug fix: CGI::header(): output status header.

Wed Sep 13 01:09:12 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): allow global variables like '$__a'.

Tue Sep 12 22:28:43 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/socket/extconf.rb: avoid using terrible <netinet/tcp.h>
	  on cygwin 1.1.5.

Tue Sep 12 16:01:58 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* array.c (rb_ary_unshift_m): typo.

Tue Sep 12 15:37:55 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_yield_0): stripped array too much, should remove just
	  for proc_call().

Tue Sep 12 07:05:24 2000  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: version 2.0.0: require ruby1.5.4 or later.

	* lib/net/telnet.rb: version 1.6.0

Tue Sep 12 03:26:07 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (massign): use to_ary to get an array if available.

	* object.c (rb_Array): ditto.

Mon Sep 11 14:24:47 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (ruby_setenv): should not free the element of
	  origenvironment.

	* parse.y (command_call): kYIELD moved to this rule to allow
	  'a = yield b'. (ruby-bugs-ja:#PR15) 

Mon Sep 11 01:27:54 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_yield_0): proc#call([]) should pass single value to
	  the block.

	* eval.c (callargs): reduce array allocation.

	* eval.c (massign): precise check for argument number.

Fri Sep  8 10:05:17 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (STR_NO_ORIG): should be FL_USER2.

Thu Sep  7 14:17:51 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_cat): should work even for concatenating same
	  string.

Wed Sep  6 17:06:38 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_cvar_declare): should check superclass's class
	  variable first.

Wed Sep  6 10:42:02 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* misc/ruby-mode.el (ruby-calculate-indent): shift continuing line
	  if previous line ends with modifier keyword.

	* misc/ruby-mode.el (ruby-parse-region): should not give up if
	  modifiers are at the end of line.

	* misc/ruby-mode.el (ruby-expr-beg): indented wrongly if modified
	  statement was size 1.

Wed Sep  6 10:41:19 2000  Kenichi Komiya  <kom@@mail1.accsnet.ne.jp>

	* misc/ruby-mode.el (ruby-parse-region): modifier was not handled
	  well on emacs19.

Tue Sep  5 17:10:12 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_to_s): fixed zone string UTC for utc time object.

Tue Sep  5 00:26:06 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_search): range worked wrongly on bm_search().

Mon Sep  4 13:40:40 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in: renamed libruby.a to libruby.{cygwin,mingw32}.a
	  on cygwin and mingw32.

Sun Sep  3 23:44:04 2000  Noriaki Harada  <tenmei@@maoh.office.ne.jp>

	* io.c (NO_SAFE_RENAME): for BeOS too.

Sun Sep  3 11:31:53 2000  Takaaki Tateishi  <ttate@@jaist.ac.jp>

	* parse.y (rescue): no assignment was done if rescue body was
	  empty.

Sat Sep  2 10:52:21 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (call_args,aref_args): block_call can be the last
	  argument.

	* parse.y (COND_PUSH,COND_POP): maintain condition stack to allow
	  kDO2 in parentheses in while/until/for conditions.

	* parse.y (yylex): generate kDO2 for EXPR_ARG outside of
	  while/until/for condition.

Fri Sep  1 10:36:29 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (aref_args,opt_call_args): add block_call to allow a
	  method without parentheses and with block as a last argument.

	* hash.c (rb_hash_sort): should not return nil.

	* re.c (match_aref): should use rb_reg_nth_match().

	* eval.c (POP_SCOPE): recycled scopes too much

	* eval.c (Init_eval): extend room for stack allowance.

	* eval.c (POP_SCOPE): frees scope too much.

Thu Aug 31 14:28:39 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (rb_gc_mark): T_SCOPE condition must be more precise.

	* eval.c (scope_dup): should not make all duped scope orphan.

Thu Aug 31 10:11:47 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (stmt): allow stmt_rhs to be right hand side of multiple
	  assignment.

	* time.c (rb_time_timeval): type error should not mention the word
	  'interval'.

Wed Aug 30 23:21:20 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (rb_num2long): use rb_Integer() instead of independent
	  convert routine.

	* eval.c (rb_rescue2): now takes arbitrary number of exception types.

	* object.c (rb_convert_type): use rb_rescue2 now to handle NameError.

	* object.c (rb_convert_type): better error message.

Wed Aug 30 17:09:14 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/Win32API/Win32API.c (Win32API_initialize): AlphaNT support.

Wed Aug 30 14:19:07 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (node_assign): should support NODE_CVASGN2 too.

Wed Aug 30 11:31:47 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/Win32API/Win32API.c (Win32API_initialize): add the
	  arguments checking.

	* ext/Win32API/Win32API.c (Win32API_initialize): add taint
	  checking. allow String object in the third argument.

Wed Aug 30 10:29:40 2000  Masahiro Tomita  <tommy@@tmtm.org>

	* io.c (rb_f_p): flush output buffer.

Tue Aug 29 16:29:15 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (assignable): remove NODE_CVASGN3.

	* parse.y (gettable): remove NODE_CVAR3.

Tue Aug 29 02:02:14 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* lib/mkmf.rb (create_makefile): handles create_makefile("a/b").

	* ext/extmk.rb.in (create_makefile): ditto

Mon Aug 28 18:43:54 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (is_defined): now handles class variables.

	* eval.c (rb_eval): class variable behavior revisited.

	* parse.y (assignable): ditto.

	* parse.y (gettable): ditto.

	* regex.c (PUSH_FAILURE_COUNT): push/pop interval count on failure
	  stack.  this fix is inspired by the Emacs21 patch from Stefan
	  Monnier <monnier@@cs.yale.edu>.

Fri Aug 25 15:24:39 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_cvar_get): should not follow __attached__.

	* variable.c (rb_cvar_set): ditto.

	* variable.c (rb_cvar_declare): ditto.

	* variable.c (mod_av_set): second class variable assignment at the
	  toplevel should not give warning.

Fri Aug 25 01:18:36 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (next_argv): prepare path for open file.

	* string.c (rb_str_setter): moved from io.c.

	* io.c (next_argv): filename should be "-" for refreshed ARGF.

Thu Aug 24 15:27:39 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/socket/socketport.h: use `extern int h_errno' if needed.

Sat Aug 19 01:34:02 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/sdbm/_sdbm.c (sdbm_prep): flags should be or-ed by O_BINARY on
	  Win32 too.

	* ext/sdbm/_sdbm.c (makroom): fill hole with 0 on Win32 too.

Fri Aug 18 13:23:59 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): should preserve and clear $! value before
	  compilation. 

	* eval.c (eval): ditto.

Fri Aug 18 11:06:19 2000  Shugo Maeda  <shugo@@ruby-lang.org>

	* ext/socket/socket.c (s_accept): start GC on EMFILE/ENFILE.

Thu Aug 17 16:04:48 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (is_defined): should clear ruby_errinfo.

Thu Aug 17 04:26:31 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.27.

	* lib/net/protocol.rb: writing methods returns written byte size.

	* lib/net/smtp.rb: send_mail accepts many destinations.

Wed Aug 16 00:43:47 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_s_times): use CLK_TCK for HZ if it's defined.

Tue Aug 15 17:30:59 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (frame_dup): should set flag FRAME_MALLOC after
	  argv allocation.

	* eval.c (blk_free): should not free argv if GC was called before
	  frame_dup.

Tue Aug 15 16:08:40 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in: add ac_cv_func_times=yes for mingw32.

	* win32/win32.c (mytimes): typo.

Tue Aug 15 01:45:28 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (argf_eof): should return true at the end of ARGF without
	  checking stdout if arguments are given.

Mon Aug 14 10:34:32 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_status): status should return false for normal
	  termination, nil for termination by exception.

Fri Aug 11 15:43:46 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_undef): give warning for undefining __id__, __send__.

Thu Aug 10 08:05:03 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_callcc): returned current thread instead of
	  continuation wrongly.

Thu Aug 10 05:40:28 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/extmk.rb.in: $CPPFLAGS should be initialized.

	* ext/tcltklib/depend: add stubs.o.

	* ext/tcltklib/extconf.rb: use $CPPFLAGS instead of $CFLAGS.

Wed Aug  9 16:31:48 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_callcc): thread status for continuations must be
	  THREAD_KILLED, otherwise thread_free() breaks other threads.

Wed Aug  9 13:24:25 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* win32/win32.[ch]: emulate rename(2).

Tue Aug  8 14:01:46 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/tcltklib/tcltklib.c: support --enable-tcltk_stubs

	* ext/tcltklib/extconf.rb: ditto.

	* ext/tcltklib/stubs.c: created. examine candidate shared libraries.

Mon Aug  7 13:59:12 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.h (CLONESETUP): should copy flags before any potential
	  object allocation.

	* regex.c (re_match): check for stack depth was needed.

Sat Aug  5 16:43:43 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* djgpp/*: convert DOS line endings to UNIX style.

	* djgpp/config.status: rename to config.sed for SFN.

	* lib/ftools.rb (compare, safe_unlink, chmod): avoid warnings.

	* lib/ftools.rb (move): typo. not `tpath', but `to'.

Fri Aug  4 23:26:48 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (proc_call): gives warning if a block is supplied.

	* eval.c (rb_eval): no warning for discarding if an alias for the
	  method is already made.

Fri Aug  4 16:32:29 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_reject_bang): returns nil if no element removed.

	* hash.c (rb_hash_reject_bang): returns nil if no element removed.

Thu Aug  3 19:44:26 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_fd_writable): should return integer value.

	* array.c (rb_ary_assoc): search array element whose length is
	  longer than 0 (not 1).

Wed Aug  2 18:27:47 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_wait_fd): prohibit thread context switch
	  during compilation.

	* eval.c (rb_cont_call): prohibit Continuation#call across threads.

Wed Aug  2 08:22:04 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (rb_gc): clear malloc_memories to zero, to avoid potential
	  super frequent GC invocation. (ruby-bugs:#PR48)

	* gc.c (rb_gc): only add_heap() if GC trigger condition is
	  satisfied.

Tue Aug  1 16:41:58 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (proc_options): global load path setting moved from
	  ruby_prog_init().

	* ruby.c (incpush): renamed.  push path entry at the END of the
	  load path array.  This makes -I directories sorted in order in
	  the arguments.

Sat Jul 29 23:42:04 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* dir.c (dir_each): should check whether dir is closed during the
	  block execution. (ruby-bugs:#PR47)

Sat Jul 29 21:57:30 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ruby.c (rubylib_mangle): provide another buffer for the result.

Wed Jul 26 10:09:01 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in: set SOLIBS to LIBS on Cygwin.

	* configure.in: LIBRUBY_SO='$(RUBY_INSTALL_NAME)'.$target_os.dll
	  on cygwin and mingw32. ruby-cygwin.dll is bad. why?

Wed Jul 26 10:04:03 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (gc_sweep): avoid full scan during compilation.

	* gc.c (rb_gc): add heap during no gc period (including
	  compilation).

Tue Jul 25 19:03:04 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* cygwin/GNUmakefile: use puts instead of print, because
	  Cygwin DLL's behavior is changed(or bug?).

	* configure.in: LIBRUBY_SO='$(RUBY_INSTALL_NAME)'-$target_os.dll
	  on cygwin and mingw32.

	* cygwin/GNUmakefile: ditto.

	* Makefile.in: $(SOLIBS) should be put after dmyext.@@OBJEXT@@.

	* instruby.rb: install $(LIBRUBY) to libdir
	  if $(LIBRUBY) != $(LIBRUBY_A_).

Tue Jul 25 15:16:00 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_p): redirect to $defout.

Mon Jul 24 18:52:55 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* win32/win32.c (win32_getenv): should remove `static'.

	* ruby.c (rubylib_mangle): support "/hoge;/foo"

Mon Jul 24 10:28:55 2000  GOTO Kentaro  <gotoken@@math.sci.hokudai.ac.jp>

	* string.c (rb_str_count): raise exception if no argument is
	  given.

Sun Jul 23 12:55:04 2000  Dave Thomas  <Dave@@Thomases.com>

	* string.c (rb_str_rindex): Support negative end position.

Fri Jul 21 17:35:01 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (aref_args): command_call now be permitted as
	  aref_args.

	* process.c (proc_getpriority): getpriority(2) may return valid
	  negative number.  use errno to detect error.

	* marshal.c (dump_ensure): dumped string should be tainted if
	  any among target objects is tainted.

	* marshal.c (r_regist): restored object should be tainted if and
	  only if the source is a file or a tainted string.

Wed Jul 19 15:14:04 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (bigdivrem): should use rb_int2big(), not rb_uint2big().

Tue Jul 18 14:58:30 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (ruby_options): should treat SystemExit etc. properly.

	* parse.y (yycompile): should check compile_for_eval, not
	  ruby_in_eval.

Mon Jul 17 04:29:50 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/mkmf.rb: converts extension of $objs into $OBJEXT.

Sun Jul 16 03:02:34 2000  Dave Thomas <dave@@thomases.com>

	* lib/weakref.rb: Change to use new ObjectSpace calls.

Sat Jul 15 21:59:58 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): should not redefine __id__ nor __send__.

	* gc.c (define_final): integrate final.rb features into the
	  interpreter.  define_finalizer and undefine_finalizer was
	  added to ObjectSpace.  plus, add_finalizer, remove_finalizer,
	  and call_finalizer are deprecated now.

Sat Jul 15 01:32:34 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_mod_method): implements unbound method.

	* eval.c (Init_eval): should prohibit `module_function' for class
	  Class.

Fri Jul 14 17:19:59 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* cygwin/GNUmakefile.in: use miniruby instead of sed.

Fri Jul 14 12:49:50 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (argf_eof): need to check stdin, when next_p == -1.

	* io.c (read_all): use io_fread() instead of fread(3).

	* io.c (io_reopen): should clearerr FILE if fd < 3.

	* re.c (rb_reg_match_m): the result is exported, so it should be
	  declared as busy.

	* eval.c (rb_eval): should preserve errinfo even if return, break,
	  etc. is called in rescue clause.

	* instruby.rb: install irb too.

Wed Jul 12 15:32:57 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_const_get): constants for builtin classes must
	  have higher priority than constants from included modules at
	  Object class.

	* bignum.c (bigdivrem): small embarrassing typo.

Wed Jul 12 15:06:28 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): use rb_const_get_at().

	* variable.c (top_const_get): retrieve toplevel constants only,
	  not ones of Object (and its included modules) in general.

Wed Jul 12 15:04:11 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.26.

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb:
	  add module Net::NetPrivate and its inner classes
	  {Read,Write}Adapter, Command, Socket,
	  SMTPCommand, POP3Command, APOPCommand, HTTPCommand

Wed Jul 12 13:10:30 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (bigdivrem): defer bignorm().

	* bignum.c (bignorm): accepts accidental fixnums.

Tue Jul 11 16:54:17 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): `@@<digit>' is no longer a valid instance
	  variable name.

Tue Jul 11 01:51:50 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (rb_big_divmod): should not use Integer(float) for
	  the right operand.

	* bignum.c (rb_big_remainder): ditto.

	* bignum.c (rb_big_modulo): ditto.

Mon Jul 10 15:27:16 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* io.c (pipe_finalize): should set rb_last_status when pclose().

Mon Jul 10 09:07:54 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* error.c (rb_bug): print version number and such too.

Sat Jul  8 23:08:40 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_start_0): should copy previous scopes to
	  prevent rb_gc_force_recycle().

Fri Jul  7 23:36:36 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/addrinfo.h: move IN_EXPERIMENTAL and IN_LOOPBACKNET
	  definitions to ext/socket/sockport.h.

	* ext/socket/extconf.rb: add getservbyport() and arpa/inet.h check.

	* ext/socket/getaddrinfo.c (getaddrinfo): SOCK_RAW may not be
	  defined (ex. BeOS, Palm OS 2.x or before).

	* ext/socket/getnameinfo.c (getnameinfo): getservbyport() may not
	  exist (ex. BeOS, Palm OS).

	* ext/socket/sockport.h: add IN_EXPERIMENTAL, IN_CLASSA_NSHIFT,
	  IN_LOOPBACKNET, AF_UNSPEC, PF_UNSPEC and PF_INET.

Fri Jul  7 03:30:00 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (aref_args): should allow Hash[:a=>2] etc.

	* numeric.c (fix_aref): convert index by NUM2INT, not FIX2INT. 
	  (ruby-bugs:#PR37)

	* time.c (time_localtime): should prohibit for frozen time.

	* time.c (time_gmtime): ditto.

Thu Jul  6 19:12:12 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_file_s_open): should not terminate fptr; just clear it.

	* ruby.c (proc_options): should not call require_libraries()
	  twice.

	* ruby.c (require_libraries): clear req_list_head.next after
	  execution. 

Thu Jul  6 13:51:57 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* object.c (rb_to_id): name may not be symbol nor fixnum.

	* struct.c (rb_struct_s_def): name may be nil.

Thu Jul  6 02:09:06 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (bigdivrem): new function to return remainder.

	* numeric.c (fixdivmod): now returns modulo, not remainder.

	* numeric.c (flodivmod): ditto.

	* bignum.c (bigdivmod): ditto.

	* numeric.c (num_modulo): new method; alias to '%'.

Thu Jul  6 00:51:43 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* win32/win32.c (NtCmdGlob): patterns should be separated and
	  NUL terminated.

Wed Jul  5 22:27:56 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* cygwin/GNUmakefile: use ruby.def to make rubycw.dll.

	* ext/extmk.rb.in: create target.def.

	* lib/mkmf.rb: ditto.

Wed Jul  5 09:47:14 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_arg): Time::local, Time::gm now take 7th optional
	  argument for usec.

	* numeric.c (num_ceil, etc): default ceil, floor, round, truncate
	  implementation for Numeric, using `to_f'.

	* io.c (rb_io_reopen): clear fptr->path after free() to prevent
	  potential GC crash.

	* io.c (rb_file_s_open): terminate fptr unless null.

	* io.c (rb_file_initialize): ditto.

	* lib/tempfile.rb: specify FILE::CREAT|File::EXCL to open for
	  better security.

	* numeric.c (flo_truncate): new method.

Wed Jul  5 01:02:53 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/extmk.rb.in: join ' ' -> join(' ').

	* lib/mkmf.rb: ditto.

Tue Jul  4 13:51:29 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/dbm/dbm.c: add methods added to Hash in 1.5.x.

	* ext/gdbm/gdbm.c: ditto.

	* ext/sdbm/init.c: ditto.

	* eval.c (proc_call): args may be Qundef (means no argument), do
	  not call TYPE() for args.

Tue Jul  4 13:20:56 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/extmk.rb.in: make command line must be single-quoted.
	  $(RUBY_INSTALL_NAME) is command substitution in the POSIX sh.

Tue Jul  4 13:16:02 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* util.c (rb_type): should add T_UNDEF.

Tue Jul  4 09:30:35 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (here_document): supports EOF right after terminator.

	* random.c (rb_f_rand): argument is now optional (rand(max=0)). 

Tue Jul  4 01:50:49 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* win32/ruby.def: remove ruby_mktemp.

Tue Jul  4 01:27:13 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_rescue2): new function to rescue arbitrary exception.

	* numeric.c (do_coerce): should catch NameError explicitly.

Tue Jul  4 00:15:23 2000  Dave Thomas  <Dave@@thomases.com>

	* numeric.c (Init_Numeric): forgot to register Numeric#remainder.

Mon Jul  3 23:46:56 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/win32.c (myselect, myaccept): disable interrupt while
	  executing accept() or select() to avoid Ctrl-C causes
	  "unknown software exception (0xc0000029)".

Mon Jul  3 18:35:41 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* lib/mkmf.rb: use null device if it exists for cross-compiling.

Mon Jul  3 18:19:51 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.26.

	* lib/net/protocol.rb (finish): do nothing unless active.

	* lib/net/http.rb: HTTP#{get,post}2 again (for new impl).

Mon Jul  3 16:47:22 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* cygwin/GNUmakefile: librubys.a -> lib$(RUBY_INSTALL_NAME)s.a

	* configure.in: use AC_CANONICAL_{HOST,TARGET,BUILD}.

Mon Jul  3 13:15:02 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (fix_divmod): x * d + m = y where d, m = x.divmod(y).

	* bignum.c (rb_big_divmod): ditto.

	* numeric.c (fixdivmod): does not depend C's undefined %
	  behavior.  adopt to fmod(3m) behavior.

	* numeric.c (flo_mod): modulo now reserves fmod(3m) behavior.

	* numeric.c (num_remainder): 'deprecated' warning.

Mon Jul  3 10:27:28 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in: use AC_CANONICAL_SYSTEM.

Sun Jul  2 21:17:37 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in: support without --enable-shared for cygwin/mingw32.

	* cygwin/GNUmakefile: ditto.

	* ext/extmk.rb.in: use null device if it exists for cross-compiling.

	* lib/mkmf.rb: ditto.

	* util.c (ruby_mktemp): remove unused ruby_mktemp().

Sun Jul  2 14:18:04 2000  Koji Arai  <JCA02266@@nifty.ne.jp>

	* eval.c (TMP_PROTECT_END): tmp__protect_tmp may be NULL.

Sun Jul  2 03:37:50 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.25.

	* lib/net/protocol.rb (each_crlf_line): beg = 0 is needed in adding{}

	* lib/net/smtp.rb: allow String for to_addr of SMTP#sendmail

Sat Jul  1 15:22:35 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (fix_rshift): should handle shift value more than
	  sizeof(long). 

Sat Jul  1 15:22:35 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): the value from RTEST() is not valid Ruby
	  object.  result should be either true or false.

Sat Jul  1 09:30:06 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* re.c (rb_reg_initialize): was freeing invalid pointer.

Sat Jul  1 03:25:56 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (call_args): command_call can be the last argument of
	  call_args.  It had to be the only argument.

	* re.c (rb_reg_s_quote): should not dump core even for unsane mbc
	  string.

Fri Jun 30 01:36:20 2000  Aleksi Niemela  <aleksi.niemela@@cinnober.com>

	* parse.y (f_norm_arg): better, nicer error message.

Thu Jun 29 07:45:33 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (udp_send): destination may be packed
	  struct sockaddr.

	* object.c (rb_Integer): Integer(nil) should be invalid, on the
	  other hand, nil.to_i is OK.

Wed Jun 28 17:26:06 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (ip_recvfrom): udp_recvfrom and tcp_recvfrom
	  is merged and moved to IPSocket#recvfrom.

	* ext/socket/socket.c (sock_s_getaddrinfo): family can be a
	  strings such as "AF_INET" etc.

	* ruby.c (require_libraries): . and RUBYLIB added to $load_path
	  just before -r procedure.

	* ruby.c (proc_options): -e, - did not exec -r.

Wed Jun 28 14:52:28 2000  Koga Youichirou <y-koga@@mms.mt.nec.co.jp>

	* config.sub: NetBSD/hpcmips support.

Wed Jun 28 10:11:06 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c: gc trigger threshold changed; GC_NEWOBJ_LIMIT removed,
	  FREE_MIN is increased to 4096.

Tue Jun 27 22:39:28 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.24.

	* lib/net/protocol.rb: modified each_crlf_line again.

	* lib/net/protocol.rb: do_write_beg,do_write_end -> writing{}
	  do_write_do -> do_write

	* lib/net/http.rb: can make proxy connection by passing
	  addresses to HTTP.new, start.

	* lib/net/http.rb: HTTP.new_implementation, old_implementation:
	  can use 1.2 implementation of head, get, post, put.
	  (see document)

Tue Jun 27 12:05:10 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32.c (myfdclr): new function.

	* win32.h: add FD_CLR.

Mon Jun 26 23:41:41 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ruby.h: add cast for ANSI style.

	* gc.c (rb_data_object_alloc): use RUBY_DATA_FUNC.

Mon Jun 26 22:20:03 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/win32.c (is_socket, extract_file_fd): New function.

	* win32/win32.c (myfdopen): use is_socket().

	* win32/win32.c (myselect): return non socket files immediately
	  if file and socket handles are mixed.

Mon Jun 26 16:21:30 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_schedule): wait_for cleared too early.

Mon Jun 26 09:15:31 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c: remove obsolete 'F', 'D' specifiers.

Sun Jun 25 00:55:03 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/socket.c (sock_s_getnameinfo): `res' would not
	  be assigned if TYPE(sa) == T_STRING.

Sat Jun 24 14:36:29 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* config*.dj, configure.bat, top.sed: move to djgpp/.

Sat Jun 24 02:34:17 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (load_file): call require_libraries() here to let
	  debug.rb work properly.

Fri Jun 23 22:34:51 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* bignum.c (rb_big_lshift): reorder xds assignment to avoid
	  reusing `x' as `len' by VC++ 6.0 SP3 compiler with -Ox switch.

Fri Jun 23 01:11:27 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_substr): should return empty string (""), 
	  if beg == str.size and len == zero, mostly for convenience and
	  backward compatibility.

	* parse.y (new_super): should tweak block_pass node for super too.

	* string.c (rb_str_split_m): last split element should not be nil,
	  but "" when limit is specified.

Thu Jun 22 17:27:46 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_substr): str[n,m] now returns nil when n equals
	  to str.size.

Thu Jun 22 13:49:02 2000  Uechi Yasumasa <uechi@@ryucom.ne.jp>

	* lib/net/ftp.rb: support resuming.

Thu Jun 22 13:37:19 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* eval.c (rb_thread_sleep_forever): merge pause() macro.

Wed Jun 21 08:49:04 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): should not raise exception just by defining
	  singleton class.

Wed Jun 21 01:18:03 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.h: two macros RUBY_DATA_FUNC and RUBY_METHOD_FUNC are added
	  to make writing C++ extensions easier.

	* array.c (rb_ary_dup): internal classes should not be shared by dup.

	* hash.c (rb_hash_dup): ditto.

	* object.c (rb_obj_dup): ditto.

	* string.c (rb_str_dup): ditto.

	* error.c (Init_Exception): renamed NotImplementError to
	  NotImplementedError. 

Tue Jun 20 16:22:38 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (make_time_t): bug in DST boundary.

Tue Jun 20 10:54:19 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in: add eval sitedir.

Tue Jun 20 06:14:43 2000  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: change: version syntax. old: x.yz, now: x.y.z

	* lib/net/telnet.rb: ditto.

Tue Jun 20 00:37:45 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (rb_reg_kcode_m): Regexp#kcode returns nil for code unfixed
	  regexp object.

	* bignum.c (bigdivmod): bignum zero check was wrong.

Mon Jun 19 10:48:28 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_cvar_set): forgot to add security check for class
	  variable assignment.

Sun Jun 18 22:49:13 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in: single quoted sitedir.

	* mkconfig.rb: add DESTDIR for cross-compiling.

	* lib/mkmf.rb: add DESTDIR.

	* ruby.c (load_file): force binmode if fname includes ".exe"
	  on DOSISH.

Sat Jun 17 23:22:17 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (rb_f_sprintf): should ignore negative precision given
	  by <%.*>.

	* sprintf.c (rb_f_sprintf): should allow zero precision.

Sat Jun 17 03:13:29 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_localtime): avoid unnecessary call of localtime.

	* time.c (time_gmtime): avoid unnecessary call of gmtime.

	* process.c (proc_wait2): new method.

	* process.c (proc_waitpid): second argument made optional.

	* process.c (proc_waitpid2): new method.

Sat Jun 17 00:05:00 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (rb_reg_clone): should initialize member fields.

Fri Jun 16 22:49:34 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_rewind): set lineno to zero.

Fri Jun 16 22:47:47 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.23.

	* lib/net/protocol.rb: too many CRLF in last line.

Fri Jun 16 21:23:59 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in: add pause(2) checking.

	* eval.c: define pause() if missing.

Fri Jun 16 18:41:58 2000  Koji Arai  <JCA02266@@nifty.ne.jp>

	* process.c (proc_setsid): BSD-style setpgrp() don't return 
	  process group ID, but 0 or -1.

Fri Jun 16 16:23:35 2000  Koji Arai  <JCA02266@@nifty.ne.jp>

	* file.c (rb_stat_inspect): gives detailed information;
	  compatibility with ruby-1.4.x.

Fri Jun 16 05:18:45 2000  Yasuhiro Fukuma  <yasuf@@bsdclub.org>

	* configure.in: FreeBSD: do not link dummy libxpg4 which was
	  merged into libc.

Fri Jun 16 03:17:36 2000  Satoshi Nojo  <nojo@@t-samukawa.or.jp>

	* ext/dbm/dbm.c (fdbm_length): use GetDBM. empty?, [] too.

	* ext/gdbm/gdbm.c (fgdbm_length): ditto.

	* ext/sdbm/init.c (fsdbm_length): ditto.

Fri Jun 16 01:57:31 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_sleep_forever): pause(2) instead of sleep(3).

Thu Jun 15 10:46:36 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_sub_bang): should probagate taintness from
	  replacement string.

Wed Jun 14 17:01:41 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* rubytest.rb: add CONFIG['EXEEXT'] to the executable file name.

Wed Jun 14 14:50:00 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_f_sub): assign to $_ only if modification happens.

	* string.c (rb_f_gsub): ditto.

	* string.c (rb_f_chop): ditto.

	* string.c (rb_f_chomp): ditto.

	* io.c (io_reopen): preserve file position by ftell/fseek, if io
	  is a seekable.

	* eval.c (method_arity): wrong arity number for the methods with
	  optional arguments.

	* time.c (make_time_t): opposite timezone shift (should be negative).

Wed Jun 14 14:07:38 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* io.c: typo(ig/if).

	* re.c: typo(re/reg). add rb_reg_check().

	* time.c: remove unneeded declare(daylight, timezone).

	* configure.in: add include <time.h> when daylight checking.

Wed Jun 14 11:36:52 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* marshal.c (r_object): modified for symbols.

	* marshal.c (w_object): ditto.

Wed Jun 14 10:04:58 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (rb_memcmp): should compare according to ruby_ignorecase.

	* string.c (rb_str_cmp): use rb_memcmp.

	* string.c (rb_str_index): ditto.

	* string.c (rb_str_rindex): ditto.

	* string.c (rb_str_each_line): ditto.

Wed Jun 14 04:58:53 2000  Dave Thomas  <dave@@thomases.com>

	* io.c (rb_io_set_lineno): should have returned VALUE, not
	  integer.

Wed Jun 14 09:29:42 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_dup): dup should always propagate taintness.

Wed Jun 14 00:50:14 2000  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: read_multipart(): if no content body then raise EOFError.

Tue Jun 13 11:46:17 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* process.c (proc_setsid): try implement it using setpgrp() and
	  ioctl(fd, TIOCNOTTY, NULL).

	* re.c (rb_reg_prepare_re): magic variable $= should affect regex
	  pattern match. 

	* time.c (make_time_t): use tm.tm_gmtoff if possible.

	* time.c (time_zone): use tm.tm_zone if available.

Tue Jun 13 01:50:57 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.22.

	* lib/net/http.rb: HTTPResponse#body returns body.

Mon Jun 12 23:41:54 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in (daylight): avoid GCC optimization.

Mon Jun 12 19:02:27 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in: cygwin has strange timezone.

	* time.c (time_zone): use tzname and daylight.

Sat Jun 10 23:10:32 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_seek): whence is optional, default is SEEK_SET.

Fri Jun  9 17:00:29 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.21.

	* lib/net/http.rb: exception is raised with response object.

Fri Jun  9 15:11:35 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (make_time_t): supports daylight saving time.

	* eval.c (rb_thread_safe_level): should retrieve current $SAFE
	  value if a thread is the current thread.

Thu Jun  8 14:25:45 2000  Hiroshi Igarashi  <iga@@ruby-lang.org>

	* lib/mkmf.rb: add target `distclean' in Makefile for extlib.
	  target `clean' doesn't remove Makefile.

Thu Jun  8 13:34:03 2000  Dave Thomas  <dave@@thomases.com>

	* numeric.c: add nan?, infinite?, and finite? to Float

Thu Jun  8 00:31:04 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* regex.h: export re_mbctab properly on cygwin.

	* dln.c: use dlopen instead of LoadLibrary on cygwin.

Thu Jun  8 13:41:34 2000  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* file.c (rb_file_s_basename): might dump core.

Tue Jun  6 03:29:12 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* dir.c (dir_foreach): now returns nil for consistency.

	* bignum.c (bigdivmod): modulo by small numbers was wrong.

Mon Jun  5 00:18:08 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* bignum.c: avoid conflict with USHORT on mingw32.

Mon Jun  5 00:13:35 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* eval.c (rb_thread_schedule): =/== typo.

Sun Jun  4 03:17:36 2000  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: improve: CGI::pretty()

Sun Jun  4 02:01:10 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* lib/mkmf.rb: do not need to add -L$(topdir) in --enable-shared case.

Sat Jun  3 13:50:06 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (rb_id2name): should support constant attrset
	  identifiers. 

	* bignum.c (rb_big_eq): Bignum#== should not raise exception.

Fri Jun  2 11:24:48 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_popen): open with a block returns the value from the
	  block.  old behavior was back.

Fri Jun  2 00:42:31 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>


	* eval.c (rb_thread_cleanup): should clear priority for thread
	  termination.

Thu Jun 01 22:39:41 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.20.

	* lib/net/http.rb: wrongly closed the socket twice
	  when no Content-Length: was given.

Thu Jun  1 00:59:15 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_yield_0): convert Qundef to [].

Wed May 31 20:45:59 2000  Dave Thomas  <Dave@@Thomases.com>

	* string.c (rb_str_slice_bang): wrong argument number.

Wed May 31 12:37:04 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_exec_end_proc): print error message from END procs.

Wed May 31 04:06:41 2000  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: change: CGI#out() if "HEAD" == REQUEST_METHOD then
	  output only HTTP header.

Wed May 31 01:54:21 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_schedule): set main_thread->status to
	  THREAD_TO_KILL, before raising deadlock error.

	* eval.c (rb_thread_deadlock): if curr_thread == main_thread, do
	  not call rb_thread_restore_context()

Tue May 30 23:33:41 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* lib/mkmf.rb (create_makefile): add $(TARGET).ilk and *.pdb
	  to cleanup files for mswin32.

Mon May 29 10:41:10 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c (rb_file_s_basename): should propagate taintness.

Sun May 28 21:37:13 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* eval.c: bug fix: DLEXT2.

Sun May 28 19:21:43 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* win32/win32.c: use ruby's glob.

	* dir.c: "glob" exported and renamed to "rb_glob".

	* ruby.h: ditto.

	* main.c: turn off command line mingw32's globbing.

Wed May 25 22:25:13 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/extmk.rb.in: use "ftools" instead of "rm -f".

	* lib/mkmf.rb: ditto.

Thu May 25 22:01:32 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* defines.h: mswin32: remove obsolete USHORT definition.

	* re.h: mswin32: use EXTERN instead of extern.

	* regex.h: mswin32: export re_mbctab properly.

	* win32/ruby.def: add ruby_ignorecase and regex.c's exports.

Thu May 25 21:28:44 2000  Minero Aoki <aamine@@dp.u-netsurf.ne.jp>

	* re.c (rb_reg_expr_str): escape un-printable character.

Thu May 25 01:35:15 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (tokadd_escape): forgot to add `\x' to hexadecimal
	  escape sequences.

	* object.c (rb_obj_dup): dup for normal object (T_OBJECT) copies
	  instance variables only.

Wed May 24 23:49:47 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (rb_mod_initialize): should provide initialize.

Wed May 24 23:17:50 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/Makefile: remove unnecessary mv and rm command call.

Wed May 24 21:01:04 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/pty/pty.c: use "" instead of <> to include ruby.h and rubyio.h
	  for BeOS (PowerPC).

	* file.c (rb_find_file): should check dln_find_file() result.

	* win32/ruby.def: add rb_block_given_p.

Wed May 24 16:32:45 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_popen): popen does not take 3rd argument anymore.

	* re.c (rb_reg_desc): re may be zero, check before dereferencing.

Wed May 24 16:03:06 2000  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: bug fix: CGI::escape(), CGI::Cookie::new()

	* lib/net/telnet.rb: improve: binmode(), telnetmode() interface

Wed May 24 13:12:31 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* misc/ruby-mode.el (ruby-parse-region): support `while .. do'
	  etc. But corresponding keywords must be at the beginning of
	  line. 

Tue May 23 23:50:12 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (rb_reg_initialize_m): wrong kcode value.

	* re.c (rb_reg_s_new): forgot to initialize re->ptr.

Tue May 23 08:36:24 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): forgot to restore old option
	  status by (?ix-ix).

	* regex.c (re_compile_fastmap): anychar may match newline if
	  RE_OPTION_MULTILINE or RE_OPTION_POSIXLINE is set.

Mon May 22 22:45:06 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.19.

	* lib/net/http.rb: do not use Regexp "p" option.

Mon May 22 21:56:43 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* struct.c (rb_struct_getmember): should use ID2SYM, not INT2NUM.

Mon May 22 15:07:37 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (rb_find_file): should check if the file really exists.

Mon May 22 09:08:12 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_popen): _exit(0) after processing block under the
	  child process.

	* io.c (rb_io_popen): flush stdout/stderr before subprocess
	  termination.

	* eval.c (rb_check_safe_str): insert rb_secure(4); operation
	  requires untainted string should be prohibited in level 4.

Sun May 21 21:17:00 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in: add Setup.dj for djgpp cross-compiling.

	* Setup.dj: add readline.

	* instruby.rb: copy win32/win32.h to archlibdir on mingw32.

Sun May 21 20:58:08 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* pack.c: fix OFF16 and OFF32 definitions for Alpha and IRIX64.

Sun May 21 17:31:37 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* instruby.rb: support "make install" for cross-compiling.

	* ext/extmk.rb.in: ditto.

Sun May 21 14:22:49 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* Makefile.in: rename prep.rb to fake.rb.

	* configure.in: ditto.

Sat May 20 23:29:14 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* dir.c (dir_s_new): does not take block; "open" does.

	* io.c (rb_io_s_new): ditto.

Fri May 19 07:44:26 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* dir.c (dir_s_open): Dir#open does not returns closed Dir if a
	  block is given to the method.

	* re.c (rb_reg_initialize_m): Regexp::new calls initialize now.

	* string.c (Init_String): String#delete_at removed.

	* string.c (rb_str_aset_m): should have checked argc != 2.

	* eval.c (rb_thread_schedule): select(2) was called too many.

	* regex.c (re_compile_pattern): a bug in (?m) support.  Pointed
	  out by Dave Thomas <Dave@@thomases.com>.

Thu May 18 23:55:26 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* dln.c (search_undef): st_lookup()'s 3rd parameter should be
	  a pointer of the variable which has the same size and alignment
	  as `char *'.

	* marshal.c (w_symbol, w_object): ditto.

	* parse.y (rb_intern): ditto.

Thu May 18 18:00:35 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.18.

	* lib/net/protocol.rb: Net::Version was removed.

	* lib/net/smtp.rb: use Socket.gethostname to get local host name.

Thu May 18 13:34:57 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (ruby_connect): should not have replaced
	  thread_write_select() by rb_thread_fd_writable().

Thu May 18 09:01:25 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* configure.in, ext/extmk.rb.in, lib/mkmf.rb: remove BeOS R3 support.
	  Make a shared library (libruby.so) only if the --enable-shared
	  option is specified.

	* instruby.rb: no longer use libruby.so.LIB and import.h.

	* io.c: fix READ_DATA_PENDING definition for BeOS (PowerPC).

Wed May 17 14:14:23 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (rb_reg_new_1): use /m instead of /p.

Wed May 17 02:22:03 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_polling): wait 0.06 second to let other
	  processes run.

	* process.c (rb_waitpid): avoid busy wait using rb_thread_polling.

	* file.c (rb_thread_flock): ditto.

	* parse.y (expr): avoid calling value_expr() twice.

Wed May 17 00:45:57 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* io.c (rb_io_binmode): should check PLATFORMs, not O_BINARY, sigh...

Wed May 17 00:40:15 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/config.h: add DLEXT2, now DLEXT on mswin32 is "so".

	* win32/config.status: ditto.

	* win32/ruby.def: add symbol "rb_big_divmod".

Tue May 16 19:45:32 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* intern.h: use EXTERN instead of extern.

	* win32/ruby.def: add rb_defout, rb_stdout, ruby_errinfo,
	  ruby_sourceline, ruby_sourcefile to work with eruby
	  reported by Hiroshi Saito <HiroshiSaito@@pob.org>.
	  Export both ruby_xmalloc and xmalloc etc.

Tue May 16 17:00:05 2000  Masaki Fukushima  <fukusima@@goto.info.waseda.ac.jp>

	* eval.c (rb_thread_select): should check whether fds are null.

Tue May 16 11:51:31 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (pipe_open): synchronize subprocess stdout/stderr.

Mon May 15 15:38:09 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.h: exported symbols should be for xmalloc etc. are now
	  prefixed by 'ruby_', e.g. ruby_xmalloc().

	* eval.c (rb_thread_select): remove busy wait for select.

	* dir.c (glob): trailing path may be null, e.g. glob("**").

Mon May 15 14:48:41 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* io.c (rb_io_pid): new method; returns nil if no process attached
	  to the IO.

Mon May 15 01:18:20 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_s_popen): _exit after Proc execution.

Sun May 14 18:05:59 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* Makefile.in: missing/nt.c -> win32/win32.c

	* configure.in: bug fix; static linking on mingw32.

	* cygwin/GNUmakefile.in: remove VPATH.

	* ext/extmk.rb.in: Makefile set binmode with mingw32 on cygwin32.

	* lib/mkmf.rb: ditto.

	* win32/config.h: undef HAVE_SYS_FILE_H.

Sun May 14 02:02:48 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* lib/irb/ruby-lex.rb: '/' should be escaped in character class.

Sun May 14 00:54:43 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in, ...: support mingw32.

	* defines.h: ditto. undef EXTERN for tcl/tk on cygwin.

	* ext/*/extconf.rb: replace PLATFORM with RUBY_PLATFORM.

	* ext/socket/sockport.h: define IN_MULTICAST for missing IN_MULTICAST.

	* ext/tcltklib/tcltklib.c: remove declaration of rb_argv0.

	* file.c: should check S_IXGRP, S_ISGID, not NT.

	* io.c (rb_io_binmode): should check _IOBIN, O_BINARY, not PLATFORMs.

Sat May 13 14:21:15 2000  Koji Arai  <JCA02266@@nifty.ne.jp>

	* io.c (rb_io_s_popen): should check whether a block is given.

Fri May 12 17:33:44 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): charset_not should not exclude
	  newline from matching set.

Thu May 11 22:51:05 2000  Ryunosuke Ohshima  <ryu@@jaist.ac.jp>

	* pack.c (pack_pack): Bignum support.

	* pack.c (pack_unpack): ditto.

Thu May 11 21:19:29 2000  Hiroshi Igarashi  <iga@@ruby-lang.org>

	* intern.h: add missing declarations of ruby API functions.

	* ruby.h: fix function name in declarations.

Thu May 11 22:29:25 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/md5/depend: add $(topdir)/config.h dependency to md5c.o.

	* ext/md5/extconf.rb: new file to add -DHAVE_CONFIG_H flag for Alpha.

Thu May 11 10:55:52 2000  Ryunosuke Ohshima  <ryu@@jaist.ac.jp>

	* pack.c (pack_pack): packing BER compressed integer by `w'.

	* pack.c (pack_unpack): unpacking BER.

Thu May 11 00:37:55 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (parse_regx): remove in_brack.

Wed May 10 12:51:18 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (proc_options): move adding RUBYLIB and "." to the load
	  path after #! line parsing.

	* parse.y (parse_regx): should parse backslash escape like `\c['
	  here to avoid causing `unterminated regexp' error.

Wed May 10 00:19:53 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* MANIFEST, beos/GNUmakefile.in, configure.in: no longer need
	  beos/GNUmakefile.in to support BeOS R4.5.2 (Intel) as a result
	  of eban's Makefile.in change.

	* io.c: NOFILE is already defined on BeOS R4.5 (Intel) or later.

	* lib/matrix.rb: remove debug print.

	* regex.c: don't use nested comment.

Tue May  9 17:08:43 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (massign): no longer convert nil into empty array.

	* io.c (rb_io_s_popen): optional 3rd argument to give proc, which
	  will be executed in spawned child process.

Mon May  8 23:47:39 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* eval.c (rb_callcc): prev & next should be initialized to zero.

Mon May  8 23:17:36 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* dln.c (dln_init): remove possible buffer overrun.  This is
	  suggested by Aleksi Niemela <aleksi.niemela@@cinnober.com>.

	* dln.c (init_funcname): ditto.

Sat May  6 23:35:47 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (lhs): should allow `obj.Attr = 5' type expression.

Sat May  6 15:46:08 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/socket/extconf.rb: add a new configure option to force use
	  of the WIDE Project's getaddrinfo(): --enbale-wide-getaddrinfo.

Fri May  5 21:19:22 2000  MOROHOSHI Akihiko  <moro@@remus.dti.ne.jp>

	* parse.y (yylex): allow '$1foo' and such.

Fri May  5 17:57:24 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.17.

	* lib/net/http.rb: write also port number in Host: field.

	* lib/net/http.rb: see Proxy-Connection: to decide socket connection.

Fri May  5 03:25:15 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_fastmap): charset_not for multibyte
	  characters excluded too many characters.

Tue May  2 13:23:43 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_schedule): little bit more impartial context
	  switching.

Tue May  2 09:50:03 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* configure.in: add DLDLIBS to set platform specific library
	  for extensions.

	* ext/extmk.rb.in: use @@DLDLIBS@@ instead of RUBY_PLATFORM choice.

	* lib/mkmf.rb: use CONFIG["DLDLIBS"] instead of RUBY_PLATFORM choice.

	* config_s.dj: add @@DLDLIBS@@.

	* win32/config.status: ditto.

	* win32/ruby.def: regular maintenance.

Mon May  1 23:42:44 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in, eval.c: add DLEXT2. now DLEXT on Cygwin is "so".

	* defines.h: use dllimport, dllexport for Cygwin 1.1.x.

	* ruby.h: ditto.

	* cygwin/GNUmakefile.in: ditto.

	* ext/Win32API/Win32API.c: directly "call" in asm statement for
	  gcc 2.95.x or newer.

Sat Apr 29 04:58:12 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* array.c (rb_ary_unshift_m): performance improvement.

Fri Apr 28 00:19:22 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* array.c (rb_ary_unshift_m): takes items to push.

Wed Apr 26 15:23:02 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_succ): insert carrying character just before
	  the leftmost alpha numeric character.

	* string.c (rb_str_succ): proper behavior for "".succ and "\377".succ.

	* string.c (rb_str_succ): use realloc and memmove.

Tue Apr 25 18:28:45 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.16.

	* lib/net/smtp.rb: add SMTP AUTH

Tue Apr 25 14:30:13 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_gets_internal): shortcut when rs == rb_default_rs.

Sat Apr 22 23:14:41 2000  SHIROYAMA Takayuki  <psi@@fortune.nest.or.jp>

	* configure.in: MacOS X support.

Sat Apr 22 16:37:10 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.15.

	* lib/net/http.rb:  closing socket by watching both
	  user header and server response

Fri Apr 21 21:44:34 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* io.c (rb_io_s_pipe): should set FMODE_SYNC.

Thu Apr 20 16:59:22 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (massign): `*lvalue = false' should assign `[false]' to
	  lvalue.

Wed Apr 19 08:35:08 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (rb_singleton_class): generate singleton class for
	  special constants: nil, true, false.

Wed Apr 19 02:09:30 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (rb_singleton_class): singleton method for nil, true,
	  false is possible now.

	* eval.c (rb_eval): ditto.

Tue Apr 18 18:54:25 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.14.

	* lib/net/http.rb: new method HTTP#head2.

	* lib/net/http.rb: get2/post2 does not raise exceptions.

Mon Apr 17 15:16:31 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_close): to detect some exceptional status, writable
	  IO should be flushed before close;

Sat Apr 15 18:29:00 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_collect_bang): Array#filter renamed.

Fri Apr 14 19:47:11 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.13.

	* lib/net/pop.rb: accept illegal timestamp

	* lib/net/http.rb: when body was chunked, does not set Content-Length:

Tue Apr 11 21:14:42 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* config_s.dj: add @@sitedir@@.
	* configure.in: add --with-sitedir=DIR option.
	* instruby.rb: use CONFIG["sitedir"].
	* lib/mkmf.rb: support 'make site-install'.
	* win32/config.status: add @@sitedir@@.

Tue Apr 11 16:25:15 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (rb_big_2comp): unnecessary lvalue cast removed.

Tue Apr 11 02:25:53 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (env_fetch): new method.

	* marshal.c (marshal_dump): accepts depth = nil for unlimited depth.

Sun Apr  9 20:49:19 2000  Dave Thomas  <Dave@@Thomases.com>

	* parse.y (str_extend): Allow class variables to be expanded.

Fri Apr  7 02:03:54 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* error.c (rb_sys_fail): escape non-printable characters.

Thu Apr  6 20:10:47 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/extmk.rb.in (create_makefile): BeOS --program-suffix support.
	* lib/mkmf.rb (create_makefile): ditto.

Thu Apr  6 09:55:26 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* error.c (rb_sys_fail): need rb_exc_new2() call on BeOS.

Mon Apr  3 17:22:27 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_reopen): support tempfile.

	* eval.c (catch_i): should supply argument.

Sat Apr  1 22:50:28 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (r_object): wrong symbol restoration.

Sat Apr  1 21:30:53 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* io.c (rb_io_printf, rb_f_printf): should use rb_io_write.

Sat Apr  1 00:16:05 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (rb_gc_call_finalizer_at_exit): should be clear flags
	  before calling finalizers.

	* eval.c (specific_eval): can be called without SecurityError, if
	  $SAFE >= 4.

	* object.c (sym_inspect): inspect gives ":sym", to_s gives "sym".

Fri Mar 31 22:07:04 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.12.

	* lib/net/protocol.rb:  update Net::Protocol::Proxy#connect

	* lib/net/protocol.rb:  ReplyCode is not a class

	* lib/net/http.rb: header value format was change:
	  values do not include header name

	* lib/net/http.rb: header is not a Hash, but HTTPResponse

Thu Mar 30 12:19:44 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* enum.c (enum_find): rb_eval_cmd() should be called with array.

Tue Mar 28 13:57:05 2000  Clemens Hintze  <c.hintze@@gmx.net>

	* ext/dbm/dbm.c (fdbm_invert): should return new hash.

	* ext/gdbm/gdbm.c (fgdbm_invert): ditto.

Tue Mar 28 00:58:03 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.11.

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: does not
	  dispatch any commands while dispatching command.

	* lib/net/protocol.rb: failed to get error class of
	  inherited ReplyCode

	* lib/net/http.rb: change feature of "get2", "post2"

Mon Mar 27 01:34:58 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.10.

	* lib/net/http.rb: return value of 'head' was wrong.

Sun Mar 26 17:47:35 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.9.

	* lib/net/smtp.rb: SMTP#do_ready wrongly took no arguments

Sat Mar 25 23:21:10 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (w_object): symbols should be converted to ID before
	  dumping out.

Fri Mar 24 18:26:51 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (test_check): should have checked exact number of arguments.

Fri Mar 24 21:02:11 2000  Koji Arai  <JCA02266@@nifty.ne.jp>

	* signal.c (trap): should treat some symbols as the signal.

Fri Mar 24 06:58:03 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.8.

	* lib/net/http.rb:  post, get2, post2, get_body

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: separate
	  Command/Socket documentation.

Thu Mar 23 02:26:14 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_fptr_finalize): fptr may be null.

	* io.c (rb_io_s_new): now calls `initialize'.

	* io.c (rb_io_initialize): actual open done in this method.

	* io.c (rb_file_initialize): ditto.

	* eval.c (rb_eval): class variables in singleton class definition
	  is now handled properly (I hope).

Wed Mar 22 21:49:36 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* st.c (st_delete_safe): skip already deleted entry.

	* hash.c (rb_hash_delete): modify brace miss.

Wed Mar 22 08:53:58 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (exec_under): do not push cbase if ruby_cbase == under.

	* node.h (NEW_CREF0): preserve cbase nesting.

Tue Mar 21 12:57:50 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (rb_class_s_new): Class::new should call `inherited'.

Sat Mar 18 12:36:09 2000  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_backtrace, make_backtrace): removed unused variable
	  `lev'.

	* eval.c (rb_attr): calls `method_added' at attribute definition.

	* eval.c (rb_mod_modfunc): calls `singleton_method_added' while
	  `module_function'.

	* eval.c (rb_eval): parameter to `method_added' and
	  `singleton_method_added' is Symbol.

	* eval.c (Init_eval): caches IDs for `method_added' and
	  `singleton_method_added'.

Sat Mar 18 11:25:10 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (rescue): allows `rescue Error in foo'.  experimental.
	  which is better this or preparing alias `exception' for `$!'?

Fri Mar 17 15:02:45 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_autoload_id): defining new autoload should be
	  prohibited for $SAFE > 4.

	* variable.c (rb_autoload_load): autoload should be possible for
	  $SAFE > 4.

	* eval.c (call_trace_func): should handle T_ICLASS properly.

Fri Mar 17 14:34:30 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_gsub): forgot to initialize str->orig.

Fri Mar 17 01:24:59 2000  Dave Thomas  <Dave@@thomases.com>

	* string.c (rb_str_clone): forgot to copy str->orig if STR_NO_ORIG
	  is set by Array#pack.

Wed Mar 15 21:25:04 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* array.c (rb_ary_join): 'result' is always duplicated
	  before concat string.

Wed Mar 15 17:26:05 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (rb_hash_s_create): unexpected recursive call removed.
	  this bug was found by Satoshi Nojo <nojo@@t-samukawa.or.jp>.

Wed Mar 15 13:12:39 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (Init_Thread): Thread.join removed finally.

	* string.c (rb_str_chomp_bang): forgot to call rb_str_modify().

Mon Mar 13 16:12:13 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (block_pass): distinguish real orphan block and still
	  on-stack block passed by block argument.

Mon Mar 13 00:20:25 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (f_norm_arg): proper error message when constant comes
	  in formal argument list.  this message is suggested by Muvaw
	  Pnazte <bugathlon@@yahoo.com>.

	* eval.c (rb_f_raise): proper error message when the first
	  argument is not an exception class/object.

	* string.c (rb_str_dup): dup now postpone buffer copy as long as
	  possible.  performance improved by lazy copying.

Sun Mar 12 13:58:52 2000  Koji Arai  <JCA02266@@nifty.ne.jp>

	* signal.c (rb_f_kill): should treat some symbols as the signal.

Sat Mar 11 22:03:03 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_gsub): performance tune by avoiding buffer copy.

	* eval.c (rb_f_missing): check if argv[0] is ID.

Sat Mar 11 15:49:41 2000  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* struct.c (rb_struct_aref): struct aref by symbol.

Sat Mar 11 05:07:11 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* process.c (proc_setpriority): should return 0, not nil.

	* process.c (proc_setpgid): ditto.

Fri Mar 10 18:14:54 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (path_check_1): confusing buf and path.  this bug found
	  by <decoux@@moulon.inra.fr>.

Fri Mar 10 09:37:49 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* MANIFEST: add beos/GNUmakefile.in.
	* configure.in: support BeOS R4.5.2 (Intel).
	* beos/GNUmakefile.in: new file to support BeOS R4.5.2 (Intel).

Thu Mar  9 11:13:32 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_fastmap): fixed embarrassing brace bug.

Thu Mar  9 01:36:32 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* missing/flock.c: emulate missing flock() with fcntl().

Thu Mar  9 00:29:35 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (sym_to_s): returns ":sym".

	* object.c (sym_id2name): separated from to_s; returns "sym".

Wed Mar  8 19:16:19 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.7.

	* lib/net/http.rb (connecting): returns header

Wed Mar  8 02:08:43 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y: escape expansion too early.

	* string.c (rb_f_scan): Kernel#scan added.

	* regex.c (re_compile_pattern): support \cX et al.

Tue Mar  7 01:44:27 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (set_stdin): simplified procedure, allows $stdin = DATA;
	  experimental.

	* io.c (set_outfile): ditto.

	* re.c (Init_Regexp): new method Regexp#last_match added; it's an
	  alternative for $~.

	* configure.in (DEFAULT_KCODE): KCODE_NONE should be the default.

	* dir.c (dir_s_rmdir): should return 0 on success.

	* signal.c: remove CWGUSI support.

Mon Mar  6 12:28:37 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (w_symbol): support symbol object.

	* util.c: make symbol as separated class.

	* error.c (Init_Exception): new exception RangeError.

	* ext/socket/socket.c (ip_addrsetup): should check length of hostname.

	* ext/socket/socket.c (ip_addrsetup): check newline at the end of
	  hostname.  These fixes suggested by Muvaw Pnazte <bugathlon@@yahoo.com>.

Sun Mar  5 20:35:45 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/Win32API/Win32API.c (Win32API_initialize): should call
	  LoadLibrary() everytime and should assign the hdll to Win32API
	  object(protect the hdll from GC).

Sun Mar  5 18:49:06 2000  Nakada.Nobuyoshi  <nobu.nokada@@softhome.net>

	* misc/ruby-mode.el (ruby-parse-region): not treat method `begin'
	  and `end' as reserved words.

	* misc/ruby-mode.el (ruby-font-lock-docs): ignore after `=begin'
	  and `=end'.

	* misc/ruby-mode.el (ruby-font-lock-keywords, hilit-set-mode-patterns):
	  added `yield' to keywords.

	* misc/ruby-mode.el (ruby-font-lock-keywords, hilit-set-mode-patterns):
	  matches keywords at end of buffer.

Sun Mar  5 18:08:53 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.6.

	* lib/net/http.rb:  allow to omit 'start'

Tue Feb 29 01:08:26 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* range.c (range_initialize): initialization done in `initialize';
	  `initialize' should not be called more than once.

	* object.c (Init_Object): default `initialize' should take zero
	  argument.

	* time.c (time_s_new): call `initialize' in Time::new.

Sat Feb 26 22:39:31 2000  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* string.c (rb_str_times): fix String#* with huge string.

Sat Feb 26 00:14:59 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* dir.c (dir_s_new): call `initialize' in Dir::new.

Fri Feb 25 23:01:49 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ruby.h: export ruby_safe_level by EXTERN for mswin32.
	* win32/ruby.def: regular maintenance.

Fri Feb 25 22:12:46 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_reopen): IO#reopen should accept path as well.

	* string.c (rb_str_s_new): call `initialize' in String::new.

	* hash.c (rb_hash_s_new): call `initialize' in Hash::new.

	* array.c (rb_ary_s_new): call `initialize' in Array::new.

Fri Feb 25 12:50:20 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_start_timer): interval changed to 10ms from 50ms.

Fri Feb 25 06:42:26 2000  GOTOU YUUZOU  <gotoyuzo@@notwork.org>

	* ext/socket/socket.c (ip_addrsetup): hostp should remain NULL if
	  host is nil.

Thu Feb 24 16:53:47 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_schedule): priority check for sleep expired
	  threads needed.

Wed Feb 23 14:22:32 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_join): forgot to initialize a local variable
	  `taint'.

Tue Feb 22 07:40:55 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (Init_Regexp): renamed to MatchData, old name MatchingData
	  remain as alias.

Tue Feb 22 00:20:21 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.5.

	* lib/net/session.rb: rename to protocol.rb

	* lib/net/protocol.rb: ProtocolSocket -> Net::Socket

	* lib/net/protocol.rb: Net::Socket#write, write_pendstr
	  can take block

	* lib/net/smtp.rb: new methods SMTP#ready SMTPCommand#write_mail

	* lib/net/pop.rb: POPMail#pop can take block

Sat Feb 19 23:58:51 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): pop_loop should not pop at forward jump.

Fri Feb 18 17:15:40 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (method_clone): method objects are now clonable.

Fri Feb 18 00:27:34 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_shared_variable_declare): shared variable (aka
	  class/module variable) introduced.  prefix `@@@@'. experimental.

	* class.c (rb_scan_args): new format char '&'.

Thu Feb 17 19:09:05 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/win32.c (mypopen): don't close handle if it is not assigned.
	* win32/win32.c (my_open_osfhandle): support O_NOINHERIT flag.
	* win32/win32.c (win32_getcwd): rename getcwd to win32_getcwd
	  in order to avoid using the C/C++ runtime DLL's getcwd.
	  Use CharNext() to process directory name.
	* win32/win32.h: map getcwd to win32_getcwd.

Wed Feb 16 00:32:49 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (method_arity): nd_rest is -1 for no rest argument.

	* process.c (proc_waitpid): returns nil when waitpid(2) returns 0.

Tue Feb 15 01:47:00 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* process.c (rb_f_waitpid): pid_t should be signed.

Mon Feb 14 13:59:01 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): yylex yields wrong tokens for `:foo=~expr'.

	* ruby.c (load_file): exit if reading file is empty.

Mon Feb 14 03:34:52 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): `foo.bar=1' should be <foo><.><bar><=><1>,
	  not <foo><.><bar=><1>.

	* eval.c (rb_thread_restore_context): process according to
	  RESTORE_* is moved after longjmp().

	* eval.c (thread_switch): new function to process RESTORE_*.

Sun Feb 13 16:19:49 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ruby.c (require_libraries): don't access freed memory.

	* ruby.c (add_modules): ditto.

Fri Feb 11 12:06:22 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (parse_quotedwords): %w() need to split not only by mere
	  spaces, but by all whitespaces.

Thu Feb 10 02:12:04 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_index_m): did not support negative offset.

Wed Feb  9 21:54:26 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/getaddrinfo.c: gcc --traditional support.
	  Rearrange headers to work AC_C_CONST.
	* ext/socket/getnameinfo.c: ditto.
	* ext/socket/socket.c: mswin32: use double instead of long long.

Wed Feb  9 16:30:41 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (num_coerce): should return [y, x].

Wed Feb  9 11:07:30 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (ruby_prog_init): loadpath structure changed.

Tue Feb  8 02:07:33 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): optimize for \G at top.

	* regex.c (re_compile_pattern): \G introduced.

	* regex.c (re_match): ditto.

	* string.c (str_sub_bang): old behavior restored: bang method
	  returns nil if string not changed.

	* regex.c (re_compile_pattern): support independent subexpression
	  `(?>pattern)'. 

	* regex.c (re_match): ditto.

Mon Feb  7 15:51:08 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): now understands interrupts under Ruby.

Mon Feb  7 07:51:52 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_uniq_bang): always return an Array.

	* array.c (rb_ary_compact_bang): ditto.

	* array.c (rb_ary_flatten_bang): ditto.

	* hash.c (rb_hash_reject): returns a Hash, not an Array.

	* hash.c (env_reject): ditto.

Fri Feb  4 10:20:25 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (scan_once): scan now leaves information about the last
	  successful pattern match in $&.

	* io.c (rb_io_close): should not check closed IO.

Fri Feb  4 05:44:01 2000  Kentaro Inagaki  <inagaki@@tg.rim.or.jp>

	* ext/socket/socket.c (s_recv): TRAP_BEG after retry entry.

Wed Feb  2 22:33:45 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_thread_start): receives argument from outside, like
	  `Thread::start(1,2,3){|a,b,c| ... }'.

Wed Feb  2 22:14:40 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (rb_reg_regsub): should check regs->num_regs.

	* re.c (rb_reg_search): remove matchcache, use static struct
	  re_register instead. 

	* re.c (match_getter): avoid cloning match data.

Wed Feb  2 17:12:15 2000  Dave Thomas  <Dave@@Thomases.com>

	* samples/eval.rb: Rescue new ScriptError exception

Wed Feb  2 02:06:07 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_gsub_bang): gsub! now leaves information about the
	  last successful pattern match in $&.

Mon Jan 31 15:24:58 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_sub_bang): bang method returns string always.
	  experimental.

Sun Jan 30 17:58:09 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* eval.c: arrange to use setitimer(2) for BOW, DJGPP

	* defines.h: ditto. use random(3) on cygwin b20.1.

Sun Jan 30 17:20:16 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* eval.c: use getrlimit(2) on DJGPP.

Thu Jan 27 01:27:10 2000  GOTO Kentaro  <gotoken@@math.sci.hokudai.ac.jp>

	* dir.c (glob): glob pattern "/*" did not match.

Wed Jan 26 22:30:47 2000  Shigeo Kobayashi  <shigeo@@tinyforest.gr.jp>

	* numeric.c (flo_modulo): wrong result for negative modulo.

Wed Jan 26 02:01:57 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (test_c): should use S_ISCHR.

	* file.c (rb_stat_c): ditto.

	* string.c (rb_str_each_line): should propagate tainting.

Tue Jan 25 04:01:34 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (rb_obj_freeze): all objects made freezable.

Tue Jan 25 00:37:01 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in: use AC_CHECK_TOOL for cross compiling.

Mon Jan 24 19:01:54 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* array.c (rb_protect_inspect): should be checked by id of
	  objects; not by object themselves.

Mon Jan 24 18:48:08 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* eval.c (rb_eval): too many warnings;  warned on every method
	  overriding.  should be on method discarding.

Mon Jan 24 02:56:44 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): -2.abs should be `(-2).abs' to accomplish the
	  principle of less surprise.  `+2' too.

	* eval.c (rb_eval): when defining class is already there, and
	  superclass differ, throw away the old class.

	* variable.c (rb_const_set): gives warning again on constant
	  redefinition.

	* error.c (Init_Exception): SyntaxError, NameError, LoadError and
	  NotImplementError are subclasses of ScriptError<Exception, not
	  StandardError.  experimental.

Sat Jan 22 00:00:41 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (parse_quotedwords): no longer use `String#split'.
	  and enable space escape within quoted word list.
	  e.g. %w(a\ b\ c abc) => ["a b c", "abc"].

	* string.c (rb_str_slice_bang): new method `slice!'.

Fri Jan 21 21:56:08 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/session.rb, smtp.rb, pop.rb, http.rb: 1.1.4.

	* lib/net/http.rb: can receive messages which have
	  no Content-Length:.

Fri Jan 21 16:15:59 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thgroup_s_new): new class ThreadGroup.

Tue Jan 18 12:24:28 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* struct.c (Init_Struct): remove Struct's own hash and eql?.

Sat Jan 15 22:21:08 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (search_method): argument klass may be 0.

Sat Jan 15 15:03:46 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* enum.c (enum_index): remove this method.

	* enum.c: remove use of pointers to local variables. find,
	  find_all, min, max, index, member?, each_with_index, 

	* eval.c (massign): multiple assignment does not use to_a anymore.
	  experimental.

Fri Jan 14 12:22:04 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_replace): use memmove instead of memcpy for
	  overwrapping strings (e.g. a[1] = a).

Thu Jan 13 11:12:40 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (arg_add): use new node, ARGSPUSH.

Mon Jan 10 18:32:28 2000  Koji Arai  <JCA02266@@nifty.ne.jp>

	* marshal.c (w_object): forgot an argument to call w_ivar().

Sun Jan  9 18:13:51 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* random.c: first was not defined unless HAVE_RANDOM.

Sat Jan  8 19:02:49 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_sysread): raise IOError for buffered IO.

	* ext/socket/socket.c (s_recv): ditto.

Fri Jan  7 00:59:29 2000  Masahiro Tomita  <tommy@@tmtm.org>

	* io.c (io_fread): TRAP_BEG/TRAP_END added around getc().

Thu Jan  6 00:39:54 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* random.c (rb_f_rand): should be initialized unless srand is
	  called before.

Wed Jan  5 16:59:34 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/session.rb, smtp.rb, pop.rb, http.rb: 1.1.3.

	* lib/net/session.rb: Session -> Protocol, ...

	* lib/net/http.rb: HTTPCommand implementation was changed.

Wed Jan  5 02:14:46 2000  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* parse.y: Fix SEGV on empty parens with UMINUS or UPLUS.

Tue Jan  4 22:25:54 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (stmt): `() while cond' dumped core.

Tue Jan  4 06:04:14 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in: modify for cross-compiling.
	  use target_* instead of host_*. 
	  use AC_CANONICAL_TARGET.

	* Makefile.in: ditto.

	* cygwin/GNUmakefile.in: ditto.

Sat Jan  1 13:26:14 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_yield_0): force_recycle ruby_dyna_vars to gain
	  performance.

	* array.c (rb_ary_delete_at_m): takes same argument pattern with
	  rb_ary_aref.

Sat Jan  1 10:12:26 2000  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ruby.h,util.c (rb_special_const_p): peep hole optimization.

	* ruby.h,util.c (rb_test_false_or_nil): removed.

	* ruby.h (RTEST, SPECIAL_CONST_P): peep hole optimization.

	* ruby.h (FL_ABLE, FL_SET, FL_UNSET, FL_REVERSE): made expressions
	  not statements.

	* ruby.h (OBJ_INFECT): newly added macro which copies taint from
	  `s' to `x'.

Sat Jan  1 02:04:18 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_safe_level): new method.

	* eval.c (rb_yield_0): recycle dyna_var_map to reduce object
	  allocation. 

Fri Dec 31 00:52:48 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c: thread independent trace_func not needed.

Thu Dec 30 14:47:31 1999  akira yamada  <akira@@ruby-lang.org>

	* configure.in: specifies -soname in LIBRUBY_DLDFLAGS on linux
	  platforms.

Thu Dec 30 10:51:27 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c,io.c,hash,c,re.c,string.c: `_m' suffix instead of
	  `_method' for wrapper functions to implement method,
	  e.g. `rb_str_join_m()'.

Thu Dec 30 02:08:02 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (rb_cstr2inum): non-numeric format check added.
	  currently it works only with base == 0 (i.e. Integer()).

	* bignum.c (rb_str2inum): now takes VALUE to 1st argument.  null
	  byte check added.

	* array.c (rb_ary_replace): unless replacement is an array,
	  replacement shall be converted to array by `[replacement]', not
	  by `replacement.to_a'.

	* array.c (rb_ary_plus): right operand must be an array.

	* array.c (rb_ary_concat): argument must be an array.

Mon Dec 27 12:35:47 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/socket.c (sock_finalize): mswin32: fix socket handle leak.

	* win32/win32.c (myfdclose): ditto.

Sun Dec 26 23:15:13 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/win32.c (mypopen): raise catchable error instead of rb_fatal.
	* win32/win32.c (mypclose): fix process handle leak.

Sun Dec 26 16:17:11 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/Win32API/Win32API.c (Win32API_initialize): use UINT2NUM
	  instead of INT2NUM to set __dll__ and __proc__.

Sat Dec 25 00:08:59 1999  KANEKO Naoshi  <wbs01621@@mail.wbs.ne.jp>

	* ext/Win32API/Win32API.c (Win32API_Call): remove 'dword ptr'
	  from _asm.

Fri Dec 24 10:26:47 1999  Koji Oda  <oda@@bsd1.qnes.nec.co.jp>

	* win32/win32.h: use "C++" linkage.

Fri Dec 24 02:00:57 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (THREAD_ALLOC): should initialize th->trace.

Fri Dec 24 00:43:39 1999  KANEKO Naoshi  <wbs01621@@mail.wbs.ne.jp>

	* io.c (pipe_open): check for `fptr->f == NULL'.
	* win32/win32.c (mypopen): STDERR does not work during ` function.

Wed Dec 22 22:50:40 1999  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/session.rb, smtp.rb, pop.rb, http.rb: 1.1.2.

	* lib/net/http.rb: HTTP support is enhanced a little

	* lib/net/http.rb: support proxy

Tue Dec 21 17:21:28 1999  Koji Oda  <oda@@bsd1.qnes.nec.co.jp>

	* ext/socket/socket.c (sock_finalize): mswin32: fix FILE* leak.

Tue Dec 21 05:33:56 1999  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/session.rb, smtp.rb, pop.rb, http.rb: 1.1.1.

	* lib/net/http.rb: support HTTP chunk

Mon Dec 20 19:08:12 1999  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c (rb_file_s_expand_path): handle dir separator correctly.

Sun Dec 19 22:56:31 1999  KANEKO Naoshi  <wbs01621@@mail.wbs.ne.jp>

	* lib/find.rb: support dosish root directory.
	* win32/Makefile: ditto.
	* win32/config.status: ditto.
	* win32/win32.c (opendir): ditto.
	* win32/win32.c (opendir): use CharPrev() to get last character
	  of the directory name.

Sat Dec 18 03:00:01 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (path_check_1): check should be done by absolute path. 

	* marshal.c (r_ivar): should restore generic_ivar too.

	* marshal.c (w_ivar): should dump generic_ivar too.

Fri Dec 17 22:46:46 1999  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/session.rb, smtp.rb, pop.rb, http.rb: 1.1.0.

	* lib/net/http.rb: test release

	* lib/net/session.rb: support class swapping

	* lib/net/session.rb: Socket#flush_rbuf

	* lib/net/session.rb: doquote -> Net.quote

Fri Dec 17 19:27:43 1999  IWAMURO Motonori  <iwa@@mmp.fujitsu.co.jp>

	* eval.c (rb_load): should initialize ruby_frame->last_class.

Wed Dec 15 01:35:29 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (proc_options): option to change directory changed to
	  `-C' like tar.

	* ruby.c (proc_options): argv boundary check for `-X'.

Mon Dec 13 15:15:31 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_adjust_startpos): separate startpos adjustment
	  because of major performance drawback.

	* class.c (rb_singleton_class): tainted status of the singleton
	  class must be synchronized with the object.

	* eval.c (rb_thread_schedule): implement thread priority.

Sat Dec 11 03:34:38 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (mark_hashentry): key should be VALUE, not ID.

	* io.c (argf_eof): should check next_p too.

Thu Dec  9 18:09:13 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* error.c (exc_set_backtrace): forgot to declare a VALUE argument.

Thu Dec  9 14:19:31 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (rb_obj_taint): explicit tainting must be prohibited at
	  level 4 to prevent polluting trusted object by untrusted code.

	* file.c: file operations (stat, lstat, chmod, chown, umask,
	  truncate, flock) are prohibited in level 2 (was level 4).

Wed Dec  8 11:48:23 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_f_require): prohibiting require() in the secure mode
	  cause serious autoloading error.

	* variable.c (rb_obj_instance_variables): don't need to prohibit
	  to get list of instance variable names of untainted objects.

	* variable.c (rb_ivar_get): don't need to prohibit to get instance
	  variables of untainted objects.

	* variable.c (rb_mod_remove_const): should prohibit constant
	  removals too. 

Wed Dec  8 09:23:01 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): should try autoloading before defining
	  class/module at the toplevel.

Tue Dec  7 22:15:30 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* configure.in: Modified rb_cv_rshift_sign detect routine and
	  more simple/fast RSHIFT() for hpux-10.x.

Tue Dec  7 11:16:30 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (Init_eval): calculate stack limit from rlimit where
	  getrlimit(2) is available.

Tue Dec  7 09:57:33 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* file.c (rb_file_ftype): should have removed mode_t.

Mon Dec  6 15:55:30 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* numeric.c (fix_rshift): Fix -1 >> 32 returned 0 (should be -1).

	* numeric.c (fix_rshift): Fix  1 >> -1 returned 0 (should be 2).

Mon Dec  6 11:47:23 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (rb_f_sprintf): formatted string must be tainted if
	  any of parameters is a tainted string.

	* file.c (rb_file_s_expand_path): expanded file path need not to
	  be tainted always.

Sun Dec  5 20:25:29 1999  Katsuhiro Ueno  <unnie@@blue.sky.or.jp>

	* eval.c (Init_Proc): simple typo.

	* gc.c (add_heap): sizeof(RVALUE*), not sizeof(RVALUE).

Sat Dec  4 01:40:22 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): adjust startpos for multibyte match unless
	  the first pattern is forced byte match.

	* bignum.c (rb_big_rand): should not use rand/random where drand48
	  may be available.  RANDOM_NUMBER should be provided from outside.

Fri Dec  3 09:54:59 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (moreswitches): there may be trailing garbage at #!
	  line.

	* eval.c (rb_f_require): should check require 'feature.o' too.

Thu Dec  2 11:58:15 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* eval.c (rb_thread_loading): should maintain loading_tbl.

Thu Dec  2 10:21:43 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_loading_done): wrong parameter to st_delete().

Wed Dec  1 11:24:06 1999  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ruby.c (process_sflag): process -s properly (should not force `--').

Wed Dec  1 09:47:33 1999  Kazunori NISHI  <kazunori@@swlab.csce.kyushu-u.ac.jp>

	* string.c (rb_str_split_method): should increment end too.

Tue Nov 30 18:00:45 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c: MARSHAL_MINOR incremented; format version is 4.2.

	* marshal.c (w_object): distinguish class and module.

	* marshal.c (w_object): save hash's default value.

	* marshal.c (r_object): restore hash's default value.

Tue Nov 30 01:46:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (rb_reg_source): generated source string must be tainted if
	  regex is tainted.

	* file.c (rb_file_s_basename): basename should not be tainted
	  unless the original path is tainted.

	* file.c (rb_file_s_dirname): ditto.

Mon Nov 29 20:42:13 1999  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c (stat_new): Struct::Stat -> File::Stat; Stat is no longer
	  a Struct.

Mon Nov 29 15:28:52 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_path2class): evaluated value from path should be
	  module or class.

Fri Nov 26 18:12:49 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_exec_end_proc): should remove only end_procs defined
	  within load wrapper.

	* eval.c (rb_load): save and restore ruby_wrapper around loading.

	* eval.c (rb_mark_end_proc): mark end procs registered by END{} or
	  at_exit{}. 

	* eval.c (rb_set_end_proc): should not call rb_global_variable()
	  on heap address;  it crashed mod_ruby.

Mon Nov 22 14:07:24 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* ruby.c (proc_options): variable e_script should be visited by
	  garbage collector.

Sat Nov 20 10:10:41 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (inspect_i): value may be nil, check revised.

Fri Nov 19 18:06:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* dir.c (glob): recursive wildcard match by `**' ala zsh.

Fri Nov 19 11:44:26 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* variable.c: was returning void value.

Fri Nov 19 03:57:22 1999  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c: add methods Stat struct class to reduce stat(2).

Thu Nov 18 16:18:27 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/pstore.rb: mutual lock by flock(2).

Thu Nov 18 11:44:13 1999  Masahiro Tomita  <tommy@@tmtm.org>

	* io.c (read_all): should check bytes too.

Wed Nov 17 02:40:40 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (Init_IO): $defout (alias of $>) added.

Tue Nov 16 09:47:14 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/pstore.rb: add mutual lock using symlink.

Mon Nov 15 16:50:34 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* enum.c (enum_grep): non matching grep returns an empty array, no
	  longer returns nil.

	* enum.c (enum_grep): grep with block returns collection of
	  evaluated values of block over matched elements.

Mon Nov 15 04:50:33 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* re.c (rb_reg_source): should not call rb_reg_expr_str()
	  everytime.

Sat Nov 13 07:34:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_mod_constants): traverse superclasses to collect
	  constants.

	* eval.c (assign): modified for shared variables.

	* eval.c (rb_eval): search nested scope, then superclasses to
	  assign shared variables within methods.

	* eval.c (rb_eval): remove warnings from constants modification,
	  because they are no longer constants.

	* parse.y (node_assign): modified for shared variables.

	* parse.y (assignable): allow constant assignment in methods;
	  constants should be called `shared variable'.

Fri Nov 12 23:52:19 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* process.c (rb_f_system): argument check for NT, __EMX__, DJGPP.

Wed Nov 10 21:54:11 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* hash.c (rb_any_cmp): Fixed return without value.

Wed Nov 10 17:57:06 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c: incorporate <yasuf@@big.or.jp>'s sprintf patch at
	  [ruby-dev:7754]. 

Wed Nov 10 08:28:53 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_call0): supply class parameter for each invocation.

Tue Nov  9 13:21:04 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* configure.in: AC_MINIX move to before AC_EXEEXT and AC_OBJEXT.

Mon Nov  8 19:52:29 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* configure.in: Renamed AC_CHAR_UNSIGNED to AC_C_CHAR_UNSIGNED.

	* configure.in: Added default to AC_CHECK_SIZEOF().

Mon Nov  8 14:28:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (stmt): rescue modifier added to the syntax.

	* keywords: kRESCUE_MOD added.

	* eval.c (rb_f_eval): fake outer scope when eval() called without
	  bindings.

	* eval.c (rb_f_binding): should copy last_class in the outer frame too.

Sun Nov  7 18:31:04 1999  Yasuhiro Fukuma  <yasuf@@big.or.jp>

	* eval.c (is_defined): last_class may be 0.

Sat Nov  6 19:26:55 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* Makefile.in: Added depend entry make parse.@@OBJEXT@@ from parse.c
	  for UCB make

Thu Nov  4 17:41:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): \< (wordbeg), \> (wordend) disabled.

Wed Nov  3 08:52:57 1999  Masaki Fukushima  <fukusima@@goto.info.waseda.ac.jp>

	* io.c (Init_IO): forgot to use INT2FIX() around SEEK_SET, etc. 

Wed Nov  3 00:25:20 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_split_method): use mbclen2() to handle kcode
	  option of regexp objects.

Mon Nov  1 14:22:15 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* eval.c (rb_eval): reduce recursive calls to rb_eval()
	  case of ||= and &&= .

Sun Oct 31 13:12:42 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* regex.c (re_compile_pattern): wrong [\W] match.

Fri Oct 29 16:57:30 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/nkf/lib/kconv.rb: new String methods (kconv, tojis, toeuc,
	  tosjis).

	* time.c (time_s_at): now accepts optional second argument to
	  specify micro second.

Thu Oct 28 13:35:40 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_split_method): should be mbchar aware with
	  single char separators.

Wed Oct 27 12:57:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* random.c (rb_f_srand): random seed should be unsigned.

Tue Oct 26 23:58:15 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_collect): collect for better performance.

Tue Oct 26 19:20:54 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* marshal.c (r_object): should register class/module objects.

Sat Oct 23 15:59:39 1999  Takaaki Tateishi  <ttate@@jaist.ac.jp>

	* process.c (rb_f_system): should require at least one argument.

Sat Oct 23 12:42:44 1999  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* enum.c (enum_collect): collect without block will collect
	  elements in enumerable.

Thu Oct 21 16:14:19 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (moreswitches): function to process string option;
	  the name is stolen from perl (not implementation).

	* ruby.c (proc_options): use RUBYOPT environment variable to
	  retrieve the default options.

	* dir.c (fnmatch): use eban's fnmatch; do not depend on system's
	  fnmatch (which may have portability problem) anymore.

Wed Oct 20 15:14:24 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (marshal_load): should protect the generated object
	  table (arg->data) from GC.

Mon Oct 18 16:15:52 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/nkf/nkf.c (rb_nkf_kconv): output should be NUL terminated.

Mon Oct 18 09:03:01 1999  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/session.rb, smtp.rb, pop.rb: 1.0.3

	* lib/net/pop.rb: new methods POP3Command#uidl, POPMail#uidl.

Sun Oct 17 03:35:33 1999  Masaki Fukushima  <fukusima@@goto.info.waseda.ac.jp>

	* array.c (rb_ary_pop): forgot some freeze checks.

Sat Oct 16 12:57:53 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* array.c (rb_ary_sort): always returns the copied array.

Fri Oct 15 22:50:41 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* error.c (sys_nerr): on CYGWIN, it is _sys_nerr.

Fri Oct 15 01:32:31 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* io.c (rb_io_ctl) :need to use NUM2ULONG, not NUM2INT.

	* ext/Win32API/Win32API.c (Win32API_Call): need to use NUM2ULONG,
	  not NUM2INT.

Fri Oct 15 00:22:30 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (Init_Regexp): super class of the MatchingData, which was
	  Data, to be Object.

	* eval.c (ruby_run): evaluate required libraries before load &
	  compiling the script.

	* parse.y (lex_getline): retrieve a line from the stream, saving
	  lines in the table in debug mode.

	* eval.c (call_trace_func): treat the case ruby_sourcefile is null.

Thu Oct 14 02:00:10 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (string): compile time string concatenation.

Wed Oct 13 07:28:09 1999  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/session.rb, smtp.rb, pop.rb: 1.0.2

	* lib/net/session.rb: new method Session#set_pipe.

	* lib/net/session.rb, smtp.rb, pop.rb: add RD documentation.

Wed Oct 13 02:17:05 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* array.c (rb_ary_plus): remove recursion.

	* array.c (rb_ary_sort_bang): detect modify attempt.

Wed Oct 13 02:17:05 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (block_pass): should copy block to prevent modifications.
	  tag in the structure should be updated from latest prot_tag.

	* eval.c (proc_s_new): tag in struct BLOCK should not point into
	  unused stack.

	* dir.c (dir_s_glob): iterate over generated matching filenames if
	  the block is given to the method.

	* array.c (rb_ary_at): new methods; at, first, last.

	* hash.c (rb_hash_fetch): raises exception unless the default
	  value is supplied.

	* hash.c (rb_hash_s_create): need not remove nil from value.

	* hash.c (rb_hash_aset): setting value to nil does not remove key
	  anymore.

Tue Oct 12 22:29:04 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_read): length may be 0 or negative.

Tue Oct 12 13:26:27 1999  Jun-ichiro itojun Hagino  <itojun@@itojun.org>

	* signal.c (posix_signal): RETSIGTYPE may be void.

Tue Oct 12 03:28:03 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* array.c (rb_ary_delete_at): allows negative position.

Mon Oct 11 17:42:25 1999  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (rb_intern): should generate distinct ID_ATTRSET symbols
	  for the name with multiple `='s at the end.

	* Makefile.in (CPPFLAGS): separate cpp flags from CFLAGS.

Mon Oct 11 07:27:05 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): should not execute the `else' clause on the
	  case the exceptions are handled by the `rescue' clause.

	* signal.c (Init_signal): ignore SIGPIPE by default.

Wed Oct  6 17:13:19 1999  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ruby.c (addpath): rubylib_mangled_path() modified.

Mon Oct  4 12:42:32 1999  Kazuhiko Izawa  <izawa@@erec.che.tohoku.ac.jp>

	* pack.c (pack_unpack): % in printf format should be %%.

Mon Oct  4 10:01:40 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_obj_instance_variables): should always return
	  array for all object can have instance variables now.

Mon Oct  4 00:08:34 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (OFF16): need to adjust pointer address to pack/unpack on
	  64bit machines.

Sun Oct 03 03:05:59 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* time.c (time_arg): mktime y2k problem.

Sun Sep 26 16:54:45 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* parse.y (here_document): `\r' handling for here documents.

Wed Sep 22 09:20:11 1999  Masahiro Tomita  <tommy@@tmtm.org>

	* ext/socket/socket.c: SOCKS5 support.

Wed Sep 22 07:33:23 1999  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/session.rb, smtp.rb, pop.rb: 1.0.1

	* lib/net/pop.rb: APOP did not work.

	* lib/net/pop.rb: modify the way to make APOP challenge.

Wed Sep 22 00:35:30 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_include): should return boolean value.

	* regex.c (re_compile_fastmap): wrong comparison with mbc.

	* eval.c (specific_eval): default sourcefile name should be
	  "(eval)" for module_eval etc.

Wed Sep 22 00:06:07 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/Makefile: update rules.

	* io.c (io_fread): should not assign in char, it maybe -1.

Tue Sep 21 23:57:54 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (call_trace_func): should not propagate retval in
	  trace_func. 

Mon Sep 20 21:35:39 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/win32.c (myselect): assume non socket files are always
	  readable/writable.

Mon Sep 20 01:08:02 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_fread): should not block other threads.

	* io.c (rb_io_synchronized): renamed from rb_io_unbuffered(); do
	  not call setbuf(NULL) anymore.

Sat Sep 18 13:45:43 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* stable version 1.4.2 released.

Fri Sep 17 23:24:17 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* eval.c (rb_f_missing): dumped core if no argument given.

Fri Sep 17 23:21:06 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/win32.c (myselect): translate WSAEINTR, WSAENOTSOCK into
	  UNIX errno constants.

Fri Sep 17 00:52:27 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (arg): assignable() may return 0.

Thu Sep 16 20:46:23 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* eval.c (rb_eval): was doubly evaluating the return expression.

Thu Sep 16 18:40:08 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* stable version 1.4.1 released.

Thu Sep 16 11:33:22 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* string.c (rb_str_match): should return nil.

Wed Sep 15 22:46:37 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (rb_reg_s_quote): should quote `-' too.

Tue Sep 14 15:23:22 1999  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (yylex): no need to ignore `\r' here.

	* parse.y (nextc): strip `\r' from text.

	* parse.y (nextc): support `__END__\r\n' type terminator.

Mon Sep 13 10:49:19 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* eval.c (rb_eval): needless RTEST(ruby_verbose) removed.

Mon Sep 13 09:10:11 1999  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/session.rb, smtp.rb, pop.rb: 1.0.0

Wed Sep  8 11:37:38 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* time.c (make_time_t): bit more strict comparison.

Tue Sep  7 00:50:56 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* range.c (range_each): use rb_str_upto() for strings.

	* string.c (rb_str_upto): set upper limit by comparing curr <= end.

	* range.c (range_each): should check equality to handle magic
	  increment.

Mon Sep  6 22:43:33 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): break/next/redo available within -n/-p loop.

Fri Sep  3 11:14:31 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* compar.c (cmp_equal): should not raise exception; protect by
	  rb_rescue().

Thu Sep  2 05:23:05 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* file.c (rb_file_s_expand_path): use dirsep, instead of character
	  literal '/'.

	* file.c (rb_file_s_expand_path): reduce multiple dirsep at the top.

Wed Sep  1 00:28:27 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_call): call rb_undefined() if a method appears not to
	  be exist explicitly from cache.

	* eval.c (rb_method_boundp): check method cache before calling
	  rb_get_method_body().

	* eval.c (rb_get_method_body): store method non-existence
	  information in the cache.

	* random.c (rb_f_srand): use getpid(2) to generate seed.

	* regex.c (re_match): do not apply partial mbc match for
	  charset_not.

	* regex.c (re_compile_pattern): put extended literal prefix (0xff)
	  only before numeric literals, not before all >0x80 char.

	* regex.c (re_compile_pattern): put numeric literal in extended
	  charset region, not normal charset bits.

	* regex.c (re_compile_fastmap): calculate fastmap for charset and
	  charset_not to treat numeric literal (e.g. \246) specially.

Fri Aug 28 17:32:55 1999  Yasuhiro Fukuma  <yasuf@@big.or.jp>

	* eval.c (rb_eval): should set return value (nil) explicitly if a
	  value is omitted for return statement.

Sun Aug 26 20:26:40 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* ext/readline/readline.c: restore terminal mode
	  even if readline() interrupted.

	* ext/readline/readline.c: returned string need to
	  be tainted.

	* ext/readline/readline.c: fixed memory leak.

	* ext/readline/readline.c: allow negative index.

	* ext/readline/readline.c: added Readline::HISTORY.size
	  same as Readline::HISTORY.length

	* ext/readline/readline.c: allow conditional parsing
	  of the ~/.inputrc file by `$if Ruby'.

	* ext/readline/extconf.rb: check whether the
	  libreadline has the variable `rl_completion_append_character'
	  (this feature was implemented from GNU readline 2.1).

Thu Aug 26 15:06:11 1999  Masaki Fukushima  <fukusima@@goto.info.waseda.ac.jp>

	* gc.c (rb_gc): local variables may be placed beyond stack_end, so
	  use an address from alloca(1) on non C_ALLOCA platforms.

Thu Aug 26 01:24:17 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (rb_f_sprintf): "%%" is legal, but "%3.14%" is not.

Mon Aug 23 00:00:54 1999  Tsukada Takuya  <tsukada@@fminn.nagano.nagano.jp>

	* regex.c (re_compile_fastmap): wrong macro caused memory leak.

Sat Aug 21 11:30:51 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (ADJ): should not adjust addresses to data on heap.

Fri Aug 20 20:50:58 1999  Kenji Nagasawa  <kenn@@hma.att.ne.jp>

	* defines.h (PATH_SEP): path separator is ";" for OS/2.

Thu Aug 19 10:50:43 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* gc.c (rb_gc): add volatile to avoid GCC optimize bug(?).

Wed Aug 18 23:48:10 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* due to disk trouble, some change records were lost.  several
	  modification made to eval.c, gc.c, io.c, pack.c,
	  ext/extmk.rb.in, and lib/mkmf.rb.

Fri Aug 13 15:41:39 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* stable version 1.4.0 released.

Fri Aug 13 03:16:07 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (argf_forward): since $stdout may be non-IO, ARGF.file is
	  not guaranteed to be IO.  check and forwarding added to every ARGF
	  method.

	* io.c (set_outfile): $stdout/$stderr may not be IO now.

	* io.c (set_stdin): $stdin may not be IO now.

	* range.c (rb_range_beg_len): round `end' to length as documented.

	* io.c (Init_IO): preserve original stdin/stdout/stderr.

Thu Aug 12 13:44:33 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (Init_load): require receives 1 argument.

	* eval.c (frame_dup): should clear tmp to avoid dangling
	  references.

Wed Aug 11 13:33:13 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* eval.c (rb_eval): no automatic aggregate initialization.

	* eval.c (module_setup): ditto.

Wed Aug 11 18:18:41 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* eval.c (yield_under_i): automatic aggregate initialization is an
	  ANSI feature.

Wed Aug 11 10:10:02 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): parse `[].length==0' as `([].length)==0', not
	  `([].length=)=0'

	* parse.y (yylex): parse `[].length!=0' as `([].length)!=0', not
	  `([].length!)=0'

	* parse.y (peek): peek-in lexical buffer.

Wed Aug 11 00:34:05 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): bug on backward jump adjustment concerning
	  stop_paren.

Tue Aug 10 14:54:25 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/nkf/nkf.c (rb_nkf_guess): binary detection was wrong.

Tue Aug 10 00:07:36 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_clone): should use CLONESETUP().

Mon Aug  9 23:57:07 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.h (CLONESETUP): should have copied generic instance
	  variables too.

Mon Aug  9 10:46:54 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/extconf.rb: add check for <arpa/nameser.h> and
	  <resolv.h>.

Sat Aug  7 13:19:06 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* numeric.c (flo_cmp): comparing NaN should not return value.
	  raises FloatDomainError.

Sat Aug  7 03:09:08 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (blk_free): free copied frames too.

	* eval.c (frame_dup): should copy previous frames from stack to
	  heap to preserve frame information.

Fri Aug  6 15:01:07 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.3.7 - version 1.4 beta

	* ext/socket/socket.c (s_recv): UDPsocket#recvfrom now returns
	  IPsocket#addr information.

	* array.c (rb_ary_subary): ary[-3,3] should not return nil.

Thu Aug  5 10:58:01 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_mark): protect old ruby_frame from GC during it
	  replaced by eval().

	* eval.c (eval): do not modify frame.prev; binding should preserve
	  information about calling() too.

	* eval.c (rb_yield_0): no arity check for mere yield; but only for
	  Proc#call.

Tue Aug  3 22:07:13 1999  Kazuhiro HIWADA  <hiwada@@kuee.kyoto-u.ac.jp>

	* object.c (rb_mod_clone): should check if iv_tbl, m_tbl are
	  initialized.

Tue Aug  3 19:03:02 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (rb_any_cmp): use rb_with_disable_interrupt() to ensure
	  clearance of rb_prohibit_interrupt even on failure.

	* eval.c (rb_with_disable_interrupt): new function added.

Sat Jul 31 23:23:44 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_create_0): set THREAD_RAISED flag on thread
	  termination by exception.

	* eval.c (rb_thread_join): `$!' may not be nil for the threads
	  created in rescue clause.

	* eval.c (rb_thread_status): ditto.

	* eval.c (rb_thread_join): should re-raise exception for already
	  dead threads too.

Fri Jul 30 17:56:54 1999  GOTO Kentaro  <gotoken@@math.sci.hokudai.ac.jp>

	* object.c (rb_mod_ge): wrong comparison.

Fri Jul 30 12:15:44 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/tcltklib/extconf.rb: win32 support.

	* lib/mkmf.rb: use append_library().

	* ext/extmk.rb.in: ditto.

Fri Jul 30 02:11:48 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_delete): should return nil for deleting non
	  existing item.

	* io.c (rb_io_close): call rb_sys_wait() on explicit close.

	* io.c (rb_io_fptr_close): do not call rb_sys_wait() on finalize.

	* eval.c (yield_under_i): cbase context should be maintained for
	  Module#module_eval().  suggested by <inaba@@st.rim.or.jp>.

Wed Jul 28 01:18:28 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* Makefile.in: add -I$(hdrdir)/lib to install using ftools.

	* util.c: use HAVE_FCNTL_H, not HAVE_FCNTL

Wed Jul 28 18:24:45 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.3.6 - version 1.4 alpha

Tue Jul 27 09:38:08 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* eval.c (rb_eval): reduce recursive rb_eval() calls by
	  NODE_BLOCKs. 

Tue Jul 27 01:20:40 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* file.c (rb_file_s_expand_path): drive letter patch.

Mon Jul 26 02:36:31 1999  Shugo Maeda  <shugo@@netlab.co.jp>

	* eval.c (rb_load): should clear ruby_nerr.

	* eval.c (rb_thread_join): oldbt should not be empty to unshift.

Sun Jul 25 12:09:16 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* dir.c (push_braces): should treat nested braces.

Fri Jul 23 02:49:49 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (rb_hash_clear): dummy argument added; suggested by
	  <eguchi@@shizuokanet.ne.jp>.  thanks.

Thu Jul 22 19:37:22 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_join): get_backtrace() may return Qnil.
	  typecheck added.

Tue Jul 20 14:36:43 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* range.c (range_each): do not treat String specially (for future
	  override).

Tue Jul 20 02:28:34 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_gets): $_ should be nil, when get returns nil.

	* io.c (rb_f_gets): ditto.

Mon Jul 19 17:13:09 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_fastmap): should continue fastmap compile
	  for anychar_repeat, for it's repeat anyway.

Mon Jul 26 13:33:45 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* lib/jcode.rb: replaced by faster code.

Mon Jul 19 01:57:28 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/mkmf.rb: no longer use install program.

	* ext/extmk.rb.in: use miniruby to install programs.

Sat Jul 17 00:06:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (ipaddr): don't do reverse lookup if
	  attribute do_not_reverse_lookup is set for socket classes.
	  Experimental.  Note this is a global attribute.

Fri Jul 16 22:18:29 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_eof): use feof() to check EOF already met.

	* io.c (read_all): should return nil at EOF.

Fri Jul 16 13:39:42 1999  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/telnet.rb: version 0.231.

Fri Jul 16 10:58:22 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* regex.c (re_match): debug print removed.

Fri Jul 16 09:58:15 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* many files: clean up unused variables found by gcc -Wall.

	* lib/mkmf.rb: better cygwin support etc.

	* ext/extmk.rb.in: ditto.

	* instruby.rb: ditto.

Fri Jul 16 01:37:50 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* string.c (rb_str_squeeze_bang): the type of local variable `c'
	  should be int, not char.

	* string.c (rb_str_reverse): should always return copy.

Thu Jul 15 23:25:57 1999  NAKAMURA Hiroshi  <nakahiro@@sarion.co.jp>

	* lib/debug.rb: better display & frame treatment.

Thu Jul 15 21:16:41 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_each): returns self for normal termination;
	  returns nil for break.

	* string.c: non bang methods (e.g. String#sub) should always
	  return copy of the receiver.

Thu Jul 15 21:09:15 1999  Masaki Fukushima  <fukusima@@goto.info.waseda.ac.jp>

	* eval.c (find_file): do not add empty string to the path.

	* configure.in (with-search-path): should not add empty string if
	  the option is not supplied.

Thu Jul 15 17:49:08 1999  Ryo HAYASAKA  <hayasaka@@univ21.u-aizu.ac.jp>

	* ext/tcltklib/tcltklib.c: move `#include "ruby.h"' forward.

Thu Jul 15 16:54:16 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.3.5 - version 1.4 alpha

Wed Jul 14 23:45:33 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* eval.c (ruby_init): initialize for the first time only.

Tue Jul 13 00:15:19 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (rb_hash_index): re-defined; method to retrieve a key
	  from the value.

	* hash.c (Init_Hash): member? should be re-defined for Hash.

Tue Jul 12 13:54:51 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* io.c (rb_file_sysopen): wrong number of argument.

Mon Jul 12 11:52:35 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_f_missing): class name included in message.

	* eval.c (print_undef): better error message.

Sun Jul 11 05:36:17 1999  NAKAMURA, Hiroshi  <nakahiro@@sarion.co.jp>

	* lib/debug.rb: patch to show proper position.

Fri Jul  9 23:56:14 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* dln.c (dln_find_1): path conv. moved to conv_to_posix_path.

	* dln.c (conv_to_posix_path): path conv. should be done.

Fri Jul  9 10:26:47 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* random.c (RANDOM_NUMBER): should place parentheses.

Fri Jul  8 11:00:51 1999  Shugo Maeda  <shugo@@netlab.co.jp>

	* numeric.c (fix_div): division may be out of fixnum range.

	* bignum.c (bigdivmod): proper sign calculation to result.

Wed Jul  7 18:27:41 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* st.c (st_delete_safe): was modifying wrong slot.

Mon Jul  5 13:17:46 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (rb_gc_call_finalizer_at_exit): close all files at exit.

Fri Jul  2 18:00:21 1999  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/Mail/README: Mail-0.3.0 added to the distribution.

Fri Jul  2 01:45:32 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_fastmap): avoid allocation of register
	  variables for each invocation of re_match().  Suggested by
	  Zasukhin Ruslan <ruslan@@paradigmasoft.com>.  Thanks.

Tue Jun 29 20:39:24 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* ext/tk/lib/tk.rb (TkVariable): bug fix; should value type check
	  be added?

	* string.c (rb_str_each_line): a bug in paragraph mode.

	* ruby.c (load_file): shifted too much to skip #!.

Tue Jun 29 06:50:21 1999  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/CGI.rb: 0.30 - cleanup release, incompatible.

	* lib/telnet.rb: 0.22 - timeout added.

Tue Jun 29 10:49:25 1999  SHIROYAMA Takayuki  <psi@@fortune.nest.or.jp>

	* configure.in: better Rhapsody support.

	* lib/mkmf.rb: Rhapsody/NEXTSTEP support.

Tue Jun 29 01:42:13 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/pty/pty.c (chld_changed): should use POSIX.1 style wait.

Mon Jun 28 21:07:36 1999  KIMURA Koichi  <kbk@@kt.rim.or.jp>

	* ext/extmk.rb.nt: wrong result for have_library().

Mon Jun 28 15:24:05 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* missing/isinf.c: OSF/1 raises SIGFPE on one()/zero().

	* regex.c (re_search): should search til EOS, for patterns may
	  match beyond the end of range.

Mon Jun 28 12:49:12 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_f_select): should not accept Time objects as an
	  argument for it is time interval.

	* process.c (rb_f_sleep): ditto.

	* file.c (test_s): should return nil for false condition.

Mon Jun 28 12:23:52 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* bignum.c (rb_dbl2big): typo.

	* file.c (rb_f_test): ditto.

	* string.c (rb_str_crypt): wrong message.

Sun Jun 27 19:50:11 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* eval.c (rb_f_exit): should have treat signed integer status, not
	  VALUE.

	* process.c (rb_f_exit_bang): should work like exit().

Sun Jun 27 16:21:32 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* string.c (rb_str_rindex): wrong position to search.

Sat Jun 26 04:05:30 1999  Takaaki Tateishi  <ttate@@jaist.ac.jp>

	* configure.in (configure_args): --with-search-path to specify
	  additional ruby search path.

	* ruby.c (ruby_prog_init): additional search path.

Fri Jun 25 13:09:12 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (pack_unpack): needed to initialize natint.

	* regex.c (re_compile_pattern): add start_paren to avoid too much
	  finalization on maybe_finalize_jump.

Fri Jun 25 13:07:20 1999  Koji Oda  <oda@@bsd1.qnes.nec.co.jp>

	* missing/isinf.c: include "config.h" added.

Fri Jun 25 07:25:05 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* lib/mkmf.rb: initialize $(topdir).

	* ext/extmk.rb.in (install_rb): install lib/*.rb properly.

	* configure.in (linux): specifies -rpath on --enable-shared.

	* configure.in (aix): ruby.imp must reside in $(topdir).

Thu Jun 24 19:11:29 1999  Yoshida Masato  <yoshidam@@yoshidam.net>

	* parse.y (rb_str_extend): multi-byte identifier in expression
	  interpolation in strings.

	* parse.y (yylex): support multi-byte char identifiers.

Thu Jun 24 15:27:13 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (f_arg): check duplicate argument names.

	* gc.c (rb_gc_mark): marking wrong member for NODE_ARGS.

	* string.c (rb_str_rindex): POSITION specifies start point, not
	  end point.

Thu Jun 24 13:00:17 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (print_mbc): wrong boundary.

	* pack.c (uv_to_utf8): raises ArgError for too big value.

Thu Jun 24 11:02:51 1999  Yoshida Masato  <yoshidam@@yoshidam.net>

	* pack.c (uv_to_utf8): mask needed.

Wed Jun 23 21:03:56 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* ruby.h (struct RFile): remove iv_tbl from struct. instance
	  variables are handled as generic ivs.

Wed Jun 23 22:06:26 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* pack.c (utf8_to_uv): pack to 7 bytes sequence.

	* pack.c (uv_to_utf8): wrong boundary.

	* pack.c (pack_unpack): should treat as unsigned long.

Wed Jun 23 15:10:11 1999  Inaba Hiroto  <inaba@@sdd.tokyo-sc.toshiba.co.jp>

	* parse.y (parse_string): failed to parse nested braces.

	* parse.y (parse_regx): nested braces within #{} available.

Wed Jun 23 11:18:38 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (slow_search): wrong shift width for mbcs.

	* eval.c (rb_thread_save_context): should not clear th->locals.

Wed Jun 23 02:06:14 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): UMINUS binds too tight with digits. changed so
	  that -2**2 => -4.

	* parse.y (close_paren): `do' for expr termination now works it
	  used to be.

Wed Jun 22 18:26:42 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* pack.c (pack_pack): should initialize local variable `j'.

Wed Jun 22 15:24:59 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* parse.y (here_document): a bug for multiline heredoc.

Tue Jun 22 15:06:36 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/socket/socket.c (ruby_socket): forgot to return fd
	  explicitly.

Tue Jun 22 13:34:12 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* rubyio.h (MakeOpenFile): should initialize member `iv_tbl'.

Wed Jun 22 10:35:51 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* io.c (rb_io_gets_internal): getc(3) may not set errno on
	  interrupt.

Mon Jun 21 22:39:28 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (call_required_libraries): ruby_sourceline should be
	  cleared before loading libraries.

	* io.c (set_stdin): do not use reopen(), so that we don't need to
	  dup original stdin before assigning $stdin.

Mon Jun 21 18:04:27 1999  Ryo HAYASAKA  <hayasaka@@univ21.u-aizu.ac.jp>

	* ext/dbm/dbm.c: include <cdefs.h> for solaris 2.6.

Mon Jun 21 15:59:47 1999  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/socket/socket.c (ip_addrsetup): forgot to put `else'.

Mon Jun 21 15:38:37 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (fptr_finalize): remove rb_syswait() invocation to avoid
	  wait4(2) within GC.  rb_syswait() moved to rb_io_fptr_close().

Mon Jun 21 12:05:59 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* dir.c (dir_s_glob): remove MAXPATHLEN restriction.

	* ext/md5/md5init.c (md5_hexdigest): should have used "%02x".

Sun Jun 20 19:50:38 1999  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* string.c (rb_str_each_line): should have checked string
	  boundary.

Sat Jun 19 22:24:12 1999  Kenji Nagasawa  <kenn@@hma.att.ne.jp>

	* OS/2 patch improved.

Fri Jun 18 08:30:17 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (r_byte): add data length check.

	* ext/tcltklib/tcltklib.c (_timer_for_tcl): was doing busy-wait.

Tue Jun 15 10:01:21 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* configure.in: remove trailing slash from interpreter embedded
	  shared library path.

	* configure.in (INSTALL_DLLIB): install shared lib with 0555.

	* instruby.rb: changed mode for shared library into 0555.

Fri Jun 11 23:27:00 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* ext/etc/etc.c (etc_passwd): should return nil, not exception for
	  call after last passwd entry.

Fri Jun 11 15:21:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (rb_gc_mark_locations): add safety margin 1.

	* eval.c (ruby_run): should protect toplevel node tree.

	* ext/etc/etc.c (etc_group): dumps core if there's no more group.

Fri Jun 11 01:50:25 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (ruby_run): Init_stack() was called too late; local
	  variables happened to be higher (or lower) than stack_start.

Thu Jun 10 16:41:48 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c: do not call `initialize' for IO objects.  So with Array,
	  Hash, Range, and Time objects.

	* ext/curses/curses.c (curses_getch): made thread aware using
	  rb_read_check().

	* ext/curses/curses.c (window_getch): ditto.

	* ext/curses/curses.c (curses_getstr): made (partially) thread
	  aware using rb_read_check().

	* ext/curses/curses.c (window_getstr): ditto.

	* io.c (rb_read_check): new function to help making something
	  (like extension libraries) thread aware.

	* eval.c (is_defined): `defined? super' should be true even for
	  private superclass methods.

Fri Jun 10 13:42:10 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* pack.c (pack_pack): template `Z' should be allowed.

Wed Jun  9 13:26:38 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_loading): modified to avoid nested race
	  condition of require().

	* ext/tcltklib/tcltklib.c (ip_invoke): queue invocation on non
	  main threads.

	* ext/tcltklib/tcltklib.c (lib_mainloop): flush invocation
	  queues periodically.

	* version.c (ruby_show_version): now print the message to stdout.

	* version.c (ruby_show_copyright): ditto.

Tue Jun  8 00:00:34 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (pack_unpack): append sentinel (NUL) to the string.

	* ext/md5/md5init.c (md5_hexdigest): new method to obtain
	  printable hash string.

	* ext/md5/md5init.c (md5_update): should return self.

	* pack.c (pack_pack): undocumented template 'U' for UTF8.

	* pack.c (pack_unpack): ditto.

	* marshal.c (r_byte): should replace getc() with rb_getc().

	* io.c (rb_getc): getc() replacement uses READ_DATA_PENDING() and
	  rb_thread_wait_fd().

Mon Jun  7 23:23:38 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (rb_mod_clone): should call CLOSESETUP().

	* eval.c (bind_clone): should call CLONESETUP() for new clone.

Sat Jun  5 10:32:40 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_oct): binary (e.g. 0b10111) support.

	* variable.c (rb_const_set): raise warning, not exception.

	* parse.y (yycompile): initialize parser internal variables.

	* parse.y (close_paren): set lex_state to EXPR_PAREN after closing
	  parenthesis.

	* parse.y (yylex): returns kDO for `do' right after method_call.

Thu Jun  3 11:05:30 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* regex.c (read_backslash): should decode \b within class.

Thu Jun  3 01:06:18 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* dln.c (dln_load): AIX improvement (aix_findmain removed).

Wed Jun  2 00:41:31 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (pack_unpack): new undocumented template Z which strips
	  stuff after first null.

	* pack.c (pack_pack): should preserve specified length of the
	  resulting string.

Tue Jun  1 15:29:33 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (ruby_socket): retry after GC, if socket(2)
	  failed on EMFILE or ENFILE.

	* ext/socket/socket.c (sock_s_socketpair): ditto.

	* eval.c (module_setup): need to add PUSH_VAR/POP_VAR to clear
	  dyna vars link list.

	* version.h (RUBY_RELEASE_CODE): integer macro constant for source
	  version detection.

Sun May 30 22:19:12 1999  Kenji Nagasawa  <kenn@@tcp-ip.or.jp>

	* ext/socket/socket.c: emx/gcc 0.9d now fixes things about
	  AF_UNIX.

	* process.c: OS/2 EMX kludge.

	* Makefile.in (strncasecmp.o): added dependency.

Mon May 31 16:06:28 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.3.4 - preliminary release for 1.4

Mon May 31 15:57:41 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_fptr_close): close on IO which main_thread is
	  waiting cause serious exception, that vanishes the actual fd
	  closing.  Invocation of rb_thread_fd_close() is deferred
	  a little.

Sat May 29 18:27:13 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* regex.c (re_match): stack boundary check needed.

Sat May 29 12:27:00 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/tcltklib/tcltklib.c (ip_invoke): proper ref count management
	  to avoid leak.  I HATE REF COUNTING!!

	* eval.c (ruby_run): moved ruby_require_libraries() to handle `-r'
	  from ruby_options() to avoid stack corruption for threads
	  created in libraries.

Sat May 29 02:22:12 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_yield_0): when `for' appeared in blocks, it
	  introduced new scope for local variables.

Fri May 28 17:16:49 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_squeeze_bang): squeeze AND of the arguments.
	  UNDOCUMENTED.

	* string.c (rb_str_count): new UNDOCUMENTED method.

	* string.c (rb_str_delete_bang): delete AND of the arg ranges.
	  UNDOCUMENTED FEATURE for 1.3.x.

	* ext/socket/socket.c (setipaddr): re-wrote using ip_addrsetup().

	* ext/socket/socket.c (ip_addrsetup): decode symbolic address
	  <broadcast>.

Thu May 27 12:27:42 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (tr_trans): should handle NUL (\0) within strings.

Tue May 25 16:45:11 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_f_syscall): syscall may return values other than zero
	  on success.

	* regex.c (re_match): handle empty loop properly (hopefully).

	* regex.c (re_match): remove empty group check, because it does
	  not help non-grouping parentheses (?:..).

	* regex.c (re_compile_fastmap): treating try_next, finalize_push
	  wrong way.

	* regex.c: remove some obsolete functions such as
	  group_match_null_string_p().

Mon May 24 14:47:54 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (read_backslash): read backslash by regex.

Sun May 23 19:44:58 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/pty/pty.c (getDevice): portability patch.

Fri May 21 23:01:26 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/getaddrinfo.c (GET_AI): should set error code.

Thu May 20 03:43:44 1999  Jun-ichiro itojun Hagino  <itojun@@itojun.org>

	* ext/socket/socket.c: you should use sockaddr_storage to handle
	  IPv6 addresses.

	* ext/socket/getaddrinfo.c (getaddrinfo): prevent retrieving
	  AF_INET6 address if hints.ai_flags == AI_PASSIVE.

Wed May 19 12:27:07 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (exec_end_proc): should protect exceptions.

	* gc.c (run_final): ditto.

	* parse.y (f_rest_arg): allow just * for rest arg.

	* parse.y (mlhs_basic): allow * without formal argument.

	* regex.c (re_match): the variable `part' should be initialized.

Tue May 18 15:25:45 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): a bug in range adjustment.

Tue May 18 11:35:59 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* dln.c (conv_to_posix_path): path_len argument added.

Mon May 17 12:26:31 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (fix_rev): should treat Fixnum as signed long.

	* eval.c (massign): add strict number check for yield (and call).

	* eval.c (proc_arity): new method to return number of arguments.

	* eval.c (method_arity): new method to return number of arguments.

	* parse.y (read_escape): char may be unsigned.

	* string.c (rb_str_succ): ditto.

	* string.c (tr_trans): ditto.

	* object.c (Init_Object): methods `&', `|', `^' are added to nil.

	* range.c (rb_range_beg_len): it should be OK for [0..-len-1].

	* regex.c (re_search): search for byte literal within mbcs.

	* regex.c (is_in_list): parsh

	* regex.c (re_compile_fastmap): should have not alter the loop
	  variable `j' if TRASLATE_P().

	* regex.c (re_compile_pattern): escaped characters should be read
	  by PATFETCH_RAW(c).

Sat May 15 11:23:51 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): endline2 (\Z) should not match at the point
	  between a newline and end-of-line, like endline ($).

	* class.c (include_class_new): should initialize iv_tbl to share
	  between module and iclass.

Fri May 14 08:50:27 1999  Akira Endo  <akendo@@t3.rim.or.jp>

	* regex.c (re_compile_fastmap): it should be k != 0 to skip.

Fri May 14 12:46:56 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_load): a bug in old marshal format support.

	* instruby.rb: make site_ruby directory.

Fri May 14 10:18:02 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* regex.c (re_match): a bug in inline `.*' etc.

Fri May 14 09:58:46 1999  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* ruby.c (addpath): should have specified string length.

Thu May 13 10:40:44 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval_string_wrap): new function.

	* regex.c (re_compile_pattern): POSIX line match should alter
	  behavior for `^' and `$' to begbuf and endbuf2 respectively.

	* ext/pty/pty.c: un-ANSI-fy function arguments.

Wed May 12 14:19:38 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* struct.c (iv_get): in case of inheritance of generated struct
	  class, __member__ and __size__ should also be inherited.
	  Thanks for Pros Yeboah <yeboah@@tu-harburg.de>.

	* io.c (rb_f_gets_internal): should check number of arguments
	  before checking rb_rs == rb_default_rs.  Thanks for Koji Arai
	  <JCA02266@@nifty.ne.jp>.

Tue May 11 08:29:28 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): .?, .+ did not work.

Mon May 10 00:59:33 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/jcode.rb: forgot to squeeze on reverse (complement) case.

	* string.c (tr_squeeze): should not set modify flag to be honest,
	  if the string is not modified.

	* signal.c (Init_signal): SIGTERM should not be handled.

	* regex.c (re_match): seeking for longest match is now optional,
	  which can be set using RE_OPTION_POSIXMATCH.  This satisfies
	  POSIX longest match as much as Emacs's posix-* functions, which
	  are known to be incomplete.

Sun May  9 13:04:01 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/socket.c (sock_s_getaddrinfo): conversion from
	  Fixnums to C integers needed.

Sun May  9 11:51:43 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* range.c (range_eqq): reverse condition.

	* range.c (range_s_new): default should be end inclusive.

Sat May  8 03:27:51 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (thread_connect): replace nasty
	  rb_thread_fd_writable() with rb_thread_select().

Fri May  7 20:49:00 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/getaddrinfo.c (inet_pton): wrong parameter to
	  inet_aton().

	* ext/socket/addrinfo.h (__P): silly cut and paste typo.

Fri May  7 17:03:57 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* dir.c (glob): removed GPL'ed glob.c completely.

Fri May  7 08:17:19 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/sdbm/extconf.rb: sdbm extension added to the distribution.

Fri May  7 01:42:20 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (tcp_s_gethostbyname): avoid using struct
	  sockaddr_storage.

Thu May  6 13:21:41 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_indexes): should not use rb_ary_concat().

Thu May  4 12:34:18 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* parse.y (parse_string): there should be newline escape by
	  backslashes in strings.

	* parse.y (parse_qstring): ditto.

Mon May  3 04:37:20 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* ext/tcltklib/extconf.rb: better search for libX11.

	* range.c (range_s_new): embarrassing =/== typo.

	* re.c (Init_Regexp): failed to set default kcode.

Mon May  3 02:39:55 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* ext/socket/socket.c (open_inet): typo (res and res0).

Tue May  4 02:07:49 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* mkconfig.rb: leave undefined $(VARIABLE) unexpanded in the
	  Config::CONFIG hash table.

Mon May  3 09:37:22 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): expand exactn{n} at compile time.
	  handles stop_paren specially.

	* regex.c (re_compile_pattern): expand x{n} at compile time.

	* regex.c (re_search): posix line match should be checked.

	* regex.c (re_search): a bug in anchor condition.

Fri Apr 30 18:57:41 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.3.3

	* string.c (rb_str_rindex): position should be END point, not
	  START point.

	* re.c (rb_reg_search): pos means end point on reverse now.

	* array.c (rb_ary_s_create): should clear ary->ptr to avoid
	  potential gc crash.

Fri Apr 30 15:24:58 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/addrinfo.h: compatibility hack for ipv4.

	* ext/socket/socket.c: itojun's ipv6 patches applied.

	* ext/socket/extconf.rb: detect ipv6 features based on itojun's
	  ipv6 patches.

	* ext/extmk.rb.in (enable_config): can handle --enable-xxx now.

	* lib/mkmf.rb (enable_config): ditto.

Fri Apr 30 05:22:23 1999  Shugo Maeda  <shugo@@netlab.co.jp>

	* string.c (rb_str_aset): last index should not append.

Thu Apr 29 18:55:31 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* dln.c (conv_to_posix_path): remove const from args.

	* ruby.c (rubylib_mangle): remove Fatal(), the obsolete function.

Tue Apr 27 14:11:45 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (fname): lazy workaround for keywords did not work well.

	* ext/extmk.rb.in: `--with-xxx=yyy' argument configuration.

	* lib/mkmf.rb: ditto.

	* misc/ruby-mode.el: forgot to handle $`.

	* ext/extmk.rb.in: better AIX link support proposed by
	  <komatsu@@sarion.co.jp>.

Mon Apr 26 16:46:59 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/extmk.rb.in: AIX shared library support modified.

	* ext/aix_mksym.rb: ditto.

	* configure.in: ditto.

	* sprintf.c (rb_f_sprintf): should allocate proper sized buffer
	  for float numbers.

Sat Apr 24 00:00:16 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (operation): syntax like `a.[]=(1,2)' is allowed.

Fri Apr 23 23:54:09 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (argf_binmode): binmode method added to ARGF.

Fri Apr 23 13:55:22 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_f_chomp): should assign the result to $_.  or maybe
	  sub/gsub/chop/chomp should NOT assign $_ altogether.

Thu Apr 22 16:50:54 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_callcc): call scope_dup() for all scopes in
	  the interpreter stack.

Tue Apr 20 11:24:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_dump): `#' should be escaped.

Tue Apr 20 02:32:42 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (parse_regx): option /p for posix match added.

	* re.c (rb_reg_desc): did not print options properly.

	* io.c (rb_file_s_open): initialize was called twice.

Mon Apr 19 18:56:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* configure.in (DEFAULT_KCODE): can specify default code for
	  $KCODE by --with-default-kcode=(euc|sjis|utf8|none).

	* regex.c (IS_A_LETTER): a byte sequence shorter than mbc should
	  not match with \w etc.

Mon Apr 19 13:49:11 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (eval): should restore ruby_dyna_vars.

Fri Apr 16 21:40:43 1999  Nobuyoshi Nakada  <gea02117@@nifty.ne.jp>

	* io.c (f_backquote): pipe_open may return nil.

	* io.c (f_open): rb_io_open may return nil.

	* io.c (io_s_foreach): ditto.

	* io.c (io_s_readlines): ditto.

	* io.c (io_defset): wrong message.

Fri Apr 16 15:09:20 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (rb_str2inum): strtoul() returns long, not int.

	* eval.c (rb_load): size of VALUE and ID may be different.

	* util.c (mmprepare): int is too small to cast from pointers.

	* config.guess: avoid 'linux-gnu' for alpha-unknown-linux.

Thu Apr 15 23:46:20 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ruby.c (rubylib_mangle): mangle path by RUBYLIB_PREFIX.

Wed Apr 14 23:52:51 1999  SHIROYAMA Takayuki  <psi@@fortune.nest.or.jp>

	* node.h (NODE_LMASK): should be long to avoid overflow.

Wed Apr 14 13:14:35 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* dln.c: AIX dynamic link.

	* ext/aix_ld.rb: ditto.

Wed Apr 14 12:19:09 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/thread.rb: Queue#{enq,deq} added.

Tue Apr 13 17:43:56 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (rb_hash_s_create): Hash::[] acts more like casting.

Tue Apr 13 00:33:52 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_stdio_set): warning for assignment to the variables
	  $std{in,out,err}.

Mon Apr 12 23:12:32 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_reopen): check for reopening same IO.

Fri Apr  9 17:45:11 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (rb_compile_string): bug for nested eval().

	* regex.c (re_match): should pop non-greedy stack items on
	  failure, after best_regs are fixed.

Thu Apr  8 17:30:40 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (PACK_LENGTH_ADJUST): need to adjust for `*' length.

Tue Apr  6 23:28:44 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (void_check): add void context checks.

Mon Apr  5 12:23:42 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_s_at): should copy gmt-mode.

	* eval.c (eval_node): preserve ruby_eval_tree.

Fri Apr  2 14:00:34 1999  NAKAMURA, Hiroshi  <nakahiro@@sarion.co.jp>

	* lib/debug.rb: wrong command interpreting.

Fri Apr  2 11:46:22 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.3.2

Fri Apr  2 10:40:04 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_s_pipe): forgot to define IO::pipe.

Thu Apr  1 14:40:46 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (assign): modified for rhs change.

	* parse.y (stmt): unparenthesisized method calls can be right hand
	  side expression of the assignment.

Sat Mar 27 22:42:47 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* ext/nkf/nkf.c (rb_nkf_kconv): check size output_ctr before
	  decrement.

Thu Mar 25 09:11:03 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_s_at): preserve gmt-mode for result.

	* parse.y (rb_compile_string): do not use cur_mid, use
	  compile_for_eval instead.

	* st.c (PTR_NOT_EQUAL): wrong logical condition.

Wed Mar 24 13:06:43 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yycompile): should clear cur_mid after compilation.

	* io.c (next_argv): need to check type for ARGV.shift.

	* eval.c (blk_copy_prev): need to preserve outer scope as well as
	  outer frames.

	* parse.y (rb_compile_string): return can appear within eval().

Tue Mar 23 10:15:07 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* configure.in: AC_C_CONST check added.

Tue Mar 23 02:07:35 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_plus): preserve gmt-mode for result.

Mon Mar 22 01:32:37 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): adjust line numbers before expression
	  interpolation within strings.

	* eval.c (rb_eval): defined? returns nil for false condition.

	* numeric.c (num_nonzero_p): returns nil for false condition.

Sat Mar 20 13:07:43 1999  Keiju Ishitsuka  <keiju@@rational.com>

	* lib/weakref.rb: avoid leak for two weakrefs for one object.

Fri Mar 19 11:26:45 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* eval.c (ruby_run): needed to eval END{} on exit.

	* eval.c (rb_exit): ditto.

Fri Mar 19 02:17:27 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* signal.c (Init_signal): handles terminating signals HUP, TERM,
	  QUIT, PIPE, etc.

Thu Mar 18 15:47:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (rb_big_and): bug in sign calculation.

	* bignum.c (rb_big_or): ditto.

	* io.c (rb_f_select): forgot to use to_io to retrieve IO, after
	  calling select(2).

Tue Mar 16 19:54:31 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/extmk.rb.in: static linking cause infinite make loop.

Tue Mar 16 18:50:04 1999  Yoshida Masato  <yoshidam@@yoshidam.net>

	* ext/socket/socket.c (tcp_s_gethostbyname): typo, not NUM2INT(),
	  but INT2NUM().

	* ext/socket/socket.c (mkhostent): ditto.

Tue Mar 16 12:31:44 1999  Ryo HAYASAKA  <hayasaka@@cheer.u-aizu.ac.jp>

	* file.c (utime_internal): suppress warning by const.

	* time.c (time_gmtime): ditto.

Tue Mar 16 10:23:05 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_clone): Time object can be cloned.

Tue Mar 16 03:13:10 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* ruby.c (load_file): argv[argc] should be NULL.

Mon Mar 15 22:12:08 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* sprintf.c (rb_f_sprintf): typo in arg_num check at exit.

Mon Mar 15 16:42:22 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_dup): dup2 should copy class too.

Mon Mar 15 15:12:53 1999  Yasuhiro Fukuma  <yasuf@@big.or.jp>

	* lib/mkmf.rb: install program relative path check.

Mon Mar 15 14:05:25 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (rb_reg_s_new): 2nd argument is now option.
	  Regexp::EXTENDED can be specified.

Fri Mar 12 10:47:49 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_index): str.index("") should always match at
	  offset point.

	* string.c (rb_str_upto): can specify end point exclusion.

	* string.c (rb_str_index): negative offset.

	* regex.c (re_match): begline should not match at the point
	  between a newline and end-of-string.  endline neither.

	* regex.c (re_compile_pattern): context_indep_anchors .

	* parse.y (parse_regx): need not to push backslashes before
	  escaped characters.

	* eval.c (rb_thread_join): re-raises exception within target.

Fri Mar 12 01:09:36 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* ext/readline/readline.c (readline_s_vi_editing_mode): wrong
	  number of arguments.

Fri Mar 12 02:12:50 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (PACK_ITEM_ADJUST): "a".unpack("C3") => [97, nil, nil]

Thu Mar 11 18:23:50 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* ext/socket/socket.c (Init_socket): UDPsocket was omitted.

Thu Mar 11 16:43:30 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (PACK_LENGTH_ADJUST): push fixed number of items per
	  template to result array.

	* pack.c (pack_unpack): I/N/C etc. push nil in the array for "".

Tue Mar  9 00:19:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (ruby_unsetenv): use ruby_setenv(name, 0).

	* hash.c (env_delete): ditto.

	* string.c (rb_str_upto): do not check `beg<end' to generate
	  strings for the pattern like "a".upto("#a").

	* range.c (range_each): treat strings as special case.

	* range.c (range_each): no longer use upto for generic cases.

Sun Mar  7 14:21:32 1999  IKARASHI Akira  <ikarashi@@itlb.te.noda.sut.ac.jp>

	* string.c (rb_str_index): wrong end point calculation.

Sat Mar  6 02:19:12 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (match_index): MatchingData#index(n) added.

	* array.c (rb_ary_subseq): ary[n..-1] returns an sub-array unless
	  n is too small negative index.

	* re.c (rb_reg_match_method): Regexp#match(str) added.

	* array.c (rb_ary_indexes): understands ranges as indexes.

	* re.c (match_size): MatchingData#size added.

Fri Mar  5 01:04:57 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_fill): modified for range.

	* array.c (rb_ary_aset): a[n..m] revisited.

Thu Mar  4 14:23:29 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_subseq): a[n..m] revisited.

	* parse.y (method_call): allow Const::method{}.

	* array.c (rb_ary_replace_method): should replace original array.

Thu Mar  4 02:30:22 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* configure.in: remove --disable-thread, thread feature is no
	  longer optional.

Thu Mar  4 00:32:17 1999  Yasuhiro Fukuma  <yasuf@@big.or.jp>

	* parse.y (read_escape): wrong arguments for scan_oct,scan_hex.

Wed Mar  3 11:51:53 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (Init_socket): rename class names as
	  TCPsocket -> TCPSocket etc.

Tue Mar  2 19:46:42 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* configure.in (LDSHARED): use gcc -Wl,-G for solaris with gcc.

Tue Mar  2 17:04:19 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): backslashes do not concatenate comment lines
	  anymore.

Mon Mar  1 14:05:12 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_call0): adjust argv for optional arguments.  super
	  without arguments emit superclass method with the value from
	  optional arguments.  enabled as experiment.

Sun Feb 28 14:04:07 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* parse.y (nextc): backslash at the eof cause infinite loop

Sun Feb 28 11:01:26 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* time.c (make_time_t): month range check added.

Sat Feb 27 02:36:05 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (Init_Regexp): add escape as alias of quote.

	* re.c (rb_reg_s_quote): char-code can be specified now.

Fri Feb 26 18:45:36 1999  Yasuhiro Fukuma  <yasuf@@big.or.jp>

	* eval.c (error_print): bug for error message with newlines.

Fri Feb 26 12:00:04 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (make_time_t): future check modified to allow 1969-12-31
	  at certain timezone.

	* time.c (time_arg): year >= 1000 should be past.

	* version.c (Init_version): constant RELEASE_DATE added.

Fri Feb 26 01:08:30 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_substr): returns nil for out-of-range access.

	* array.c (rb_ary_subseq): returns nil for out-of-range access.

	* array.c (rb_ary_store): negative index message has changed.

	* string.c (rb_str_aset): reallocation needed.

	* string.c (rb_str_aset): allow char append to the string.

Thu Feb 25 23:30:17 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* time.c (time_load): tm_year should be packed in 17 bits, not 18.

Thu Feb 25 12:50:25 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* missing/dup2.c: replaced by public domain version.

	* time.c (make_time_t): add `future check' in loops.

	* object.c (rb_num2dbl): forbid implicit conversion from nil, or
	  strings.  thus `Time.now + str' should raise error.

	* object.c (rb_Float): convert nil into 0.0.

	* object.c (rb_Integer): conversion method improved.

Thu Feb 25 03:27:50 1999  Shugo Maeda  <shugo@@netlab.co.jp>

	* eval.c (rb_call): should handle T_ICLASS properly.

Thu Feb 25 00:04:00 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* error.c (Init_Exception): global function Exception() removed.

	* variable.c (rb_class2name): returns "nil"/"true"/"false" for them.

	* time.c (time_dump): time marshaling format compressed size from
	  11 bytes to 8 bytes.  thanx to tadf@@kt.rim.or.jp.

	* eval.c (rb_obj_call_init): should specify arguments explicitly.

Wed Feb 24 15:43:28 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): comment concatenation requires preceding space
	  before backslash at the end of line.

	* io.c (rb_f_pipe): global pipe is obsolete now.

	* object.c (Init_Object): remove true.to_i, false.to_i.

Tue Feb 23 14:21:41 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): warn if identifier! immediately followed by `='.

Tue Feb 23 12:32:41 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* eval.c (rb_load): tilde expansion moved to find_file.

	* eval.c (find_file): tilde expansion added.

Tue Feb 23 10:50:20 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (require_method): require can handle multiple fnames.

	* hash.c (rb_hash_foreach_iter): hash key may be nil.

Mon Feb 22 17:44:02 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): should not pop failure point on success for
	  non-greedy matches.

	* io.c (Init_IO): remove global_functions getc, readchar, ungetc,
	  seek, tell, rewind.

Sat Feb 20 22:54:26 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (rb_num2long): no implicit conversion from boolean.

Sat Feb 20 09:58:42 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* numeric.c (flo_to_s): portable Infinity and NaN support.

Sat Feb 20 07:13:31 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* io.c (rb_file_sysopen): forgot to initialize a local variable.

Fri Feb 19 23:05:07 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_subseq): range check changed.

	* marshal.c: increment MARSHAL_MINOR for Time format change.

	* time.c (time_old_load): support old marshal format.

	* time.c (time_load): changed for new format Y/M/D/h/m/s/usec.

	* time.c (time_dump): marshal dump format has changed.

Fri Feb 19 00:25:57 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_arg): should reject "sep\0" and such.

	* time.c (time_plus): Time#+ should not receive Time object
	  operand.

	* string.c (rb_str_substr): negative length raises exception now.

	* array.c (beg_len): if end == -1, it points end of the array.

	* array.c (rb_ary_subseq): negative length raises exception now.

Thu Feb 18 20:57:04 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* time.c (rb_strftime): strftime() may return 0 on success too.

	* time.c (time_strftime): `\0' within format string should not be
	  omitted in the result.

	* time.c (rb_strftime): zero length format.

	* time.c (time_to_a): yday start with 1 now.

	* time.c (time_zone): support for long timezone name.

	* time.c (time_yday): yday start with 1 now.

	* time.c (time_minus): minus calculation was wrong.

	* time.c (time_minus): sec, usec should be at least `long', maybe
	  they should be `time_t'.

	* time.c (time_plus): addition with float was wrong.

	* time.c (time_to_s): support for long timezone name.

	* time.c (time_gm_or_local): too far future check moved.

	* time.c (time_arg): treat 2 digit year as 69-99 => 1969-1999,
	  00-68 => 2000-2068

Thu Feb 18 03:56:47 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* missing/fnmatch.c: moved to missing directory.

Wed Feb 17 16:22:26 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* struct.c (rb_struct_alloc): actual initialization now be done in
	  `initialize'.

Wed Feb 17 09:47:15 1999  okabe katsuyuki  <hgc02147@@nifty.ne.jp>

	* regex.c (re_search): use mbclen() instead of ismbchar().

	* re.c (rb_reg_s_quote): should handle mbchars properly.

Wed Feb 17 01:25:26 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): stop comment concatenation by backslash follows
	  after >= 0x80 char.  may cause problem with Latin chars.

	* eval.c (error_print): exception in rb_obj_as_string() caused
	  SEGV. protect it by PUSH_TAG/POP_TAG.

	* error.c (exc_exception): `Exception#exception' should return self.

Wed Feb 17 01:12:22 1999  Hirotaka Ichikawa  <hirotaka.ichikawa@@tosmec.toshiba.co.jp>

	* configure.in: BeOS patch.

Tue Feb 16 14:25:00 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): should reallocate mbc space for
	  character class unless current_mbctype is ASCII.

Mon Feb 15 15:48:30 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* configure.in: specify `-Wl,-E' only for GNU ld.

Mon Feb 15 11:43:22 1999  GOTO Kentaro  <gotoken@@math.sci.hokudai.ac.jp>

	* array.c (rb_inspecting_p): should return Qfalse.

Sun Feb 14 22:36:40 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* sprintf.c (rb_f_sprintf): `%G' was omitted.

Sun Feb 14 12:47:48 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* numeric.c (Init_Numeric): allow divide by zero on FreeBSD.

	* numeric.c (Init_Numeric): FloatDomainError added.

	* configure.in (AC_REPLACE_FUNCS): add checks for functions
	  isinf, isnan, and finite.

Sat Feb 13 01:24:16 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_create_0): should protect th->thread.

Fri Feb 12 16:16:47 1999  Yasuhiro Fukuma  <yasuf@@big.or.jp>

	* string.c (rb_str_inspect): wrong mbc position.

Fri Feb 12 16:21:17 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_fd_close): 

	* io.c (rb_io_fptr_close): tell scheduler that fd is closed.

	* io.c (rb_io_reopen): ditto.

	* io.c (READ_CHECK): check if closed after thread context switch.

	* ext/socket/socket.c (bsock_close_read): do not check
	  the return value from shutdown(2).

	* ext/socket/socket.c (bsock_close_write): ditto.

	* ext/socket/socket.c (sock_new): need to dup(fd) for close_read
	  and close_write.

	* parse.y (here_document): handle newlines within #{}.

	* regex.h: should replace symbols for ruby.

Fri Feb 12 00:46:28 1999  Shugo Maeda  <shugo@@netlab.co.jp>

	* marshal.c (r_object): should update the method name in message.

	* marshal.c (w_object): limit should be converted into Fixnum.

Wed Feb 10 15:20:03 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): empty pattern should not cause infinite
	  pattern match loop.

	* regex.c (re_compile_pattern): RE_OPTIMIZE_ANCHOR for /.*/, not
	  for /(.|\n)/.

	* numeric.c (fix_pow): `fixnum**nil' should raise TypeError.

	* bignum.c (rb_big_pow): need to normalize results.

Wed Feb 10 01:42:41 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* numeric.c (fix_pow): `(5**1).type' should be Integer.

Tue Feb  9 01:22:49 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): do not ignore newlines in mbchars.

	* io.c (rb_file_s_open): mode can be specified by flags like
	  open(2), e.g. File::open(path, File::CREAT|File::WRONLY).

	* io.c (rb_f_open): bit-wise mode flags for pipes

	* io.c (Init_IO): bit flags for open.

Sat Feb  6 22:56:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_sub_bang): should not overwrite match data by
	  regexp match within the block.

	* string.c (rb_str_gsub_bang): ditto.

Sat Feb  6 03:06:17 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (match_getter): accessing $~ without matching caused SEGV.

Fri Feb  5 22:11:08 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* parse.y (yylex): binary literal support, like 0b01001.

	* parse.y (yylex): octal numbers can contain `_'s.

	* parse.y (yylex): warns if non-octal number follows immediately
	  after octal literal.

	* parse.y (yylex): now need at least one digit after prefix such
	  as 0x, or 0b.

	* bignum.c (rb_str2inum): recognize binary numbers like 0b0101.

Fri Feb  5 03:26:56 1999  Yasuhiro Fukuma  <yasuf@@big.or.jp>

	* ruby.c (proc_options): -e without program prints error.

Fri Feb  5 00:01:50 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (terms): needed to clear heredoc_end.

	* numeric.c (flo_div): allow float division by zero.

Thu Feb  4 11:56:24 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* missing/strtod.c: for compatibility.

	* configure.in (strtod): add strtod compatible check.

	* numeric.c (rb_num2long): missing/vsnprintf.c does not support
	  floating points.

	* numeric.c (flo_to_s): ditto.

Wed Feb  3 23:02:12 1999  Yoshida Masato  <yoshidam@@yoshidam.net>

	* regex.c (re_compile_pattern): use ismbchar() to get next char.

	* regex.c (re_search): wrong mbchar shift.

	* re.c (rb_reg_search): needed to reset $KCODE after match.

	* regex.c (re_compile_fastmap): mbchars should match with \w.

Wed Feb  3 22:35:12 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* parse.y (yylex): too big float raise warning, not error.

Tue Feb  2 23:41:42 1999  Yoshida Masato  <yoshidam@@yoshidam.net>

	* regex.c (re_match): wrong boundary.

	* regex.c (IS_A_LETTER): re_mbctab[c] may not be 1 for mbc.

	* regex.c (re_search): mbchar support for shifting ranges.

	* regex.c (MBC2WC): wrong conversion.

Wed Feb  3 15:03:16 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (parse_regx): need to escape parens if terminators are
	  not any kind of parenthesis.

	* parse.y (parse_qstring): ditto.

	* parse.y (parse_string): ditto.

Tue Feb  2 17:11:26 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* string.c (rb_str_gsub_bang): too small realloc condition.

Mon Feb  1 10:01:17 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* parse.y (yylex): range check for the float literal.

Sat Jan 30 18:34:16 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (usage): -h option to show brief command description.

Sat Jan 30 08:45:16 1999  IKARASHI Akira  <ikarashi@@itlb.te.noda.sut.ac.jp>

	* lib/cgi-lib.rb: cookie support added.

Sat Jan 30 13:38:24 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): mbchars should match with \w
	  within character class.  Was matching with \W.

	* regex.c (re_match): \w should match with multi byte characters,
	  not its first byte.

Sat Jan 30 10:06:41 1999  Yoshida Masato  <yoshidam@@yoshidam.net>

	* re.c (rb_reg_s_new): UTF-8 flag handle (/u, /U).

	* re.c (rb_kcode): $KCODE handle for UTF-8.

Sat Jan 30 01:51:16 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_delete_if): RTEST() missing.

	* hash.c (delete_if_i): ditto.

	* enum.c (Init_Enumerable): select (=find_all), detect (=find)
	  added as aliases.

Fri Jan 29 21:32:19 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* hash.c (rb_f_setenv): SEGV caused by small typo.

Fri Jan 29 00:15:58 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/parsedate.rb (parsedate): support date format like
	  23-Feb-93, which is required by HTTP/1.1.

	* variable.c (find_class_path): avoid calling rb_iv_set().

	* eval.c (backtrace): do not need to modify $SAFE internally.

	* variable.c (classname): inline __classid__ access.

	* eval.c (THREAD_ALLOC): needed to initialize wrapper.

	* lib/ftools.rb (makedirs): allows slash at the end of the path.

	* numeric.c (rb_fix_induced_from): ensure result to be Fixnum.

Thu Jan 28 17:31:43 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (flo_to_s): float format changed to "%16.10g".

Thu Jan 28 02:13:11 1999  Yoshinori Toki  <toki@@freedom.ne.jp>

	* array.c (rb_ary_store): expand allocated buffer by 3/2.

Wed Jan 27 17:50:02 1999  Kazuhiro HIWADA  <hiwada@@kuee.kyoto-u.ac.jp>

	* bignum.c (dbl2big): raised error if double is too big to cast
	  into long.  check added.

Wed Jan 27 03:16:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_mod_const_at): can't list constants of the
	  untainted objects in safe mode.

	* class.c (method_list): can't list methods of untainted objects
	  in safe mode.

Tue Jan 26 02:40:41 1999  GOTO Kentaro  <gotoken@@math.sci.hokudai.ac.jp>

	* prec.c: Precision support for numbers.

Thu Jan 21 19:08:14 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_f_raise): calls `exception' method, not `new'.

	* error.c (exc_exception): renamed from `new'.

Wed Jan 20 03:39:48 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yycompile): rb_in_compile renamed to ruby_in_compile.

	* ruby.c (load_file): define DATA if __END__ appeared in script.

Tue Jan 19 14:57:51 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (here_document): need to protect lex_lastline.

	* parse.y (yylex): disable %//, %'', %``.

Tue Jan 19 05:01:16 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* array.c (beg_len): round range value too much.

Mon Jan 18 13:02:27 1999  Kuroda Jun  <jkuro@@dwe.co.jp>

	* hash.c (env_keys): strchr() may return NULL.

Mon Jan 18 17:51:47 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* instruby.rb (wdir): install libruby.a in archdir.

	* lib/ftools.rb (install): removes file before installing.

Mon Jan 18 16:55:31 1999  MAEDA shugo  <shugo@@aianet.ne.jp>

	* eval.c (rb_callcc): experimental continuation support.

Sun Jan 17 19:45:37 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* pack.c (pack_pack): nil packing caused SEGV.

Sat Jan 16 13:18:03 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_concat): character (fixnum) can be append to
	  strings

	* array.c (rb_ary_unshift): unshift returns array.

Sat Jan 16 01:39:19 1999  Yoshida Masato  <yoshidam@@tau.bekkoame.ne.jp>

	* string.c (rb_str_split_method): UTF-8 support.

	* regex.c: UTF-8 support.

Thu Jan 14 00:42:55 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_gsub_bang): forget to add offset for null match.

	* eval.c (rb_thread_local_aset): can't modify in tainted mode.

	* hash.c (env_each_key): avoid generating temporary array.

Wed Jan 13 23:58:50 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (rb_f_setenv): name and value can be tainted.

Wed Jan  6 02:42:08 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (Init_Bignum): forgot to define Bignum#===.

	* gc.c (gc_sweep): if add_heap() is called during GC, objects on
	  allocated heap page(s) are not marked, should not be recycled.

	* gc.c (gc_sweep): should refer latest freelist.

	* gc.c (id2ref): modified to support performance patch.

	* object.c (rb_obj_id): performance patch (no bignum for id).

Tue Jan  5 01:56:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* config.guess: merge up-to-date from autoconf 2.12.

	* array.c (rb_ary_join): avoid calling rb_protect_inspect() till
	  it is really needed.

	* object.c (rb_obj_inspect): show detailed information for the
	  instance variables (infinite loop can avoid now).

	* struct.c (rb_struct_inspect): avoid infinite loop.

Sun Jan  3 01:37:58 1999  Takao KAWAMURA  <kawamura@@ike.tottori-u.ac.jp>

	* misc/ruby-mode.el (ruby-end-of-defun): moved too much.

	* misc/ruby-mode.el (ruby-mode-variables): set paragraph-separator
	  for the mode.

	* misc/ruby-mode.el: proper font-lock for `def' and `nil' etc.

Sat Jan  2 17:09:06 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_jump_tag): new api to invoke JUMP_TAG.  tag values
	  can obtained from rb_eval_string_protect()/rb_load_protect().

	* eval.c (rb_rescue): now catches all exceptions but SystemExit.

	* eval.c (rb_eval_string_protect): eval string with protection.

	* eval.c (rb_load_protect): load file with protection.

	* io.c (rb_io_puts): avoid infinite loop for cyclic arrays.

	* eval.c (rb_thread_local_aref): thread local hash tables.

	* object.c (rb_equal): check exact equal before calling `=='.

Thu Dec 31 22:28:53 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* eval.c (rb_f_require): feature names should be provided with
	  DLEXT extension.

	* marshal.c (Init_marshal): need to provide `marshal.so'.

Wed Dec 30 02:29:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (classname): do not call rb_ivar_set().

	* eval.c (ruby_run): finalizers were called too early.

Fri Dec 25 12:19:30 1998  Fukuda Masaki  <fukuda@@wni.co.jp>

	* gc.c (rb_gc_mark): should not return on FL_EXIVAR.

Fri Dec 25 11:56:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (gc_mark): proper scanning for temporary region.

	* eval.c (TMP_ALLOC): protection for C_ALLOCA was broken.

Thu Dec 24 18:26:04 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* development version 1.3 released.

Thu Dec 24 00:17:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_load): top self should be set properly.

	* variable.c (classname): check __classpath__ if it is defined.

	* variable.c (classname): invalid warning at -v with static linked
	  ruby interpreter.

	* eval.c (is_defined): modified for expr::Const support.

	* eval.c (rb_eval): invoke method expr::Const if expr is not class
	  nor module.

	* parse.y (primary): enable expr::identifier as method
	  invocation.

Wed Dec 23 03:04:36 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): avoid too many loop pops for (?:..).

Tue Dec 22 18:01:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental version 1.1d1 released.

Mon Dec 21 01:33:03 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (TMP_PROTECT): add volatile to ensure GC protection.

	* string.c (rb_str_gsub_bang): calculate buffer size properly.

	* parse.y (lex_get_str): needed to return Qnil at EOS.

	* eval.c (find_file): check policy modified, raise exception
	  immediately for tainted load_path.

	* hash.c (rb_f_setenv): do not depend on setenv() nor putenv().

Thu Dec 17 06:29:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/tk/tkutil.c (tk_s_new): use rb_obj_instance_eval(), instead
	  of rb_yield_0().

	* eval.c (rb_f_require): forgot to call find_file in some cases.

	* eval.c (rb_f_require): `require "feature.so"' to load dynamic
	  libraries.  old `require "feature.o"' is still OK.

	* eval.c (rb_eval): yield without value dumped core.

Wed Dec 16 16:28:31 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental version 1.1d0 (pre1.2) released.

Wed Dec 16 10:43:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): bound check before calling re_match().

Tue Dec 15 13:59:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* error.c (exc_to_s): returns class name for unset mesg.

	* error.c (exc_initialize): do not initialize @@mesg by "".

	* parse.y (nextc): __END__ should handle CR+LF newlines.

Wed Dec  9 13:37:12 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* pack.c (encodes): use buffering for B-encoding.

	* pack.c (pack_pack): Q-encoding by 'M'.

Tue Dec  8 14:10:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (generic_ivar_get): any object can have instance
	  variables now.  great improvement.

	* variable.c (rb_name_class): do not set __classpath__ by default,
	  use __classid__ instead.

Mon Dec  7 22:08:22 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.h (struct RFile): IO objects can have instance variables now.

	* parse.y (primary): allows `def obj::foo; .. end'.

Mon Dec  7 18:24:50 1998  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* ruby.c (set_arg0): $0 support for HP-UX.

Mon Dec  7 01:30:28 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* dln.c (dln_strerror): better error messages on win32.

Sat Dec  5 23:27:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (here_document): indentable here-doc delimiter by
	  `<<-'.  Proposed by Clemens <c.hintze@@gmx.net>.  Thanks.

Thu Dec  3 16:50:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/extmk.rb.in (realclean): trouble on install.

Sun Nov 29 22:25:39 1998  Takaaki Tateishi  <ttate@@jaist.ac.jp>

	* process.c (f_exec): check number of argument.

Thu Nov 26 17:27:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c9 released.

Wed Nov 25 13:07:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_dup): do not copy additional data (STR_NO_ORIG).

	* parse.y (yycompile): reduce known memory leak (hard to remove).

Wed Nov 25 03:41:21 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* st.c (st_init_table_with_size): round size up to prime number.

Sat Nov 21 23:27:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (rb_hash_aset): reduce copying key strings.

	* gc.c (looks_pointerp): declare as inline function if possible.

	* st.c (PTR_NOT_EQUAL): compare hash values first before calling
	  comparing function.

	* st.c (ADD_DIRECT): save hash value in entries to reduce hash
	  calculation.

	* string.c (rb_str_gsub_bang): avoid rb_scan_args() to speed-up.

	* string.c (rb_str_sub_bang): ditto.

Sat Nov 21 18:44:06 1998  Masaki Fukushima  <fukusima@@goto.info.waseda.ac.jp>

	* time.c (time_s_now): had memory leak.

	* ext/md5/md5init.c (md5_new): had memory leak.

	* ext/md5/md5init.c (md5_clone): ditto.

Fri Nov 20 23:23:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/delegate.rb: do not propagate hash and eql?.

Thu Nov 19 01:40:52 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sample/ruby-mode.el (ruby-expr-beg): failed to find reserved
	  word boundary.

	* eval.c (rb_eval): avoid calling `concat' method.  calls
	  rb_ary_concat() directly for efficiency.

	* eval.c (rb_eval): actual rest arguments extended arrays too much.

Wed Nov 18 14:30:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (rb_define_global_function): global functions now be
	  module function of the Kernel.

Wed Nov 18 10:48:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (read_all): SEGV on large files.

Tue Nov 17 18:11:20 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c8 released.

Tue Nov 17 16:58:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (arg): assignment to attribute name start with capital
	  should be allowed.

	* eval.c (thread_alloc): needed to mark terminated threads too.

Tue Nov 17 12:33:48 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* ext/extmk.rb.in (create_makefile): Set `libdir' to `@@libdir@@',
	  Set `pkglibdir' to `$libdir/$(RUBY_INSTALL_NAME)'.

Tue Nov 17 10:30:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (f_sprintf): %l%%c -> %%l%c

Tue Nov 17 01:08:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (ret_args): distinguish `a' and `*a' for the arguments
	  of yield and return.

	* eval.c (rb_eval): flip3 should work like sed.

	* eval.c (rb_eval): flip{2,3} now have independent state for each
	  scope to work fine with thread.

Mon Nov 16 23:26:29 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (primary): exec else clause if no exception raised.

Sun Nov 15 15:44:07 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* ext/extmk.rb.in (install): bug in target.

Sat Nov 14 11:02:05 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* Makefile.in (install): Give the argument `$(DESTDIR)' to
	  `instruby.rb'.

	* instruby.rb: Recognize ARG[0] as `destdir'.

	* instruby.rb: Give the argument `destdir' to `extmk.rb'.

	* ext/extmk.rb.in: Recognize ARG[1] as `$destdir'.

	* instruby.rb: Create the installation directories (bindir, libdir,
	  archdir, pkglibdir, archdir, and mandir) under `destdir', and
	  install all files under there.

	* ext/extmk.rb.in: Likewise.

Sat Nov 14 10:56:55 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* instruby.rb: Add the variable `pkglibdir'.

	* instruby.rb: Set the variable `libdir' to `$(libdir)', not
	  `$(libdir)/$(ruby_install_name)'. `libruby.so' and `libruby.so.LIB'
	  are installed at `libdir'.

	* instruby.rb: Set the variable `archdir' to `$(pkglibdir)/$(arch)'.

Fri Nov 13 19:43:29 1998  KIMURA Koichi  <kbk@@kt.rim.or.jp>

	* missing/nt.c (SafeFree): wrong free offset.

Thu Nov 12 20:11:53 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* sample/ruby-mode.el: wrong highlight.

	* parse.y (parse_regx): newline in regexp was ignored.

Wed Nov 11 10:54:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (here_document): <<'FOO' should not escape anything.

	* parse.y (here_document): bare << here-doc available, even though
	  it's deprecated.

	* file.c (rb_file_s_readlink): return value should be tainted.

	* ext/etc/etc.c (setup_passwd): information (eg. GCOS name) should
	  be tainted (modified at Perl Conference).

Tue Nov 10 00:22:11 1998  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* configure.in: elf support for FreeBSD 3.x

Tue Nov 10 00:05:43 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): here document available in eval.

Mon Nov  9 17:55:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c7 released.

Fri Nov  6 19:25:27 1998  Takao KAWAMURA  <kawamura@@ike.tottori-u.ac.jp>

	* sample/ruby-mode.el: font-lock patch.

Thu Nov  5 15:42:22 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sample/README, lib/README: simple description for each file.

Wed Nov  4 18:14:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (assign): attribute assignment should be called as public.

Tue Nov  3 23:36:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_dump): dumps core for negative char value.

	* regex.c (re_compile_pattern): out of boundary access for empty
	  regexp.

Mon Nov  2 22:54:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_aset): `str[str]' replaces first match.

Mon Nov  2 18:24:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_create): was accessing modified status.

Sun Nov  1 01:18:52 1998  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* gc.c (xrealloc): size 0 needs round up to 1.

Sat Oct 31 23:18:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_split_method): negative LIMIT means number of
	  split fields are unlimited, as in perl.

	* string.c (rb_str_split_method): if LIMIT is unspecified,
	  trailing null fields are stripped.

Sat Oct 31 04:16:14 1998  Inaba Hiroto  <inaba@@st.rim.or.jp>

	* string.c (str_aref): regexp index SEGVed.

Fri Oct 30 14:33:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_match): returns nil for unmatch.

	* dir.c (dir_entries): new method.

	* eval.c (block_pass): do not push block, substitute it.

Fri Oct 30 01:28:52 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* range.c (range_check): avoid <=> check for Fixnums.

	* array.c (rb_ary_aset): accept negative index.

Wed Oct 28 22:00:54 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): access out of boundary fixed.

Wed Oct 28 11:37:42 1998  TAMITO  <tommy@@valley.ne.jp>

	* io.c (f_select): fd number comparison bug.

Tue Oct 27 23:07:11 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sample/ruby-mode.el (ruby-parse-region): forgot to support %w()
	  style array literal.

	* eval.c (rb_eval): unused block raises warning.

Mon Oct 26 09:37:53 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (dvar_asgn_push): dvar pushed too many times if
	  variable-in-block first appear in loops.

Sun Oct 25 22:59:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (set_list_bits): was using wrong offset.

Thu Oct 22 00:07:11 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_obj_method): method retrieved from tainted object
	  should be tainted too.

	* eval.c (method_call): safe_level should be restored during
	  Method#call.

Wed Oct 21 14:21:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (Init_IO): new constants IO::SEEK_{SET,CUR,END}.

	* io.c (rb_f_ungetc): ungetc pushes a char back into STDIN.

Mon Oct 19 11:50:00 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* ext/extmk.rb: Load '@@top_srcdir@@/lib/find.rb', not
	  '../lib/find.rb'.

	* ext/extmk.rb: Distinguish between `top_srcdir' and `topdir'.

	* Makefile.in (CFLAGS): Add `-I.'.

	* Makefile.in (lex.c): Give `@@srcdir@@/keywords' to gperf, not
	  `keywords'.

	* instruby.rb: Use `CONFIG["bindir"]', instead of `prefix + "/bin"'.

	* instruby.rb: Use `CONFIG["libdir"]', instead of `prefix + "/lib"'.

	* instruby.rb Use `CONFIG["mandir"]', instead of `prefix + "/man"'.

	* instruby.rb (wdir): Add the variable to preserve the current
	  working directory.

	* instruby.rb: Chdir to wdir before install `config.h' and
	  `rbconfig.rb'.

Mon Oct 19 10:07:01 1998  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* eval.c (rb_eval): reduce recursive calls to rb_eval().

Fri Oct 16 15:31:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_new_internal): timeval must be positive.

Thu Oct 15 13:54:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (arg): local variables can be accessed within right side
 	  expression in assignment, notably in blocks.

Wed Oct 14 00:18:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (Init_Array): Array#=== is now for equal check, not
	  inclusion check.

	* parse.y (when_args): `when a, *b' style new syntax for array
	  expansion in `case'.

Tue Oct 13 14:30:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (rb_obj_untaint): taint marks can be unset.

	* eval.c (rb_eval): taint propagation for embedded strings.

Mon Oct 12 13:27:15 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_call0): check stack depth more frequently.

Mon Oct 12 08:08:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_p): can print even in secure mode.

Sun Oct 11 22:50:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_const_set): taint check for modification.

	* variable.c (rb_ivar_set): taint check for modification.

	* string.c (rb_str_modify): taint check for modification.

	* hash.c (rb_hash_modify): taint check for modification.

	* array.c (rb_ary_modify): taint check for modification.

	* ruby.h (FL_TAINT): taint for all objects, not only strings.

Fri Oct  9 17:01:14 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (read_all): read() returns "" at immediate EOF.

	* io.c (io_read): read(nil) read all until EOF.

Thu Oct  8 13:32:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_dump): marshal can dump Time object now.

	* marshal.c (Init_marshal): rename marshal methods `_dump_to' to
 	  `_dump', `_load_from' to `_load'.

	* parse.y (rb_intern): "+=".intern generates proper symbol.

Mon Oct  5 18:31:53 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c6 released.

Fri Oct  2 14:22:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): `/\s*(--)$/ =~ "- --"' did not match,
	  because of wrong optimize condition.

Mon Oct  1 01:55:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (rb_intern): should not raise exceptions.

	* parse.y (yylex): symbol like `:foo?=' should not be allowed.

	* ext/extmk.rb.in: makes *.a for static link modules.

Wed Sep 30 14:13:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_start): supports making a subclass of the
	  Thread class.

Tue Sep 29 17:46:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_join): join is now an instance method.

Fri Sep 25 12:01:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): `@@foo!' should be an error.

Thu Sep 24 14:55:06 1998  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* ext/etc/etc.c (Init_etc): wrong field definition.

Thu Sep 17 17:09:05 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_reopen): was creating FILE* for wrong fd.

Tue Sep 15 05:28:11 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* regex.c (re_compile_pattern): forgot to fixup for the pattern
 	  like (?=(A)|(B)).

Tue Sep 15 01:06:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_gets_internal): do not set $_ by default, only
	  gets/readline set the variable.

	* eval.c (rb_f_load): load toplevel class is set to anonymous
	  module if safe_level >= 5, to encapsulate modification.

	* eval.c (rb_f_load): set frame properly.

	* string.c (rb_str_each_line): do not set $_.

Mon Sep 14 14:42:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): beginning and end of the string, do not
	  automatically match `\b'.

	* string.c (scan_once): consume at least on character.

	* regex.c (re_search): wrong behavior for negative range.

Sat Sep 12 21:21:26 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* regex.c (re_search): range value should be maintained.

Thu Sep 10 10:55:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (backref_error): yyerror does not understand formats.

Tue Sep  8 18:05:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c5 released.

Tue Sep  8 10:03:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_each_line): wrong line splitting with newline at
 	  top of the string.

	* string.c: non bang methods return copied string.

	* eval.c (f_END): needed to initialize frame->argc;

Fri Sep  4 11:27:40 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (bigadd): proper sign combination.

	* regex.c (re_search): wrong return value for \A.

Thu Sep  3 14:08:14 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c4 released.

Tue Sep  1 10:47:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (slow_search): do not compare llen and blen.  llen may
	  be longer than blen, if little contains 0xff.

	* regex.c (mbctab_euc): set 0x8e as multibyte character.

	* string.c (str_inspect): mask character for octal output.

Mon Aug 31 15:32:41 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): use calculated offset if exactn is the
	  first opcode in the compiled regexp.

	* regex.c (bm_search): use Boyer-Moore search for simple search.

	* regex.c (must_instr): wrong length check if pattern includes
	  byte escape by 0xff.

	* regex.c (re_compile_pattern): need not to check current_mbctype.

Sat Aug 29 16:31:40 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_check_safe_str): avoid calling rb_id2name() in normal 
	  cases to speed-up.

	* eval.c (thread_raise): do not save context of terminated thread.

	* regex.c (re_compile_pattern): mask \nnn over 256.

Sat Aug 29 02:09:46 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* sprintf.c (f_sprintf): wrong buffer size check.

Fri Aug 28 01:57:04 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): accepts (?ix-ix) and (?ix-ix:...).

Fri Aug 28 12:25:33 1998  Hiroshi Igarashi  <igarashi@@ueda.info.waseda.ac.jp>

	* ruby.c (ruby_require_modules): load modules in appearing order.

Fri Aug 28 01:57:04 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): accepts (?ix-ix) and (?ix-ix:...).

Thu Aug 27 12:54:28 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c3 released.

Wed Aug 26 14:40:56 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): check whether ruby_class is properly set,
	  before accessing it.

	* eval.c (rb_obj_instance_eval): ruby_class should be Qnil for
	  special objects like Fixnums.

	* ext/tkutil/tkutil.c (Init_tkutil): removes calls to
	  rb_yield_0().  used instance_eval() instead in the tk.rb.

Wed Aug 26 11:47:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): pop non-greedy stack elements on success.

Wed Aug 26 09:25:35 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ruby.h: add #define environ for cygwin32.

Tue Aug 25 08:57:41 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_sort_bang): temporarily freeze sorting array.

Mon Aug 24 18:46:44 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* dln.c (dln_find_1): path check was too strict.

Mon Aug 24 15:28:11 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* parse.y (f_arglist): opt_nl added after f_args.

Fri Aug 21 01:06:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c: grand renaming on socket.c.

	* ext/socket/socket.c (inet_aton): supply inet_aton for those
	  systems that do not have it.

	* ext/socket/socket.c (setipaddr): use inet_aton instead of
	  inet_addr.

	* ext/socket/socket.c (tcp_s_gethostbyname): new method: works
	  like Socket.gethostbyname but returning array contains ip-addrs
	  as octet decimal string format like "127.0.0.1".

	* ext/socket/socket.c (mkhostent): return format changed to
	  [host, aliases, type, ipaddr..]  as documented.

Wed Aug 19 00:31:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_ctl): forgot to place TRAP_END at right position.

Fri Aug 14 11:01:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (call_trace_func): save __FILE__, __LINE__ before
 	  executing trace_func, since trace function should not corrupt
 	  line number information.

Thu Aug 13 15:09:02 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_s_new): was marking unallocated region on GC.

Tue Aug 11 11:57:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c2 released.

Mon Aug 10 14:05:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* process.c (f_system): removed fflush(stdin).

Fri Aug  7 17:44:44 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* error.c (err_snprintf): replace sprintf for fixed sized buffer,
 	  with snprintf to avoid buffer over-run.  For systems which does
	  dot provide snprintf, missing/snprintf.c added.

Wed Aug  5 00:47:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (rb_reg_search): recycle match object.

Mon Aug  3 09:17:55 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_gsub_bang): do not allocate temporary string.

	* string.c (rb_str_sub_bang): use inline replace.

Wed Jul 29 00:36:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (hash_s_new): the default value can be specified.

	* hash.c (hash_default): method to set the default value.

	* hash.c (hash_aref): now returns the default value.

Tue Jul 28 13:03:25 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_s_new): argument to specify initial value is added.

	* array.c (ary_s_new): specifies size, not capacity.

Mon Jul 27 12:39:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_replace): zero fill for expansion gap.

	* regex.c (mbctab_euc): set flags on for 0xA1-0xFE.  suggested by
	  <inaba@@st.rim.or.jp>.

	* string.c (str_inspect): consider current_mbctype.

Sun Jul 26 15:37:11 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* array.c (ary_s_new): Array.new(1<<30) dumps core.

Fri Jul 24 13:40:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c1 released.

Fri Jul 24 02:10:22 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (r_bytes2): allocated buffer size was too short.

	* marshal.c (w_object): saves all options, not only casefold flag.

	* re.c (reg_clone): now copies options properly.

	* re.c (reg_get_kcode): code number was wrong.

Thu Jul 23 13:11:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_attr): argument should be symbol or string.

Wed Jul 22 11:59:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (calculate_must_string): wrong offset added.

Wed Jul 22 11:59:59 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* st.c (rehash): still had a GC problem.  fixed.

Tue Jul 21 13:19:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (gc_mark_threads): crashed on GC before thread allocation.

	* st.c (rehash): GC during rehash caused SEGV.

Tue Jul 21 01:25:10 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (f_sprintf): integer formatter totally re-written.

	* sprintf.c (remove_sign_bits): support uppercase hexadecimal.

Sat Jul 18 00:14:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (f_sprintf): proper sign position for %X and %O.

Fri Jul 17 14:10:20 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c0 released.

Fri Jul 17 08:01:49 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* process.c (f_exec): Check_SafeStr() added.

	* process.c (f_system): Check_SafeStr() moved before fork().

Thu Jul 16 22:58:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (scan_once): substrings to the block should not be
 	  tainted.  use reg_nth_match(), not str_substr().

	* string.c (str_substr): needed to transfer taint.

Thu Jul 16 16:15:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (xmalloc): object allocation count added to GC trigger.

	* eval.c (thread_save_context): avoid marking uninitialized stack
	  in thread_mark.  GC may be triggered by REALLOC_N().

Wed Jul 15 15:11:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_31.

Wed Jul 15 15:05:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_create): exit() and abort() in threads now
 	  forwarded to main_thread.

Tue Jul 14 14:03:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (obj_instance_variables): list names that is not
	  instance variables.

	* gc.c (GC_MALLOC_LIMIT): choose smaller limit value.

Mon Jul 13 12:39:38 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (str2cstr): should not return NULL.

Fri Jul 10 11:51:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (gettable): needed to add dyna_in_block() check.

Thu Jul  9 17:38:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_30.

Thu Jul  9 16:01:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (fmt_setup): format specifier for long needed.

	* sprintf.c (f_sprintf): ditto.

	* numeric.c (fix2str): ditto.

	* eval.c (thread_create): no more ITIMER_REAL.

	* eval.c (thread_create): thread finalization needed before
	  aborting thread if thread_abort is set.

Wed Jul  8 18:17:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (big_pow): abandon power by bignum (too big).

Tue Jul  7 13:58:43 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_catch): add C level catch/throw feature.

Mon Jul  6 15:18:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (arg): proper return values for `||=' and `&&='.

Fri Jul  3 16:05:11 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_29.

Fri Jul  3 11:20:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (r_byte): byte should not extend sign bit.

	* numeric.c (fix_mul): use FIX2LONG() instead of FIX2INT() for
	  64bit architectures.

	* marshal.c (r_bytes): remove weird casting between pointer and int.

	* process.c (proc_setsid): new method Process#setsid().

Thu Jul  2 12:49:21 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (w_object): remove `write_bignum' label for 64bit
 	  architectures.

	* marshal.c (r_bytes): needs int, not long.

Wed Jul  1 14:21:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (flo_plus): should not allow addition with strings.

Wed Jul  1 13:09:01 1998  Keiju ISHITSUKA  <keiju@@rational.com>

	* numeric.c (num_uminus): wrong coerce direction.

Tue Jun 30 10:13:44 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (f_p): accepts arbitrary number of arguments.

	* eval.c (rb_yield_0): there's some case that iterator_p() returns 
	  true even if the_block was not set.  check added.

Tue Jun 30 01:05:20 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (BEGIN_CALLARGS): adjust the_block before evaluating the
	  receiver's value and the arguments.

Fri Jun 26 18:02:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_28.

Fri Jun 26 11:01:26 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* string.c (str_aset_method): needed to convert to string.

Thu Jun 25 02:05:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): optimize for `.*' at beginning of the
	  pattern.

	* regex.c (re_search): optimize for character class repeat at
	  beginning of the pattern.

	* regex.c (re_compile_pattern): detect optimization potential for
	  the compiled patterns.

Thu Jun 25 00:02:26 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* re.c (reg_s_new): flag value was wrong.

Wed Jun 24 23:45:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): wrong anchor handling for reverse search.

Wed Jun 24 02:18:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (mlhs): `((a,b)),c = [[1,2]],3' assigns a=1,b=2,c=3.

Tue Jun 23 11:46:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): `&&=' and `||=' added.

Sat Jun 20 02:53:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (assignable): nesting local variables should have higher
 	  priority than normal local variables for assignment too.

Fri Jun 19 18:28:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_27.

Fri Jun 19 14:34:49 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (assign): support hack for nested multiple assignment.

	* parse.y (mlhs): nested multiple assignment.

	* eval.c (rb_eval): in-block variables now honors static scope.

	* configure.in: RSHIFT check moved to configure.

Thu Jun 18 16:46:04 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_26.

Thu Jun 18 13:37:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (file_s_ftype): uses lstat(2) instead of stat(2).

	* dir.c (dir_s_glob): there can be buffer overrun, check added.

	* eval.c (f_binding): handles in-block variables declared after
	  binding's generation.

	* numeric.c (flo_floor): floor, ceil, round added to Float.

Wed Jun 17 11:20:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (gettable): nesting local variables should have higher
 	  priority than normal local variables.

Tue Jun 16 12:30:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (str2inum): handles `+ddd'.

	* struct.c (make_struct): name parameter can be nil for unnamed
	  structures.

Mon Jun 15 16:30:10 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (class_s_inherited): prohibiting to make subclass of
	  class Class.

	* object.c (module_s_new): support for making subclass of Module.

	* parse.y (yycompile): clear eval_tree before compiling.

Fri Jun 12 17:58:18 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (eval): write back the_dyna_var into the block.

Thu Jun 11 18:19:18 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_25.

	* eval.c (dvar_add_compiling): register dyna_var at compile time.

	* regex.c (re_compile_pattern): RE_DUP_MAX iteration is too big.

Wed Jun 10 15:12:04 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_eof): do not block other threads.

	* signal.c (trap): reserve SIGALRM for thread.

	* eval.c (thread_create): use ITIMER_REAL also to avoid system
	  call blocking.

	* io.c (f_syscall): add TRAP_BEG, TRAP_END around system calls.

	* io.c (io_ctl): add TRAP_BEG, TRAP_END around system calls.

	* enum.c (enum_collect): did not collect false values.

	* array.c (ary_new2): forgot to initialize capa field.

Tue Jun  9 18:36:15 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* string.c (str_split_method): split dumped core for "\xff".

Tue Jun  9 16:22:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_24.

Tue Jun  9 16:04:07 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/kconv/kconv.c (kconv_guess): more precise decision for EUC,
	  using jless algorithm (3 sequential EUC hiragana characters).

Tue Jun  9 15:12:44 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/kconv/kconv.c (kconv_guess): wrong guess for EUC as SJIS in
	  some cases (0xe0 - 0xef).

	* gc.c (xmalloc): insert size check for big (negative in signed)
	  allocation size.

Tue Jun  9 02:54:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/parsedate.rb: wday moved to the last in the return values.

Mon Jun  8 10:40:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_split_method): split dumped core for "\0".

Sat Jun  6 22:50:52 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (calculate_must_string): wrong condition for
	  {start,stop}_nowidth.

	* regex.c (re_match): various features imported from GNU regex.c
 	  0.12, such as nested grouping, avoiding infinite loop with empty
 	  match, etc.

	* regex.c (register_info_type): now use union.

	* regex.c (re_search): more precise anchor(^) check.

Wed Jun  3 18:07:54 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_raise): check rb_in_compile, not rb_in_eval.

Mon Jun  1 05:26:06 1998  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* string.c (trnext): casting to signed char* needed.

Tue Jun  2 16:00:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (udp_addrsetup): error check enhanced.

	* ext/socket/socket.c (sock_s_getservbyaname): use strtoul(), if
	  possible.

Sat May 30 07:10:02 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_prepare_re): no more needless regular expression
 	  recompile on casefold conditions.

Thu May 28 18:02:55 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (nil_plus): no more `+' method for nil.

Wed May 27 17:33:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (hash_fetch): new method.

	* regex.c (re_search): check whether translate table is set.

Tue May 26 11:39:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_23.

	* parse.y (yylex): no UPLUS/UMINUS for 1st argument if
	  parenthesises are omitted.

Tue May 26 01:09:55 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): (?XI) for turns off the
	  corresponding option.

Mon May 25 12:38:56 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): inline i option (?i).

	* regex.c (re_compile_pattern): inline x option (?x).

	* regex.c (re_compile_pattern): x option for regexp.

	* dir.c (dir_s_open): returns block's evaluated value.

	* io.c (f_open): returns block's evaluated value.

	* ext/curses/curses.c (curses_addstr): nil argument caused SEGV.

Fri May 22 11:52:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): push mark on (?:), so that
	  laststart check for {a,b} can be done.

Thu May 21 17:31:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): wrong match (too non-greedy) for `{a,b}?'.

	* io.c (io_lineno): new method IO#lineno, IO#lineno=.

Wed May 20 06:04:43 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* BeOS patch.

Wed May 20 16:32:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (BIGDN): use RSHIFT(), instead of mere `>>'.

Tue May 19 16:36:26 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_22.

Tue May 19 16:31:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (assignable): specification changed for in-block
 	  variable definition.

	* eval.c (dyna_var_asgn): error in in-block variables' compile
 	  time definition.

	* parse.y (str_extend): wrong nesting detection.

Tue May 19 09:47:55 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* numeric.c (num2int): re-defined (extensions may use this).

Mon May 18 16:40:50 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* error.c (get_syserr): BeOS support.

	* configure.in: modified for BeOS.

	* string.c (str_dump): do not call isascii().

	* sprintf.c (remove_sign_bits): forgot to initialize end pointer.

	* glob.c: #include <alloca.h> added.

Mon May 18 14:52:21 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_21.

Mon May 18 03:27:57 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* file.c (file_s_expand_path): optional second argument
	  `default_directory' added.

Sat May 16 22:06:52 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* error.c (RAISE_ERROR): wrong error message

Fri May 15 14:43:25 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_20.

Thu May 14 14:44:21 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* sun4 cc patches for intern.h and regex.h.

Thu May 14 14:03:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* random.c (RANDOM_MAX): guessing proper maximum value for random
 	  numbers.

	* random.c (f_rand): use drand48 if possible.

Wed May 13 19:05:20 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* BeOS patches for io.c, error.c and config.guess.

Wed May 13 14:56:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_19.

	* most of the Mac and BeOS patches merged, except path separators.

	* error.c (err_append): generated SyntaxError was String.

	* ruby.h: xxx2INT, xxx2UINT checks values as int, not long.

	* ruby.h: remove typedef's. INT, UINT, UCHAR, USHORT.

Tue May 12 17:38:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_18.

Tue May 12 11:38:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* error.c (syserr_errno): returns errno of the SystemCallError.

	* error.c (rb_sys_fail): saves errno in the Exception.

	* error.c (set_syserr): no need to protect syserr_list.

	* error.c (rb_sys_fail): no more bufsize limit.

	* error.c (set_syserr): integer value of errno can be accessed by
	  Errno::EXXX::Errno.

Sun May 10 03:10:33 1998  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* io.c (io_tell etc.): moved from File class to IO class.

Fri May  8 12:26:37 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (pack_unpack): should be unsigned int (was signed int).

Thu May  7 16:34:10 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (pack_pack): `V', `N' uses newly created NUM2UINT().

	* ruby.h (NUM2UINT): new macro.

	* bignum.c (big2uint): try to convert bignum into UINT.

	* re.c (reg_match): needed to return false for match with nil.

	* gc.c (obj_free): wrong condition to free string.

Wed May  6 21:08:08 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ruby.c (ruby_process_options): modified for DJGPP.

Wed May  6 15:48:03 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_17.

Wed May  6 01:37:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c: remove global variable `errat'.

	* eval.c (rb_longjmp): embed error position information in the
 	  exception object.

Sat May  2 12:20:02 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_search): supports reverse search.

	* string.c (str_index_method): does update $~ etc.

	* eval.c (f_load): needed to clear the_dyna_vars.

	* eval.c (dyna_var_asgn): do not push dyna_var, which is id == 0.

	* error.c (Init_Exception): NotImplementError is no longer
	  StandardError, which is not handled by default rescue.

Fri May  1 00:35:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (proc_options): `-d' turns on verbose flag too.

	* error.c (exception): last argument may be the superclass of the
	  defining exception(s).

	* io.c (Init_IO): EOFError is now subclass of the IOError.

	* io.c (Init_IO): forgot to define IOError.

	* error.c (Init_Exception): old Exception class renamed to
	  StandardError.  Exception now replaces old GlobalExit.

	* error.c (Init_Exception): Exception is now the root of the
	  Global Exits.  There's no longer GlobalExit class.

	* util.c (ruby_mktemp): check TMP, TMPDIR first.

Thu Apr 30 01:08:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/tk.rb: call 'unknown', if proc not defined.

	* eval.c (handle_rescue): default rescue handles `Exceptional' not 
	  only the instance of the `Exception's.

	* eval.c (f_raise): exception can be any object.

	* time.c (time_gm_or_local): call time_gmtime or time_localtime.

	* eval.c (f_raise): raises TypeError if the class which is not a
	  subclass of String is specified (checked in exc_new()).

	* error.c (exc_new): need to check whether invalid class (not a
	  subclass of String) is specified.

Wed Apr 29 21:05:44 1998  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ruby.c (proc_options): option '-e' via tempfile.

Tue Apr 28 15:27:58 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_16.

Tue Apr 28 00:07:38 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (obj_is_proc): type check predicate.

	* eval.c (obj_is_block): ditto.

Mon Apr 27 16:59:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/gtk/gtk.c (Init_gtk): use timeout, not idle to avoid
	  consuming CPU too much.

	* lib/tk.rb: use tcltklib#_invoke instead of `_eval'.

Mon Apr 27 16:59:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_sort): use dup, not clone.

Mon Apr 27 13:46:27 1998  Tadahiro Maebashi  <maebashi@@iij.ad.jp>

	* ext/tcltklib/tcltklib.c (ip_invoke): invoke tcl command
	  directly.  need not worry about escaping tcl characters.

Mon Apr 27 12:04:43 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* random.c (f_rand): do not call srand() implicitly.

Fri Apr 24 14:35:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_15.

	* parse.y (assignable): dyna_var_asgn actually defines nested
	  local variables in outer context.

	* random.c (f_rand): call srand(), if it has not called yet.

	* random.c (f_srand): use tv_usec as the default seed.

	* eval.c (rb_eval): values of nested local variables should be
 	  independent.

	* eval.c (rb_yield_0): local variables wrong nested conditions.

Wed Apr 22 23:27:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (select_get_io): get IO object by `to_io'.

	* io.c (io_to_io): method to retrieve IO object, from delegating
 	  object for example.

Wed Apr 22 16:52:37 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_14.

	* string.c (str_modify): check for embedded pointer reference.

	* gc.c (obj_free): ditto.

	* pack.c (pack_pack): p/P template to embed pointers.

Wed Apr 22 00:07:10 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* array.c (ary_rindex): embarrassing typo.

Tue Apr 21 12:31:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_13.

	* configure.in (RUBY_LIB): supports --program-{prefix,suffix}.

	* array.c (ary_rindex): new method.

	* io.c (io_binmode): should return self.

Tue Apr 21 08:23:04 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* parse.y (here_document): calling parse_string with wrong
	  arguments.

	* struct.c (struct_aset): problem member assignment with name.

Mon Apr 20 14:47:49 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_12.

	* time.c (time_arg): args may be string (support for reduced
	  implicit type conversion).

	* lib/base64.rb: changed to use pack/unpack with `m' template.

Mon Apr 20 06:23:20 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (mod_remove_const): new method.

Sat Apr 18 03:53:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (hash_each_with_index): removed.  use Enumerable's
	  each_with_index instead.

	* class.c (rb_include_module): check for super modules, since
 	  module's included modules may be changed.

Fri Apr 17 21:50:47 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* marshal.c (r_long): r_byte() may return signed byte.

Fri Apr 17 11:58:30 1998  NAGAI Hidetoshi  <nagai@@dumbo.ai.kyutech.ac.jp>

	* ext/tcltklib/tcltklib.c (lib_mainloop): thread and interrupt check.

Fri Apr 17 11:06:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (find_file): try to fopen() to check whether file exists.

	* ruby.c (load_file): ditto.

	* struct.c (struct_aset): struct member can be set by member name.

Fri Apr 17 00:47:19 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/extmk.rb.in: added m68k-human support

	* file.c (LOCK_SH): defines moved.

	* array.c (ary_flatten_bang): simplified loop.

Thu Apr 16 16:52:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_11.

	* lib/tk.rb: thread support (experimental - maybe slow).

	* eval.c (rb_longjmp): trace event on exception in raising
 	  context, just before raising exception.

	* struct.c (struct_s_members): forgot to check singletons.

	* struct.c (struct_aref): members can be accessed by names too.

	* array.c (ary_flatten): new method.

	* eval.c (rb_longjmp): prints exception information with `-d'.

	* object.c (any_to_s): remove class name restriction.

Thu Apr 16 01:38:02 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (thread_flock): do not block other threads.

	* eval.c (thread_trap_eval): signals are now delivered to the
 	  current thread again.  In case that the current thread is dead,
 	  signals are forwarded to the main thread.

	* string.c (str_new4): need not to duplicate frozen strings.

Wed Apr 15 08:33:47 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* struct.c (struct_inspect): remove restriction for struct names.

Wed Apr 15 02:55:02 1998  Kazuya 'Sharl' Masuda  <sharl@@www.ufo.co.jp>

	* x68 patches to config.sub, ext/extmk.rb.in

Wed Apr 15 01:22:56 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_dup_frozen): do not duplicate frozen strings.

	* parse.y (yylex): allow nested parenthesises.

	* io.c (obj_displayln): prints newline after `display'ing the
	  receiver.

	* io.c (io_puts): avoid generating "\n" each time.  use RS_default
 	  instead.

	* io.c (f_p): ditto.

Tue Apr 14 22:18:17 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* struct.c (struct_aref): should not subtract negative index.

Tue Apr 14 11:34:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_10.

	* parse.y: token names prefixed by `t'.

	* struct.c (struct_s_def): supports subclassing of Struct.

	* io.c (io_s_new): supports subclassing of IO.

Mon Apr 13 11:07:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (f_binding): need to restore method name.

	* eval.c (rb_call0): raises SystemStackError, not Fatal.

	* io.c (obj_display): same as `print self'.

	* io.c (f_p): can now be called in the method form.

	* re.c (reg_regsub): needed to be mbchar aware.

Mon Apr 13 13:18:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_trap_eval): all signals delivered to main_thread.

Mon Apr 13 12:47:03 1998  TAKAHASHI Masayoshi  <maki@@inac.co.jp>

	* re.c (kcode_set_option): did not set SJIS on SJIS condition.

Sun Apr 12 22:14:07 1998  Kazunori NISHI  <kazunori@@swlab.csce.kyushu-u.ac.jp>

	* array.c (ary_uniq_bang): should be `==', not `='. embarrassing.

Sat Apr 11 02:13:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_subseq): SEGVed for `[][1,1]'.

Fri Apr 10 21:29:06 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* array.c (ary_subseq): add check for beg larger than array length.

Wed Apr  8 17:24:11 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* dir.c (dir_s_open): can be called with block (like IO#open).

	* dir.c (dir_s_chdir): print directory path on error.

	* dir.c (dir_s_chroot): ditto

	* dir.c (Init_Dir): needed to override `new'.

Thu Apr  9 18:24:58 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_09.

	* string.c (str_cmp): do not depend on sentinel at the end of the
	  strings. 

	* string.c (str_chomp_bang): forgot to set the sentinel.

Wed Apr  8 00:59:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (big2int): converted int may be too big to fit in
	  signed int.

	* parse.y (arg): `foo += 1' should not cause an error.

	* variable.c (rb_const_defined): returned false even if the
	  constant is defined at the top level.

	* eval.c (f_local_variables): dyna_var->id may be null.  should
	  have checked before calling str_new2().

Tue Apr  7 01:15:15 1998  Kaneko Naoshi  <wbs01621@@mail.wbs.or.jp>

	* re.c (reg_regsub): need to check string boundary.

Tue Apr  7 19:19:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_cmp): returns either 1, 0, -1.

	* array.c (ary_cmp): should check array length, too

Tue Apr  7 18:50:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_08.

Tue Apr  7 18:31:27 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* instruby.rb (mandir): dll installation for cygwin32

Tue Apr  7 01:16:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* config.sub (maybe_os): TOWNS support?

	* config.guess: too strict check for libc versions on linuxes.

	* experimental release 1.1b9_07.

	* array.c (ary_cmp): compare each element using `<=>'.

	* hash.c (hash_each_with_index): yields [value, key] pair.

	* class.c (class_protected_instance_methods): list protected
	  method names.

	* class.c (ins_methods_i): exclude protected methods.

	* eval.c (PUSH_BLOCK): dynamic variables can be accessed from
 	  eval() with bindings.

Mon Apr  6 14:49:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_yield): must return evaluated value.

Fri Apr  3 13:07:29 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_schedule): context switch bypassed on wrong
	  conditions.

	* variable.c (rb_name_class): set classname by id before String
 	  class is initialized (1.0 behavior restored).

Fri Apr  3 11:25:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (num2int): no implicit conversion from string.

	* numeric.c (num2int): check whether `to_i' returns an Integer.

	* numeric.c (num_zero_p): new method.

	* numeric.c (num_nonzero_p): new method.  returns the receiver if
 	  it's not zero.

	* eval.c (obj_instance_eval): the_class should be the object's
	  singleton class.

	* error.c (exc_s_new): message is converted into a string.

Thu Apr  2 18:31:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (obj_call_init): every object call `initialize'.

Wed Apr  1 08:51:53 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* parse.y (stmt): UNTIL_MOD should be for stmt, not only for expr.

Wed Apr  1 01:20:31 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (true_and): boolean operators &, | and ^.

Tue Mar 31 13:23:58 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_compact_bang): returns nil, if it does not modify
	  the array like String's bang methods.

	* array.c (ary_uniq_bang): new method to remove duplicate items.

	* eval.c (bind_s_new): new method.

	* numeric.c (num2int): raise exception if Fixnums too big to
 	  convert into `int' in case that sizeof(int) < sizeof(INT).

	* string.c (str_center): SEGV on negative width.

	* eval.c (eval): forgot to set sourcefile.

Mon Mar 30 11:12:29 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (f_test): raises exception for unknown command.

	* eval.c (Init_eval): `class_eval': alias to the module_eval.

Mon Mar 30 18:50:42 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* string.c (str_capitalize_bang): did not check string modification.

	* string.c (str_delete_bang): wrong conversion.

	* string.c (str_intern): typo in error message.

Mon Mar 30 01:44:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (obj_instance_eval): accepts block as evaluation body.
	  No compilation needed each time.

	* eval.c (mod_module_eval): ditto

	* file.c (file_s_umask): umask did not return old values, if no
 	  argument given.

Sun Mar 29 00:54:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (f_throw): nil returned always.

Sat Mar 28 20:40:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_06.

Sat Mar 28 16:07:11 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* io.c (io_closed): should not cause exception for closed IO.

	* string.c (str_tr): returned nil for success.

Sat Mar 28 00:47:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (f_local_variables): new method to return an array of
 	  local variable names.

	* variable.c (obj_instance_variables): now returns an array of
	  variable names, as described in the reference.

	* eval.c (rb_attr): honors default method visibility of the
	  current scope.

Fri Mar 27 13:49:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_05.

	* ruby.c (ruby_prog_init): `site_ruby' added to load_path.

	* ruby.c (ruby_prog_init): load-path order changed.  Paths in
 	  the RUBYLIB environment variable comes first in non-tainted
 	  mode.

Thu Mar 26 11:51:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_call): new feature: `protected' methods.

	* string.c (str_dump): new method.

	* eval.c (block_pass): block argument can be nil, which means no
	  block is supplied for the method.

Wed Mar 25 21:20:13 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* string.c (str_reverse_bang): string copied to wrong place.

Wed Mar 25 08:12:07 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (flo_modulo): caused SEGV if left operand is not a
 	  float value.

	* eval.c (f_eval): optional third and fourth argument to specify
	  file-name and line-number.

	* eval.c (eval): file-name and line-number set properly.

	* parse.y (assign_in_cond): literal assignment is now warning, not 
	  compile error.

	* error.c (Warn): Warn() always print message, OTOH Waring()
	  prints when verbose flag is set.

Tue Mar 24 12:50:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (ruby_prog_init): `.' should come last in the load-path.

	* eval.c (Init_eval): `__send__', alias for `send'.

Mon Mar 23 12:44:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_chomp_bang): now takes `rs' as an argument.

	* eval.c (thread_free): main_thread should not be freed.

Fri Mar 20 16:40:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_chomp_bang): chomp! (and other ! methods) returns
 	  nil if it does not modify the string.

	* string.c (str_sub_iter_s): should check last pattern since it
 	  may be matched to null.

Thu Mar 19 13:48:55 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_04.

	* parse.y (yylex): `10e0.9' should cause syntax error.

Wed Mar 18 17:46:31 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (load_file): new file object constant DATA.  Only
	  available for the script from the file.

	* regex.c (re_match): forwarding failure point popped too much. 

Tue Mar 17 18:23:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* math.c (math_frexp): newly added.

	* math.c (math_ldexp): ditto.

	* bignum.c (bigdivmod): calculates modulo.

	* numeric.c (fix_remainder): returns reminder, formerly introduced
 	  as modulo.

	* numeric.c (fix_modulo): calculates proper `modulo'.

	* bignum.c (bigdivmod): wrong sign for reminder.

Mon Mar 16 17:07:28 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_03.

Mon Mar 16 16:33:53 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* io.c (pipe_finalize): needed to add pipe_finalize to pipes on
	  cygwin32.

Mon Mar 16 14:11:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (ins_methods_i): needed to consider NOEX_UNDEF.

Mon Mar 16 13:23:53 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* io.c (io_check_closed): check for `fptr->f2 == NULL'.

	* io.c (io_fptr_close): ditto.

Mon Mar 16 11:49:25 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (pipe_atexit): free()ing referencing pipe_list.

	* range.c (range_length): returns zero, if the first is greater
	  than the last.

	* signal.c (trap_restore_mask): restore signal mask before raising 
	  exceptions and throws.

Fri Mar 13 13:49:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_02.

	* object.c (mod_clone): need to dups constants and instance
	  variables.

	* eval.c (rb_eval): forgot to initialize body for NODE_DEFS.

	* eval.c (rb_eval): retrieve self from calling frame, since self
	  changes sometimes.

	* env.h (FRAME): need to save self in the calling frame.

	* io.c (f_gets_method): rs should be initialized by RS.

Thu Mar 12 15:33:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_01.

	* range.c (range_s_new): check values by `first <= last'.

	* parse.y (lastline_set): fixed offset for $_ and $~ in the local
	  variable space.

Wed Mar 11 02:14:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_gets): handle normal case specially for speed.

	* eval.c (rb_disable_super): function to disable superclass's
	  method explicitly.

	* eval.c (rb_eval): inherits previous method definition's
	  NOEX_UNDEF-ness, if exists.

	* class.c (rb_define_method): disables superclass's overriding
 	  method by default.

Wed Mar 11 01:40:48 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* numeric.c (flo_gt,etc.): do not depend on `<=>', to handle NaN.

Tue Mar 10 00:03:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (load_file): understands multiple options in #! line.

	* regex.c (re_compile_pattern): support for [:alpha:] etc.

Mon Mar  9 16:53:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.h (GetOpenFile): embed io_check_closed in GetOpenFile.

	* sprintf.c (f_sprintf): zero padding failed for negative
	  integers.

	* sprintf.c (remove_sign_bits): failed to remove some bits.

Sat Mar  7 21:51:46 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* class.c (ins_methods_i): body may be NULL for some case.

Fri Mar  6 17:23:07 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (mbcinit): table driven mbchar detection.

	* object.c (obj_alloc): check for allocating instance for the
	  primitive classes (mostly perfect).

	* ext/curses/curses.c (curses_finalize): restore original state at 
	  interpreter termination.

	* ext/curses/curses.c (curses_addstr): forgot to check argument
	  type (caused SEGV).  now uses STR2CSTR() macro.

Thu Mar  5 13:47:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (block_pass): accepts method object as block args.

	* eval.c (f_missing): use any_to_s() for stringify.

Wed Mar  4 01:39:52 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (block_arg): new syntax - block argument in the
	  calling arglist.

	* eval.c (rb_call): no module search. simplified a lot.

	* eval.c (rb_eval): block arg support.

	* parse.y (f_block_arg): new syntax - block argument in the
 	  formal arglist.

Tue Mar  3 14:20:15 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (obj_method): returns bound method object.

	* eval.c (rb_call): argument check for empty methods.

	* ruby.h (NUM2CHR): new macro, originally from curses module.

Tue Mar  3 13:03:35 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* io.c (io_putc): new method.

Tue Mar  3 11:21:28 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_inspect): more strict charcode detection.

	* eval.c (thread_stop): stopping only thread raises ThreadError
	  exception.

Tue Mar  3 08:04:56 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* struct.c (struct_alloc): incomplete struct initialization made
 	  GC to access unallocated addresses.

Mon Mar  2 16:28:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_stop_method): remove Thread#stop.

Fri Feb 27 18:16:26 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b9 released.

Fri Feb 27 09:36:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (hash_delete_nil): needed to compare value to nil, since
	  nil is the valid key for hashes.

	* hash.c (hash_foreach_iter): rehashing causes IndexError.

	* hash.c (hash_foreach_iter): rehash check by pointer comparison.

Thu Feb 26 17:22:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (fname): convert reswords into symbols.

	* parse.y (reswords): reserved words are now embedded in the
 	  syntax (sigh).

	* parse.y: now reserved words can be method names safely.

Wed Feb 25 15:50:07 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (mod_module_eval): clear the_scope's PRIVATE flag before
	  calling eval().

	* gc.c (gc_call_finalizer_at_exit): run finalizers before any data 
	  object being freed.

	* eval.c (rb_eval): needed to keep prot_tag->retval before
	  evaluating the ensure clause.

Tue Feb 24 11:16:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): reserved words can be appear as method names at
 	  right after 'def' and `.'(dot), like foo.next.

	* eval.c (return_check): checks for return out of thread (formerly
 	  done in return_value).

	* eval.c (POP_TAG): copy retval to outer level.

	* eval.c (return_value): just set retval, no check, no unwinding.

	* parse.y (nextc): line continuation by backslash at end of line.

	* regex.c (re_compile_pattern): forgot to clear pending_exact on
	  closing parentheses.

	* parse.y (assignable): should not assign dyna_var to true, if it
 	  is already defined.

Mon Feb 23 14:35:03 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (obj_is_kind_of): no longer accepts true/false/nil.

	* object.c ({true,false,nil}_to_i): can be converted into integers.

Mon Feb 23 12:11:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_s_quote): needed to be mbchar aware.

	* eval.c (proc_s_new): wrong iter mark.

Sat Feb 21 22:59:30 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* io.c (f_syscall): no argument check.

Fri Feb 20 10:17:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b8 released.

	* ext/kconv/kconv.c (kconv_kconv): default output code now be
	  determined according to the value of $KCODE.

	* re.c (rb_get_kcode): can retrieve $KCODE from C code. 

	* parse.y (stmt): if/unless modifiers returns nil, if condition is 
	  not established.

Thu Feb 19 11:06:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/kconv/kconv.c (kconv_kconv): charcode can be specified by
	  code name (JIS, SJIS, EUC like value of $KCODE).

	* regex.c (re_compile_pattern): forgot to fixup_jump for (?:..).

	* regex.c (re_compile_pattern): needed to clear pending_exact on
	  non-registering grouping (?:...).

Wed Feb 18 19:54:21 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (here_document): needed to set lex_state to EXPR_END.

Wed Feb 18 18:45:10 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* patches for cygwin32 applied.

Wed Feb 18 00:41:31 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_sub_s): needed to be mbchar aware to increment one
 	  character.

	* regex.c (re_match): \Z matches newline just before the end of
	  the string.

Tue Feb 17 00:04:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_arg): Time.gm and Time.local now understands
 	  Time#to_a format.

	* string.c (str_sub_s): replace happened twice for null pattern.

	* regex.c (re_search): null pattern should not match after newline 
	  at the end of string.

	* time.c (time_isdst): now returns boolean value.

	* error.c (rb_check_type): treat special constants in messages.

	* parse.y (yylex): new form `::Const' to see toplevel constants.

	* parse.y (cond): SEGV on `if ()'.

	* gc.c (obj_free): some data needed explicit free().

Mon Feb 16 23:55:40 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (blk_free): release duplicated block informations.

	* eval.c (blk_copy_prev): duplicate outer block information into
 	  the heap, when proc/binding created.

Mon Feb 16 14:38:25 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_mon): now 1 for January and so on.

	* time.c (time_year): year in 19xx (no + 1900 needed anymore).

Mon Feb 16 13:28:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): need to fetch mbchar's second byte
 	  without translation.

Mon Feb 16 12:29:27 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* eval.c (f_pass_block): pass iterator block to other method.

Fri Feb 13 08:16:11 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (parse_regx): handle \s before read_escape().

	* parse.y (read_escape): `\s' in strings as space.

Tue Feb 10 17:29:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b7 released.

	* string.c (str_aset): string insertion by `str[n] = str2'.

	* string.c (str_oct): does recognize `0x'.

 	* sprintf.c (f_sprintf): use base 10 for conversion from string to
 	  integer.

Mon Feb  9 14:51:56 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (do_coerce): proper error message.

	* string.c (str_sum): bug - masked by wrong value. (sigh..)

Sat Feb  7 15:11:14 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_empty): new method

Fri Feb  6 01:42:15 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_asctime): use asctime(3), not strftime(3).

Thu Feb  5 18:58:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_fptr_close): do not free path on close().

	* array.c (ary_filter): new method.

	* enum.c (enum_each_with_index): new method.

Thu Feb  5 14:10:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (primary): singleton class def can be appeared inside
 	  method bodies.

	* hash.c (hash_replace): replace content.

	* string.c (str_replace_method): replace content.

	* array.c (ary_replace_method): replace elements.

	* string.c (str_succ_bang): String#succ!

Thu Feb  5 18:20:30 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* string.c (str_upcase_bang): multi byte character support.

Wed Feb  4 13:55:26 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_reverse): SEGV on empty array reverse.

Tue Feb  3 12:24:07 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (match_to_a): non matching element should be nil.

	* ruby.c (ruby_load_script): load script after all initialization.

	* bignum.c (str2inum): need to interpret prefix `0' of `0x'.

Tue Feb  3 10:00:18 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* numeric.c (fix_rshift): use `sizeof(INT)*8' instead of 32.

Mon Feb  2 14:09:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (set_arg0): grab environment region too.

Thu Jan 29 18:36:25 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* process.c (rb_proc_exec): check `sh' to be exist.

Thu Jan 29 18:18:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_stdio_set): assignment to $stdin or $stdout does
	  reopen() as well as $stderr.

Thu Jan 29 14:18:40 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (mod_ancestors): should not include singleton classes.

	* object.c (obj_type): should not return internal class.

	* io.c (io_reopen): unwillingly closes stdio streams.

Thu Jan 29 11:50:35 1998  Toshihiko SHIMOKAWA  <toshi@@csce.kyushu-u.ac.jp>

	* ext/socket/socket.c (udp_addrsetup): forgot to use htons().

Tue Jan 27 23:15:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* keywords: __FILE__, __LINE__ are available again.

Fri Jan 23 14:19:28 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b6 released.

	* object.c (mod_to_s): need to duplicate classpath.

	* error.c (exc_inspect): need to duplicate classpath.

Thu Jan 22 00:37:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.h (STR2CSTR): new macro to retrieve char*.

	* class.c (rb_define_method): `initialize' should always be
	  private, even if it defined by C extensions.

	* eval.c (rb_eval): `initialize' should always be private.

Thu Jan 22 16:21:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): some singleton class def cause SEGV.

	* eval.c (TMP_ALLOC): replace ALLOCA_N, where thread context
 	  switch may happen.

Wed Jan 21 01:43:42 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (PUSH_FRAME): do not use ALLOCA_N().  crash on some
	  platforms that use missing/alloca.c.

	* regex.c (re_compile_pattern): too many pops for non register
	  subexpr.

	* parse.y (yylex): open parentheses after identifiers are argument 
	  list, even if whitespaces have seen.

Tue Jan 20 15:19:59 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (terms): quoted word list by %w(a b c).

	* ext/tcltklib/extconf.rb: more accurate check for tcl/tk libs.

	* file.c (rb_stat): most of the FileTest methods (and function
 	  `test') accept File objects as the argument.

Tue Jan 19 18:19:24 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/extmk.rb.in (install): there should be no newline after install:

	* re.c (MIN): renamed from min().  there's a local variable named
 	  min in the file, so that some cpp will raise an error.

Mon Jan 19 16:30:05 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b5 released.

	* process.c (rb_syswait): no exception raised.

Fri Jan 16 00:43:43 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.h (CLONESETUP): copies its singleton classes too.

	* class.c (singleton_class_attached): saves binded object in the
	  singleton classes.

	* eval.c (rb_eval): calls singleton_method_added even in the
	  singleton class clauses.

Fri Jan 15 23:22:43 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ruby.c (proc_options): -S does not recognize PATH.

Thu Jan 15 02:03:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_clear_cache_by_id): clear only affected cache
	  entries.

Wed Jan 14 02:14:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c: new UDP/IP socket classes.

Tue Jan 13 10:00:18 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_cmp): ignorecase($=) works wrong.

Fri Jan  9 13:19:55 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b4 released.

	* eval.c (f_missing): class name omitted from the error message.

	* error.c (exc_inspect): description changed.

	* string.c (Init_String): GlobalExit's superclass did not filled,
	  since GlobalExit created earlier than String.

Thu Jan  8 12:10:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (aryset): expr in the brackets can be null.

Wed Jan  7 21:13:56 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_reopen): keep stderr unclosed.

	* io.c (io_errset): keep stderr unclosed.

Tue Jan  6 00:27:43 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y: syntax modified for `while expr do .. end' etc.

	* process.c (f_exec,f_system): can supply arbitrary name for the
 	  new process.

Mon Jan  5 16:59:13 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* file.c (file_s_basename): removes any extension by ".*".

Sun Jan  4 19:36:22 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* parse.y (yylex): needed to update lex_p (reading point).

Sat Jan  3 19:14:14 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* class.c,object.c: duplicate defines mKernel and cFinxnum.

Fri Jan  2 20:38:59 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/curses/curses.c (NUM2CHAR): uses the first character for
 	  string arguments.

	* array.c (ary_fill): did not extend array for ranges.

	* array.c (beg_len): did not return end pos bigger than size.

Fri Jan  2 02:09:16 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* dir.c (dir_s_chdir): bug in nil check.

	* array.c (ary_fill): bug in nil check.

Tue Dec 30 11:46:23 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (env_path_tainted): checks directories in PATH
	  environment variable are not world writable.

	* ruby.c (load_file): invoke specified interpreter if the #! line
 	  does not contain the word `ruby'.

Fri Dec 26 03:26:41 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (uscore_get): type information included in the error
 	  message.

	* variable.c (f_untrace_var): does not free trace-data within
 	  trace procedure.

Thu Dec 25 02:50:29 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b3 released.

	* ruby.h: inlining some functions on gcc 2.x

Tue Dec 23 02:47:33 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): public/private information kept in the current 
	  scope, to remove undesired state from the class/module.

	* time.c (time_strftime): remove hidden limit of 100 bytes of
	  result string, using malloc'ed buffer. 

	* hash.c (hash_update): merges the contents of another hash,
	  overriding existing keys.

	* regex.c (must_instr): totally re-written.

	* io.c (read_all): try to allocate proper sized buffer using
	  fstat(2) for speedup.

Sat Dec 20 00:27:28 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (must_instr): need to skip 2 bytes for mbchars.

Fri Dec 19 01:18:29 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b2 released.

	* eval.c (check_errat): check and convert (if necessary) traceback 
	  information before assigning to the variable $@@.

	* eval.c (f_raise): optional third argument to specify traceback
	  information.

	* io.c (f_open): prevent infinite recursive call.

Thu Dec 18 19:33:47 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_rindex): now accepts regexp as index.

Thu Dec 18 18:42:50 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/socket/extconf.rb: modified to detect win32 socket lib.

Thu Dec 18 00:25:03 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_equal): checks for source and casefold and kcode matching.

	* marshal.c: became built-in module.

	* ext/marshal/marshal.c (r_object): displays struct name for
	  non-compatible struct.

	* string.c (str_index_method): now searches character (fixnum) in
	  the string.

	* string.c (str_include): redefine `include?'.

	* regex.c (re_match): start_nowidth saves current stack position
	  to stop_nowidth.

	* regex.c (re_compile_pattern): add space to stop_nowidth to save
	  runtime stack position.

Tue Dec 16 14:57:43 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (scan_once): wrong exception for regexp that match with 
	  null string (use substr instead of subseq).

Sat Dec 13 00:13:32 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (expr): remove bare assocs from expr rule.

	* rbconfig.rb: renamed from config.rb (it was too generic name).

Fri Dec 12 00:50:25 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (expr): warns if BEGIN or END appear in the method
 	  bodies.

	* string.c (str_match): calls y =~ x if y is neither String nor
	  Regexp so that eregex.rb works.  

	* eval.c (f_at_exit): to register end proc.

	* class.c (rb_define_module_function): define 'function' method
	  for the Module, not private method.

	* class.c (rb_define_function): function to define `function' method.

	* eval.c (rb_eval): inherit visibility from superclass's method
	  except when it is set to `function'

	* eval.c (rb_eval): new visibility status `function'.

	* parse.y (yycompile): do not clear eval_tree. thus enable multiple 
	  command line script by option `-e'.

	* eval.c (rb_eval): END execute just once.

	* parse.y (expr): BEGIN/END built in the syntax.

Thu Dec 11 13:14:35 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (mod_le): Module (or Class) comparison.

	* eval.c (rb_remove_method): raises NameError if named method does 
	  not exist.

	* ext/curses/curses.c: remove CHECK macro for BSD curses.

Thu Dec 11 12:44:01 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* pack.c: sun4 cc patch

Wed Dec 10 15:21:36 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/marshal/marshal.c (marshal_load): can supply evolution proc
	  object as optional second argument.

	* re.c (reg_source): get source string of the regular expression.

Tue Dec  9 10:05:17 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b1 released.

	* parse.y (tokadd): token buffer overrun.

	* ruby.c (ruby_prog_init): forgot to protect rb_argv0 from gc.

	* eval.c (ruby_run): call finalizers at process termination.

	* gc.c (gc_call_finalizer_at_exit): call free proc for every Data
 	  Wrapper, and finalizer for specified objects at termination.

	* version.c (show_version): version format changed.

	* regex.c (re_match): wrong match with non-greedy if they appear
	  more than once in regular expressions.

	* sample/ruby-mode.el (ruby-expr-beg): forgot to handle modifiers.

Mon Dec  8 19:00:15 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_puts): just put a newline if no argument given.

	* ext/tcltklib/tcltklib.c (lib_mainloop): thread-aware tk handle
 	  when $tk_thread_safe is set.

	* ext/tcltklib/tcltklib.c (lib_mainloop): use Tcl_DoOneEvent()
	  instead of Tk_MainLoop().

Mon Dec  6 07:11:16 1997  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* io.c (io_puts): core dumped without any argument.

Fri Dec  5 18:17:17 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (mod_remove_method): remove (not undef) a method from the 
	  class/module.

	* variable.c (obj_remove_instance_variable): method to remove
	  instance variables.

Thu Dec  4 13:50:29 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b0 released.

	* string.c (str_aref): called str_index for regexp.

Mon Dec  1 15:24:41 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* compar.c (cmp_between): wrong comparison made.

Wed Nov 26 18:18:05 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/mkmf.rb: generate Makefile for extension modules out of ruby 
	  source tree. use like `ruby -r mkmf extconf.rb'.

	* numeric.c (fix2str): enlarge buffer to prevent overflow on some
	  machines.

	* parse.y (here_document): wrong line number generated after here-doc.

Fri Nov 21 13:17:12 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): skip multibyte characters in comments.

Wed Nov 19 17:19:20 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (nil_to_a): nil.to_a => [].

	* parse.y (call_args): wrong node generation.

Tue Nov 18 10:13:08 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (Init_Array): Array#=== works as Array#include?

	* regex.c (re_compile_pattern): insert initialize code for jump_n, 
	  before entering loops.

	* re.c (reg_search): does not save registers unless $& etc appear
	  in the script.

Mon Nov 17 13:01:43 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (is_defined): add defined? check for receivers and
 	  arguments for calls.

	* re.c (reg_search): cache last match object.

	* re.c (match_aref): $[0] etc. are available.

Sat Nov 15 00:11:36 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* io.c (io_s_popen): "rb" detection

Fri Nov 14 18:28:40 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (scan_once): returns whole match if the pattern does
	  not contain any parentheses.

Thu Nov 13 14:39:06 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_sub): returns copy of the receiver string, even if 
	  any substitution occurred.

	* regex.c (re_compile_pattern): no-width match by (?=..), (?!..).

Wed Nov 12 13:44:47 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c: remove coerce from Time class.

	* regex.c (re_match): non-greedy match by ??, *? +?, {n,m}?.

Mon Nov 10 11:24:51 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): non-registering parens (?:..).

	* regex.c (re_compile_pattern): new meta character \< (wordbeg)
	  and \> (wordend).

	* regex.c (re_compile_pattern): embedded comment for regular
	  expression by (?#...).

Fri Nov  7 16:58:24 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): perl5 regxp \A and \Z available.

	* regex.c (re_compile_pattern): can expand compile stack dynamically.

	* regex.c (PUSH_FAILURE_POINT): wrong compare condition.

Wed Nov  2 16:00:00 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* string.c (str_sub_s): "".sub! "", "" => "\000"

Fri Oct 31 15:52:10 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (assoc): keyword assoc like {fg->"black"}.

Thu Oct 30 17:33:38 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_println): print with newline, which is not affected by
	  the values of $/ and $\.

Thu Oct 30 16:54:01 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* string.c (str_chop_bang): "".chop caused SEGV.

	* string.c (str_chomp_bang): method to chop out last newline.

Mon Oct 27 13:49:13 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/extmk.rb.in: library may have pathname contains `.'

	* eval.c (rb_rescue): should not protect SystemError.

Fri Oct 24 10:58:53 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_s_with_open_stream): ensures to close stream.

Thu Oct 23 11:17:44 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_errset): value of $stderr can be changed (to any IO
 	  object).

	* io.c (next_argv): $< can be anything that responds to `write'.

	* file.c (file_s_with_open_file): ensures to close file.

	* error.c (exception): create error under the current class/module.

	* range.c (range_eqq): fixnum check for last needed too.

Wed Oct 22 12:52:30 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c: Socket::Constants added.

	* file.c: File::Constants added for inclusion.

	* array.c (ary_join): call ary_join() recursively for the 1st
 	  array element.

Mon Oct 20 12:18:29 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ruby.c (load_file): wrong condition for #! check with -x.

	* file.c (file_s_dirname): did return "" for "/a".

Fri Oct 17 14:29:09 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c: now works on alpha-linux.

	* bignum.c (bigadd): some undefined side effect order assumed.

Wed Oct 15 17:49:24 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* intern.h: function prototypes added.

Mon Oct 13 16:54:18 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (rb_define_class_id): call superclass's `inherited'
 	  method when making subclasses.

	* parse.y (nextc): clear lex_lastline at the end of file.

	* object.c (Init_Object): need to undef Class#append_features.

	* eval.c (rb_eval): no warning on extending classes or modules.

Thu Oct  9 11:17:50 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (error_print): the exception name follows after the error 
	  message.

	* eval.c (compile_error): error message slightly changed.

	* parse.y (nextc): script parsing will be terminated by __END__ at
 	  beginning of line.

	* eval.c (compile_error): `__END__' is no longer a keyword.

	* parse.y (nextc): protect lastline read from script stream.

Tue Oct  7 14:06:06 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1 alpha9 released.

	* eval.c (mod_append_features): renamed from extend_class.

	* eval.c (rb_eval): defining method calls `method_added'.

	* eval.c (ruby_options): exception while processing options must
	  terminate the interpreter.

	* error.c (Init_Exception): wrong method configuration.  `new'
	  should have been a singleton method.

Mon Oct  6 18:55:38 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/kconv/kconv.c (kconv_guess): code to guess character code
	  from string.

Mon Oct  6 18:38:17 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* pack.c: now encode/decode base64 by `m' template.

Fri Oct  3 10:51:10 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* MANIFEST: needed to include lex.c in the distribution.

	* eval.c (ruby_options): f_require() called too early.

	* eval.c (rb_provide): module extensions should always be `.o'.

Thu Oct  2 11:38:31 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1 alpha8 released.

	* ext/marshal/marshal.c (r_object): remove temporal regist for
 	  structs. (caused problem if structs form cycles.)

	* parse.y (match_gen): static binding for match(=~) calls
	  with regexp literals.

Wed Oct  1 15:26:55 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c: protect retval in struct tag from GC for C_ALLOCA.

	* eval.c: no more pointer value from setjmp/longjmp.

Wed Oct  1 14:01:49 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/marshal/marshal.c (w_byte): argument must be char.

Wed Oct  1 10:30:22 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (mod_const_at): global constants now belongs to the
	  class Object.

	* object.c (Init_Object): new global constant NIL.

	* ext/marshal/marshal.c (marshal_dump): try to set binmode.

	* ext/marshal/marshal.c (r_object): forgot to re-regist structs in 
	  the object table.

	* eval.c (ruby_options): call Init_ext() before any require()
 	  calls by `-r'.

Fri Sep 30 14:29:22 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/marshal/marshal.c (w_object): marshal dumped core.

Tue Sep 30 10:27:39 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sample/test.rb: bignum test suits added.

	* eval.c (rb_eval): new pseudo variable `true' and `false'.

	* parse.y: new keywords `true' and `false' added.

Mon Sep 29 13:37:58 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (forbid_setid): forbid some options in suid mode.

	* ruby.h (NUM2DBL): new macro to convert into doubles.

Mon Sep 27 09:53:48 1997  EGUCHI Osamu  <eguchi@@shizuokanet.or.jp>

	* bignum.c: modified for speeding.

Fri Sep 26 18:27:59 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* sample/from.rb: some extensions.

Mon Sep 29 13:15:56 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (lhs): no more syntax error on `obj.CONSTANT = value'.

Fri Sep 26 14:41:46 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (ruby_run): deferred calling Init_ext() just before eval_node.

Fri Sep 26 13:27:24 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* io.c (io_isatty): forgot to return TRUE value.

Fri Sep 25 11:10:58 1997  EGUCHI Osamu  <eguchi@@shizuokanet.or.jp>

	* eval.c: use _setjmp/_longjmp instead of setjmp/longjmp on some
	  platforms.

Wed Sep 24 17:43:13 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (Init_String): String#taint and String#taint? added.

	* class.c (mod_ancestors): ancestors include the class itself.

Wed Sep 24 00:57:00 1997  Katsuyuki Okabe  <HGC02147@@niftyserve.or.jp>

	* X68000 patch.

Tue Sep 23 20:42:30 1997  EGUCHI Osamu  <eguchi@@shizuokanet.or.jp>

	* parse.y (node_newnode): SEGV on null node setup.

Mon Sep 22 11:22:46 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (ruby_prog_init): wrong safe condition check.

Sun Sep 21 14:46:02 1997  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* error.c (exc_inspect): garbage added to classpath.

Fri Sep 19 11:49:23 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (newtok): forgot to adjust buffer size when shrinking
	  the token buffer.

	* enum.c (enum_find): rb_eval_cmd() does not return value.

	* io.c (pipe_open): close fds on pipe exec. fcntl(fd, F_SETFD, 1)
	  no longer used.

Tue Sep 16 17:54:25 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (f_test): problem if wrong command specified.

	* ruby.c (ruby_prog_init): close stdaux and stdprn for MSDOS.

	* ruby.c (ruby_prog_init): should not add path from environment
	  variable, if ruby is running under setuid.

	* process.c (init_ids): check suid check for setuid/seteuid etc.

Mon Sep 15 00:42:04 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* regex.c (re_compile_pattern): \w{3} and \W{3} did not work.

Thu Sep 11 10:31:48 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1 alpha7 released.

	* ext/socket/socket.c (sock_new): no setbuf() for NT.

	* io.c (rb_fopen,rb_fdopen): set close-on-exec for every fd.

Wed Sep 10 15:55:31 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/marshal/marshal.c (r_bytes0): extra big length check.

Tue Sep  9 16:27:14 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (pipe_fptr_atexit): clean up popen()'ed fptr.

	* error.c (set_syserr): some system has error code that is bigger
	  than sys_nerr. grrr.

Mon Sep  8 18:33:33 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_s_new): dereferenced nil for optional mode.

Fri Sep  5 10:26:03 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (class_instance_methods): do not include methods which
	  are changed to private in subclasses.

Thu Sep  4 12:38:53 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (f_global_variables): list name of the global
	  variables.

	* object.c (obj_id): returns unique integer.

Wed Sep  3 14:05:16 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1 alpha6 released.

	* eval.c (mod_s_constants): context sensitive constant list.

	* variable.c (mod_constants): no more `all' option.

	* variable.c (mod_const_of): the values for autoload classes are
	  their name strings.

	* class.c (class_instance_methods): no special treatment for
	  singleton classes.

	* object.c (obj_singleton_methods): returns list of singleton
	  method names.

	* parse.y (yylex): no here document after `class' keyword.

	* eval.c (f_load): expand path if fname begins with `~'.

Tue Sep  2 13:19:48 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (ins_methods_i): do not list undef'ed methods.

Mon Sep  1 13:42:48 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1 alpha5 released.

	* object.c (mod_attr_reader): create methods to define attribute
 	  reader/write/accessor.

	* class.c (rb_define_attr): always defines accessors.

	* eval.c (rb_call): alias occurred in the module body caused SEGV.

	* parse.y: did not generate here document strings properly.

Mon Sep  1 11:43:57 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* parse.y (yylex): heredoc dropped an extra character.

Fri Aug 29 11:10:21 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (class_instance_methods): same method names should not
 	  appear more than once.

	* parse.y (yylex): spaces can follow =begin/=end.

	* variable.c (find_class_path): look for class_tbl also for
	  unnamed fundamental classes, such as Object, String, etc.

	* variable.c (rb_name_class): can't name class before String class
 	  is initialized.

	* inits.c (rb_call_inits): unrecognized dependency from GC to
	  Array.

	* variable.c (find_class_path): could not find class if Object's
 	  iv_tbl is NULL.

Thu Aug 28 13:12:05 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1 alpha4 released.

	* variable.c (mod_constants): wrong condition for singleton
	  class. 

	* parse.y (yylex): revised `=begin' skip code.

	* parse.y (here_document): forgot to free(eos).

	* parse.y (yylex): spaces after `<<' prohibited for here
 	  documents to avoid confusing with operator `<<'.

	* eval.c (is_defined): separated from rb_eval().

Wed Aug 27 11:32:42 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1 alpha3 released.

	* variable.c (mod_name): returns name of the class/module.

	* parse.y (here_document): finally here document available now.

	* variable.c (fc_i): some classes/modules does not have iv_tbl.

	* variable.c (find_class_path): avoid infinite loop.

Tue Aug 26 13:43:47 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): undef'ing non-existing method will raise
	  NameError exception.

	* object.c (class_s_new): needed to create metaclass too.

	* eval.c (error_print): no class name print for anonymous class.

	* eval.c (rb_longjmp): proper exception raised if raise() called
 	  without arguments, with $! or $@@ set.

	* object.c (Init_Object): superclass()'s method argument setting
 	  was wrong again.

	* class.c (mod_ancestors): list superclasses and included modules 
	  in priority order.

Mon Aug 25 11:53:11 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1 alpha2 released.

	* sample/ruby-mode.el (ruby-parse-region): auto-indent now
 	  supports "\\" in the strings.

	* struct.c (struct_getmember): new API to get member value from C
	  language side.

Sat Aug 23 21:39:05 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (assignable): remove unnecessary local variable
	  initialize by nil.

Fri Aug 22 14:26:40 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (error_print): modified exception print format.

Thu Aug 21 16:10:58 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sample/ruby-mode.el (ruby-calculate-indent): wrong indent level
	  calculated with keyword operators.

Thu Aug 21 11:36:58 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* parse.y (arg): ary[0] += 1 cause SEGV

Wed Aug 20 17:28:50 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (ruby_process_options): require() all modules after
 	  processing all options

	* process.c (rb_proc_exec): more security checks added.

	* process.c (rb_proc_exec): insecure path on exec.

	* hash.c (f_getenv): PATH modification security check.

Tue Aug 19 00:15:38 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1 alpha1 released.

	* eval.c (mod_eval): work as normal eval() if second binding
 	  argument given.

	* eval.c (rb_call): did not raise ArgumentError if too many
 	  arguments more than optional arguments (without rest arg).

	* eval.c (rb_eval): did not work well for op_asgn2 (attribute
	  self assignment).

	* eval.c (Init_Thread): returns main thread.

Mon Aug 18 09:25:56 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (inspect_i): did not display T_DATA instance variables.

	* parse.y: provides more accurate line number information.

	* eval.c (thread_value): include value's backtrace information in
	  the variable `$@@'. 

	* eval.c (f_abort): print backtrace and exit.

Sat Aug 16 00:17:44 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (class_new_instance): do not make instance from virtual
	  classes. 

	* object.c (class_s_new): do not make subclass of singleton class.

Fri Aug 15 15:49:46 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (call_trace_func): block context switch in the trace
	  function.

	* eval.c (rb_eval): clear method cache at class extension.

	* object.c (obj_type): returns object's class even if it defines
	  singleton methods.

Fri Aug 15 19:40:43 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/socket/socket.c (Init_socket): small typo caused SEGV.

Wed Aug 13 17:51:46 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1 alpha0 released.
@


1.1247
log
@* eval.c, file.c, gc.c, io.c, object.c, ruby.c, ruby.h, struct.c,
  ext/socket/socket.c: differentiate long and int; use proper
  printf type specifiers and do casts where appropriate.
@
text
@d1 15
@


1.1246
log
@	* eval.c (error_print, rb_longjmp, rb_thread_schedule): flush
	  error message.  [ruby-dev:18582]

	* eval.c (ruby_cleanup): added.  just clean up without exit.
	  [ruby-dev:18582]

	* eval.c (ruby_exec): added.  execute main evaluation tree without
	  exit.  [ruby-dev:18582]

	* intern.h: prototypes; ruby_cleanup, ruby_exec
@
text
@d1 6
@


1.1245
log
@* ext/extmk.rb (extmake): use dummy_makefile to create dummy
  Makefile.

* lib/mkmf.rb (find_executable0): EXEEXT is optional.

* lib/mkmf.rb (dummy_makefile): make dummy Makefile content.

* lib/mkmf.rb (create_makefile): define EXTLIB replacing -l.

* lib/mkmf.rb ($bccwin): detect Borland make by help message.

* lib/mkmf.rb (CLEANINGS): common rules to clean.
@
text
@d1 13
@


1.1244
log
@* djgpp/config.sed (@@program_transform_name@@): use `%', not `,'.
@
text
@d1 15
@


1.1243
log
@ChangeLog: commit miss.
@
text
@d1 4
@


1.1242
log
@ext/extmk.rb(78) : The unnecessary error when installing by bccwin32  is controlled.
lib/mkmf.rb(773) : Also in the case of bccwin32, the path was added.
@
text
@d8 9
@


1.1241
log
@* node.h (nd_type): cast the value to int.
@
text
@d1 7
@


1.1240
log
@* ext/dbm/dbm.c (fdbm_indexes, fdbm_select): add a missing
  argument and prevent coredump when a nonexistent key is
  specified.

* ext/sdbm/init.c (fsdbm_indexes, fsdbm_select): ditto.
@
text
@d1 4
@


1.1239
log
@* eval.c, gc.c: adopt a common set of alloca() #ifdef's.  This
  fixes the build with Intel C Compiler for Linux.

* eval.c (rb_f_require): declare old_func with a real type, not
  just type modifiers.
@
text
@d1 8
@


1.1238
log
@* ChangeLog: add ML ref.
@
text
@d1 8
@


1.1237
log
@* string.c (rb_str_split_m): RSTRING(str)->ptr might become NULL.
@
text
@d4 1
@


1.1236
log
@* configure.in (LIBPATHFLAG): avoid $ substitution.
  [ruby-dev:18577]

* ext/extmk.rb (extmake): expand $srcdir.

* ext/win32ole/extconf.rb: should not override $CFLAGS, but
  append.

* lib/mkmf.rb (config_string): use given config hash.
@
text
@d1 4
@


1.1235
log
@* bcc32/Makefile.sub (.rc.res): directory part may be empty in Borland make.
@
text
@d1 11
a11 1
Thu Oct 24 14:27:38 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>
@


1.1234
log
@* lib/mkmf.rb (create_makefile): site-install target for backward compatibility.
@
text
@d1 5
@


1.1233
log
@* lib/mkmf.rb (init_mkmf): libdir prior to topdir.
@
text
@d1 4
a4 1
Thu Oct 24 03:19:22 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>
a6 2

Thu Oct 24 02:22:41 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>
@


1.1232
log
@* configure.in (LIBPATHFLAG): should escape $.  [ruby-dev:18572]

* mkconfig.rb: never substute escaped $$.

* instruby.rb: not install LIBRUBY_SO unless enable-shared.
  [ruby-dev:18569]
@
text
@d1 4
@


1.1231
log
@* eval.c (rb_eval): added NODE_DSYM, symbol literal with
  interpolation.

* node.h: ditto.

* intern.h: prototypes; rb_is_junk_id, rb_str_dump, rb_str_intern

* object.c (sym_inspect): escape and quote for non-alphanumeric
  symbols.

* parse.y (dsym, tokadd_string, yylex): extended symbol literals.

* parse.y (rb_is_junk_id): added.

* string.c (rb_str_dump, rb_str_intern) : make extern.

* lib/mkmf.rb (create_makefile): deffile should be removed by
  distclean, not clean.
@
text
@d1 9
@


1.1230
log
@* lib/mkmf.rb (init_mkmf): add dir_config("opt").
@
text
@d1 21
@


1.1229
log
@*bcc32/configure.bat : The command line when calling setup.mak is corrected.
@
text
@d1 4
d10 1
a10 1
	*bcc32/readme.bcc32 : It follows up about the option of configure.bat.
@


1.1228
log
@* ext/extmk.rb (extmake): add install: target to dummy Makefile.
@
text
@d1 7
@


1.1227
log
@* instruby.rb: add dryrun mode.

* ext/extmk.rb (extmake): avoid Borland make's quirk behavior.

* lib/mkmf.rb (link_command): opt is not a makefile macro.

* bcc32/Makefile.sub ($(LIBRUBY_SO) $(LIBRUBY)): EXTOBJS were not
  linked.

* bcc32/Makefile.sub (ext/extinit.obj): missing.

* bcc32/Makefile.sub (TRY_LINK): options have to place before any
  non-option arguments.

* win32/Makefile.sub (TRY_LINK): need -link and -libpath options.

* bcc32/Makefile.sub, win32/Makefile.sub (RANLIB): logical
  operator never work with command.com.
@
text
@d1 1
a1 1
Tue Oct 22 10:13:05 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>
d4 2
@


1.1226
log
@* configure.in (RUBY_CPPOUTFILE): fix cache file bug.
* lib/mkmf.rb (link_command): put 'opt' after conftest.c for
  static linking.
@
text
@d1 21
@


1.1225
log
@* configure.in (XCFLAGS): CFLAGS to comile ruby itself.

* configure.in (LIBEXT): suffix for static libraries.

* configure.in (LIBPATHFLAG): switch template to specify library
  path.

* configure.in (LINK_SO): command to link shared objects.

* configure.in (DEFFILE, ARCHFILE): miscellaneous system dependent
  files.

* configure.in (EXPORT_PREFIX): prefix to exported symbols on
  Windows.

* configure.in (COMMON_LIBS, COMMON_MACROS, COMMON_HEADERS):
  libraries, macros and headers used in common.

* configure.in (RUBYW_INSTALL_NAME, rubyw_install_name): GUI mode
  excutable name.

* Makefile.in (CFLAGS): append XCFLAGS.

* Makefile.in (PREP): miscellaneous system dependent files.

* Makefile.in (ruby.imp, ext/extinit.o): moved from ext/extmk.rb.

* Makefile.in (fake.rb): CROSS_COMPILING keeps building platform.

* Makefile.in (MAKEFILES): depend on *.in and config.status.

* Makefile.in (parse.c): replace "y.tab.c" with actual name for
  byacc.

* ext/extmk.rb, lib/mkmf.rb: integrated.

* ext/extmk.rb: propagate MFLAGS.

* ext/extmk.rb (extmake): make dummy Makefile to clean even if no
  Makefile is made.

* lib/mkmf.rb (older): accept multiple file names and Time
  objects.

* lib/mkmf.rb (xsystem): split and qoute.

* lib/mkmf.rb (cpp_include): make include directives.

* lib/mkmf.rb (try_func): try wheather specified function is
  available.

* lib/mkmf.rb (install_files): default to site-install.

* lib/mkmf.rb (checking_for): added.

* lib/mkmf.rb (find_executable0): just find executable file with
  no message.

* lib/mkmf.rb (create_header): output header file is variable.

* lib/mkmf.rb (create_makefile): separate sections.

* lib/mkmf.rb (init_mkmf): initialize global variables.

* win32/Makefile.sub, bcc32/Makefile.sub (CPP, AR): added.

* bcc32/Makefile.sub (ARCH): fixed to i386.

* win32/Makefile.sub, bcc32/Makefile.sub (miniruby): should not
  link EXTOBJS.

* ext/dl/extconf.rb: use try_cpp to cross compile.

* ext/dl/extconf.rb: not modify files in source directory.
@
text
@d1 7
@


1.1224
log
@* parse.y (value_expr0): allow return/break/next/redo/retry in rhs
  of logical operator.  [ruby-dev:18534]

* parse.y (remove_begin): eliminate useless NODE_BEGIN.
  [ruby-dev:18535]
@
text
@d1 77
@


1.1223
log
@* hash.c, eval.c: Use (*_NSGetEnviron()) instead of environ on
  Darwin for namespace cleanness.  [ruby-core:00537]

* dln.c (dln_load): Fix Darwin support that has been disabled and
  switch to using it on Darwin instead of the system dlopen().
  [ruby-core:00541]
@
text
@d1 8
@


1.1222
log
@* marshal.c (w_byten): added; write n bytes from s to arg.

* marshal.c (dump): flush buffered data.

* marshal.c (marshal_dump, r_byte, r_bytes0, marshal_load): unify
  marshaling I/O.  [ruby-talk:53368]
@
text
@d1 9
@


1.1221
log
@* object.c (rb_str_to_dbl): RString ptr might be NULL.

* object.c (rb_cstr_to_dbl): p pointer might be NULL.

* bignum.c (rb_str_to_inum): RString ptr might be NULL.

* bignum.c (rb_cstr_to_inum): str pointer might be NULL.
@
text
@d1 9
@


1.1220
log
@* lib/fileutils.rb: stat.blksize might become 0/nil.
* lib/fileutils.rb: change coding style.
@
text
@d20 10
d34 7
@


1.1219
log
@* sprintf.c (rb_f_sprintf): disallow mixed usage of numbered and
  unnumbered arguments.  [ruby-dev:18531]
  get rid of memory leak at exception.  [ruby-core:00460]
@
text
@d1 6
@


1.1218
log
@* variable.c (rb_global_entry): not add global entry until
  initialized to avoid accessing it while GC.  [ruby-dev:18514]

* variable.c (rb_alias_variable): ditto.
@
text
@d1 6
@


1.1217
log
@* win32/win32.c (rb_w32_putc): wrong condition to fill or flush on
  bccwin32.  [ruby-win32:408]
@
text
@d1 7
@


1.1216
log
@* win32/win32.c (rb_w32_fclose, rb_w32_close): use closesocket()
  for socket.  [ruby-win32:382]

* win32/win32.c (StartSockets): set NtSocketsInitialized.

* win32/win32.h: prototypes; rb_w32_fclose, rb_w32_close
@
text
@d1 5
@


1.1215
log
@* gc.c (ruby_xmalloc, ruby_xrealloc): restrict total allocation
  size according to memories consumed by live objects.
  [ruby-dev:18482]

* gc.c (gc_sweep): estimate how live objects consume memories.
@
text
@d1 9
@


1.1214
log
@* ext/tcltklib/stubs.c (ruby_tcltk_stubs): fix memory leak.
  [ruby-dev:18478]
@
text
@d1 8
@


1.1213
log
@* lib/weakref.rb (WeakRef::@@@@final): use Hash#delete.

* lib/weakref.rb (WeakRef::__getobj__): examin if alive or not by
  ID_REV_MAP to deal with recycled object.  [ruby-dev:18472]

* lib/weakref.rb (WeakRef::weakref_alive?): ditto.
@
text
@d1 5
@


1.1212
log
@* gc.c (gc_sweep): also adjust heaps_limits when free unused heap
  page.  [ruby-core:00526]

* io.c (io_fflush): condition to retry can occur.

* io.c (io_write): returned 0 wrongly if no error occurred.
@
text
@d1 9
@


1.1211
log
@* io.c (io_write): must check returned value from fwrite() before
  test with ferror().  (ruby-bugs-ja:PR#350)
@
text
@d1 9
@


1.1210
log
@* lib/prettyprint.rb (PrettyPrint.singleline_format): new method.
@
text
@d1 5
@


1.1209
log
@* bignum.c (bigdivrem): bignum zero's len should not be 0.
@
text
@d1 4
@


1.1208
log
@* bignum.c (bigdivmod): wrong condition check for Bignum zero.

* bignum.c (Init_Bignum): need to add Bignum#div.
@
text
@d1 4
@


1.1207
log
@* eval.c (rb_load): should not pass block to the loaded file.
@
text
@d1 6
@


1.1206
log
@
* bignum.c (rb_big_rshift): num should be initialized by carry
  bits if x is negative.

* bignum.c (bigdivmod): len for bignum zero is 1, not 0.
@
text
@d1 5
@


1.1205
log
@* eval.c (rb_thread_interrupt, rb_thread_signal_raise): no need to
  save dead thread context. (same as [ruby-dev:18322])
  (ruby-bugs-ja:PR#349)
@
text
@d14 7
@


1.1204
log
@* configure.in (RUBY_PROG_GNU_LD): check whether the linker is GNU ld.
* ext/extmk.rb (create_makefile): add -Wl,-no-undefined to $DLDFLAGS
  on Linux if GNU ld is used and --enable-shared is specified.
@
text
@d1 6
d288 1
@


1.1203
log
@* gc.c (Init_stack): prefer address of argument rather than local
  variable to initialize rb_gc_stack_start.
@
text
@d1 7
@


1.1202
log
@* bcc32/mkexports.rb: to work on cygwin via telnet.
  [ruby-win32:358]

* ext/tcltklib/tcltklib.c (ip_invoke): requires command name
  argument.  [ruby-dev:18438]

* eval.c (ruby_init, ruby_options): Init_stack() with local
  location.  (ruby-bugs-ja:PR#277)

* eval.c (rb_call0): disable trace call.  [ruby-dev:18074]

* eval.c (eval, rb_load): enable trace call.  [ruby-dev:18074]

* eval.c (rb_f_require): set source file name for extension
  libraries.  [ruby-dev:18445]

* ruby.c (translate_char): translate a character in a string;
  DOSISH only.  [ruby-dev:18274]

* ruby.c (ruby_init_loadpath): added argv[0] handling under
  Human68K.  [ruby-dev:18274]

* ruby.c (proc_options): translate directory separator in $0 to
  '/'.  [ruby-dev:18274]
@
text
@d1 1
a1 1
Thu Oct  3 20:16:12 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>
d18 3
@


1.1201
log
@(_o_)
@
text
@d1 27
@


1.1200
log
@* lib/delegate.rb (Delegator::initialize): use Object#class
  instead of deprecated Object#type.
@
text
@d49 1
a49 1
	* object.c (rb_obj_type): depercated Object#type; use Object#class.
@


1.1199
log
@* configure.in (RUBY_CHECK_IO_NEED_FLUSH): check whether fflush()
  is needed.

* io.c (flush_before_seek): flush before seek if buffered data
  may remain.

* io.c (rb_io_check_readable): flush if the last operation was
  write.

* io.c (rb_io_check_writable): flush if the last operation was
  read.

* rubyio.h (FMODE_RBUF): added.
@
text
@d1 5
d49 1
a49 1
	* object.c (rb_obj_type): deperecated Object#type; use Object#class.
@


1.1198
log
@* io.c (rb_io_wait_readable): handle retryable errors.

* io.c (rb_io_wait_writable): ditto.

* ext/socket/socket.c (bsock_send): ditto.

* ext/socket/socket.c (s_recvfrom): ditto.

* ext/socket/socket.c (s_accept): ditto.

* ext/socket/socket.c (udp_send): ditto.

* ext/socket/getaddrinfo.c (afdl): made private structures constant.

* rubyio.h: prototype; rb_io_wait_readable(), rb_io_wait_writable().
@
text
@d1 16
@


1.1197
log
@* gc.c (gc_sweep): free unused heap page to reduce process size if
  possible.

* object.c (rb_obj_type): deperecated Object#type; use Object#class.
@
text
@d1 18
@


1.1196
log
@* configure.in: set ac_cv_func_setitimer to "no" on Cygwin.
@
text
@d5 7
@


1.1195
log
@	* ext/socket/socket.c (init_sock): no need for special finalizer,
	  socket descriptor is no longer duplicated in 1.7.
	  [ruby-talk:50732]

	* win32/win32.c, win32/win32.h (rb_w32_fddup, rb_w32_fdclose):
	  delete.
@
text
@d1 4
@


1.1194
log
@* range.c (range_check): need no Fixnum check.
@
text
@d1 9
@


1.1193
log
@2002-09-30
@
text
@d6 4
@


1.1192
log
@* io.c (rb_io_inspect): not need to raise IOError for closed stream.  [ruby-talk:51871]
@
text
@d3 2
a4 1
	* io.c (rb_io_inspect): not need to raise IOError. [ruby-talk:51871]
@


1.1191
log
@* win32/win32.c (rb_w32_open_osfhandle): adjust
  rb_w32_open_osfhandle() with _open_osfhandle().

* win32/win32.c (rb_w32_accept, rb_w32_socket): return -1 on
  error.

* win32/win32.h: should use file descriptor instead of SOCKET.
@
text
@d1 4
@


1.1190
log
@* win32/win32.c (is_socket, rb_w32_select, rb_w32_accept, rb_w32_bind,
  rb_w32_connect, rb_w32_getpeername, rb_w32_getsockname,
  rb_w32_getsockopt, rb_w32_ioctlsocket, rb_w32_listen, rb_w32_recv,
  rb_w32_recvfrom, rb_w32_send, rb_w32_sendto, rb_w32_setsockopt,
  rb_w32_shutdown, rb_w32_socket, rb_w32_gethostbyaddr,
  rb_w32_gethostbyname, rb_w32_gethostname, rb_w32_getprotobyname,
  rb_w32_getprotobynumber, rb_w32_getservbyname, rb_w32_getservbyport):
  need to protect WSAGetLastError() by RUBY_CRITICAL. [ruby-talk:51778]
@
text
@d1 10
@


1.1189
log
@* keywords: add braces around initializers.
@
text
@d1 11
@


1.1188
log
@* hash.c (rb_hash_become): should check self-assignment after
 conversion.
@
text
@d1 4
@


1.1187
log
@
* hash.c (rb_hash_become): Hash#become should check added
  self-assignment.

* class.c (rb_make_metaclass): metaclass of a superclass may be
  NULL at boot time.
@
text
@d1 5
@


1.1186
log
@* ext/extmk.rb: The condition judgment without necessity was deleted.
@
text
@d1 8
@


1.1185
log
@* eval.c (rb_thread_deadlock, rb_thread_schedule, rb_thread_join): more verbose message at deadlock.
@
text
@d1 4
@


1.1184
log
@* eval.c (rb_eval): Class#inherited should be called after the
  execution of the class body.

* parse.y (primary): remove "return outside of method" check at
  compile time.
@
text
@d1 8
@


1.1183
log
@* ext/digest/sha1: Use OpenSSL's SHA1 engine if available.  It is
  much faster than what we have now (sha1.[ch]).  Add a knob
  (--with-bundled-sha1) to extconf.rb which makes it use the
  bundled one anyway.
@
text
@d1 5
d34 5
@


1.1182
log
@* ext/digest/rmd160: Use OpenSSL's RMD160 engine if available.  It
  is much faster than what we have now (rmd160.[ch]).  Add a knob
  (--with-bundled-rmd160) to extconf.rb which makes it use the
  bundled one anyway.
@
text
@d1 7
@


1.1181
log
@* ext/digest/md5: Use OpenSSL's MD5 engine if available.  It is
  much faster than what we have now (md5.[ch]).  Add a knob
  (--with-bundled-md5) to extconf.rb which makes it use the
  bundled one anyway.
@
text
@d1 7
@


1.1180
log
@* ext/digest/digest.c (rb_digest_base_s_digest): Fix a double
  free() bug mingled with allocation framework deployment.

* ext/digest/digest.c (rb_digest_base_s_hexdigest): Get rid of
  redundant struct allocation.
@
text
@d1 7
@


1.1179
log
@
* regex.c (re_match): p1 may exceed pend limit.
@
text
@d1 8
@


1.1178
log
@* dir.c (glob_helper): must not closedir() when exception raised
  while globbing "**".

* marshal.c (w_uclass): unused variable.

* re.c (match_clone): unused.

* regex.c (re_compile_pattern): get rid of implicit promotion from
  plain char to int.
@
text
@d17 4
@


1.1177
log
@* lib/mkmf.rb (libpathflag): restore ENV['LIB'] when some error occured.
@
text
@d1 12
d26 1
a26 1
	* parse.y (newline_node): reduce deplicated newline node.
@


1.1176
log
@* io.c (appendline): forget to terminate with nul.

* eval.c (ruby_run): should set toplevel visibility again here.

* eval.c (rb_eval): should not rely on ruby_class == rb_cObject
  check.   Besides allow implicit publicity for attribute set
  methods.

* parse.y (primary): need not to check class_nest, just set
  whether method is an attrset or not.

* string.c (rb_str_each_line): p might be at the top of the
  string.

* class.c (rb_make_metaclass): class of metaclass should be
  metaclass of superclass, unless class itself is a metaclass;
  class of metaclass of metaclass should point back to self.
  eh, confusing, isn't it.

* class.c (rb_singleton_class): check if its class is singleton
  AND attached to self.

* eval.c (rb_eval): should define class/module under ruby_cbase.

* eval.c (rb_eval): should set class/module path based on
  ruby_cbase, not ruby_class.

* eval.c (module_setup): use ruby_cbase instead of ruby_class.
@
text
@d1 4
@


1.1175
log
@* eval.c (rb_call0): must not clear ruby_current_node, or
  backtrace cannot be genetated.

* intern.h (ruby_yyparse): rather than yyparse().

* parse.y (yylex): nextc() returns -1 at end of input, not 0.

* parse.y (newline_node): reduce deplicated newline node.

* parse.y (literal_concat): get rid of warning.

* parse.y (new_evstr): fixed junk code.
@
text
@d23 15
d50 15
d78 9
@


1.1174
log
@* configure.in (RUBY_MINGW32): new macro. check for the MinGW
  compiler envionment.
* lib/mkmf.rb: refactoring.
@
text
@d1 15
@


1.1173
log
@* eval.c (call_trace_func): should not call trace function while
  compilation.

* eval.c (rb_call0): also inside c-func.

* parse.y (yycompile): ditto.

* ruby.c (require_libraries): preserve source file/line for each
  require.
@
text
@d1 7
@


1.1172
log
@commit miss
@
text
@d1 12
@


1.1171
log
@* eval.c (rb_thread_raise): no need to save dead thread context.
@
text
@a4 4
Sat Sep 21 00:00:24 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (whole_match_p): avoid overrun.

@


1.1170
log
@* parse.y (block_append): eliminate unused literal nodes.

* parse.y (literal_concat): refined literal concatination.
@
text
@d1 8
@


1.1169
log
@* lib/set.rb: Merge rough/lib/set.rb rev.1.5-1.15.
@
text
@d1 6
@


1.1168
log
@* eval.c (rb_thread_die): put thread dead state.

* eval.c (rb_thread_atfork): free stack buffer at fork too.
@
text
@d1 4
@


1.1167
log
@* eval.c (rb_mod_nesting): load wrapping module should appear in
  Module#nesting list. (ruby-bugs-ja:PR#328)

* eval.c (rb_thread_remove): free stack buffer on remove.
@
text
@d1 6
@


1.1166
log
@* io.c: add parameter prototype.
* re.c: ditto.
@
text
@d1 7
@


1.1165
log
@* win32/win32.c (rb_w32_opendir): Corresponds to the unjust path containing ".
                        (rb_w32_stat) : ditto.
@
text
@d1 6
d9 2
a10 2
	* win32/win32.c (rb_w32_opendir): Corresponds to the unjust path containing ".
	                (rb_w32_stat) : ditto.
@


1.1164
log
@* configure.in (OUTFLAG, CPPOUTFILE): moved from lib/mkmf.rb.
  check whether ${CPP} accepts the -o option.
* win32/Makefile.sub (OUTFLAG, CPPOUTFILE): ditto.
* bcc32/Makefile.sub (OUTFLAG, CPPOUTFILE): ditto.
* djgpp/config.sed (OUTFLAG, CPPOUTFILE): ditto.
* lib/mkmf.rb (OUTFLAG, CPPOUTFILE): use CONFIG.
  make easy to understand log.
* mkconfig.rb (val): should not strip.
@
text
@d1 5
@


1.1163
log
@* error.c(rb_sys_fail): remove case EPIPE on bcc32 .
@
text
@d1 16
@


1.1162
log
@* dir.c (glob_func_caller): add prototype to get rid of warning.
@
text
@d1 4
@


1.1161
log
@* eval.c (rb_eval): avoid uninitialized global/class variable
  warnings at `||='.  [ruby-dev:18278]

* parse.y (stmt, arg): ditto
@
text
@d1 4
d36 1
a36 1
	(PP.pp): arguments reordered.
d133 1
a133 1
	 [ruby-dev:17059]
@


1.1160
log
@* lib/mkmf.rb ($INSTALLFILES): avoid warning when $VERBOSE mode.
@
text
@d1 7
@


1.1159
log
@* bcc32/setup.mak    : Control of a message.
* bcc32/makefile.sub : include resource.
@
text
@d1 4
@


1.1158
log
@* dir.c (glob_helper): should pass matched path.  (ruby-bugs-ja:PR#333)
@
text
@d1 6
@


1.1157
log
@* dir.c (glob_helper): fixed freeing buffer.  (ruby-bugs-ja:PR#332)
@
text
@d1 1
a1 1
Thu Sep 12 17:45:15 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>
d4 2
@


1.1156
log
@* dir.c (glob_helper): prevent memory leak using rb_protect().

* string.c (rb_str_associate): no need to check freeze flag.

* string.c (rb_str_resize): should honor STR_ASSOC flag on
  resize.

* string.c (rb_str_resize): proper STR_ASSOC handling.  pointed
  out by Michal Rokos.

* string.c (rb_str_buf_cat): ditto.

* string.c (rb_str_cat): ditto.

* string.c (rb_str_buf_append): ditto.

* string.c (rb_str_append): ditto.
@
text
@d1 4
@


1.1155
log
@* eval.c (rb_trap_eval): preserve thread status and so on.
  [ruby-talk:40337], [ruby-core:00019]
@
text
@d69 20
@


1.1154
log
@* pp.rb (ARGF.pretty_print): implemented.
(PP.pp): arguments reordered.
@
text
@d1 5
@


1.1153
log
@* eval.c (proc_to_s): refined format.  [ruby-dev:18215]
@
text
@d1 5
@


1.1152
log
@* win32/win32.c, win32/win32.h (rb_w32_getpid): negate pid under Win9x.
@
text
@d1 4
@


1.1151
log
@* string.c (get_pat): Add an extra argument "quote".

* string.c (rb_str_match_m): Do not bother to convert if a regexp
  is given.
@
text
@d1 5
@


1.1150
log
@* bcc32/Makefile.sub: remove unnecessary `.dll' from filename of
  dll's resource file.

* cygwin/GNUmakefile.in: ditto. [ruby-dev:17103]

* win32/Makefile.sub: ditto. [ruby-dev:17103]

* win32/resource.rb: ditto. [ruby-dev:17103]
@
text
@d1 7
@


1.1149
log
@retry on EINTR, ERESTART and EWOULDBLOCK.  [ruby-dev:17855], [ruby-dev:17878], [ruby-core:00444]
@
text
@d1 11
@


1.1148
log
@* win32/Makefile.sub (ext): make directory `ext' on compile dir.
  [ruby-dev:18255]
@
text
@d1 21
@


1.1147
log
@* eval.c (rb_mod_define_method): initialize orig_func too.
  (ruby-bugs-ja:PR#330)
@
text
@d1 5
@


1.1146
log
@* parse.y (nextc): restore line number after here documents.
  (ruby-bugs-ja:PR#331)

* parse.y (heredoc_restore): ditto.
@
text
@d1 5
@


1.1145
log
@* ext/extmk.rb, lib/mkmf.rb ($INCFLAGS): new var for -I$(topdir).
* lib/mkmf.rb: add #define WIN32_LEAN_AND_MEAN to improve compile
  times.
@
text
@d1 7
@


1.1144
log
@* ChangeLog: specify the source.
@
text
@d1 7
@


1.1143
log
@* win32/Makefile.sub (miniruby): shouldn't link $(EXTOBJS).

* win32/Makefile.sub ($(LIBRUBY_A), $(LIBRUBY)): avoid lib.exe's
  warning.

* win32/Makefile.sub: remove unnecessary rules.

* win32/configure.bat, win32/setup.mak, win32/README.win32: enable to
  pass some arguments to configure.
@
text
@d4 1
d7 1
a7 1
	  warning.
d9 1
a9 1
	* win32/Makefile.sub: remove unnecessary rules.
d12 1
a12 1
	  pass some arguments to configure.
@


1.1142
log
@* win32/win32.h (S_I?USR): define only if not mingw32.
@
text
@d1 12
@


1.1141
log
@* ext/stringio/stringio.c (strio_set_string): reinitialize
  properly.

* ext/stringio/stringio.c (strio_become): added self-assign check
  and experimental auto-conversion to StringIO.

* ext/stringio/stringio.c (strio_reopen): added.
@
text
@d1 4
@


1.1140
log
@* time.c (time_free): prototype; struct time_object -> void *.
  avoid GCC warnings.
* lib/mkmf.rb, ext/extmk.rb ($LINK, $CPP): move to lib/mkmf.rb.
@
text
@d1 11
@


1.1139
log
@* ext/tcltklib/tcltklib.c: prototype; invoke_queue_handler() to avoid
  VC++ warning.
@
text
@d1 7
@


1.1138
log
@* time.c: prototype; time_free() to avoid VC++ warnings.

* win32/win32.c (rb_w32_stat): remove S_IWGRP and S_IWOTH bits from
  st_mode.

* win32/win32.h (S_I*): define if not defined.
@
text
@d5 3
@


1.1137
log
@* lib/mkmf.rb (have_struct_member): moved from ext/socket/extconf.rb.
* ext/socket/extconf.rb: use macro_defined? instead of egrep_cpp.
* ext/etc/extconf.rb: use have_struct_member.
* ext/etc/etc.c: add prefix HAVE_ST_ to PW_ macros.
@
text
@d1 9
@


1.1136
log
@* configure.in: modify program_prefix only if specified
  --program-prefix.

* configure.in: don't generate ext/extmk.rb.

* Makefile.in: execute directly $(srcdir)/ext/extmk.rb.
  remove -Cext option, "Dir::chdir 'ext'" in ext/extmk.rb.

* {win32,bccwin32}/Makefile.sub: ditto.

* instruby.rb: ditto.

* ext/extmk.rb: renamed from ext/extmk.rb.in.

* lib/mkmf.rb (module Logging): create log files (mkmf.log)
  in each extension module directories.

* ext/extmk.rb: ditto.

* lib/mkmf.rb (macro_defined?): new method.

* ext/.cvsignore: remove extmk.rb.

* ext/*/.cvsignore: add "*.def".
@
text
@d28 8
@


1.1135
log
@bcc32/configure.bat : Control of a message.
bcc32/makefile.sub  : @@(sitearch) typo.
ext/extmk.rb.in     : [bccwin32] libdir is added to a library path.
lib/mkmf.rb         : ditto.
@
text
@d1 27
@


1.1134
log
@* misc/inf-ruby.el (inferior-ruby-error-regexp-alist): regexp
  alist for error message from ruby.

* misc/inf-ruby.el (inferior-ruby-mode): fixed for Emacs.

* misc/inf-ruby.el (ruby-send-region): compilation-parse-errors
  doesn't parse first line, so insert separators before each
  evaluations.
@
text
@d1 7
@


1.1133
log
@* lib/set.rb: Disallow Set.new(false).  Add even more tests.
  [Submitted by: "Christoph" <chr_news@@gmx.net>]
@
text
@d1 11
@


1.1132
log
@* lib/set.rb: Fix a bug in flatten()'s recursive set detection.
  [Submitted by: "Christoph" <chr_news@@gmx.net>]  Some tests
  against the bug are added.

* lib/set.rb: Resurrect the test suite by putting it after
  __END__ and executing `eval DATA.read'.
@
text
@d1 5
@


1.1131
log
@* parse.y (rb_gc_mark_parser): ruby_eval_tree is marked in eval.c.
@
text
@d1 9
d102 8
@


1.1130
log
@* lib/mkmf.rb ($CC): command to compile C source.

* lib/mkmf.rb (try_compile): added.

* lib/mkmf.rb (egrep_cpp): use internal grep when pattern is
  Regexp, otherwise use external egrep command but get rid of
  pipe of command.com.

* lib/mkmf.rb (have_func): local variable should be volatile not
  to be eliminated by optimization.

* lib/mkmf.rb (create_makefile): link with CONFIG["LIBS"].

* lib/mkmf.rb (create_makefile): emit .SUFFIXES:.
@
text
@d1 4
@


1.1129
log
@* gc.c (ruby_xmalloc): remove MALLOC_LIMIT to avoid frequent
  garabage collection.
@
text
@d1 19
@


1.1128
log
@* parse.y (rb_gc_mark_parser): should mark lex_input and ruby_debug_lines.
@
text
@d6 5
@


1.1127
log
@* parse.y (rb_gc_mark_parser): should mark parse.y global variables.
@
text
@d1 5
d8 2
a9 2
	* parse.y (rb_gc_mark_parser): should mark parse.y global
	  variables.
@


1.1126
log
@* io.c (rb_io_puts): RSTRING(line)->ptr might be NULL.
@
text
@d1 5
@


1.1125
log
@* parse.y: should not use non-NODE VALUEs in the semantic stack.
@
text
@d1 4
@


1.1124
log
@* file.c (rb_path_check): nothing to check under DOSISH.
  [ruby-list:35772]
@
text
@d1 4
@


1.1123
log
@modify function name.
@
text
@d1 5
@


1.1122
log
@* gc.c (gc_sweep): should mark parser.
* parse.y (rb_gc_mark_parser): new function.
* intern.h (rb_gc_mark_parser): added.
@
text
@d3 1
a3 1
	* gc.c (gc_sweep): should mark parser.
@


1.1121
log
@* variable.c (rb_path2class): should not use rb_eval_string().

* marshal.c (w_extended): should allow marshaling of object which
  is extended by named module.

* class.c (rb_make_metaclass): super may be T_ICLASS, need to skip.
@
text
@d1 8
@


1.1120
log
@fix mem leaks (ruby-core:405, ruby-core:407)
@
text
@d1 4
d9 7
@


1.1119
log
@* eval.c (rb_eval): overriding false constant with class/module
  definition should be error.  (PR#327)
@
text
@d1 5
@


1.1118
log
@* extmk.rb (create_makefile): add macro MAKEDIRS, INSTALL_PROG,
  INSTALL_DATA.
* extmk.rb (create_makefile): support for building to any directory.
* extmk.rb (xsystem): move to mkmf.rb.
* mkmf.rb (xsystem): support for extmk.rb
* mkmf.rb ($CPP): remove '-E' option.  add CPPFLAGS.
@
text
@d1 5
@


1.1117
log
@refined.
@
text
@d1 13
d33 1
a33 1
	* mkmf.rb: extmk.rb support.
d6221 1
a6221 1
	* process.c (rb_proc_times): need not to check retrun value from
d7109 1
a7109 1
	  block retruns true for any of elements.
@


1.1116
log
@* class.c (rb_make_metaclass): obj.meta.super.meta should be equal
  to obj.meta.meta.super (ruby-bugs-ja:PR#324).

* parse.y (yylex): the warning message "invalid
  character syntax" was never issued.

* marshal.c (r_bytes): do not use alloca (ruby-bugs:PR#382).
@
text
@d6 1
a6 1
Wed Sep 04 05:10:16 2002  Koji Arai  <jca02266@@nifty.ne.jp>
d9 1
a9 1
          character syntax" was never issued.
@


1.1115
log
@* extmk.rb: require mkmf.rb.  remove duplicate methods.
  use Config::CONFIG["FOO"] instead of @@FOO@@.
* mkmf.rb: extmk.rb support.
@
text
@d1 14
@


1.1114
log
@	* variable.c (rb_copy_generic_ivar): remove old generic instance
	  variable table if it existes.

	* class.c (rb_make_metaclass): metaclass of a metaclass is a
	  metaclass itself.
@
text
@d1 7
@


1.1113
log
@* re.c (rb_reg_search): MatchData must be rb_cMatch. (ruby-bugs-ja:PR#319)
@
text
@d17 5
d26 5
d57 31
@


1.1112
log
@* gc.c (gc_sweep): does reclaim nodes in also compile time, if we can.
* ruby.c (load_file): omit GC if we can.
* parse.y (ruby_parser_stack_on_heap): new function.
* intern.h (ruby_parser_stack_on_heap): added.
@
text
@d1 5
@


1.1111
log
@* config.guess: fixed for Linux/PPC.
@
text
@d1 11
@


1.1110
log
@Add set.rb.
@
text
@d1 4
@


1.1109
log
@* ext/Win32API/Win32API.c (Win32API_Call): typo.
@
text
@d1 4
@


1.1108
log
@* variable.c (rb_const_assign): st_delete() takes pointer to key.
@
text
@d1 4
@


1.1107
log
@commit miss.
@
text
@d1 4
@


1.1106
log
@* ext/Win32API/Win32API.c (Win32API_Call): RSTRING()->ptr may be
  NULL.

* ext/nkf/nkf.c (rb_nkf_guess): ditto.

* ext/readline/readline.c (readline_s_set_completion_append_character):
  ditto.

* ext/socket/socket.c (sock_s_getaddrinfo, sock_s_getnameinfo):
  ditto.

* ext/tcltklib/tcltklib.c (ip_toUTF8, ip_fromUTF8): ditto.
@
text
@d1 1
a1 1
Fri Aug 30 19:35:46 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>
d3 2
a4 2
	* ext/Win32API/Win32API.c (Win32API_Call): use StringValuePtr() to
	  confirm ptr is not NULL.
d6 1
a6 1
	* ext/socket/socket.c (sock_s_getaddrinfo): ditto.
d8 7
a14 1
	* ext/socket/socket.c (sock_s_getnameinfo): ditto.
@


1.1105
log
@* bcc32/MakeFile.sub (sitearch): add.
@
text
@d1 9
@


1.1104
log
@* array.c (rb_ary_become): should not free ptr if it's shared.

* eval.c (rb_alias): prohibit making an alias named "allocate" if
  klass is a metaclass.

* string.c (rb_string_value_ptr): StringValuePtr() should never
  return NULL pointer.
@
text
@d1 4
@


1.1103
log
@* io.c (read_all): should use off_t instead of long.
@
text
@d10 7
d27 5
d49 1
a49 1
	* configure.in (ar): don't check twice for ar.
@


1.1102
log
@(ruby-bugs-ja:PR#296)
@
text
@d1 4
@


1.1101
log
@* marshal.c (r_object): yield loaded objects, not intermediates.
@
text
@d4 1
@


1.1100
log
@variable.c: Get rid of fix len buffer in rb_class_path (ruby-core:381)
@
text
@d1 4
@


1.1099
log
@* io.c (appendline): data was lost when raw mode.
@
text
@d1 6
@


1.1098
log
@* ext/stringio/stringio.c (strio_initialize): RSTRING(mode)->ptr
  can be NULL.

* ext/stringio/stringio.c (strio_ungetc): fix buffer overflow.
@
text
@d1 4
@


1.1097
log
@file.c: fix mem leak in rb_stat_init
@
text
@d1 7
@


1.1096
log
@* win32/win32.c (kill): negate pid under Win9x.
@
text
@d1 4
a26 1
>>>>>>> 1.1095
@


1.1095
log
@* configure.in (ar): don't check twice for ar.
@
text
@d1 4
d23 1
@


1.1094
log
@* string.c (rb_str_delete_bang): should check if str->ptr is 0.

* string.c (rb_str_squeeze_bang): ditto.

* string.c (rb_str_count): ditto.

* string.c (rb_str_lstrip_bang): ditto.

* string.c (rb_str_rstrip_bang): ditto.

* string.c (rb_str_intern): ditto.
@
text
@d1 4
@


1.1093
log
@* win32/win32.h: define SIGINT and SIGKILL if not defined.
* win32/win32.c: remove definition of SIGINT and SIGKILL.
@
text
@d1 14
@


1.1092
log
@* ruby.c (require_libraries): prevent ruby_sorcefile from GC.
@
text
@d1 6
@


1.1091
log
@* file.c (rb_find_file): $LOAD_PATH must not be empty.

* file.c (rb_find_file_ext): ditto.

* range.c (range_eq): class check should be based on range.class,
  instead of Range to work with Range.dup.

* range.c (range_eql): ditto.

* class.c (rb_mod_dup): need to preserve metaclass and flags.

* object.c (rb_cstr_to_dbl): had a buffer overrun.

* marshal.c (w_class): integrate singleton check into a funciton
  to follow DRY principle.

* marshal.c (w_uclass): should check singleton method.

* object.c (rb_obj_dup): dmark and dfree functions must be match
  for T_DATA type.

* object.c (rb_obj_dup): class of the duped object must be match
  to the class of the original.

* re.c (rb_reg_quote): do not escape \t, \f, \r, \n, for they are
  not regular expression metacharacters.

* time.c (time_s_alloc): use time_free instead of free (null check,
  also serves for type mark).

* time.c (time_s_at): check dfree function too.
@
text
@d1 4
@


1.1090
log
@	* lib/cgi.rb (CGI#form): fix ruby-bugs-ja:PR#280, add default action.
@
text
@d1 21
d34 13
d58 10
@


1.1089
log
@* eval.c (call_trace_func): restore source file/line, as trace
  function installed in required library with -r option can be
  called while parsing.  (ruby-bugs:PR#372)

* eval.c (module_setup): unused variable.  [ruby-core:00358]
@
text
@d1 4
@


1.1088
log
@* lib/time.rb (Time.rfc2822, Time#rfc2822): preserve localtimeness.

* lib/pp.rb: pretty_print_cycled is renamed to pretty_print_cycle.
@
text
@d1 8
@


1.1087
log
@* instruby.rb: arch -> sitearch
@
text
@d1 6
@


1.1086
log
@* eval.c (method_call): check receiver is defined.

* eval.c (umethod_call): removed.
@
text
@d17 2
@


1.1085
log
@* configure.in: RUBY_SO_NAME is msvcrt-rubyXX on mswin32/mingw32.
* configure.in (sitearch): new var.
* mkconfig.rb, lib/mkmf.rb (sitearch): ditto.
* win32/Makefile.sub, win32/setup.mak (sitearch): ditto.
@
text
@d1 6
@


1.1084
log
@Int vs Long clenup (forgot ChangeLog)
@
text
@d1 10
@


1.1083
log
@* eval.c (rb_thread_cleanup): should not modify the global
  variable curr_thread.
@
text
@d1 8
@


1.1082
log
@* ChangeLog: typo fix.
@
text
@d1 5
@


1.1081
log
@* configure.in: set ac_cv_func__setjump to "no" on Cygwin.
* configure.in: set ac_cv_func_crypt to "no" on MinGW.
@
text
@d3 1
a3 1
	* configure.in: set ac_cv_func__setjump to "no" on Cygwin.
@


1.1080
log
@* replace of check EPIPE error(in getc()) rutine on bcc32.
@
text
@d1 6
@


1.1079
log
@* file.c (rb_file_s_expand_path): accept drive letter on Cygwin.
* file.c (is_absolute_path): ditto.
@
text
@d1 6
@


1.1078
log
@* io.c (rb_io_putc): output via rb_io_write().

* re.c (rb_reg_initialize_m): frozen check should be moved here
  from rb_reg_initialize().
@
text
@d1 6
@


1.1077
log
@* misc/inf-ruby.el (inf-ruby-keys): ruby-send-definition
  conflicted with ruby-insert-end.

* misc/inf-ruby.el (inferior-ruby-mode): compilation-minor-mode.

* misc/inf-ruby.el (ruby-send-region): send as here document to
  adjust source file/line.  [ruby-talk:47113], [ruby-dev:17965]

* misc/inf-ruby.el (ruby-send-terminator): added to make unique
  terminator.
@
text
@d1 4
d17 5
@


1.1076
log
@* array.c (sort_2): comparison should be done as signed long.

* array.c (sort_2): should return int, not VALUE.
@
text
@d1 13
@


1.1075
log
@* array.c (sort_2): *a - *b may overflow.

* array.c (ary_new): len*sizeof(VALUE) may be a positive value.

* array.c (rb_ary_initialize): ditto.

* object.c (rb_class_allocate_instance): move singleton class
  check from rb_obj_alloc().

* re.c (rb_reg_initialize): should not modify frozen Regexp.

* ext/tcltklib/tcltklib.c (ip_init): allocation framework.
@
text
@d1 6
@


1.1074
log
@particular symbol for win32_exception_list.
@
text
@d10 10
d30 5
d78 8
@


1.1073
log
@* eval.c (rb_thread_save_context, rb_thread_restore_context):
  save/restore SEH chain on MS-Windows at thread switch.
  [ruby-win32:273]

* eval.c (win32_get_exception_frame, win32_set_exception_frame):
  added.
@
text
@d1 1
a1 1
Mon Aug 19 09:36:00 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>
d7 1
a7 1
	* eval.c (win32_get_exception_frame, win32_set_exception_frame):
@


1.1072
log
@* io.c (NOFILE): define NOFILE as 64 if not defined.
* signal.c (sighandler_t): rename to sh_t on dietlibc.
@
text
@d1 9
@


1.1071
log
@* bignum.c (rb_cstr_to_inum): new decimal and octal string.
@
text
@d1 6
@


1.1070
log
@* io.c (rb_io_fread): renamed from io_fread and made extern.

* marshal.c (r_bytes0): check if successfully read, use
  rb_io_fread() instead of fread() to be preemptive.
  (ruby-bugs-ja:PR#294, 295)

* rubyio.h (rb_io_fread): added.
@
text
@d1 4
@


1.1069
log
@commit miss.
@
text
@d1 10
@


1.1068
log
@* eval.c (compile_error): must not clear ruby_sourcefile here.
  (ruby-bugs:PR#364).

* eval.c (rb_longjmp): set ruby_sourcefile before making
  backtrace.
@
text
@a2 2
Fri Aug 16 07:56:16 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

@


1.1067
log
@* eval.c (ruby_current_node) : added to set sourceline on demand.

* eval.c (error_pos, error_print, rb_longjmp, assign): set source
  file/line.

* eval.c (rb_eval): store current node instead of file/line, and
  preserve it at return.

* eval.c (module_setup): ditto.

* eval.c (struct thread): store node instead of file/line.

* eval.c (rb_thread_raise): ditto.

* intern.h (ruby_current_node): added.

* intern.h (ruby_set_current_source): added.

* parse.y (stmt, arg): not fix position of assignment.

* parse.y (node_assign): ditto.

* parse.y (yycompile): clear current node.
@
text
@d1 10
@


1.1066
log
@* hash.c (rb_hash_replace): should copy ifnone.

* hash.c (rb_hash_dup): should preserve HASH_PROC_DEFAULT and
  HASH_DELETED flags.

* hash.c (rb_hash_shift): shift from empty hash should not return
  its default proc.

* hash.c (rb_hash_default_proc): new method. [new]

* array.c (rb_ary_aref): no need for Bignum check.

* array.c (rb_ary_aset): explicit Bignum check removd.

* numeric.c (fix_aref): normalize bignum before bit-op.

* bignum.c (rb_big_rand): max may be Bignum zero.

* bignum.c (rb_cstr_to_inum): should normalize bignums, to avoid
  returning fixable bignum value.

* bignum.c (rb_uint2big): there should be no zero sized bignum.

* ext/extmk.rb.in: extmake() that works properly for both tkutil
  (tk/tkutil.so) and digest/sha1.

* hash.c (rb_hash_equal): should check HASH_PROC_DEFAULT too.
@
text
@d1 26
@


1.1065
log
@* ruby.c (set_arg0): Correct the position of #endif.
@
text
@d1 32
d36 4
@


1.1064
log
@* bignum.c (rb_big_cmp): use dbl2big() for Floats, instead of
  big2dbl().

* bignum.c (Init_Bignum): rb_big_zero_p() removed.  There may be
  Bignum zero.

* eval.c (rb_call0): new argument added for original method name.
  preserve original method name in frame->orig_func.

* eval.c (is_defined): use frame->orig_func, not last_func.

* eval.c (rb_eval): ditto.

* eval.c (method_call): supply data->oid also to rb_call0().

* object.c (rb_class_allocate_instance): call rb_obj_alloc() when
  called from alias, thus invoke original "allocate".

* eval.c (remove_method): removing allocate from classes should
  cause NameError.

* hash.c (rb_hash_equal): should check default values.

* ext/socket/socket.c (s_recvfrom): update RSTRING len.
@
text
@d1 4
@


1.1063
log
@* bignum.c (rb_big_cmp): raise for NaN.  (ruby-bugs-ja:PR#284).
@
text
@d13 8
d31 17
d63 4
d96 4
@


1.1062
log
@* eval.c (rb_eval): set line number from all nodes.

* eval.c (proc_to_s): show source file/line if available.

* marshal.c (r_object): register TYPE_BIGNUM regardless real type.
@
text
@d1 4
@


1.1061
log
@* ext/Win32API/extconf.rb: check existence of <windows.h>.
@
text
@d1 8
@


1.1060
log
@* lib/optparse.rb (String): must provide conversion block.
@
text
@d1 4
@


1.1059
log
@* lib/optparse.rb (OptionParser::Switch::parse_arg): require block
  always.

* lib/optparse.rb (NilClass): must provide conversion block.
@
text
@d1 1
a1 1
Thu Aug  8 08:29:37 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>
d3 1
a3 2
	* lib/optparse.rb (OptionParser::Switch::parse_arg): require block
	  always.
d5 1
a5 1
	* lib/optparse.rb (NilClass): must provide conversion block.
@


1.1058
log
@* lib/optparse/time.rb: prior time.rb.
@
text
@d1 7
d10 2
a11 2
	* optparse.rb (OptionParser::Completion::convert): returned all
	  values not first one.
d13 2
a14 1
	* optparse.rb (OptionParser::Switch::parse): return values as is.
d16 1
a16 1
	* optparse.rb (OptionParser::order): ditto.
@


1.1057
log
@* optparse.rb (OptionParser::Completion::convert): returned all
  values not first one.

* optparse.rb (OptionParser::Switch::parse): return values as is.

* optparse.rb (OptionParser::order): ditto.
@
text
@d1 1
a1 1
Wed Aug  7 21:58:01 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>
d9 2
@


1.1056
log
@* lib/optparse/uri.rb: require standard uri module.  thanks to
  Minero Aoki.
@
text
@d1 8
a8 1
Wed Aug  7 09:45:24 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>
@


1.1055
log
@* ext/racc/cparse/cparse.c: reduce goto.
@
text
@d1 5
@


1.1054
log
@* string.c (rb_str_rindex): must return -1 if unmatched.
@
text
@d1 4
@


1.1053
log
@* MANIFEST: add lib/racc/parser.rb.
* ext/racc/cparse/cparse.c: code refine.
* ext/racc/cparse/MANIFEST: add depend.
@
text
@d1 4
@


1.1052
log
@* ext/curses/curses.c: follow allocation framework.
@
text
@d1 8
@


1.1051
log
@* eval.c (rb_eval): set constant in cbase scope.

* eval.c (assign): ditto.
@
text
@d1 4
@


1.1050
log
@* ext/strscan/strscan.c: follow allocation framework.
@
text
@d1 6
@


1.1049
log
@* parse.y (tokadd_string): ignore backslashed spaces in %w.

* enum.c (enum_find): do not use rb_eval_cmd(); should not accept
  a string for if_none.
@
text
@d1 4
@


1.1048
log
@* eval.c (rb_undef): undef should be done for klass, not ruby_class.
@
text
@d1 9
@


1.1047
log
@* misc/ruby-mode.el (ruby-accurate-end-of-block): restrict search
  region.

* misc/ruby-mode.el (ruby-parse-partial): reversed wrong patch.
@
text
@d1 4
@


1.1046
log
@* misc/ruby-mode.el (ruby-accurate-end-of-block): incomplete block
  caused infinite loop.

* misc/ruby-mode.el (ruby-parse-partial): returns nil unless
  delimiters found.
@
text
@d1 7
@


1.1045
log
@* ext/tcltklib/stubs.c (ruby_tcltk_stubs): win32_getenv returns
  the same address always, so allocate string by ruby_strdup.

* win32/win32.c: prototype; rb_w32_open_osfhandle().
@
text
@d1 8
@


1.1044
log
@* eval.c (rb_thread_join_m): add parameter type declaration.
@
text
@d1 7
@


1.1043
log
@* eval.c (localjump_error): add parameter type declaration.
@
text
@d1 4
d123 1
a123 1
	* lib/net/http.rb: HTTP.get did not work with URI.
@


1.1042
log
@* ext/extmk.rb.in: always use File.expand_path for $top_srcdir.
@
text
@d1 4
@


1.1041
log
@* numeric.c (num_to_int): default to_int implementaion for every
  numeric class.

* re.c (rb_reg_quote): initial part of the string was never copied
  to the quoted string.
@
text
@d1 4
@


1.1040
log
@* eval.c (rb_eval): no need to convert to string twice.
@
text
@d1 10
@


1.1039
log
@* misc/ruby-mode.el (ruby-expr-beg): wrong indent at modifiers
  after ?.
@
text
@d1 4
@


1.1038
log
@* sample/mkproto.rb: ditto and fix bug.
@
text
@d1 5
@


1.1037
log
@* ext/extmk.rb.in (create_makefile): use Regexp in gsub.
@
text
@d5 2
@


1.1036
log
@* random.c: replace with Mersenne Twister RNG.

* eval.c (jump_tag_but_local_jump): preserve retval in
  LocalJumpError exceptions.

* parse.y (command): no more check for "super outside of method".

* eval.c (rb_mod_define_method): should set last_class and
  last_func in the block->frame.

* eval.c (error_handle): should handle TAG_THROW as well.

* parse.y (yylex): new decimal notation '0d4567'.

* parse.y (yylex): new octal notation '0o777'.

* parse.y (string_content): every string_content node should
  return string only.  use NODE_EVSTR to coercing.

* eval.c (rb_eval): NODE_EVSTR support.

* re.c (rb_reg_quote): avoid unnecessary string allocation.

* string.c (get_pat): quote metachracters before compiling a
  string into a regex.

* string.c (rb_str_split_m): special treatment of strings of size
  1, but AWK emulation.  now uses get_pat().

* string.c (rb_str_match_m): quote metacharacters.

* string.c (rb_str_match2): ditto.

* ext/socket/socket.c (sock_addrinfo): make all 3 versions of
  getaddrinfo happy.  [ruby-core:00184]
@
text
@d1 4
@


1.1035
log
@* parse.y (yylex): modify to accept a code like "m (a){...}".
@
text
@d1 4
d29 18
d55 11
d97 14
d305 5
@


1.1034
log
@* misc/ruby-mode.el (ruby-delimiter): include here document.

* misc/ruby-mode.el (ruby-deep-arglist): skips spaces after
  parenthesis when 'space.

* misc/ruby-mode.el (ruby-imenu-create-index): fix for nested
  classes.

* misc/ruby-mode.el (ruby-accurate-end-of-block): added.  scan a
  block in the order.

* misc/ruby-mode.el (ruby-expr-beg): support for here document.

* misc/ruby-mode.el (ruby-parse-partial): splitted from
  ruby-parse-region.

* misc/ruby-mode.el (ruby-move-to-block): skips RD style comments.
@
text
@d1 4
@


1.1033
log
@* lib/net/ftp.rb (set_socket): new method.
@
text
@d1 20
@


1.1032
log
@* parse.y (yylex): fix typo.
@
text
@d1 4
@


1.1031
log
@* parse.y (heredoc_identifier): modify typo.
@
text
@d1 4
d7 1
a7 1
	* parse.y (heredoc_identifier): modify typo.
@


1.1030
log
@* parse.y (literal_concat_string): wrong optimization.
@
text
@d1 4
@


1.1029
log
@* lib/resolv.rb (Resolv::DNS::open, close): new.

* lib/optparse.rb, lib/optparse: import.
@
text
@d1 4
@


1.1028
log
@* lib/net/http.rb: rename HTTP.get_uri get_response.
* lib/net/http.rb: HTTP.get_print accepts URI objects.
* lib/net/http.rb: HTTP.get did not work with URI.
@
text
@d1 6
@


1.1027
log
@* string.c (rb_str_match): fix for string match.
@
text
@d1 8
@


1.1026
log
@* ext/stringio/stringio.c (strio_gets_internal): fixed for record
  separator longer than 1.
@
text
@d1 4
@


1.1025
log
@* string.c (rb_str_slice_bang): if there's no corresponding
  substring, slice! should return nil without exception.

* array.c (rb_ary_insert): type fixed.

* string.c (rb_str_split_m): accept separator value nil as well.

* string.c (rb_str_become): was leaking memory.

* class.c (rb_include_module): should not alter other
  classes/modules by inclusion.  by this fix, local order may not
  be preserved for some cases.

* class.c (include_class_new): module may be T_ICLASS; retrieve
  original module information.
@
text
@d1 5
@


1.1024
log
@* lib/resolv.rb: untaint strings read from /etc/hosts and
/etc/resolv.conf to prevent SecurityError when $SAFE==1.
@
text
@d6 5
d15 8
d33 4
d65 9
@


1.1023
log
@* irb 0.9
@
text
@d1 5
@


1.1022
log
@enum.c: Fix bug in enum_sort_by and some code indents
@
text
@d1 4
@


1.1021
log
@	* lib/cgi.rb (CGI#initialize): improvement for mod_ruby.
	thanks to Sean Chittenden <sean@@ruby-lang.org>, Shugo Maeda
	<shugo@@modruby.net>
@
text
@d1 4
@


1.1020
log
@* parse.y: remove useless function str_extend_p().
@
text
@d1 6
@


1.1019
log
@* lib/net/ftp.rb (get): new method.
* lib/net/ftp.rb (putt): ditto.
* lib/net/ftp.rb (binary): ditto.
* lib/net/ftp.rb (binary=): ditto.
@
text
@d1 4
@


1.1018
log
@* lib/net/ftp.rb (getbinaryfile): the second argument (localfile)
is now optional.
* lib/net/ftp.rb (gettextfile): ditto.
@
text
@d1 10
@


1.1017
log
@* lib/net/ftp.rb: use &block and yield for speed.
@
text
@d1 7
@


1.1016
log
@	* lib/cgi.rb (CGI#initialize): improvement for mod_ruby.
@
text
@d1 4
@


1.1015
log
@	* lib/cgi.rb (CGI#header): accept any type as value.
@
text
@d1 4
@


1.1014
log
@* configure.in (seekdir, telldir): add ac_cv_func_telldir=yes,
  ac_cv_func_seekdir=yes for MinGW.
@
text
@d1 4
@


1.1013
log
@* io.c (pipe_finalize, pipe_popen): two-way pipe support for win32.

* win32/win32.c (ChildRecord, FindFreeChildSlot): ditto.

* win32/win32.c, win32/win32.h (pipe_exec): new function for two-way
  pipe support for win32.

* win32/win32.c, win32/win32.h (FindPipedChildSlot, rb_w32_popen,
  rb_w32_pclose): removed functions for two-way pipe support for win32.
@
text
@d1 5
@


1.1012
log
@* pack.c (pack_unpack): change names of local variables because their
  names are overlapped.
@
text
@d1 12
@


1.1011
log
@* re.c (rb_reg_expr_str): need to process backslashes properly.

* object.c (rb_any_to_a): declare Object#to_a to be obsolete.

* object.c (rb_Array): do not convert nil into [] automagically.

* object.c (rb_Integer): use "to_int" instead of
  "to_i". [experimental]

* object.c (nil_to_f): new method.

* object.c (rb_Integer): Symbols and nil should cause error.

* object.c (rb_Float): nil should cause error.
@
text
@d1 5
@


1.1010
log
@lib/pp.rb: fix object address.
@
text
@d25 10
d51 11
@


1.1009
log
@* win32/win32.c (rb_w32_stat): fix buffer overflow. (ruby-bugs:PR#329)
@
text
@d1 4
@


1.1008
log
@* lib/prettyprint.rb, lib/pp.rb: convenience methods added.
@
text
@d1 4
@


1.1007
log
@* lib/prettyprint.rb: re-implemented for incremental output to handle
huge data.  API is changed a bit.

* lib/pp.rb: adapt new pretty printing API.
@
text
@d1 4
@


1.1006
log
@* parse.y (literal_concat_string): non-string last expression in
  #{} was ignored when followed by literal.
@
text
@d1 7
@


1.1005
log
@* parse.y (words, qwords): word list literal rules.

* parse.y (parse_string): ditto.

* parse.y (yylex): %W: word list literal with interpolation. [new]
@
text
@d1 5
@


1.1004
log
@* parse.y (string1, xstring, regexp): moved lex_strnest
  initialization to string_contents/xstring_contents.
@
text
@d1 8
@


1.1003
log
@* dln.c: remove definition rb_loaderror().
@
text
@d1 5
@


1.1002
log
@* dln.c: remark definition rb_loaderror().
@
text
@d1 4
@


1.1001
log
@* parse.y (string_dvar): allow back references in interpolation.
@
text
@d1 4
@


1.1000
log
@* parse.y (yylex): __END__ should not be effective within
  string literals.

* parse.y (here_document): should be aware of __END__ within here
  documents.
@
text
@d1 4
@


1.999
log
@* lib/mkmf.rb (create_makefile): get rid of nested string.

* lib/mkmf.rb (install_rb): site-install didn't work properly.
@
text
@d26 5
d50 5
d76 4
@


1.998
log
@* eval.c (rb_eval): NODE_EVSTR is no longer used.

* eval.c (eval): not enforce to make assigned variables dynamic.

* parse.y (string): split rules to strings/xstring/regexp to allow
  arbitrary statements inside string interpolation.

* parse.y (here_document): splitted into three phases.

* parse.y (literall_append, literal_concat): added.
  append/concatinate string literals.

* sample/test.rb (valid_syntax): adjust line number for BEGIN.
@
text
@d1 1
a1 1
Mon Jun 24 16:16:59 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>
d16 4
@


1.997
log
@updated to the new version (based on date2 3.3).
@
text
@d1 16
@


1.996
log
@* ext/readline/readline.c (readline_readline): get rid of
  libreadline's bug. (ruby-bugs-ja:PR#268)
@
text
@d1 5
@


1.995
log
@* configure.in (__NO_ISOCEXT): add for mingw-runtime 2.0-2.
* configure.in (__MSVCRT__): removed because it is defined
  in the GCC specs.
@
text
@d1 5
@


1.994
log
@* lib/ftool.rb (BUFSIZE): tuning, set buffer length to 8192.
@
text
@d5 5
@


1.993
log
@* ext/extmk.rb, lib/mkmf.rb (xsystem): open the log file if xsystem is called.
@
text
@d1 4
@


1.992
log
@* parse.y (yylex): ? followed by successive word charaters is
  ternary operator not numeric literal.
@
text
@d1 5
@


1.991
log
@* parse.y (yylex): commands after break/next/rescue can take
  arguments.  (ruby-bugs-ja:PR#265)
@
text
@d1 4
a4 1
Wed Jun 19 00:39:52 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>
@


1.990
log
@* win32/mkexports.rb: remove unnecessary exports. (ruby-dev:17418)
@
text
@d1 5
@


1.989
log
@* parse.y (yylex): obsolete '?<whitespace>'; use '?\s', '?\n',
  etc, instead.

* parse.y (yylex): no here document after a dot.

* parse.y (yylex): should have set lex_state after '`'.

* parse.y (yylex): should have set lex_state properly after
  tOP_ASGN.

* bignum.c (rb_big2dbl): return canonical HUGE_VAL for infinity.
@
text
@d1 4
@


1.988
log
@* parse.y (yylex): should pushback proper char after '<<'.

* parse.y (range_op, cond0, cond): get rid of doubled warnings.

* parse.y (value_expr): reduce recursion level.

* parse.y (logop): ditto.
@
text
@d16 5
d27 9
d52 4
@


1.987
log
@* dln.c (dln_load): need to preserve dln_strerror() result,
  calling other dl family can clear it.
@
text
@d1 10
@


1.986
log
@* dir.c (glob_helper): Use lstat() instead of stat() so it catches
  a dead symlink.  Given a dead symlink named "a", Dir.glob("?")
  did catch it but Dir.glob("a") somehow didn't.
@
text
@d1 5
@


1.985
log
@*bcc32 fix for win9x.
@
text
@d1 6
@


1.984
log
@* parse.y (read_escape): deny zero-width hexadecimal character.
  (ruby-bugs-ja:PR#260)

* parse.y (tokadd_escape): ditto.

* regex.c (re_compile_pattern): ditto.
@
text
@d1 8
@


1.983
log
@* eval.c (svalue_to_avalue): v may be Qundef.  This fix was
  suggested by Guy Decoux.

* hash.c (rb_hash_s_create): use rb_hash_aset() instead of calling
  st_insert() directly, to dup&freeze string keys.

* parse.y (yylex): proper error message for "@@@@0".

* parse.y (yylex): paren to parse_string() must be zero for
  unparenthesized strings.

* parse.y (str_extend): broken string when unterminated "#{".

* enum.c (enum_sort_by): had a bug in 1 element enumeration.
@
text
@d1 9
@


1.982
log
@merged differences between uri-0.9.6 and uri-0.9.7
@
text
@d1 21
@


1.981
log
@* parse.y (yylex): 'do' should return kDO_BLOCK on EXPR_ENDARG.

* parse.y (singleton): "def (()).a end" dumped core.

* parse.y (range_op): node may be null.

* parse.y (match_gen): ditto.

* parse.y (arg): void value check for "..", "...", "!", and "not".

* parse.y (match_gen): void value check for "=~".

* parse.y (value_expr): check NODE_AND and NODE_OR recursively.

* parse.y (cond0): void value check added for conditionals.
@
text
@d1 10
@


1.980
log
@* parse.y (stmt): fix typo.
@
text
@d5 10
d21 10
@


1.979
log
@* configure.in (LIBRUBY): rename to lib$(LIBRUBY_SO).a on Cygwin/MinGW.

* configure.in, cygwin/GNUmakefile: use dllwrap when --disable-shared
  is specified.
@
text
@d1 4
@


1.978
log
@* eval.c (rb_eval): ruby_frame->last_func may be null, if it's
  called outside of a method.

* parse.y (arg): use INT2NUM, not INT2FIX for tUMINUS.

* parse.y (arg): unnecessary negative tPOW treatment.

* parse.y (tokadd_escape): wrong backslash escapement.

* parse.y (stmt,arg): too much void value check.

* parse.y (stmt,arg): need to check void value on rules which does
  not use node_assign().

* ext/socket/socket.c (ipaddr): need not to taint hostnames.

* range.c (range_include): should be based on "<=>", whereas
  member? still is based on "each".

* range.c (range_min,range_max): redefine methods based on "<=>".
@
text
@d1 7
@


1.977
log
@* lib/net/ftp.rb (noop): new method.
* lib/net/ftp.rb (site): ditto.
@
text
@d43 11
d58 7
d70 4
d82 7
@


1.976
log
@* bcc32/Makefile.sub: set PROCESSOR_LEVEL to 6 if it's too big value.

* win32/Makefile.sub: ditto.
@
text
@d1 6
@


1.975
log
@* bcc32/configure.bat fix.
@
text
@d1 6
@


1.974
log
@new platform [bccwin32] merged.
@
text
@d1 4
@


1.973
log
@fix PR#.
@
text
@d1 16
@


1.972
log
@*** empty log message ***
@
text
@d9 1
a9 1
	* parse.y (yylex): `0_' should be an error. (ruby-bugs-ja:PR#239)
@


1.971
log
@* numeric.c (fix_lshift): negative shift count means right shift.

* numeric.c (fix_rshift): return -1 when left side operand is
  negative.

* parse.y (yylex): `0_' should be an error. (ruby-bugs-ja:PR#239)
@
text
@d4 1
d7 1
a7 1
	  negative.
@


1.970
log
@* ext/dl: change the callback mechanism.
@
text
@d1 9
@


1.969
log
@modify typo.
@
text
@d1 4
@


1.968
log
@* sample/biorhythm.rb (getPosiiton,etc)
  fix at changing Date module ( Date is changed Fixnum to Rational )
@
text
@d70 1
a70 1
	  to respond to "succ'.
@


1.967
log
@* win32/Makefile.sub (config.status): use sub! instead of []= because
  []= causes exception.
@
text
@d1 5
@


1.966
log
@typo.
@
text
@d1 5
@


1.965
log
@* lib/thread.rb (Queue::pop): get rid of race condition.
@
text
@d163 1
a163 1
	  without rescue clase.
@


1.964
log
@* ext/Win32API/extconf.rb: refactoring.
@
text
@d1 4
@


1.963
log
@* ext/socket/extconf.rb: The IPv6 stack of Cygwin is still incomplete.
@
text
@d5 2
@


1.962
log
@* string.c (rb_str_aset): should raise error if an indexing string
  is not found in the receiver.

* sprintf.c (rb_f_sprintf): "%d" should convert objects into
  integers using Integer().

* lib/tempfile.rb (Tempfile::size): added.
@
text
@d1 4
@


1.961
log
@* ext/socket/getaddrinfo.c (gai_strerror): make literals const.
@
text
@d26 8
d37 4
@


1.960
log
@* ext/socket/addrinfo.h: typo.

* ext/socket/getaddrinfo.c (gai_strerror): get rid of warning.

* ext/socket/socket.c (init_inetsock): ensures resources are
  freed at exceptions.

* ext/socket/socket.c (init_unixsock): ditto.

* ext/socket/socket.c (udp_connect): ditto.
@
text
@d5 1
a5 1
	* ext/socket/getaddrinfo.c (gai_strerror): get rid of warning.
@


1.959
log
@change PLATFORM with RUBY_PLATFORM.
@
text
@d1 13
@


1.958
log
@* parse.y (here_document): check if identifier is terminated.
  (ruby-bugs-ja:PR#239)

* parse.y (yylex): should pushback proper char after '**'.
  (ruby-bugs-ja:PR#240)
@
text
@d1 4
d15 1
a15 1
	* ext/win32ole: merge from rough
@


1.957
log
@merge win32ole from rough
@
text
@d1 8
@


1.956
log
@* range.c (range_step): iteration done using "+" if elements are
  Numeric.  Otherwise using "succ".

* range.c (range_each): iteration done using "succ".  If the
  elements does not respond to "succ", raise TypeError.  As a
  result, all Enumerable methods, e.g. collect, require elements
  to respond to "succ'.

* range.c (range_member): comparison done using "each", if
  elements are non-Numeric or no-"succ" objects.  Otherwise
  compare using "<=>".

* range.c (Init_Range): remove "size" and "length".
@
text
@d1 4
@


1.955
log
@	* lib/cgi.rb: if StringIO is usable then use it.
@
text
@d1 16
a63 4

Mon May 27 04:31:37 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_succ): new method for Range support.
@


1.954
log
@Wed May 29 18:55:47 2002  KONISHI Hiromasa <H_Konishi@@ruby-lang.org>

	* function renames my* and win32_* to rb_w32_* in win32/win32.c
	  fixed files win32/win32.c, win32/win32.h, win32/dir.h,
	              hash.c, rubysig.h, signal.c, ext/socket/socket.c
@
text
@d1 4
@


1.953
log
@* time.c (tmcmp, search_time_t): activate unless HAVE_TIMEGM.
@
text
@d1 6
@


1.952
log
@* parse.y: yyparse #defines moved from intern.h

* ruby.c (proc_options): access prefixed "ruby_yydebug".

* applied modifies to pacify some of gcc -Wall warnings.

* parse.y (arg): no more ugly hack for "**", so that "-2**2" to be
  parsed as "(-2)**2", whereas "- 2**2" or "-(2)**2" to be parsed
  as "-(2**2)".

* parse.y (yylex): '-2' to be literal fixnum. [new]

* time.c (time_succ): new method for Range support.

* time.c (time_arg): nil test against v[6] (usec).
@
text
@d1 4
@


1.951
log
@	* lib/cgi.rb: not use const if GET, HEAD. check multipart form head.
@
text
@d5 16
d34 8
@


1.950
log
@* eval.c (scope_node): trick to keep the node has a scope.

* eval.c (rb_eval): NODE_EVSTR: write back local_tbl to the node.

* eval.c (rb_eval): NODE_SCOPE: hold the scope node in ruby_scope.

* eval.c (module_setup): ditto.

* eval.c (rb_call0): ditto.

* node.h (NEW_DASGN, NEW_DASGN_CURR): remove surplus semicolons.
@
text
@d1 4
@


1.949
log
@* ruby.c (proc_options): option parsing problem.
  (ruby-bugs-ja:PR#233)
@
text
@d1 14
@


1.948
log
@* ruby.c (proc_options): removed "-*-" support for #! line.

* io.c (rb_io_s_sysopen): new method to get a raw file
  descriptor. [new]

* ext/socket/socket.c (tcp_sysaccept): new method to return an
  accepted socket fd (integer). [new]

* ext/socket/socket.c (unix_sysaccept,sock_sysaccept): ditto.
@
text
@d1 5
@


1.947
log
@* ruby.c (proc_options): -T consumes digits only.
@
text
@d1 12
@


1.946
log
@Wed May 22 20:18:31 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: need not link vsnprintf.o on MinGW.
@
text
@d1 4
@


1.945
log
@* parse.y (yylex): case '<': here-document label ate '-'.
@
text
@d1 4
@


1.944
log
@* object.c (Init_Object): should do exact match for Module#==.

* compar.c (cmp_eq): returns 'false' if <=> returns 'nil'.

* compar.c (cmp_gt,cmp_ge,cmp_lt,cmp_le,cmp_between): ditto.

* pack.c (pack_pack): should propagate taintedness.

* pack.c (pack_unpack): ditto.

* eval.c (rb_thread_schedule): need to preserve errno before
  calling rb_trap_exec().

* regex.c (calculate_must_string): a bug in charset/charset_not
  parsing.
@
text
@d1 4
@


1.943
log
@* misc/ruby-mode.el (ruby-font-lock-keywords): symbols end with '_'.
@
text
@d23 8
d45 6
d60 8
d85 1
a85 1
	* eval.c (set_method_visibility): should have clear cache forq
@


1.942
log
@Tue May 21 04:48:37 2002  Sean Chittenden <sean@@chittenden.org>

	* lib/cgi-lib.rb: Checking for constant MOD_RUBY instead of
	  environment variable. Remove a mod_ruby warning and use
	  Apache::request.headers_out[] instead.
@
text
@d1 5
@


1.941
log
@* parse.y (bodystmt): ensure clause was excuted on else clause
  without rescue clase.
@
text
@d1 6
@


1.940
log
@rename PtrData::alloc and Struct#alloc to malloc respectively.
@
text
@d1 5
@


1.939
log
@* io.c (rb_io_clone): writing stream was not copied properly.
@
text
@d1 6
@


1.938
log
@corrected paths.
@
text
@d1 4
@


1.937
log
@updated to the new version (based on date2 3.2.1).
@
text
@d3 1
a3 1
	* date.rb, date/format.rb, parsedate.rb:
@


1.936
log
@* win32/Makefile.sub (config.h): add VC++4/5 support about noreturn
  directive.
@
text
@d1 5
@


1.935
log
@* sampl/test.rb: use eval instead of './miniruby -c',
  in order to check a syntax error.
@
text
@d1 5
@


1.934
log
@* eval.c (rb_thread_select): cleanup conditional compilation.
@
text
@d1 5
@


1.933
log
@* win32/Makefile.sub: config.h inlined.  and catch up with the
  latest change.

* win32/config.h.in: no longer used.
@
text
@d1 4
@


1.932
log
@* eval.c (rb_clear_cache_by_class): new function.

* eval.c (set_method_visibility): should have clear cache forq
  updated visibility.

* numeric.c (flo_to_s): default format precision to be "%.16g".

* util.c (ruby_strtod): use own strtod(3) implementation to avoid
  locale hell.  Due to this change "0xff".to_f no longer returns 255.0

* eval.c (avalue_to_yvalue): new function to distinguish yvalue
  (no-arg == Qundef) from svalue (no-arg == Qnil).

* eval.c (rb_yield_0): use avalue_to_yvalue().

* eval.c (assign): warn if val == Qundef where it means rhs is
  void (e.g. yield without value or call without argument).

* parse.y (value_expr): need not to warn for WHILE and UNTIL,
  since they can have return value (via valued break).
@
text
@d1 7
@


1.931
log
@* gc.c (is_pointer_to_heap): avoid GCC 3.1 warnings.
* missing/strftime.c (timezone): it should take no argument on Cygwin.
@
text
@d7 7
d18 7
d43 10
d64 5
@


1.930
log
@* djgpp/config.hin, djgpp/config.sed: catch up with the latest change.
@
text
@d1 6
@


1.929
log
@* ext/dl: enable dl's stack emulation for constructing function call.
@
text
@d1 1
a1 1
Sat May 11 23:24:52 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>
d3 1
a3 1
	* ext/dl: enable dl's stack emulation for constructing function call.
d14 4
@


1.928
log
@* missing.h: add for missing/*.c.
* ruby.h: add `#include "missing.h"'.
* Makefile.in: add the dependency of missing.h by gcc -MM.
* MANIFEST: add missing.h
@
text
@d1 4
@


1.927
log
@* dir.c (glob_helper): remove escaping backslashes.
@
text
@d1 10
@


1.926
log
@* parse.y (here_document): preserve line number begins here
  document.
@
text
@d1 4
@


1.925
log
@* eval.c (rb_thread_join): added an argument to limit time to wait
  the thread.

* eval.c (rb_thread_join_m): new. and added optional argument.
@
text
@d1 5
@


1.924
log
@* re.c (rb_reg_s_quote): # also should be quoted.
@
text
@d1 7
@


1.923
log
@* configure.in: forgot to add -Wl, to the gcc option on Cygwin/MinGW.
@
text
@d30 4
@


1.922
log
@* ext/iconv/iconv.c (iconv_try): should initialize exceptions
  properly. (ruby-bugs-ja:PR#232)
@
text
@d1 4
@


1.921
log
@* eval.c (rb_yield_0): The destination of the goto jump was wrong.
@
text
@d1 5
@


1.920
log
@* eval.c (superclass): undesirable "unexpected return" when the superclass is not a Class.
@
text
@d1 4
@


1.919
log
@* lib/mkmf.rb: exclude topdir from the system configuration
  section and prevent it from being overridden.
@
text
@d1 5
@


1.918
log
@Back out the previous commit which was incorrect.  I misread the
specification.
@
text
@d1 5
@


1.917
log
@* dir.c (fnmatch): Make PERIOD() independent of FNM_PATHNAME.
  This fixes a bug where fnmatch('/?a', '/.a', 0) returned true.
@
text
@a0 5
Sat May  4 07:23:20 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* dir.c (fnmatch): Make PERIOD() independent of FNM_PATHNAME.
	  This fixes a bug where fnmatch('/?a', '/.a', 0) returned true.

@


1.916
log
@* win32/config.h.in: define HAVE_DECL_SYS_NERR.
@
text
@d1 5
@


1.915
log
@* configure.in: add #include <errno.h> in AC_CHECK_DECLS().
@
text
@d5 2
@


1.914
log
@* ext/extmk.rb.in, lib/mkmf.rb: use 'do...end' instead of '{}' for Borland make.
@
text
@d1 4
@


1.913
log
@* error.c: use HAVE_DECL_SYS_NERR instead of platform names.
@
text
@d1 5
@


1.912
log
@* numeric.c (num_step): better iteration condition for float
  values;  suggested by Masahiro TANAKA <masa@@ir.isas.ac.jp>.

* range.c (range_step): step (for Range#step method) <= 0 makes no
  sence, thus ArgError will be raised.

* range.c (range_each): Range#each method is special case for
  Range#step(1)

* file.c (rb_find_file): load must be done from an abolute path if
  $SAFE >= 4.

* enum.c (enum_partition): new method. [new]

* re.c (rb_reg_s_quote): quote whitespaces for /x cases.
@
text
@d1 4
@


1.911
log
@* win32/win32.c (insert): fix prototype for ANSI C.
@
text
@d1 18
d22 8
@


1.910
log
@ext/dl/ptr.c: missing break in switch statements.
@
text
@d1 4
@


1.909
log
@* eval.c (rb_proc_new): make Proc from C function. [new]

* intern.h (rb_proc_new): prototype.
@
text
@d1 4
@


1.908
log
@* eval.c (proc_to_proc): return self. [new]

* eval.c (block_pass): no need to convert if block is Proc.
@
text
@d1 6
@


1.907
log
@* configure.in: set size of the initial stack from
  2MB to 32MB on MinGW/Cygwin.
@
text
@d1 6
@


1.906
log
@* numeric.c (num_step): try to reduce residual on Float operations.
@
text
@d1 5
@


1.905
log
@* io.c (rb_io_mode_flags): both 'r+b' and 'rb+' should be allowed.

* io.c (rb_io_mode_modenum): ditto.

* gc.c (rb_memerror): rename from mem_error, and exported.

* gc.c (Init_GC): pre-allocate NoMemoryError instance.

* object.c (convert_type): error message changed from "failed to
  convert" to "cannot convert", since it does not try to convert
  if an object does not respond to the converting method.

* eval.c (block_pass): convert Method to Proc using
  rb_check_convert_type().

* object.c (rb_check_convert_type): always convert T_DATA

* eval.c (rb_thread_cleanup): should not terminate main_thread by
  Fatal error.

* regex.c (is_in_list): need to not exclude NUL and NEWLINE.

* re.c (rb_reg_expr_str): wrong backslash escapement.

* re.c (rb_reg_expr_str): do not escape embedded space
  characters.

* marshal.c (w_object): T_DATA process patch from Joel VanderWerf
  <vjoel@@PATH.Berkeley.EDU>.  This is temporary hack; it remains
  undocumented, and it will be removed when marshaling is
  re-designed.

* marshal.c (r_object): ditto.

* numeric.c (num_step): Integer#step is moved to Numeric#step;
  Fixnum#step is merged into this method.

* numeric.c (int_dotimes): Fixnum#times is merged.

* numeric.c (int_upto): Fixnum#upto is merged.

* numeric.c (int_downto): Fixnum#downto is merged.
@
text
@d1 4
@


1.904
log
@* ext/stringio/stringio.c (strio_mark): must check if ptr is NULL
  first.  [ruby-talk:38873]

* lib/mkmf.rb (create_makefile): should print depend file when
  make is other than nmake.
@
text
@d1 6
d23 29
d57 20
@


1.903
log
@* ext/extmk.rb.in (create_makefile): use `{$(srcdir)}' directive instead
  of `$(srcdir)/' when including depend file.

* lib/mkmf.rb (create_makefile): add `{$(srcdir)}' when including depend
  file.
@
text
@d1 8
@


1.902
log
@* win32/Makefile.sub: add -DNT to $CFLAGS instead of $CPPFLAGS.

* win32/setup.mak: ditto.
@
text
@d1 8
@


1.901
log
@* configure.in: cleanup for autoconf 2.5x.
* configure.in: use gcc -shared instead of dllwrap on Cygwin/MinGW.
* ext/extmk.rb, lib/mkmf.rb: get rid of "--def=".
@
text
@d1 6
@


1.900
log
@* win32/win32.c: include <mswsock.h> on __MINGW32__.
@
text
@d7 6
@


1.899
log
@* ext/socket/extconf.rb: include <windows.h>, <winsock.h> on _WIN32.
@
text
@d5 2
@


1.898
log
@* re.c (rb_reg_to_s): remove redundant shy group.
@
text
@d1 4
@


1.897
log
@* eval.c (rb_thread_cleanup): current thread may be THREAD_STOPPED,
  for example when terminated from signal handler.

* regex.c (re_compile_pattern): remove /p support.

* regex.h: ditto.

* parse.y (parse_regx): ditto.
@
text
@d1 4
@


1.896
log
@ext/dl/ptr.c: remove rb_dlptr_cast().
@
text
@d1 13
@


1.895
log
@* re.c (rb_reg_expr_str): should treat backslash specially in
  escaping.

* io.c: complete off_t handling; missing argument for
  fptr_finalize(); polished rb_scan_args call.

* dir.c: wrap multi-statment macro by do { } while (0)

* eval.c, numeric,c, sprintf.c, util.c: ditto.

* bignum.c (rb_big_eq): check `y == x' if y is neither Fixnum,
  Bignum, nor Float.
@
text
@d1 4
@


1.894
log
@* re.c (rb_reg_to_s): new function for Regexp#to_s.
@
text
@d10 16
d29 5
@


1.893
log
@* ext/Setup*, ext/bigfloat/*: Back out the import of BigFloat in
  favor of its forthcoming successor, BigDecimal.
@
text
@d1 4
@


1.892
log
@* eval.c (assign): convert mrhs to mvalue.
@
text
@d1 5
@


1.891
log
@* pack.c (pack_unpack): should treat 'U' in character unit, not in
  byte unit.

* error.c (exc_initialize): should clear backtrace information.

* io.c (rb_io_fptr_cleanup): should close IO created by IO.new(fd).

* rubyio.h: remove FMODE_FDOPEN
@
text
@d1 4
@


1.890
log
@* struct.c (rb_struct_select): fix typo.

* io.c (io_write): check error if written data is less than
  specified size to detect EPIPE.
@
text
@d1 13
@


1.889
log
@* win32/Makefile.sub: use missing/acosh.c.

* win32/config.h.in: define HAVE_COSH, HAVE_SINH, and HAVE_TANH.
@
text
@d7 4
d23 5
@


1.888
log
@/tmp/log
@
text
@d1 6
@


1.887
log
@* random.c (rand_init): add check for initstate(3).
* configure.in: ditto.
@
text
@d1 13
@


1.886
log
@* io.c (remain_size): IO#read returns "" if file.size == 0.
@
text
@d5 4
@


1.885
log
@* eval.c (assign): ruby_verbose should be surrounded by RTEST().

* object.c (rb_str2cstr): ditto.

* parse.y (void_expr): ditto.

* parse.y (void_stmts): ditto.

* variable.c (rb_ivar_get): ditto.

* variable.c (rb_cvar_set): ditto.

* variable.c (rb_cvar_get): ditto.

* dir.c (glob_helper): should have proceed link when link->path
  was non existing symbolic link.
@
text
@d1 4
@


1.884
log
@raise() -> rb_raise(). (Thanks Tetsuya Watanabe)
@
text
@d7 16
@


1.883
log
@Add dl.txt instead of README.
@
text
@d1 6
@


1.882
log
@	* lib/cgi/session.rb: support for multipart form.
@
text
@d1 4
@


1.881
log
@* dir.c (glob_helper): should have proceed link when link->path
  was non existing symbolic link.
@
text
@d1 4
@


1.880
log
@* variable.c (rb_obj_remove_instance_variable): raise NameError if
  specified instance variable is not defined.

* variable.c (generic_ivar_remove): modified to check ivar
  existence.

* file.c (rb_file_s_extname): new method based on the proposal
  (and patch) from Mike Hall. [new]

* eval.c (error_handle): default to 1 unless status is set.

* eval.c (ruby_options): guard error_handle() with PROT_NONE.

* eval.c (ruby_stop): ditto.

* math.c (math_acosh): added. [new]

* math.c (math_asinh): ditto.

* math.c (math_atanh): ditto.

* struct.c (rb_struct_each_pair): method added. [new]

* class.c (rb_singleton_class): wrong condition; was creating
  unnecessary singleton class.
@
text
@d1 5
a5 1
<<<<<<< ChangeLog
@


1.879
log
@* misc/ruby-mode.el (ruby-font-lock-keywords): fontify symbols for
  unary operators and aset.
@
text
@d1 9
d41 5
d54 21
d84 1
a84 1
Wed Apr  3 15:37:24 2002  Takaaki Tateishi <ttate@@kt.jaist.ac.jp>
d86 1
a86 1
	* ext/dl: Add dl/types.rb.
d93 4
@


1.878
log
@* lib/mkmf.rb (try_link0): need expand macro in command, sync with
  ext/extmk.rb.in.

* lib/mkmf.rb (try_cpp): ditto.

* lib/mkmf.rb (egrep_cpp): ditto.
@
text
@d1 5
@


1.877
log
@* ext/stringio/stringio.c (check_modifiable): performance
  improvement.  avoid calling rb_str_modify() twice.

* ext/stringio/stringio.c (strio_ungetc): ditto.

* ext/stringio/stringio.c (strio_putc): ditto.

* ext/stringio/stringio.c (strio_write): ditto, and use
  rb_str_cat() as possible.
@
text
@d1 9
@


1.876
log
@* re.c (match_select): fix index references and make
  MatchData#select actually work.
@
text
@d1 12
@


1.875
log
@* eval.c (error_handle): default to 1 unless status is set.

* eval.c (ruby_options): guard error_handle() with PROT_NONE.

* eval.c (ruby_stop): ditto.
@
text
@d1 5
@


1.874
log
@Add dl/struct.rb.
@
text
@d1 8
@


1.873
log
@Get rid of ineffective encoding/decoding procedures.
@
text
@d1 4
@


1.872
log
@Add ext/dl/lib/dl/types.rb.
@
text
@d1 5
@


1.871
log
@Merge Nakada's patch and define StringValuePtr for ruby-1.6.
CV ----------------------------------------------------------------------
@
text
@d1 4
@


1.870
log
@* ext/extmk.rb.in (enable_config): follow lib/mkmf.rb.
@
text
@d1 6
@


1.869
log
@Append a message for dl.
@
text
@d1 4
@


1.868
log
@* Makefile.in (CPPFLAGS): remove @@includedir@@.

* lib/mkmf.rb (create_makefile): ditto.

* ext/extmk.rb.in (create_makefile): ditto.
@
text
@d1 4
@


1.867
log
@* ext/socket/socket.c (sock_addrinfo): should clear addrinfo hints.
@
text
@d1 8
@


1.866
log
@lib/mkmf.rb: install any files using $INSTALLFILES. (from [ruby-dev:16683])
@
text
@d1 4
@


1.865
log
@* io.c (rb_io_fptr_cleanup): need flush even when io will not be
  closed.

* io.c (rb_io_initialize): was calling wrong function
  rb_io_mode_flags().
@
text
@d1 5
@


1.864
log
@* ext/sdbm/init.c (each_pair): moved prototype before the
  definition.

* ext/racc/cparse/cparse.c (call_scaniter): ditto.
@
text
@d1 8
@


1.863
log
@* re.c (match_setter): it's OK to assign nil to $~.

* io.c (rb_io_fptr_cleanup): do not close IO created by for_fd().

* io.c (rb_io_initialize): mark IO created by for_fd

* ext/socket/socket.c (bsock_s_for_fd): ditto.
@
text
@d1 7
a44 1

@


1.862
log
@* ext/racc/cparse/cparse.c: prototype; call_scaniter().
* ext/sdbm/init.c: prototype; each_pair().
* ext/tcltklib/tcltklib.c: prototypes; _timer_for_tcl() and ip_ruby(),
  Nobu's patch at [ruby-dev:14483].
@
text
@d10 12
@


1.861
log
@* io.c (io_fflush): DRY patch from /Christoph applied.
@
text
@d1 9
@


1.860
log
@* lib/mkmf.rb (create_makefile): default FLAGS to empty strings.
@
text
@d23 4
@


1.859
log
@* lib/mkmf.rb (arg_config): should use Shellwords::shellwords like
  ext/extmk.rb.in.

* lib/mkmf.rb (enable_config): default had priority over command
  line options and configure_args.

* lib/mkmf.rb: support autoconf 2.53 style variables from
  environment.

* lib/mkmf.rb: add directory options.
@
text
@d1 4
@


1.858
log
@* win32/README.win32: follow recent changes.
@
text
@d1 14
@


1.857
log
@* win32/Makefile.sub (config.status): reflect user defined $CC in
  config.status.
@
text
@d1 4
@


1.856
log
@* ext/socket/socket.c (sock_addrinfo): should specify socktype
  from outside.

* io.c (argf_binmode): should call next_argv() to initialize ARGF.

* io.c (argf_filename): ditto.

* io.c (argf_file): ditto.
@
text
@d1 5
@


1.855
log
@* ext/strscan/strscan.c: add taint check.
* ext/strscan/strscan.c: #getch/#get_byte should set regexp registers.
* ext/strscan/strscan.c: remove useless #include directive.
* ext/strscan/strscan.c: refactor struct strscanner.
@
text
@d12 13
@


1.854
log
@* io.c (READ_DATA_PENDING): configure.in has supported for uClibc,
  so remove uClibc stuff.
@
text
@d1 11
@


1.853
log
@* io.c (rb_io_sysseek): new method based on a patch from Aristarkh
  A Zagorodnikov <xm@@bolotov-team.ru>. [new]

* io.c (READ_DATA_PENDING): use !feof(fp) for default behavior.
@
text
@d1 5
@


1.852
log
@change log update only.
@
text
@d1 7
@


1.851
log
@* lib/net/http.rb: HTTP.get accepts URI.
* lib/net/http.rb: add some HTTP 1.1 response codes.
@
text
@d5 2
@


1.850
log
@* doc/net/protocol.rd.ja, smtp.rd.ja, pop.rd.ja: removed.
* MANIFEST: remove doc/net/* entries.
@
text
@d1 6
@


1.849
log
@* ext/extmk.rb.in (arg_config): should use Shellwords::shellwords.
@
text
@d1 6
@


1.848
log
@* configure.in (FILE_READPTR): check bufread instead of bufend for uClibc.
@
text
@d5 2
@


1.847
log
@* parse.y (primary): while/until statement modifiers to "begin"
  statement now work as "do .. while" even when begin statement
  has "rescue" or "ensure" [new].

* parse.y (bodystmt): rescue/ensure is allowed at every bodies,
  i.e. method bodies, begin bodies, class bodies[new], and module
  bodies[new].

* ext/socket/socket.c (sock_addrinfo): should specify ai_socktype
  for getaddrinfo hints.

* eval.c (rb_f_abort): embed aborting message into exception
  object [new].

* eval.c (terminate_process): utility function for exit and abort.
@
text
@d1 5
@


1.846
log
@* win32/mkexports.rb: support VC++.NET.
@
text
@d1 27
@


1.845
log
@* ext/bigfloat/bigfloat.c: Fix the initializer's function name
  according to the new library name. (pointed out by nobu)
@
text
@d1 4
@


1.844
log
@* lib/fileutils.rb: new file.
* lib/README: add fileutlis.rb.
* doc/NEWS: add fileutils.rb.
@
text
@d1 5
d16 1
a16 1
	* ext/bigfloat/extconf.rb: Downcase the module name. (BigFloat.so
@


1.843
log
@* lib/pp.rb (pp): return nil like p.
@
text
@d1 4
@


1.842
log
@* ext/bigfloat/extconf.rb: Downcase the module name. (BigFloat.so
  -> bigfloat.so)

* ext/bigfloat/bigfloat.c (BigFloat_inspect): Alter the inspect
  format not to look like an array. (pointed out by akr)

* ext/bigfloat/bigfloat.c (BigFloat_hash): Implement BigFloat#hash.

* ext/bigfloat/bigfloat.c (BigFloat_dump, BigFloat_load):
  Support marshaling.
@
text
@d1 4
@


1.841
log
@* configure.in (FILE_READPTR): check _p for 4.4BSD.
@
text
@d1 13
@


1.840
log
@* configure.in (FILE_READPTR): new.  for IO#gets improvement.

* io.c (READ_DATA_PENDING_PTR): ditto.

* io.c (remain_size): separated from read_all().

* io.c (read_all): argument chagend.

* io.c (appendline): new.  get a line and append to string.

* io.c (swallow): new.  swallow continuous line delimiters.

* io.c (rb_io_getline_fast): add delimiter argument.

* io.c (rb_io_getline): performance improvement.
@
text
@d1 4
@


1.839
log
@* ext/extmk.rb.in (arg_config): get rid of single quotes for autoconf 2.53.
@
text
@d1 18
@


1.838
log
@* regex.c (mbc_startpos_func): VC6 seems to be unable to
  understand forward declaration for static variables.
@
text
@d1 5
@


1.837
log
@* dir.c (rb_push_glob): local variable 'maxnest' was
  uninitialized.
@
text
@d1 4
a4 1
Mon Mar 25 17:18:48 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>
@


1.836
log
@* ext/socket/socket.c (bsock_do_not_rev_lookup_set): should not be
  allowed when $SAFE > 3.

* eval.c (rb_thread_ready): THREAD_TO_KILL threads should not turn
  into THREAD_RUNNABLE on wakeup.

* eval.c (rb_thread_list): THREAD_TO_KILL threads should be in the
  list.

* eval.c (thgroup_list): ditto; by moving gid clearance from
  rb_thread_cleanup().

* dir.c (fnmatch): "*/bar" (with FNM_PATHNAME flag) does not
  match "foo/bar".

* io.c (read_all): files on /proc filesystem with zero stat size,
  may have contents.

* ext/socket/socket.c (tcp_s_gethostbyname): refactored.

* ext/socket/socket.c (sock_s_gethostbyname): ditto.
@
text
@d1 5
@


1.835
log
@* dln.c (dln_argv0): unused unless USE_DLN_A_OUT.
@
text
@d1 14
d21 5
d30 11
d86 4
@


1.834
log
@* regex.c (mbc_startpos_func): shoud be static.
@
text
@d1 1
a1 1
Mon Mar 25 10:04:59 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>
d3 3
a5 1
	* regex.c (mbc_startpos_func): shoud be static.
@


1.833
log
@* util.c (push_element): avoid warning for djgpp.
@
text
@d1 4
@


1.832
log
@* ext/extmk.rb.in: replace mkdir with mkpath to compile racc/cparse.
@
text
@d1 4
@


1.831
log
@* the VMS support patch submitted by Akiyoshi, Masamichi
  <Masamichi.Akiyoshi@@jp.compaq.com> is merged.

* eval.c (exec_under): changing ruby_class is OK, but should not
  alter cbase.

* eval.c (yield_under_i): ditto.
@
text
@d1 4
@


1.830
log
@racc runtime imported.
* lib/racc/parser.rb: new file.
* ext/racc/MANIFEST, cparse.c, depend, extconf.rb: new files.
* lib/README: add racc/parser.rb.
* ext/Setup*: add racc/cparse.
@
text
@d1 5
d15 7
@


1.829
log
@import strscan.
@
text
@d1 10
@


1.828
log
@net/protocol.rb: Protocol#start should return self.
@
text
@d1 6
@


1.827
log
@* lib/resolv.rb: fix arguments to create exceptions.
Patch from matt@@lickey.com.  (ruby-bugs:PR#278)
@
text
@d1 4
@


1.826
log
@BigFloat 1.1.8 has been imported.  Add .cvsignore and MANIFEST.
@
text
@d1 5
@


1.825
log
@* win32/Makefile.sub (config.status): fix install path (prefix).
@
text
@d1 5
@


1.824
log
@* ext/configsub.rb: latest autoconf style support.
@
text
@d1 4
@


1.823
log
@* mkconfig.rb: close duplicated $stdout before renaming rbconfig.rb.
@
text
@d1 4
@


1.822
log
@* win32/Makefile.sub (config.status): and use recent autoconf format.

* win32/config.status.in: no longer used.
@
text
@d1 4
@


1.821
log
@* win32/Makefile.sub: made variables configurable.

* win32/Makefile.sub (config.h): updates RUBY_PLATFORM from
  Makefile.

* win32/Makefile.sub (config.status): ditto.

* win32/Makefile.sub (clean): separate ext and local clean up.

* win32/Makefile.sub (distclean): ditto.
@
text
@d1 1
a1 1
Wed Mar 20 20:16:44 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>
d8 2
a9 1
	* win32/Makefile.sub (config.status): ditto.
d14 2
@


1.820
log
@* variable.c (rb_const_list): a temporary table must be freed.
@
text
@d1 13
@


1.819
log
@* mkconfig.rb: don't touch rbconfig.rb if there is a trouble.
@
text
@d1 4
@


1.818
log
@* eval.c (is_defined): should check receiver only once.

* eval.c (is_defined): should handle NODE_NEWLINE.

* file.c (rb_file_s_expand_path): memory leak fixed.
@
text
@d1 4
@


1.817
log
@* util.c (ruby_getcwd): the content of buf is uncertain and must
  not be printed when getcwd(buf, size) has failed.
@
text
@d1 10
@


1.816
log
@* re.c (rb_reg_search): should clear last_match if pos is out of
  string range.

* string.c (rb_str_index_m): ditto.

* string.c (rb_str_rindex): ditto.

* class.c (rb_define_class): should handle autoload.

* class.c (rb_define_module): ditto.
@
text
@d1 5
@


1.815
log
@* ext/stringio/stringio.c (check_modifiable): wrong declaration.
@
text
@d66 9
d107 6
@


1.814
log
@* ext/digest: add depend file.

* ext/digest/md5: ditto.

* ext/digest/rmd160: ditto.

* ext/digest/sha1: ditto.

* ext/digest/sha2: ditto.

* ext/iconv/MANIFEST: ditto.

* ext/stringio/MANIFEST: ditto.

* ext/syslog: ditto.
@
text
@d1 4
@


1.813
log
@* eval.c (rb_f_abort): should not bypass cleanup.

* ext/stringio/stringio.c (check_modifiable): void function.
@
text
@d1 18
@


1.812
log
@* ext/iconv/extconf.rb: workaround for GNU libiconv.
@
text
@d1 6
@


1.811
log
@* parse.y (parse_string): part of multi-byte sequence must not
  match to paren.

* parse.y (parse_qstring): ditto.

* parse.y (parse_quotedwords): ditto.

* parse.y (str_extend): handle multi-byte characters.
@
text
@d1 4
@


1.810
log
@* enum.c (enum_find): catch a value before recycle.

* enum.c (enum_all): ditto.

* enum.c (enum_any): ditto.

* enum.c (enum_min): ditto.

* enum.c (enum_max): ditto.
@
text
@d1 11
@


1.809
log
@* enum.c (enum_inject): use the first iterated element as the
  initial value when omitted.

* enum.c (inject_i): ditto.

* enum.c (Init_Enumerable): Enumerable#inject now takes variable
  count arguments.
@
text
@d1 12
@


1.808
log
@added depend files in ext/iconv and ext/stringio.
@
text
@d11 10
@


1.807
log
@* missing/fileblocks.c: add for autoconf.
@
text
@d1 6
@


1.806
log
@* win32/win32.c (StartSockets): remove duplicated lines.
@
text
@d1 4
@


1.805
log
@* bignum.c, intern.h (rb_ull2big, rb_ll2big, rb_ull2inum, rb_ll2inum,
  big2ull, rb_big2ull, rb_big2ll): use LONG_LONG macro instead of
  long long.
* numeric.c, intern.h, ruby.h (rb_num2ll, rb_num2ull): ditto.
* ruby.h: use _I64_MAX and _I64_MIN if they are defined (for VC++).
@
text
@d1 4
@


1.804
log
@* ext/iconv/iconv.c: fixed document, Iconv#new is no longer an
  iterator. thanks to Tanaka Akira <akr@@m17n.org>.
@
text
@d1 10
@


1.803
log
@* ext/iconv: imported.
@
text
@d1 5
@


1.802
log
@* configure.in: autoconf 2.53 support. use AC_LIBOBJ.
@
text
@d1 4
@


1.801
log
@* re.c (rb_reg_match): should clear $~ if operand is nil.

* re.c (rb_reg_match2): ditto.

* configure: merge Jonathan Baker's large file support patch
  [ruby-talk:35316], with read_all patch in [ruby-talk:35470].

* eval.c (rb_f_abort): optional message argument that be printed
  on termination. [new]
@
text
@d1 4
@


1.800
log
@* ext/stringio/stringio.c: fixed frozen string bug.  ungetc no
  longer raises on readonly stream unless modifies actually.
@
text
@d1 6
d33 10
@


1.799
log
@* string.c (rb_str_subpat_set): must make str independent after
  rb_reg_search() matched.
@
text
@d1 5
@


1.798
log
@typo
@
text
@d5 5
@


1.797
log
@* dir.c (rb_push_glob): avoid SEGV when no block given.
@
text
@d3 1
a3 1
	* dir.c (rb_push_glob): avoid SEGV when no block given.
@


1.796
log
@* dir.c: FNM_PERIOD is obsoleted and FNM_DOTMATCH is introduced
  instead, which has the opposite meaning of FNM_PERIOD.

* dir.c: Dir::glob now accepts optional FNM_* flags via the second
  argument, whereas Dir::[] doesn't.
@
text
@d1 4
@


1.795
log
@* lib/getopts.rb: single_options can be nil[*], and is not not
  optional. ([*]Pointed out by gotoken)
@
text
@d1 8
@


1.794
log
@* regex.c (re_compile_pattern): '\0111' should be '\011' plus '1',
  since octal literals are formed by three digits at most.

* marshal.c (w_object): module inclusion using extend() should
  also be detected.

* eval.c (rb_eval_cmd): cbase should not be NULL; it should be
  either ruby_wrapper or Object.

* enum.c (enum_each_with_index): should return self.

* process.c (proc_setpgrp): should return value for non-void function.

* process.c (proc_getpgid): should raise exception if getpgid() return -1.

* string.c (rb_str_ljust): should return a duplicated string.

* string.c (rb_str_rjust): ditto.

* string.c (rb_str_center): ditto.
@
text
@d1 5
@


1.793
log
@* lib/resolv.rb: don't complete domains for absolute FQNs.
@
text
@d13 5
@


1.792
log
@* lib/tsort.rb: new file.
@
text
@d1 4
@


1.791
log
@StringIO
@
text
@d1 4
@


1.790
log
@* marshal.c (w_object): module inclusion using extend() should
  also be detected.

* eval.c (rb_eval_cmd): cbase should not be NULL; it should be
  either ruby_wrapper or Object.

* enum.c (enum_each_with_index): should return self.

* process.c (proc_setpgrp): should return value for non-void function.

* process.c (proc_getpgid): should raise exception if getpgid() return -1.

* string.c (rb_str_ljust): should return a duplicated string.

* string.c (rb_str_rjust): ditto.

* string.c (rb_str_center): ditto.
@
text
@d1 4
@


1.789
log
@* ext/socket/extconf.rb (have_struct_member): don't print checked
result.
@
text
@d1 22
d77 1
a77 1
	* class.c (rb_singleton_class): should crate new singleton class
@


1.788
log
@* eval.c (cvar_cbase): utility function to find innermost non
  singleton cbase.

* eval.c (is_defined): adopt new cvar behavior.

* eval.c (rb_eval): ditto.

* eval.c (assign): ditto.

* class.c (rb_mod_clone): should not call rb_obj_clone(), since
  Module does not provide "allocate".

* class.c (rb_singleton_class): should crate new singleton class
  if obj is a class or module and attached object is different,
  which means metaclass of singleton class is sought.

* time.c (time_s_alloc): now follows allocation framework.

* eval.c (rb_eval): should initialize outer class variables from
  methods in singleton class definitions.

* eval.c (assign): ditto.
@
text
@d1 5
@


1.787
log
@* lib/resolv.rb: use its own thread group for background threads.
@
text
@d5 11
d45 11
d72 7
@


1.786
log
@* gc.c (rb_source_filename): added. holds unique strings for file
  names with GC space.

* gc.c (rb_gc_mark): mark source file name.

* gc.c (gc_sweep): ditto.

* gc.c (Init_GC): initialize source file name table.

* intern.h (rb_source_filename): added.

* eval.c (rb_eval_string): use rb_source_filename().

* parse.y (yycompile): ditto.

* ruby.c (proc_options): ditto.

* ruby.c (load_file): ditto.

* ruby.c (ruby_script): ditto.

* ruby.c (ruby_prog_init): ditto.
@
text
@d1 4
d73 1
a73 1
	* socket/socket.c: include sys/uio.h if available.
@


1.785
log
@* dln.c (dln_load): use LoadLibrary instead of LoadLibraryEx.
@
text
@d1 25
@


1.784
log
@- Slightly fix one of the last entries. (stdin -> stdin or stdout)

- Fix indentation.
@
text
@d1 4
@


1.783
log
@* lib/getopts.rb: Rewrite to fix some bugs and complete features.
  - Accept options with the colon in the first argument;
    getopts("a:bcd:") is equivalent to getopts("bc", "a:", "d:").
  - Do not discard the argument that caused an error.
  - Do not discard '-', which commonly stands for stdin.
  - Allow specifying a long option with a value using '='.
    (command --long-option=value)
  - Stop reading options when it meets a non-option argument.
@
text
@d7 1
a7 1
	  - Do not discard '-', which commonly stands for stdin.
d30 1
a30 1
	parameter is nil.
d37 2
a38 1
	check msg_control and msg_accrights in struct msghdr.  check sys/uio.h.
d41 6
a46 6
	(thread_read_select): new function.
	(unix_send_io): ditto.
	(unix_recv_io): ditto.
	(unix_s_socketpair): ditto.
	(Init_socket): define UNIXSocket#send_io, UNIXSocket#recv_io, 
	UNIXSocket.socketpair and UNIXSocket.pair.
@


1.782
log
@* ext/extmk.rb.in (dir_config): Sync with mkmf.rb: Fix a bug where
  --with-xx-{include,lib} is ignored when --with-xx-dir is
  specified.
@
text
@d1 11
@


1.781
log
@fix method name.
@
text
@d1 6
@


1.780
log
@* ext/socket/{addinfo.h,getaddrinfo.c} (gai_strerror): add const
  qualifier only for uClibc.
@
text
@d28 1
a28 1
	UNIXSocket#socketpair and UNIXSocket#pair.
@


1.779
log
@* ChangeLog: fixed the description of getacl.
@
text
@d1 5
@


1.778
log
@* lib/net/imap.rb: added document.
* lib/net/imap.rb (getquotaroot): new method.
* lib/net/imap.rb (setacl): remove the rights if the rights
parameter is nil.
* lib/net/imap.rb (getacl): return a MailboxACLItem object.
@
text
@d10 1
a10 1
	* lib/net/imap.rb (getacl): return a MailboxACLItem object.
@


1.777
log
@* dln.c (dln_load): fix typo.
@
text
@d1 11
@


1.776
log
@* ext/socket/extconf.rb (have_struct_member): new method.
check msg_control and msg_accrights in struct msghdr.  check sys/uio.h.

* socket/socket.c: include sys/uio.h if available.
(thread_read_select): new function.
(unix_send_io): ditto.
(unix_recv_io): ditto.
(unix_s_socketpair): ditto.
(Init_socket): define UNIXSocket#send_io, UNIXSocket#recv_io,
@
text
@d14 2
@


1.775
log
@* eval.c (rb_mod_include): load modules in argument order.

* st.c (st_init_table_with_size): num_bins should be prime numbers
  (no decrement).

* st.c (rehash): ditto.
@
text
@d1 13
@


1.774
log
@* ext/dbm/dbm.c (fdbm_select): 1.7 behavior.

* ext/gdbm/gdbm.c (fgdbm_select): ditto.

* ext/sdbm/sdbm.c (fsdbm_select): ditto.

* ext/dbm/dbm.c (fdbm_delete): adopt Hash#delete behavior.

* ext/sdbm/sdbm.c (fsdbm_delete): ditto.

* ext/gdbm/gdbm.c: need not to dup key to the block.

* ext/sdbm/sdbm.c : replace RuntimeError with SDBMError.

* eval.c (rb_f_missing): NoMethod error messages for true, false,
  nil must respond visibility like for other objects.
@
text
@d1 9
@


1.773
log
@* io.c (READ_DATA_PENDING): uClibc support.
* random.c (rand_init): ditto.
* ext/socket/{addinfo.h,getaddrinfo.c} (gai_strerror): ditto.
@
text
@d18 16
d37 5
@


1.772
log
@* ext/digest/sha2/sha2.c: Merge from rough.  Fix a couple of
  off-by-one errors in Aaron Gifford's code.

  Obtained from:  KAME via FreeBSD
  KAME PR:        393
  FreeBSD PR:     kern/34242
@
text
@d1 8
@


1.771
log
@* bignum.c (rb_big_2comp): void function cannot return any value.
@
text
@d1 9
@


1.770
log
@* eval.c (rb_eval): call trace_func for if/while conditions.

* marshal.c (r_object): separate r_regist from proc calling.
@
text
@d1 4
@


1.769
log
@* lib/uri/generic.rb: merge0 shuld return [oth, oth] if oth is absolute URI.
* lib/uri/generic.rb: registry part must not be allowed for any schemes for the Internet. (RFC2396, section 3.2.2 and 3.2.1.)
@
text
@d1 6
@


1.768
log
@* ext/syslog/syslog.c: Merge from rough.  Use SafeStringValue().
@
text
@d1 8
@


1.767
log
@* ext/syslog/syslog.c: Merge from rough.  Turn Syslog into a
  module keeping backward compatibility intact.
@
text
@d1 4
@


1.766
log
@* sample/test.rb (system): test with scripts under the source
  directory.
@
text
@d1 5
@


1.765
log
@* eval.c (method_inspect): should not dump core for unbound
  singleton methods.

* object.c (rb_mod_to_s): better description.

* hash.c (env_select): should path the assoc list.

* process.c (rb_syswait): thread kludge; should be fixed to
  support native thread.
@
text
@d1 5
@


1.764
log
@* lib/shell.rb (Shell::expand_path): relative to @@cwd.
@
text
@d1 7
d12 4
d20 5
@


1.763
log
@* ext/digest/*/*.h: Merge from rough.
  - Avoid namespace pollution. (MD5_* -> rb_Digest_MD5_*, etc.)
@
text
@d1 4
@


1.762
log
@fix filename.
@
text
@d1 5
@


1.761
log
@* lib/net/protocol.rb: set read_timeout dynamically.
* lib/net/http.rb: @@@@newimpl is always true in the main trunk.
* lib/net/http.rb: HTTP.port -> default_port
* lib/net/http.rb: HTTPResponse.read_response_status -> read_status_line
@
text
@d24 1
a24 1
	* prettyprint.rb: FillGroup implemented.
@


1.760
log
@* win32/config.status.in: set LIBRUBY_SO.
@
text
@d1 11
@


1.759
log
@* bignum.c (get2comp): need to specify to carry or not.

* io.c (rb_io_inspect): embed path info.
@
text
@d1 4
@


1.758
log
@* prettyprint.rb: FillGroup implemented.
@
text
@d1 6
@


1.757
log
@* ext/extmk.rb.in (create_makefile): remove unnecessary -L option from
  LIBS macro.
@
text
@d1 4
@


1.756
log
@* pack.c (pack_pack): wrong # comment treatment.

* pack.c (pack_unpack): ditto.
@
text
@d1 5
@


1.755
log
@* intern.h: prototypes; rb_io_addstr(), rb_io_printf(),
  rb_io_print(), rb_io_puts()

* io.c (rb_io_addstr): make extern.

* io.c (rb_io_printf): ditto.

* io.c (rb_io_print): ditto.

* io.c (rb_io_puts): ditto.
@
text
@d1 6
@


1.754
log
@* io.c (rb_io_close): return Qnil.
@
text
@d1 13
@


1.753
log
@* hash.c (rb_any_cmp): should handle Qundef in keys.

* eval.c (remove_method): should not remove a empty method to
  implement "undef".

* eval.c (rb_eval): should allow singleton class def for
  true/false/nil.

* parse.y (str_extend): backslash escape was done wrong.
@
text
@d1 4
@


1.752
log
@aamine
* lib/net/protocol.rb: rename Protocol.port to default_port.
* lib/net/smtp.rb: ditto.
* lib/net/pop.rb: ditto.
* lib/net/http.rb: ditto.
* lib/net/protocol.rb: rename BufferedSocket class to InternetMessageIO.
* lib/net/smtp.rb: ditto.
* lib/net/pop.rb: ditto.
* lib/net/http.rb: ditto.
* lib/net/protocol.rb: rename InternetMessageIO#write_pendstr to write_message.
* lib/net/smtp.rb: ditto.
* lib/net/protocol.rb: new method InternetMessageIO#through_message.
* lib/net/smtp.rb: ditto.
* lib/net/protocol.rb: rename InternetMessageIO#read_pendstr to read_message_to.
* lib/net/pop.rb: ditto.
* lib/net/protocol.rb: rename InternetMessageIO#read_pendlist to each_list_item
* lib/net/pop.rb: ditto.
* lib/net/protocol.rb: Now block size is 1024.
* lib/net/smtp.rb: new methods SMTP#esmtp? and #esmtp=.
* lib/net/http.rb: Using singleton method syntax instead of singleton class clause, to avoid behavior change of class variables in ruby 1.7.
* lib/net/http.rb: HTTPResponse class does not inherit from Net::Response.
* lib/net/http.rb: devide HTTP#connecting into {begin,end}_transport.
* lib/net/http.rb: unused class Accumulator removed.
* lib/net/http.rb: Net::HTTP reads response. not HTTPRequest.
* lib/net/http.rb: proxy related class-instance-variables are not initialized correctly.
@
text
@d1 10
d70 4
@


1.751
log
@* file.c (path_check_1): do not fail on world writable *parent*
  directories too.
@
text
@d1 60
@


1.750
log
@* file.c (path_check_1): do not warn on world writable *parent*
  directories.

* class.c (rb_include_module): should preserve ancestor order in
  the included class/module.
@
text
@d1 5
@


1.749
log
@* file.c (path_check_1): should check directory sticky bits.

* process.c (security): need not to warn twice.

* marshal.c (r_object): complete restoration before calling
  r_regist().
@
text
@d1 8
@


1.748
log
@* parse.y (yylex): operators in the "op" rule should make
  lex_state EXPR_ARG on EXPR_FNAME and EXPR_DOT.
@
text
@d1 9
@


1.747
log
@* eval.c (rb_eval_string_wrap): should hide the toplevel local
  variable bindings by PUSH_SCOPE().
@
text
@d1 5
@


1.746
log
@* regex.c: fix prototypes of xmalloc(), xcalloc() and xrealloc().
@
text
@d1 5
@


1.745
log
@* io.c (rb_io_ungetc): don't fail pushed EOF back.
@
text
@d1 4
@


1.744
log
@* pack.c (pack_pack): avoid infinite loop at comment.

* pack.c (pack_unpack): ditto.
@
text
@d1 4
@


1.743
log
@* parse.y (expr_value, arg_value, primary_value): value_expr()
  check in place.

* eval.c (block_pass): "&nil" should clear block given.

* dir.c (push_braces): remove MAXPATHLEN dependency.

* dir.c (dir_s_globd): ditto.

* dln.c (init_funcname): ditto.

* dln.c (load_1): ditto.

* dln.c (dln_load): ditto.

* configure.in: add GNU/Hurd switches.

* pack.c (pack_pack): allows comment in template strings.

* pack.c (pack_unpack): ditto.
@
text
@d1 6
a71 1
>>>>>>> 1.742
@


1.742
log
@* misc/ruby-mode.el (ruby-block-hanging-re): rescue block was too
  indented.
@
text
@d6 27
d66 1
@


1.741
log
@* misc/ruby-mode.el (ruby-font-lock-keywords): fontify
  instance/class/global variables start with '_'.
@
text
@d1 5
@


1.740
log
@* mkconfig.rb (Config::expand): expand ${} too.

* ext/extmk.rb.in (try_link0): expand command.

* ext/extmk.rb.in (try_cpp): ditto.

* ext/extmk.rb.in (extmake): default $LIBPATH to $libdir
@
text
@d29 5
@


1.739
log
@* class.c (rb_define_class): warn unless superclass is specified
  explicitly.

* class.c (rb_define_class_under): ditto.
@
text
@d1 10
@


1.738
log
@* ext/digest/md5/md5init.c (Init_md5): rb_cvar_declare() is
  replaced by rb_cvar_set().

* ext/digest/rmd160/rmd160init.c (Init_rmd160): ditto.

* ext/digest/sha1/sha1init.c (Init_sha1): ditto.

* ext/digest/sha2/sha2init.c (Init_sha2): ditto.
@
text
@d12 7
@


1.737
log
@* regex.c (re_compile_fastmap): skip begpos.
@
text
@d1 11
@


1.736
log
@* eval.c (rb_eval): replace rb_cvar_declare() by rb_cvar_set().

* eval.c (assign): ditto.

* variable.c (rb_cvar_set): 4th argument (warn) added; define new
  class variable if it's not defined yet.

* variable.c (rb_cvar_declare): removed.
@
text
@d62 4
@


1.735
log
@* bignum.c (rb_big_rshift): should properly convert the nagative
  value to 2's compliment.
@
text
@d1 11
@


1.734
log
@* parse.y: avoid SEGV at OP_ASIGN to pseudo variable.
@
text
@d1 5
@


1.733
log
@* struct.c (Init_Struct): should undefine "allocate" for Struct
  class (it's redefined in the subclasses).
@
text
@d1 4
@


1.732
log
@* parse.y (stmt): local variable declaration order was changed
  since 1.6

* parse.y (arg): ditto.

* pack.c (pack_pack): add templates 'q' and 'Q'.

* pack.c (pack_unpack): ditto.

* bignum.c (rb_quad_pack): new utility function.

* bignum.c (rb_quad_unpack): ditto.

* parse.y (assignable): should emit CVASGN within the method
  body.

* dir.c (dir_s_glob): should not warn even if no match found.

* eval.c (rb_eval): clean up class variable behavior.

* eval.c (assign): ditto.

* eval.c (is_defined): ditto.

* variable.c (rb_mod_class_variables): need not to call rb_cvar_singleton().

* variable.c (rb_cvar_singleton): removed.
@
text
@d1 5
@


1.731
log
@* ruby.c (load_file): avoid SEGV on '#' only input.
@
text
@d1 36
@


1.730
log
@* eval.c (rb_eval): singleton chech should be moved from yycompile
  to here.

* eval.c (is_defined): check should be added here too.
@
text
@d1 4
@


1.729
log
@* parse.y (yycompile): should inherit "in_single" if eval happened
  in a singleton method.

* eval.c (rb_eval): class variables from singleton methods defined
  within singleton class statement should work like ones defined
  by sington def statements.
@
text
@d1 7
@


1.728
log
@aamine
* lib/net/http.rb: HTTP.Proxy should use self for proxy-class's super class.
* lib/net/http.rb: initialize HTTP.proxy_port by HTTP.port.
@
text
@d8 9
@


1.727
log
@uri-0.9.5
@
text
@d1 7
@


1.726
log
@* io.c (io_write): flag when buffered write is done.

* io.c (fptr_finalize): do not raise error on EBADF if write
  buffer is empty.
@
text
@d1 10
@


1.725
log
@* configure.in: keep old config.h unless changed.
@
text
@d1 7
@


1.724
log
@* io.c (rb_io_readlines): avoid calling GetOpenFile() repeatedly.

* io.c (rb_io_each_line): ditto.

* io.c (argf_getline): ditto.

* process.c: should include <time.h> to get proper CLK_TCK.
@
text
@d1 4
@


1.723
log
@* lib/net/imap.rb: OpenSSL support.
* lib/net/imap.rb (setquota): unset quota if the second argument is nil.
@
text
@d8 10
@


1.722
log
@* io.c (fptr_finalize): ignore EBADF when f and f2 use same
  descriptor.
@
text
@d1 7
@


1.721
log
@* io.c (fptr_finalize): should raise error when fclose fails.

* eval.c (method_inspect): proper output format to distinguish
  methods and singleton methods.
@
text
@d1 5
@


1.720
log
@* file.c (rb_file_s_expand_path): should terminate.
@
text
@d1 7
d17 2
@


1.719
log
@* object.c (rb_class_real): should not follow ICLASS link

* variable.c (classname): should follow ICLASS link explicitly.
@
text
@d1 4
@


1.718
log
@* intern.h: prototypes for new functions; rb_cstr_to_inum(),
  rb_str_to_inum(), rb_cstr_to_dbl(), rb_str_to_dbl()

* bignum.c (rb_cstr_to_inum): changed from rb_cstr2inum(), and
  added argument badcheck to be consistent with parser. [new]

* bignum.c (rb_str_to_inum): ditto.

* bignum.c (rb_cstr2inum): wapper of rb_cstr_to_inum() now.

* bignum.c (rb_str2inum): ditto.

* object.c (rb_cstr_to_dbl): float number parser. [new]

* object.c (rb_str_to_dbl): ditto.

* object.c (rb_Float): use rb_cstr_to_dbl() for strict check.

* object.c (rb_Integer): use rb_str_to_inum() for strict check.

* string.c (rb_str_to_f): use rb_str_to_dbl() with less check.

* string.c (rb_str_to_i): use rb_str_to_inum() with less check.

* string.c (rb_str_hex): ditto.

* string.c (rb_str_oct): ditto.

* sprintf.c (rb_f_sprintf): ditto.

* time.c (obj2long): ditto.

* parse.y (yylex): use rb_cstr_to_inum() for strict check.
@
text
@d1 6
@


1.717
log
@* regex.c (mbc_startpos): become macro.

* regex.c (euc_startpos): added for improvement.

* regex.c (sjis_startpos): ditto.

* regex.c (utf8_startpos): ditto.
@
text
@d1 36
@


1.716
log
@* file.c (rb_stat_inspect): print dev, rdev in hexadecimal.
@
text
@d1 10
@


1.715
log
@* lib/mkmf.rb (dir_config): prior --with flag.

* lib/mkmf.rb (arg_config): avoid special variables for
  font-lock-mode.
@
text
@d1 4
d21 4
@


1.714
log
@* lib/pp.rb (File::Stat#pretty_print): print rdev_major and rdev_minor.
@
text
@d1 7
@


1.713
log
@* regex.c (re_adjust_startpos): fix for SJIS and UTF-8.
@
text
@d1 4
@


1.712
log
@* regex.c (re_adjust_startpos): fix for SJIS.

* regex.c (mbc_startpos): ditto.
@
text
@d3 1
a3 1
	* regex.c (re_adjust_startpos): fix for SJIS. 
@


1.711
log
@* regex.c (re_adjust_startpos): search start of multibyte
  backward.

* regex.c (mbc_startpos): ditto.
@
text
@d1 6
@


1.710
log
@* lib/pp.rb: don't print a mode File::Stat as decimal number.
@
text
@d1 7
@


1.709
log
@* file.c: `major' and `minor' macro needs sys/mkdev.h on SunOS 5.x.

* configure.in: add check for `sys/mkdev.h'.
@
text
@d7 2
@


1.708
log
@* file.c (rb_stat_rdev_major): added. [new]

* file.c (rb_stat_rdev_minor): added. [new]

* file.c (rb_stat_inspect): print mode in octal.
@
text
@d1 6
@


1.707
log
@* array.c (rb_ary_fill): shouldn't yield unless block given.
@
text
@d9 8
@


1.706
log
@* parse.y (yylex): strict check for numbers.
@
text
@d1 4
@


1.705
log
@* eval.c (is_defined): defined?(Foo::Baz) should check constants
  only, no methods.

* eval.c (is_defined): should not dump core on defined?(a::b)
  where a is not a class nor a module.

* object.c (Init_Object): remove dup and clone from TrueClass,
  FalseClass, and NilClass.

* array.c (rb_ary_fill): Array#fill takes block to get the value to
  fill.

* string.c (rb_str_to_i): to_i(0) auto-detects base radix.

* array.c (rb_ary_initialize): fill by the block evaluation value
  if block is given.
@
text
@d1 4
@


1.704
log
@* configure.in (solaris): add '-shared' only for GNU ld.
@
text
@d1 23
@


1.703
log
@* configure.in (solaris): add '-shared' only for GNU ld.
@
text
@d3 1
a3 1
	* configure.in (solaris): add '-shared' only for GNU ld. 
@


1.702
log
@* class.c (rb_include_module): detect cyclic module inclusion.

* eval.c (rb_thread_cleanup): need not to free thread stacks at
  process termination.

* array.c (rb_ary_fetch): use the block to get the default value
  if the block is given.

* eval.c (rb_thread_schedule): should check time only if BOTH
  WAIT_SELECT and WAIT_TIME.

* eval.c (umethod_bind): should update rklass field.

* hash.c (rb_hash_update): if a block is given, yields [key,
  value1, value2] to the block to resolve conflict.

* string.c (rb_str_split_m): no need to consider KANJI
characters, if the length of separator is 1 (byte).
@
text
@d1 4
@


1.701
log
@* array.c (Init_Array): remove Array#filter.

* object.c (rb_mod_initialize): should accept zero argument.

* object.c (rb_mod_cmp): should raise ArgumentError if
  inheritance/inclusion relation between two classes/modules is
  not defined. [new]

* io.c (rb_io_fsync): new method. [new]
@
text
@d1 27
@


1.700
log
@* eval.c (rb_yield_0): restore source file/line after yield.
@
text
@d1 4
d9 12
d23 2
a24 2
	* signal.c (ruby_signal): must define sighandler_t unless
	  POSIX_SIGNAL.
@


1.699
log
@* signal.c (ruby_signal): must define sighandler_t unless
  POSIX_SIGNAL.
@
text
@d1 4
@


1.698
log
@* eval.c (ruby_stop): should not trace error handler.

* signal.c (install_sighandler): do not install sighandler unless
  the old value is SIG_DFL.

* io.c (io_write): should not raise exception on O_NONBLOCK io.

* dir.c (dir_set_pos): seek should return dir, pos= should not.
@
text
@d1 5
@


1.697
log
@* eval.c (rb_eval): need not to clar method cache for NODE_CLASS,
  NODE_SCLASS.

* gc.c (obj_free): need not to clear method cache on class/module
  finalization.
@
text
@d1 11
@


1.696
log
@* io.c (rb_io_s_new): block check moved from initialize to this
  method.

* io.c (rb_io_s_open): open should call initialize too. IO#for_fd
  also calls initialize. [new]

* error.c (rb_sys_fail): replace INT2FIX() by INT2NUM() since
  errno value may not fit in Fixnum size on Hurd.

* error.c (set_syserr): ditto.

* dir.c (dir_s_glob): returns nil if block given.

* io.c (rb_io_each_byte): should return self.

* io.c (rb_io_close_m): close check added.

* dir.c (dir_seek): should return pos.

* parse.y (fixpos): orig may be (NODE*)1, which should not be
  dereferenced.
@
text
@d1 13
@


1.695
log
@* ext/socket/socket.c (tcp_svr_s_open): fix typo.
@
text
@d1 15
d19 15
@


1.694
log
@* eval.c (block_pass): allow "retry" from within argument passed
  block. [new]

* eval.c (localjump_error): should preserve exit status in the
  exception object. [new]

* eval.c (proc_invoke): should raise exception for "break" if it's
  yielding, not calling. [new]

* eval.c (block_pass): should NOT raise exception for "break". [new]

* eval.c (block_pass): should allow block argument relay even in
  the tainted mode.

* ext/socket/socket.c: support subclassing by proper "initialize"
  calling convention. [new]
@
text
@d1 4
@


1.693
log
@* st.c: primes should be primes.

* eval.c (is_defined): method defined? check should honor
  protected too.

* eval.c (block_pass): should not pass tainted block, if $SAFE > 0.

* variable.c (rb_mod_remove_cvar): should pass the char*.
@
text
@d1 21
d29 1
a29 1
	exception class.
d32 1
a32 1
	avoid problem with timeout of application. 
@


1.692
log
@* lib/timeout.rb (timeout): new optional argument to specify an
exception class.

* lib/resolv.rb: use Resolv::ResolvTimeout for internal timeout to
avoid problem with timeout of application.
@
text
@d1 4
d21 13
@


1.691
log
@* object.c (rb_Float): remove underscores between digits.

* bignum.c (rb_cstr2inum): reject prefix followed by spaces only.

* class.c (rb_class_inherited): should use Object when no super
  class.
@
text
@d1 8
@


1.690
log
@* re.c (match_select): should propagate taintness.

* hash.c (rb_hash_set_default): Hash#default= should return the
  new value.

* string.c (rb_str_to_i): accepts optional base argument. [new]

* numeric.c (rb_fix2str): should not handle negative fixnum values
  int32 via calling sprintf() directly.
@
text
@d1 9
@


1.689
log
@* class.c (rb_make_metaclass): [new]

* class.c (rb_define_class_id): use rb_make_metaclass(), don't
  call Class#inherited hook.

* class.c (rb_class_inherited): [new]

* class.c (rb_define_class): call Class#inherited hook here.

* class.c (rb_define_class_under): ditto after class path is set.

* class.c (rb_singleton_class): use rb_make_metaclass().

* eval.c (rb_eval): same as rb_define_class_under().

* intern.h: prototypes of rb_make_metaclass() and
  rb_class_inherited().

* object.c (rb_class_s_new): use rb_make_metaclass() and
  rb_class_inherited().

* object.c (Init_Object): use rb_make_metaclass().

* struct.c (make_struct): use rb_class_inherited().
@
text
@d51 9
d67 7
@


1.688
log
@* eval.c (rb_add_method): should clear cache by id always.

* eval.c (rb_disable_super): no longer need to clear cache before
  rb_add_method().

* eval.c (rb_export_method): ditto.

* eval.c (rb_attr): ditto.

* eval.c (rb_undef): ditto.

* eval.c (rb_eval): ditto.

* eval.c (rb_mod_modfunc): ditto.

* eval.c (rb_mod_define_method): ditto.
@
text
@d1 27
@


1.687
log
@* win32/resource.rb: Modify copyright in resource script.
@
text
@d1 19
@


1.686
log
@* misc/ruby-mode.el (ruby-calculate-indent): indentation after
  comment at beginning of buffer failed.

* misc/ruby-mode.el (font-lock-defaults): unless XEmacs, set
  font-lock variables in ruby-mode-hook.
@
text
@d1 4
@


1.685
log
@* eval.c (rb_add_method): clear replaced method from the cache.
@
text
@d1 8
@


1.684
log
@* string.c (rb_str_new2): NULL pointer check added.

* class.c (rb_define_module_under): should locate predefined
  module using rb_const_defined_at().
@
text
@d1 4
@


1.683
log
@* lib/time.rb (Time#xmlschema): new optional argument
fractional_seconds to specify a number of digits of
fractional part of the time.
@
text
@d12 4
d19 5
@


1.682
log
@misordered.
@
text
@d1 6
@


1.681
log
@* range.c (range_member): beginning check was
  wrong. [ruby-talk:30252]
@
text
@d6 4
a17 4

Sat Jan  5 00:19:12 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (yycompile): strdup()'ed twice.
@


1.680
log
@* misc/ruby-mode.el (ruby-forward-string): forward a string. [new]

* misc/ruby-mode.el (ruby-parse-region): handle nested parentheses
  in a string and terminators in #{}.

* misc/ruby-mode.el (ruby-calculate-indent): ditto.

* misc/ruby-mode.el (ruby-font-lock-syntactic-keywords):
  fix font-lock problem [ruby-talk:29296].
@
text
@d1 5
@


1.679
log
@* parse.y (yycompile): strdup()'ed twice.
@
text
@d1 9
d106 5
@


1.678
log
@* process.c (rb_f_system): abandon vfork.

* io.c (pipe_open): ditto.

* defines.h: sparc linux needs different FLUSH_REGISTER_WINDOWS

* regex.c (re_search): abandon stclass optimization.

* bignum.c (rb_cstr2inum): deny "0_".

* bignum.c (rb_cstr2inum): allow "0\n" and so on.

* error.c (rb_invalid_str): utility function to show inspect()'ed
  string.

* bignum.c (rb_cstr2inum): prints invalid strings in inspect()'ed
  format.

* object.c (rb_Float): ditto.

* object.c (rb_convert_type): no longer use rb_rescue().

* re.c (rb_reg_search): initialize taint status of match object.
@
text
@d1 4
@


1.677
log
@* lib/mkmf.rb (create_makefile): add -I. to CPPFLAGS.
* lib/mkmf.rb (create_makefile): srcdir support(.def and depend file).
@
text
@d7 6
d25 4
d49 4
d65 18
d86 7
@


1.676
log
@* ext/curses/extconf.rb: add dir_config.
* Makefile.in (fake.rb): set RUBY_VERSION.
@
text
@d1 6
@


1.675
log
@* parse.y (yycompile): always store copy of filename.

* parse.y (rb_compile_file): no longer need to strdup() here.
@
text
@d1 6
a3842 9

Sun Feb 11 16:00:30 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* eval.c (stack_length): use __builtin_frame_address() only if
	  GCC and i386 CPU.

	* gc.c (rb_gc, Init_stack): ditto.

	* configure.in: add ac_cv_func_getpgrp_void=yes on DJGPP.
@


1.674
log
@aamine
* lib/net/protocol.rb: Protocol#start returns the return value of block.
* lib/net/protocol.rb: set timeout limit by default.
* lib/net/protocol.rb: new methods WriteAdapter#write, puts, print, printf.
* lib/net/http.rb: rename HTTP#get2 to request_get, post2 to request_post ...
* lib/net/smtp.rb: should not resolve HELO domain automatically.
@
text
@d1 6
@


1.673
log
@* ext/extmk.rb.in, lib/mkmf.rb (have_library): accept -lm
  unconditionally on mswin32/mingw32.
@
text
@d1 15
@


1.672
log
@* array.c (rb_cmpint): fixed typo.
@
text
@d1 5
@


1.671
log
@* bignum.c (rb_cstr2inum): deny "0_".
@
text
@d1 4
@


1.670
log
@* bignum.c (rb_cstr2inum): allow "0\n" and so on.
@
text
@d1 4
@


1.669
log
@* lib/pp.rb, lib/prettyprint.rb: new files.
@
text
@d1 4
@


1.668
log
@* time.c (time_timeval): wrong cast to time_t.

* time.c (time_plus): ditto.
@
text
@d1 4
@


1.667
log
@* parse.y (str_extend): make up "#$;" handling.
@
text
@d1 6
@


1.666
log
@* time.c (time_plus): result should not be negative unless
  NEGATIVE_TIME_T is defined.

* time.c (time_new_internal): should check tv_sec overflow too.

* time.c (time_timeval): should check time_t range when time is
  initialized from float.

* time.c (time_plus): uses modf(3).

* variable.c (rb_cvar_set): add frozen class/module check.

* variable.c (rb_cvar_declare): add frozen class/module check.

* re.c (match_to_a): should propagate taint.

* re.c (rb_reg_s_quote): ditto.
@
text
@d1 4
@


1.665
log
@* dln.h, ruby.h, util.h: enable prototypes in C++.
@
text
@d5 12
d32 12
@


1.664
log
@* eval.c (rb_mod_define_method): must not convert Method to Proc.
@
text
@d1 4
@


1.663
log
@* lib/mkmf.rb (with_destdir): new.

* lib/mkmf.rb: prefix target directories with $(DESTDIR) all.

* lib/mkmf.rb: no need to mkdir $(libdir)
@
text
@d1 4
@


1.662
log
@aamine
* lib/net/protocol.rb: rename Net::Socket to Net::BufferedSocket
@
text
@d1 8
@


1.661
log
@* ext/readline/readline.c: new methods
	Readline::basic_word_break_characters,
	Readline::basic_word_break_characters=,
	Readline::completer_word_break_characters,
	Readline::completer_word_break_characters=,
	Readline::basic_quote_characters,
	Readline::basic_quote_characters=,
	Readline::completer_quote_characters,
	Readline::completer_quote_characters=,
	Readline::filename_quote_characters,
	Readline::filename_quote_characters=.
@
text
@d1 4
@


1.660
log
@* eval.c (rb_mod_define_method): define_method should follow
  default method visibility.

* eval.c (rb_attr): should warn if the default method visibility
  is "module_function" (can be error).

* eval.c (rb_mod_define_method): should define class/module method
  also if the visibility is "module_function".

* eval.c (rb_mod_define_method): should call hook method
  "method_added", and "singleton_method_added".

* string.c: use RESIZE_CAPA for capacity change.

* ext/socket/socket.c (Init_socket): add listen method to
  TCPServer and UNIXServer.

* ext/socket/socket.c (bsock_send): should raise EWOULDBLOCK
  exception.

* ext/socket/socket.c (s_recvfrom): ditto.

* ext/socket/socket.c (s_accept): ditto.

* ext/socket/socket.c (udp_send): ditto.
@
text
@d1 14
@


1.659
log
@* lib/time.rb: date.rb is not required anymore.

* lib/resolv.rb: fix document.  refine IPv6 regex.
@
text
@d1 18
d25 5
d289 11
@


1.658
log
@conflicted.
@
text
@d1 6
@


1.657
log
@* sample/test.rb: Hash#indexes -> Hash#select.
@
text
@d71 2
a74 1
<<<<<<< ChangeLog
a77 4
=======
	* lib/time.rb: use Time#utc_offset.

>>>>>>> 1.655
@


1.656
log
@* string.c (rb_str_replace): swap arguments of OBJ_INFECT.

* eval.c (rb_thread_schedule): should not select a thread which is
  not yet initialized.

* time.c (time_plus): wrong boundary check.

* time.c (time_minus): ditto.
@
text
@d1 1
a1 1
Mon Dec 17 18:53:49 2001  K.Kosako  <kosako@@sofnec.co.jp>
d3 1
a3 1
	* string.c (rb_str_replace): swap arguments of OBJ_INFECT.
d9 4
@


1.655
log
@* intern.h: add prototypes.
  rb_gc_enable(), rb_gc_disable(), rb_gc_start(), rb_str_new5()
  rb_str_buf_append(), rb_str_buf_cat(), rb_str_buf_cat2(),
  rb_str_dup_frozen()

* ruby.h: added declaration.
  rb_defout, rb_stdin, rb_stdout, rb_stderr, ruby_errinfo

* rubyio.h: changed double include guard macro to RUBYIO_H.

* array.c (inspect_call): make static.

* eval.c (dvar_asgn): ditto.

* io.c (rb_io_close_read): ditto.

* lex.c (rb_reserved_word): ditto.

* ruby.c: (req_list_head, req_list_last): ditto.

* ruby.c (require_libraries): ditto.
@
text
@d1 9
d34 6
d67 7
d76 1
d91 11
@


1.654
log
@2001-12-17
@
text
@d1 24
@


1.653
log
@* lib/time.rb: use Time#utc_offset.
@
text
@d13 1
a13 1
	if availabe.
@


1.652
log
@* time.c: new method `gmtoff', `gmt_offset' and `utc_offset'.
(time_utc_offset): new function.
(Init_Time): bind above methods to `time_utc_offset'.

* time.c: 64bit time_t support.
(time_s_at): use NUM2LONG instead of NUM2INT for tv_sec.
(time_arg): initialize tm_isdst correctly.
use long to initialize tm_year.
(search_time_t): renamed from `make_time_t'.
(make_time_t): call `timegm' and `mktime' instead of `search_time_t'
if availabe.
(time_to_i): use LONG2NUM instead of INT2NUM.
(time_localtime): check localtime failure.
(time_gmtime): check gmtime failure.
(time_year): use LONG2NUM instead of INT2FIX.
(time_to_a): use long for tm_year.
(time_dump): check tm_year which is not representable with 17bit.
(time_load): initialize tm_isdst.

* configure.in: check existence of `mktime' and `timegm'.
check existence of tm_gmtoff field of struct tm.
fix negative time_t for 64bit time_t.

* missing/strftime.c: fix overflow by tm_year + 1900.
@
text
@d28 2
@


1.651
log
@aamine
* lib/net/pop.rb: new method Net::POP3.APOP
* lib/net/http.rb: set default Content-Type to x-www-form-urlencoded (causes warning)
* lib/net/protocol.rb: remove Net::NetPrivate module.
* lib/net/smtp.rb: ditto.
* lib/net/pop.rb: ditto.
* lib/net/http.rb: ditto.
@
text
@d1 27
@


1.650
log
@* time.c (time_new_internal): avoid loop to calculate negative
  div, mod.

* time.c (time_cmp): should handle Bignums.

* array.c (rb_ary_pop): should ELTS_SHARED flag check before
  REALLOC.
@
text
@d1 15
@


1.649
log
@* string.c (rb_str_match_m): should convert an argument into
  regexp if it's a string.

* array.c (rb_ary_select): Array#select(n,m,...) now works like
  Array#indexes(n,m,..). [new, experimental]

* hash.c (rb_hash_select): ditto.

* hash.c (env_select): ditto.

* re.c (match_select): ditto.

* struct.c (rb_struct_select): ditto.

* gc.c (STR_ASSOC): use FL_USER3 instead of FL_USER2.

* parse.y (str_extend): make up pushback call.
@
text
@d1 12
@


1.648
log
@* object.c (rb_class_real): follow included modules.
@
text
@d1 18
d27 8
@


1.647
log
@* util.h: change prototype of ruby_qsort() to accord with its definition.
@
text
@d1 4
@


1.646
log
@* parse.y (gettable): should freeze __FILE__ string.
@
text
@d1 5
@


1.645
log
@* array.c (rb_ary_modify): should copy the internal buffer if the
  modifying buffer is shared.

* array.c (ary_make_shared): make an internal buffer of an array
  to be shared.

* array.c (rb_ary_shift): avoid sliding an internal buffer by
  using shared buffer.

* array.c (rb_ary_subseq): avoid copying the buffer.

* parse.y (gettable): should freeze __LINE__ string.

* io.c (rb_io_puts): old behavoir restored.  rationale: a) if you
  want to call to_s for arrays, you can just call print a, "\n".
  b) to_s wastes memory if array (and sum of its contents) is
  huge.  c) now any object that has to_ary is treated as an array,
  using rb_check_convert_type().

* hash.c (rb_hash_initialize): now accepts a block to calculate
  the default value. [new]

* hash.c (rb_hash_aref): call "default" method to get the value
  corrensponding to the non existing key.

* hash.c (rb_hash_default): get the default value based on the
  block given to 'new'.  Now it takes an optinal "key" argument.
  "default" became the method to get the value for non existing
  key.  Users may override "default" method to change the hash
  behavior.

* hash.c (rb_hash_set_default): clear the flag if a block is given
  to 'new'

* object.c (Init_Object): undef Data.allocate, left Data.new.

* ext/curses/curses.c (window_scrollok): use RTEST().

* ext/curses/curses.c (window_idlok): ditto.

* ext/curses/curses.c (window_keypad): ditto.

* ext/curses/curses.c (window_idlok): idlok() may return void on
  some platforms; so don't use return value.

* ext/curses/curses.c (window_scrollok): ditto for consistency.

* ext/curses/curses.c: replace FIX2INT() by typechecking NUM2INT().

* parse.y (str_extend): should not process immature #$x and
  #@@x interpolation, e.g #@@#@@ etc.

* enum.c (enum_sort_by): sort_by does not have to be stable always.

* enum.c (enum_sort_by): call qsort directly to gain performance.

* util.c (ruby_qsort): ruby_qsort(qs6) is now native thread safe.

* error.c (rb_sys_fail): it must be a bug if it's called when
  errno == 0.

* regex.c (WC2MBC1ST): should not pass through > 0x80 number in UTF-8.
@
text
@d16 1
a16 1
	* parse.y (gettable): should freeze __LINE__ string.
@


1.644
log
@* matrix.rb: Vector#* bug. reported from Massimiliano Mirra
 <info@@chromatic-harp.com>.
@
text
@d1 14
a14 5
Sun Dec  9 23:00:54 2001  Keiju Ishitsuka <keiju@@ishitsuka.com>
	* matrix.rb: Vector#* bug. reported from Massimiliano Mirra
	<info@@chromatic-harp.com>. 
	
Sun Dec  9 22:15:59 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>
d16 1
a16 1
	* enum.c (enum_sort_by): should replace with last elements.
d22 29
d68 26
d100 45
d154 7
@


1.643
log
@* enum.c (enum_sort_by): should replace with last elements.
@
text
@d1 4
@


1.642
log
@aamine
* lib/net/protocol.rb: calls on_connect before conn_command
@
text
@d1 4
@


1.641
log
@aamine
* lib/net/smtp.rb: SMTP.new requires at least one arg.
* lib/net/pop.rb: POP.new requires at least one arg.
* lib/net/pop.rb: uses "raise *Error.new" instead of simple raise.
* lib/net/http.rb: HTTP.new requires at least one arg.
* lib/net/http.rb: changes implicit start algolithm.
@
text
@d1 4
@


1.640
log
@* ext/extmk.rb.in: ignore adding -Wl,-R to DLDFLAGS when the directory
  is $topdir.
@
text
@d1 12
@


1.639
log
@* ext/extmk.rb.in: add -Wl,-R flags to DLDFLAGS on netbsdelf.
* lib/mkmf.rb: ditto.
@
text
@d1 5
@


1.638
log
@* time.c (time_plus): must detect result overflow.

* time.c (time_minus): ditto.

* time.c (time_new_internal): round usec overflow and underflow
  here.

* time.c (time_plus): move operand overflow/underflow check to
  time_new_internal().

* time.c (time_minus): ditto.

* time.c (time_cmp): should consider tv_usec too.

* time.c (time_gmtime): time_modify() should be called even if tm
  struct is not calculated yet.
@
text
@d1 6
@


1.637
log
@* configure.in: add -Wl,-export-dynamic on NetBSD.
@
text
@d11 16
d39 5
a13168 1

@


1.636
log
@* ext/socket/extconf.rb: remove -L/usr/local/lib.
@
text
@d5 2
@


1.635
log
@* configure.in: not use X11BASE, since it's not always set.
@
text
@d1 4
@


1.634
log
@* configure.in: apply patch from NetBSD's pkgsrc (patch-aa).
@
text
@d1 4
d7 1
a7 1
        * configure.in: apply patch from NetBSD's pkgsrc (patch-aa).
@


1.633
log
@* configure.in: use GCC, not without_gcc. remove without_gcc.
* ext/curses/extconf.rb: check for curses.h.
* ext/dbm/extconf.rb: check if $CFLAGS includes DBM_HDR.
@
text
@d1 4
@


1.632
log
@* configure.in: default --enable-shared to yes on cygwin and mingw32.
@
text
@d1 8
@


1.631
log
@* configure.in: set target_cpu to i386 on cygwin and mingw32.
@
text
@d4 2
@


1.630
log
@* string.c (rb_str_equal): object with to_str must be treated as a
  string.
@
text
@d1 4
@


1.629
log
@* README.EXT: Appendix B is duplicated.
* README.EXT.ja: ditto.
@
text
@d7 5
@


1.628
log
@* eval.c (rb_thread_select): should subtract timeofday() from
  limit, not reverse.

* util.c (scan_hex): x is not a hexadecimal digit.

* eval.c (rb_thread_schedule): should treat the case that
  select(2) returns 0, if a thread is under both WAIT_SELECT and
  WAIT_TIME.  Jakub Travnik <J.Travnik@@sh.cvut.cz> actually fixed
  this bug.
@
text
@d1 6
@


1.627
log
@* marshal.c (w_float): must distinguish -0.0 from 0.0.

* gc.c (gc_mark_all): tweak mark order for little bit better scan.

* gc.c (rb_gc_mark): ditto.

* gc.c (rb_gc): ditto.

* enum.c (sort_by_i): slight performance boost.

* gc.c (gc_mark_rest): should call gc_mark_children(), not gc_mark().

* gc.c (rb_gc_mark): may cause infinite looop.
@
text
@d1 16
@


1.626
log
@Import the "syslog" module from the rough ruby project.  This module
provides the interface to the UNIX system logger (syslog).
@
text
@d1 4
d10 8
d26 4
d34 6
@


1.625
log
@	* win32/win32.c (mypopen): fixed that mypclose() didn't really close
	  pipe.

	* win32/win32.c (CreateChild): set STARTF_USESTDHANDLES flag only
	  when some handles are passed.
@
text
@d1 5
@


1.624
log
@	* parse.y (str_extend): change types of second and third arguments
	  from char to int.
@
text
@d1 8
@


1.623
log
@* parse.y (str_extend): should check nesting parentheses in #{}.

* process.c (pst_wstopsig): returns nil unless WIFSTOPPED() is
  non-zero.

* process.c (pst_wtermsig): returns nil unless WIFSIGNALED() is
  non-zero.

* process.c (pst_wexitstatus): returns nil unless WIFEXITED() is
  non-zero.

* eval.c (rb_thread_select): tv_sec and tv_usec should not be
  negative.

* signal.c (posix_signal): do not set SA_RESTART for SIGVTALRM.

* parse.y (call_args2): block_arg may follow the first argument in
  call_args2.

* eval.c (stack_check): should avoid stack length check during
  raising SystemStackError exception.
@
text
@d1 5
@


1.622
log
@* lib/cgi.rb: CGI#header: do not set Apache.request.status for
Location: if Apache.request.status is already set.
@
text
@d1 4
d9 28
@


1.621
log
@* parse.y (str_extend): should not terminate string interpolation
  with newlines in here-docs and newline terminated strings.
@
text
@d1 5
@


1.620
log
@* eval.c (rb_mod_modfunc): should follow NODE_ZSUPER link; based
  on Guy Decoux's patch in [ruby-talk:25478].

* string.c (rb_str_succ): there was buffer overrun.

* parse.y (str_extend): term can be any character.
@
text
@d1 5
@


1.619
log
@* parse.y (parse_regx): should raise error on untermitated
  expression interpolation.

* pack.c (pack_unpack): should give length to utf8_to_uv().

* pack.c (utf8_to_uv): add length check.

* massages: replace "wrong #" by "wrong number".

* marshal.c (w_float): output Infinity and NaN explicitly.

* marshal.c (r_object): support new explicit float format.

* eval.c (rb_thread_wait_for): select may cause ERESTART on
  Solaris.

* eval.c (rb_thread_select): ditto.

* array.c (rb_ary_join): dumped core if sep is not T_STRING nor T_NIL.

* array.c (rb_ary_join): buffer size calculattion was wrong.

* array.c (rb_ary_to_s): if rb_output_fs is nil, insert newlines
  between array elements (use rb_default_rs as newline litral)
  [experimental].

* gc.c (init_mark_stack): no need to clear mark_stack.

* gc.c (gc_mark_all): need to handle finalizer mark.

* gc.c (gc_mark_rest): use MEMCPY instead of memcpy.

* gc.c (rb_gc_mark): earlier const check to avoid pusing special
  constants into mark stack.

* numeric.c (fix_to_s): 'to_s' now takes optional argument to
  specify radix. [new]

* bignum.c (rb_big_to_s): ditto. [new]
@
text
@d1 13
@


1.618
log
@	* lib/cgi.rb (header): support for Apache. thanks to
	  Shugo Maeda <shugo@@ruby-lang.org>.
@
text
@d13 19
d44 17
d67 7
d309 1
a309 1
	* string.c (rb_str_chomp_bang): do smart chomp if $/ == '\n'.
d319 1
a319 1
	* regex.c (re_compile_pattern): should preverve p0 value.
@


1.617
log
@* parse.y: needless conditionals.

* parse.y (parse_regx): parse error at unterminated regex /#{.
  (ruby-bugs-ja:PR#142)
@
text
@d1 5
@


1.616
log
@* array.c (rb_ary_join): non-nil separator must be converted to
  String.  and separators' total length was wrong.
@
text
@d1 7
@


1.615
log
@	* hash.c (ruby_setenv): remove USE_WIN32_RTL_ENV block since it's
	  obsoleted.

	* win32/win32.c, win32/win32.h: sort out #if 0 - #endif or others.
@
text
@d1 5
@


1.614
log
@	* win32/win32.c (waitpid): fix wait count.

	* win32/win32.c (poll_child_status): rename from wait_child().
@
text
@d1 7
@


1.613
log
@* configure.in: do not override CC if set.
@
text
@d1 6
@


1.612
log
@* signal.c (sighandle): should not re-register sighandler if
  POSIX_SIGNAL is defined.

* eval.c (error_print): errat array may be empty.

* eval.c (rb_eval_cmd): should not upgrade safe level unless
  explicitly specified by argument newly added.

* signal.c (sig_trap): should not allow tainted trap closure.

* variable.c (rb_f_trace_var): should not allow trace_var on safe
  level higher than 3.

* variable.c (rb_f_trace_var): should not allow tainted trace
  closure.

* gc.c: do not use static stack until system stack overflows.

* eval.c (eval): should call Exception#exception instead of
  calling rb_exc_new3() directly.

* error.c (exc_exception): set "mesg" directly to the clone.  it
  might be better to set mesg via some method for flexibility.

* variable.c (cvar_override_check): should print original module
  name, if 'a' is T_ICLASS.

* parse.y (yylex): float '1_.0' should not be allowed.

* variable.c (var_getter): should care about var as Qfalse
  (ruby-bugs#PR199).

* array.c (cmpint): <=> or block for {min,max} may return bignum.

* array.c (sort_1): use rb_compint.

* array.c (sort_2): ditto.

* enum.c (min_ii): ditto.

* enum.c (min_ii): ditto.

* enum.c (max_i): ditto.

* enum.c (max_ii): ditto.
@
text
@d1 4
@


1.611
log
@	* win32/win32.c (mypopen): return error status instead of calling
	  rb_sys_fail().

	* win32/win32.c (do_spawn): ditto.
@
text
@d8 5
d78 39
d128 16
@


1.610
log
@	* hash.c (envix): use GET_ENVIRON and FREE_ENVIRON to get environment
	  variables list.

	* hash.c (env_keys): ditto.

	* hash.c (env_each_key): ditto.

	* hash.c (env_values): ditto.

	* hash.c (env_keys): ditto.

	* hash.c (env_each_value): ditto.

	* hash.c (env_each): ditto.

	* hash.c (env_inspect): ditto.

	* hash.c (env_to_a): ditto.

	* hash.c (env_size): ditto.

	* hash.c (env_empty_p): ditto.

	* hash.c (env_has_value): ditto.

	* hash.c (env_index): ditto.

	* hash.c (env_to_hash): ditto.

	* win32/win32.c (win32_getenv): use static buffer.

	* win32/win32.c, win32/win32.h (win32_get_environ): get environment
	  variables list. [new]

	* win32/win32.c, win32/win32.h (win32_free_environ): free environment
	  variables list. [new]

	* win32/win32.c (do_spawn): use CreateChild() instead of calling
	  CreateProcess() directly. Original patches comes from Patrick Cheng.

	* win32/win32.c (mypopen): ditto.

	* win32/win32.c (mypclose): use rb_syswait() instead of waiting in this
	  function.

	* win32/win32.c (waitpid): use wait_child() instead of _cwait().

	* win32/win32.c (CreateChild): added. [new]

	* win32/win32.c (wait_child): added. [new]

	* win32/win32.c (FindFirstChildSlot): added. [new]

	* win32/win32.c (FindChildSlot): added. [new]

	* win32/win32.c (FindPipedChildSlot): added. [new]

	* win32/win32.c (CloseChildHandle): added. [new]

	* win32/win32.c (FindFreeChildSlot): added. [new]
@
text
@d1 7
@


1.609
log
@* win32/config.status.in: make CFLAGS same as Makefile's one.
@
text
@d1 65
@


1.608
log
@* eval.c (rb_trap_eval): avoid annoying warning with signal.
  [ruby-talk:23225]

* eval.c (rb_call0): adjust caller source file/line while
  evaluating optional arguments.
@
text
@d1 4
@


1.607
log
@* file.c (path_check_1): forgot to initialize 'p'.

* mkconfig.rb: use String#dump to generate Ruby string literal.

* range.c (range_eql): should override 'eql?'

* array.c (rb_ary_hash): should override 'hash' too.
@
text
@d1 8
@


1.606
log
@* process.c (security): always give warning for insecure PATH.

* dir.c (my_getcwd): do not rely on MAXPATHLEN.

* file.c (rb_file_s_readlink): ditto.

* file.c (path_check_1): ditto.

* eval.c (rb_yield_0): should not call rb_f_block_given_p().

* string.c (rb_str_chomp_bang): should terminate string by NUL.

* eval.c (rb_yield_0): better error message.
@
text
@d1 14
@


1.605
log
@* lib/net/imap.rb (getquota_response): use astring for mailbox
names.
* lib/net/imap.rb (getacl_response): ditto.
@
text
@d1 10
d18 8
d33 4
@


1.604
log
@* matrix.rb (Matrix#column_vectors, Matrix#row_vectors): ditto bug.
  this bug report and fix by tsutomu@@nucba.ac.jp.

* forwardable.rb: change raise to Kernel::raise
@
text
@d1 7
d9 1
@


1.603
log
@* bignum.c (rb_big_aref): idx may be a Bignum.

* numeric.c (fix_aref): negative index must return zero.
@
text
@d1 6
@


1.602
log
@* gc.c (gc_mark_children): should NOT treat last element of
  structs and arrays specially.
@
text
@d1 6
@


1.601
log
@* eval.c (exec_under): should initialize ruby_frame->self;
@
text
@d1 5
@


1.600
log
@* eval.c (POP_VARS): should not set DVAR_DONT_RECYCLE if _old
  ruby_vars is already force_recycled.

* gc.c (rb_gc): handles mark stack overflow.

* gc.c (PUSH_MARK): use static mark stack, no more recursion.
@
text
@d1 4
@


1.599
log
@	* lib/cgi.rb: CGI::Cookie::parse(): Ignore duplicate keys caused by
	  Netscape bug.
@
text
@d1 11
@


1.598
log
@	* win32/mkexports.rb: follow the change of rb_io_puts().
@
text
@d1 5
@


1.597
log
@* string.c (rb_str_chomp_bang): do smart chomp if $/ == '\n'.

* io.c (rb_io_puts): don't treat Array specially.

* bignum.c (rb_big_cmp): should convert bignum to float.

* eval.c (rb_f_eval): can't modify untainted binding.

* regex.c (re_compile_pattern): should preverve p0 value.
@
text
@d1 4
@


1.596
log
@	* intern.h (rb_protect_inspect): follow the change of array.c.

	* eval.c (rb_exec_end_proc): follow the change of rb_protect().

	* eval.c (method_proc, umethod_proc, rb_catch): cast the first
	  parameter of rb_iterate() to avoid VC++ warning.

	* range.c (range_step): ditto.

	* ext/sdbm/init.c (fsdbm_update, fsdbm_replace): ditto.
@
text
@d1 14
@


1.595
log
@* parse.y (str_extend): shuould allow interpolation of $-x.

* variable.c (rb_cvar_set): empty iv_tbl may cause infinite loop.

* variable.c (rb_cvar_get): ditto.

* variable.c (cvar_override_check): ditto.

* bignum.c (rb_big_eq): convert Bignum to Float, instead of
  reverse.

* time.c (time_localtime): getting tm should not be prohibited for
  frozen time objects.

* time.c (time_gmtime): ditto.

* version.c (Init_version): freeze RUBY_VERSION,
  RUBY_RELEASE_DATE, and RUBY_PLATFORM.

* file.c (Init_File): freeze File::SEPARATOR, ALT_SEPARATOR and
  PATH_SEPARATOR.

* file.c (rb_stat_cmp): should check operand type before calling
  get_stat().

* eval.c (rb_eval_cmd): should not invoke "call" with a block on
  any occasion.

* numeric.c (fix_aref): idx may be a Bignum.

* numeric.c (num_remainder): a bug in Numeric#remainder.

* eval.c (rb_exec_end_proc): END might be called within END
  block.

* class.c (rb_mod_clone): should not copy class name, since clone
  should remain anonymous.
@
text
@d1 13
d16 1
a16 1
	* parse.y (str_extend): shuould allow interpolation of $-x.
@


1.594
log
@* eval.c (proc_invoke): fix self switching in Proc#call
  (ruby-bugs-ja#PR108) and GC failure.  use Qundef instead of 0
  to direct not switching self.

* eval.c (call_trace_func): ditto.

* eval.c (call_end_proc): ditto.

* eval.c (proc_call): ditto.

* eval.c (proc_yield): ditto.
@
text
@d1 40
d86 4
d91 3
@


1.593
log
@* variable.c (rb_global_entry): reconstruct global variable
  aliasing (sharing global_entry->var with other global_entry).

* variable.c (undef_getter): ditto.

* variable.c (undef_setter): ditto.

* variable.c (val_setter): ditto.

* variable.c (mark_global_entry): ditto.

* variable.c (rb_define_hooked_variable): ditto.

* variable.c (rb_f_trace_var): ditto.

* variable.c (remove_trace): ditto.

* variable.c (rb_f_untrace_var): ditto.

* variable.c (rb_gvar_get): ditto.

* variable.c (trace_en): ditto.

* variable.c (rb_gvar_set): ditto.

* variable.c (rb_gvar_defined): ditto.

* variable.c (rb_alias_variable): ditto.
@
text
@d1 14
@


1.592
log
@* class.c (rb_mod_clone): should not copy class name, since clone
  should remain anonymous.

* eval.c (rb_call0): self in a block given to define_method now be
  switched to the receiver of the method.

* eval.c (proc_invoke): added new parameter to allow self
  switching.
@
text
@d1 31
a84 1
>>>>>>> 1.591
@


1.591
log
@* variable.c (remove_trace): should not access already freed area.

* variable.c (rb_f_untrace_var): fix memory leak.
@
text
@d1 5
d33 8
d54 1
d60 1
a60 1
Mond Oct 15 18:00:05 2001  Pit Capitain  <pit@@capitain.de>
d64 4
@


1.590
log
@* marshal.c (w_uclass): cloned class is not user
  class. (ruby-bugs-ja#PR103)

* marshal.c (r_object): Struct subclass couldn't
  load. (ruby-bugs-ja#PR104)
@
text
@d1 6
@


1.589
log
@* variable.c (alias_fixup): added. ad hoc support for ordinary
  global variable aliasing. when original entry is set, make the
  alias to refer directly as possible.

* variable.c (alias_getter, alias_setter): ditto.

* variable.c (rb_alias_variable): ditto. and no need to mark alias
  variables.

* variable.c (rb_gvar_defined): refer the original entry of an alias.
@
text
@d1 8
@


1.588
log
@* eval.c (rb_f_missing): check stack level with rb_stack_check().

* eval.c (rb_call0): ditto.

* eval.c, intern.h (rb_stack_check): added. [new]
@
text
@d1 13
@


1.587
log
@missing changelog.
@
text
@d1 8
@


1.586
log
@* string.c (rb_str_index): wrong increment for non alphanumeric
  string.
@
text
@d1 5
@


1.585
log
@* parse.y (yylex): disallow alpha-numeric and mbchar for
  terminator of %string.
@
text
@d6 5
@


1.584
log
@* file.c (rb_stat_clone): should copy internal data too.

* numeric.c (num_clone): Numeric should not be copied by clone.

* object.c (rb_obj_clone): should check immediate values.

* parse.y (command): `yield' should take command_args.

* parse.y (parse_quotedwords): %w(...) is not a string.
@
text
@d1 5
@


1.583
log
@* eval.c (rb_eval): NODE_MATCH3 was confusing left and right. sigh.
@
text
@d1 12
@


1.582
log
@* process.c (Init_process): activate the case NT.
@
text
@d16 4
@


1.581
log
@* eval.c (thread_status_name): separated from
  rb_thread_inspect(). return string expression for thread status.

* eval.c (rb_thread_status, rb_thread_inspect): use
  thread_status_name().

* eval.c (rb_thread_priority_set): return the priority not but
  self.
@
text
@d1 4
@


1.580
log
@* marshal.c (w_unique): should not dump anonymous class.
@
text
@d1 11
@


1.579
log
@* eval.c (proc_s_new): revived.

* eval.c (Init_Proc): define Proc.new instead of Proc.allocate to
  inhibit from creating uninitialized Proc.
@
text
@d1 4
@


1.578
log
@* re.c (rb_reg_s_alloc): avoid inifinte recursion.
@
text
@d1 7
@


1.577
log
@* ext/socket/socket.c (ruby_connect): EALREADY is the equivalent
  for EINPROGRESS in ws2_32.lib.
@
text
@d6 4
@


1.576
log
@* ext/gdbm/gdbm.c (rb_gdbm_fetch): str is a VALUE now.
@
text
@d1 5
@


1.575
log
@* marshal.c (r_object): better allocation type check for
  TYPE_UCLASS. usage of allocation framework is disabled for now.

* variable.c (rb_class_path): Module may have subclass.

* string.c (rb_str_update): should maintain original negative
  offset.

* string.c (rb_str_subpat_set): ditto

* string.c (rb_str_aset): ditto.

* re.c (rb_reg_nth_match): should check negative nth.

* re.c (rb_reg_nth_defined): ditto.
@
text
@d1 4
@


1.574
log
@* lib/ftools.rb (catname): allow trailing '/' for the destination.
@
text
@d1 18
d22 9
@


1.573
log
@* ext/socket/socket.c (unix_addr): getsockname(2) may result len = 0.

* ext/socket/socket.c (unix_peeraddr): getpeername(2) may result
  len = 0.

* string.c (rb_str_subpat_set): support function for new argument
  pattern String#[re,offset] = val. [new]

* eval.c (POP_BLOCK): rb_gc_force_recycle() was called too much.
  Should not be called if SCOPE_DONT_RECYCLE is set.

* string.c (rb_str_aref_m): new argument pattern
  String#[re,offset]. [new]

* string.c (rb_str_substr): should return an instance of
  receiver's class.

* string.c (rb_str_succ): ditto.

* array.c (rb_ary_subseq): ditto.

* array.c (rb_ary_initialize): Array.new([1,2,3]) => [1,2,3]. [new]

* string.c (rb_str_reverse): should return an instance of
  receiver's class.

* string.c (rb_str_times): ditto.

* array.c (rb_ary_times): ditto

* string.c (str_gsub): ditto.

* string.c (rb_str_ljust): ditto.

* string.c (rb_str_rjust): ditto.

* string.c (rb_str_center): ditto.

* eval.c (eval): retrieves file, line information from binding.

* eval.c (intersect_fds): counts intersecting fds.

* eval.c (rb_thread_schedule): only fds requested by
  each thread count as select_value.
@
text
@d1 4
@


1.572
log
@* marshal.c (r_object): TYPE_UCLASS check should be inversed.
@
text
@d5 22
d36 32
d109 1
a109 1
	* string.c (rb_str_init): String.new() => ""
d306 7
@


1.571
log
@Wed Sep 26 19:02:39 2001  Guy Decoux  <ts@@moulon.inra.fr>

	* parse.y: allow 'primary[] = arg'
@
text
@d1 4
@


1.570
log
@* win32/win32.c (isInternalCmd): check return value of NtMakeCmdVector (Tietew <tietew@@tietew.net>'s patch).
@
text
@d1 4
@


1.569
log
@forgotten MATCH_DATA...
@
text
@d1 5
@


1.568
log
@for special local variable.
@
text
@d1 4
@


1.567
log
@* string.c (rb_str_init): String.new() => ""

* dir.c (dir_path): new method.

* dir.c (dir_initialize): wrap DIR into struct, along with path
  information.
@
text
@d1 35
@


1.566
log
@* eval.c (rb_thread_restore_context): save current value of
  lastline and lastmatch in the thread struct for later restore.

* eval.c (rb_thread_save_context): restore lastline and lastmatch.

* numeric.c (flo_to_s): should handle negative float value.

* class.c (rb_include_module): should check whole ancestors to
  avoid duplicate module inclusion.

* string.c (trnext): should check backslash before updating "now"
  position.
@
text
@d1 11
@


1.565
log
@	* lib/net/telnet.rb: waitfor(): improvement. thanks to
	  nobu.nakada@@nifty.ne.jp
@
text
@d6 11
a44 22
Sun Aug 26 20:26:40 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* ext/readline/readline.c: restore terminal mode
	  even if readline() interrupted.

	* ext/readline/readline.c: returned string need to
	  be tainted.

	* ext/readline/readline.c: fixed memory leak.

	* ext/readline/readline.c: allow negative index.

	* ext/readline/readline.c: added Readline::HISTORY.size
	  same as Readline::HISTORY.length

	* ext/readline/readline.c: allow conditional parsing
	  of the ~/.inputrc file by `$if Ruby'.

	* ext/readline/extconf.rb: check whether the
	  libreadline has the variable `rl_completion_append_character'
	  (this feature was implemented from GNU readline 2.1).

d64 10
d7206 22
@


1.564
log
@        * lib/net/telnet.rb: waitfor(): bug fix.
@
text
@d1 5
@


1.563
log
@	* lib/cgi.rb: CGI#doctype(): bug fix (html4Fr).

	* lib/net/telnet.rb, lib/cgi.rb: remove VERSION, RELEASE_DATE,
	  VERSION_CODE, RELEASE_CODE. please use REVISION.

	* lib/cgi.rb: CGI#header(): bug fix.

	* lib/net/telnet.rb, lib/cgi.rb: concat --> +=
@
text
@d1 4
@


1.562
log
@* dir.c (dir_s_chdir): raise if environment variable HOME/LOGDIR
  not set.

* dir.c (glob_helper): avoid infinite loop on a file name with
  wildcard characters. (ruby-bugs#PR177)
@
text
@d1 11
@


1.561
log
@* ext/digest/digest.c (rb_digest_base_s_hexdigest): remove a debug
  print.
@
text
@d1 8
@


1.560
log
@* ext/readline/readline.c: restore terminal mode
  even if readline() interrupted.

* ext/readline/readline.c: returned string need to
  be tainted.

* ext/readline/readline.c: fixed memory leak.

* ext/readline/readline.c: allow negative index.

* ext/readline/readline.c: added Readline::HISTORY.size
  same as Readline::HISTORY.length

* ext/readline/readline.c: allow conditional parsing
  of the ~/.inputrc file by `$if Ruby'.

* ext/readline/extconf.rb: check whether the
  libreadline has the variable `rl_completion_append_character'
  (this feature was implemented from GNU readline 2.1).
@
text
@d1 5
@


1.559
log
@* ext/digest/digest.c (rb_digest_base_s_digest,
  rb_digest_base_s_hexdigest): ensure that a string is given.
@
text
@d1 22
@


1.558
log
@* lib/jcode.rb (_regexp_quote): fix quote handling, again.
@
text
@d1 5
@


1.557
log
@* file.c (rb_find_file_ext): add const qualifiers to ext.

* intern.h (rb_find_file_ext): ditto.
@
text
@d1 4
@


1.556
log
@* ext/socket/socket.c (Init_socket): remove duplicating constants.
@
text
@d1 6
@


1.555
log
@* lib/jcode.rb (_regexp_quote): fix quote handling.
@
text
@d1 4
@


1.554
log
@* re.c (Init_Regexp): to_s to be alias to inspect.

* parse.y (yylex): should support 'keyword='.

* ruby.c (proc_options): should not adjust argc/argv if -e option
  is supplied.
@
text
@d1 4
@


1.553
log
@* intern.h (rb_find_file_ext): changed from rb_find_file_noext().
@
text
@d1 8
d13 5
d186 6
@


1.552
log
@* ruby.c (proc_options): should not alter origargv[].

* ruby.c (set_arg0): long strings for $0 dumped core.

* ruby.c (set_arg0): use setprogtitle() if it's available.

* io.c (rb_io_popen): accept integer flags as mode.

* file.c (rb_find_file_ext): extension table can be supplied from
  outside.  renamed.

* eval.c (rb_f_require): replace rb_find_file_noext by
  rb_find_file_ext.

* eval.c (rb_provided): should also check feature without
  extension.

* numeric.c (flo_to_s): do not rely on decimal point to be '.'
@
text
@d1 4
@


1.551
log
@* error.c: unbreak the build on *BSD with gcc 3.0.1 by removing
  the conflicting declaration of sys_nerr for *BSD.
@
text
@d6 6
d19 25
@


1.550
log
@* ruby.c (set_arg0): prevent SEGV when val is longer than the
  original arguments.

* ruby.c (ruby_process_options): initialize total length of
  original arguments at first.
@
text
@d1 5
@


1.549
log
@* parse.y (yylex): ternary ? can be followed by newline.

* eval.c (rb_f_require): should check static linked libraries
  before raising exception.

* array.c (rb_ary_equal): check identiry equality first.

* string.c (rb_str_equal): ditto.

* struct.c (rb_struct_equal): ditto.

* numeric.c (Init_Numeric): undef Integer::new.

* eval.c (rb_eval): NODE_WHILE should update result for each
  conditional evaluation.

* eval.c (rb_eval): NODE_UNTIL should return last evaluated value
  (or value given to break).
@
text
@d1 8
@


1.548
log
@* dln.c (dln_strerror): fix a bug that sometimes made null message on
  win32 (Tietew <tietew@@tietew.net>'s patch).

* win32/win32.c (mystrerror): ditto.
@
text
@d1 17
d24 12
@


1.547
log
@fix typo.
@
text
@d1 7
@


1.546
log
@* eval.c (is_defined): should not dump core for "defined?(())".

* eval.c (umethod_bind): recv can be an instance of descender of
  oklass if oklass is a Module.

* hash.c (rb_hash_equal): check identiry equality first.

* file.c (group_member): should check real gid only.

* file.c (eaccess): do not cache euid, since effective euid may be
  changed via Process.euid=().

* file.c (eaccess): return -1 unless every specified access mode
  is permitted.

* eval.c (rb_eval): while/until returns the value which is given
  to break.

* parse.y (value_expr): using while/until/class/def as an
  expression is now gives a warning, not an error.

* range.c (range_eqq): should compare strings based on magical
  increment (using String#upto), not dictionary order.

* enum.c (enum_sort_by): new method for Schewartzian transformed
  stable sort.

* variable.c (mod_av_set): detect constant overriding for built-in
  classes/modules.
@
text
@d1 4
@


1.545
log
@* ext/digest/sha2/extconf.rb: fix support for cross-compiling.
* mkconfig.rb: fix support for autoconf 2.52.
@
text
@d1 34
d40 10
@


1.544
log
@* parse.y (tokadd_escape): escaped backslashes too much.
@
text
@d1 6
@


1.543
log
@* range.c (range_step): 'iter' here should be an array.

* marshal.c (w_object): should retrieve __member__ data from
  non-singleton class.

* variable.c (rb_cvar_get): class variable override check added.

* variable.c (rb_cvar_set): ditto

* variable.c (rb_cvar_declare): ditto.

* parse.y (parse_regx): handle backslash escaping of delimiter here.
@
text
@d1 4
@


1.542
log
@aamine
* lib/net/protocol.rb: Protocol.new requires at least one arg.
* lib/net/smtp.rb: ditto.
* lib/net/pop.rb: ditto.
* lib/net/http.rb: ditto.
@
text
@d1 17
d27 4
@


1.541
log
@* ext/socket/socket.c (s_recvfrom): fix typo.
@
text
@d1 10
d323 2
@


1.540
log
@* ext/socket/socket.c (s_recvform): avoid VC++6 warning.
@
text
@d1 4
d7 1
a7 1
	* ext/socket/socket.c (s_recvform): avoid VC++6 warning.
@


1.539
log
@* win32/win32.c (NtCmdGlob): avoid VC++ warning.
* lib/mkmf.rb: add -I$(srcdir) to CPPFLAGS.
@
text
@d1 4
@


1.538
log
@* ext/digest/*/extconf.rb: really fix so that they build from any
  directory.
@
text
@d1 6
@


1.537
log
@* ext/digest/sha2/extconf.rb: fix so that they build from any
  directory.
@
text
@d1 5
@


1.536
log
@* ext/digest/defs.h: Define NO_UINT64_T instead of emitting an
  error to fail.

* ext/digest/sha2/extconf.rb: Do not exit on error, and utilize
  NO_UINT64_T to detect if the system has a 64bit integer type.
@
text
@d1 5
@


1.535
log
@* ext/digest/sha2/extconf.rb: do not create Makefile when no 64bit
  integer type is detected.
@
text
@d1 8
@


1.534
log
@* range.c (range_step): new method.

* string.c (rb_str_cmp): remove needless conditional.

* string.c (rb_str_lstrip_bang) `return Qnil' was missing.
@
text
@d1 5
@


1.533
log
@* bignum.c, marshal.c: Detypo: s/SIZEOF_ING/SIZEOF_INT/.
@
text
@d1 12
d24 11
d46 4
@


1.532
log
@* string.c (rb_str_cat): fix buffer overflow.

* string.c (rb_str_append): nothing to append actually when `str2'
  is empty.
@
text
@d1 4
@


1.531
log
@* win32/win32.h: fix problems with BC++ (ruby-bugs#PR161).
@
text
@d1 7
d14 2
a15 2
	* pack.c (pack_unpack): associates p/P strings once at
	  last(reverted to 1.26).
@


1.530
log
@a problem about `associated' String and `str_buf'.

* pack.c (pack_unpack): associates p/P strings once at
  last(reverted to 1.26).

* string.c (rb_str_associate): associates an Array at once, not
  but a String. realloc's when str_buf.
@
text
@d1 4
@


1.529
log
@* numeric.c (num_divmod): fix typo.
@
text
@d1 8
@


1.528
log
@* struct.c (rb_struct_modify): should check frozen and taint
  status.
@
text
@d1 4
@


1.527
log
@* string.c (rb_str_lstrip_bang): new method.

* string.c (rb_str_rstrip_bang): new method.

* string.c (rb_str_associate): should consider STR_ASSOC too.

* eval.c (rb_undefined): do not recurse if method_missing is
  undefined.

* process.c (proc_waitpid): now all arguments are optional.

* process.c (Init_process): waitpid is now alias to wait.

* process.c (Init_process): waitpid2 is now alias to wait2.

* process.c (rb_waitpid): made public.

* ext/pty/pty.c (pty_getpty): avoid disturbing SIGCHLD using
  thread and rb_waitpid.

* process.c (proc_getpgrp): now takes no argument on all
  platforms.

* process.c (proc_setpgrp): ditto.

* ext/socket/socket.c (sock_s_pack_sockaddr_in): added
  Socket::pack_sockaddr_in(). [new]

* ext/socket/socket.c (sock_s_pack_sockaddr_un): added
  Socket::pack_sockaddr_un(). [new]

* ext/socket/socket.c (sock_s_pack_sockaddr_in): added
  Socket::unpack_sockaddr_in(). [new]

* ext/socket/socket.c (sock_s_pack_sockaddr_un): added
  Socket::unpack_sockaddr_un(). [new]
@
text
@d7 5
@


1.526
log
@* file.c (strrdirsep): removed meaningless code.

* file.c (rb_file_s_expand_path): return to 1.66.
@
text
@d1 35
d41 14
@


1.525
log
@* eval.c (ruby_run): avoid VC++ warning.
@
text
@d1 6
@


1.524
log
@* marshal.c (Init_marshal): fix typos.
@
text
@d1 4
@


1.523
log
@* process.c (last_status_set): nothing returned, should be void.

* ext/socket/socket.c (load_addr_info): ditto.
@
text
@d1 4
@


1.522
log
@* marshal.c (Init_marshal): new constant Marshal::MAJOR_VERSION
  and Marshal::MINOR_VERSION.

* marshal.c (marshal_load): ruby_verbose test should be wrapped by
  RTEST().

* hash.c (rb_hash_index): should return nil (not the default
  value) if value is not in the hash.

* numeric.c (num_div): new method added.  alias to '/' which
  should be preserved even if '/' is redefined (e.g. by
  mathn). [new]

* bignum.c (rb_cstr2inum): "0 ff".hex should return 0, not 255.

* file.c (rb_file_s_expand_path): fixed using CharNext().
@
text
@d1 6
@


1.521
log
@* file.c (rb_file_s_expand_path): scans per path element not per
  byte/character, including fix of [ruby-talk:18152] and
  multi-byte pathname support.
@
text
@d1 5
d12 16
d32 8
@


1.520
log
@* lib/net/imap.rb: added new commands for managing folder quotas
and folder ACLs.
@
text
@d1 6
d10 1
a10 1
	and folder ACLs.
d49 1
a49 1
Tue Jul 24 23:10:47 2001  Nobuyoshi.Nakada  <nobu.nakada@@nifty.ne.jp>
@


1.519
log
@* eval.c (rb_provided): extension should be guessed using
  rb_find_file_noext().

* eval.c (rb_f_require): should call rb_feature_p() after
  extension completion.

* eval.c (rb_eval): add CHECK_INTS before next, redo, retry to
  avoid potential uninterruptable infinite loop.

* file.c (rb_file_s_expand_path): use CharNext() to expand.
@
text
@d1 5
@


1.518
log
@* file.c (rb_find_file_noext, rb_find_file): fix tilde expansion
  problem.
@
text
@d1 13
d19 4
d26 11
@


1.517
log
@* intern.h: add some missing function prototypes.
@
text
@d1 5
@


1.516
log
@* file.c (strrdirsep): multi-byte pathname and DOSish separater
  supprot. originally comes from Patrick Cheng. [new]

* file.c (rb_file_s_basename, rb_file_s_dirname): use
  strrdirsep(). comes from Patrick Cheng.

* file.c (is_absolute_path): restricted in DOSish absolute path
  with drive letter, and UNC support. originally comes from
  Patrick Cheng.

* file.c (getcwd): define macro using getwd() unless provided.
@
text
@d1 4
@


1.515
log
@* ext/extmk.rb.in, lib/mkmf.rb: dig the target subdirectory for
  lib/* files properly in case of create_makefile("dir/name").
@
text
@d1 14
d33 1
a33 1
	* io.c (io_fread): use fread(3) if PENDING_COUND is available.
@


1.514
log
@* eval.c (rb_provide_feature): should not tweak extension used for
  loading.

* io.c (io_fread): use fread(3) if PENDING_COUND is available.

* class.c (rb_mod_include_p): Module#include? added. [new]

* re.c (ignorecase_setter): give warning on modifying $=.

* string.c (rb_str_casecmp): new method. [new]

* string.c (rb_str_eql): separated from rb_str_equal(), make it
  always be case sensitive. [new]

* string.c (rb_str_hash): made it always be case sensitive.

* eval.c (rb_f_require): should not include path in $" value

* file.c (rb_find_file): should return 0 explicitly on failure.
@
text
@d1 5
@


1.513
log
@* ext/extmk.rb.in, lib/mkmf.rb: introduce a couple of new make
  variables: CLEANFILES and DISTCLEANFILES.  They'd typically be
  defined in a file "depend".
@
text
@d1 5
d12 4
d21 21
@


1.512
log
@* gc.c (ruby_xrealloc): fix a dangling bug which led memory
  reallocation to fail even though the second try after a GC
  succeeds.
@
text
@d1 6
@


1.511
log
@* ruby.h: enable volatile directive with VC++.

* regex.c: ditto.
@
text
@d1 6
@


1.510
log
@date-time was wrong.
@
text
@d1 7
a7 1
Fri Jul 17 06:01:12 2001  Minero Aoki  <aamine@@loveruby.net>
@


1.509
log
@add doc/net/http.rd.ja pop.rd.ja smtp.rd.ja
@
text
@d1 1
a1 1
Fri Jul 13 02:36:10 2001  Minero Aoki  <aamine@@loveruby.net>
@


1.508
log
@* regex.c (NUM_FAILURE_ITEMS): was confusing NUM_REG_ITEMS and
  NUM_NONREG_ITEMS, which have happened to be same value.

* class.c (rb_class_new): subclass check moved to this function.

* class.c (rb_class_boot): check less version of rb_class_new().

* eval.c (proc_invoke): should preserve iter status for embedded
  frame in the block.

* file.c (rb_file_s_expand_path): may overrun buffer on stack.

* string.c (rb_str_insert): forgot to call rb_str_modify().
@
text
@d1 4
@


1.507
log
@modify check-in miss.
@
text
@d1 5
d13 6
d23 13
d100 2
a101 2
	* object.c (rb_obj_dup): should free generic_ivar if original owns
	  them.
@


1.506
log
@* ext/extmk.rb.in: modify RM macro because command.com/cmd.exe don't
  recognize single quotation as quote character.

* lib/mkmf.rb: ditto.
@
text
@d17 1
a17 1
Sat Jul 14 06:20:17 2001  Minero Aoki  <aamine@@loveruby.net>
@


1.505
log
@* file.c (file_load_ok): fix typo.
@
text
@d1 7
@


1.504
log
@* regex.c (re_search): should consider reverse search.

* dir.c (dir_s_chdir): warn only when invoked from multiple
  threads or block is not given.

* object.c (rb_convert_type): should use rb_rescue(), not rb_rescue2().

* range.c (range_init): ditto.

* object.c (rb_obj_dup): should free generic_ivar if original owns
  them.

* string.c (rb_str_each_line): should propagate taint mark.

* ext/nkf/nkf.c (rb_nkf_kconv): ditto.

* eval.c (rb_f_require): revamp for simpler implementation.

* file.c (rb_find_file_noext): use String object, instead of
  passing char* around.

* file.c (rb_find_file): ditto.

* dln.c (dln_load): should use NSLINKMODULE_OPTION_BINDNOW.

* ruby.c (load_file): local variables 'c' remain uninitialized on
  xflag.

* regex.c (re_match): prefetched escaped character too early.

* eval.c (rb_call0): add argument check for attr_readers.
@
text
@d1 4
@


1.503
log
@* ext/digest/*/extconf.rb: fix so that they build from any
  directory.
@
text
@d19 4
d31 5
d57 11
d71 32
@


1.502
log
@aamine
* lib/net/http.rb: HTTP#proxy? did not worked.
@
text
@d1 5
@


1.501
log
@* ext/extmk.rb.in: support multi-level ext/ directories.
  (e.g. you can have ext/foo, ext/foo/bar and ext/foo/baz)

* ext/.cvsignore: let cvs ignore extinit.c.
@
text
@d1 4
@


1.500
log
@* lib/mkmf.rb: use File::split to split a target into a prefix and
  a module name.  This also works around a just found bug of
  String#rindex.

* ext/extmk.rb.in: ditto.
@
text
@d1 9
@


1.499
log
@* ext/socket/socket.c (ruby_connect): workaround for the setup of
  Cygwin socket(EALREADY).
@
text
@d1 8
@


1.498
log
@* lib/mkmf.rb: modify RM macro.
@
text
@d1 5
@


1.497
log
@* ext/extmk.rb.in: modify RM macro.
@
text
@d5 2
@


1.496
log
@* ruby.h: fix a wrong function name: rb_iglob() -> rb_globi().
@
text
@d1 4
@


1.495
log
@aamine
* lib/net/http.rb: rename HTTP#request_by_name to send_request.
* lib/net/protocol.rb (ProtoSocket#read): modify typo.
@
text
@d1 4
@


1.494
log
@* lib/tempfile.rb: a tempfile must be created with mode 0600.
@
text
@d1 6
@


1.493
log
@aamine
* lib/net/http.rb (HTTP#request_by_name): arg order changes.
@
text
@d1 4
@


1.492
log
@aamine
* lib/net/http.rb (HTTP#request_by_name): bug fix.
* lib/net/http.rb: does not write Connection: by default.
* lib/net/protocol.rb: "start" for started protocol is an error.
* lib/net/protocol.rb: "finish" for finished protocol is an error.
@
text
@d1 4
@


1.491
log
@aamine
* lib/net/http.rb: new method HTTP#request_by_name (test)
* lib/net/http.rb: new class HTTPGenericRequest
@
text
@d1 10
@


1.490
log
@* lib/mkmf.rb: distclean should remove mkmf.log as well.
@
text
@d1 6
@


1.489
log
@* eval.c (rb_eval_string_wrap): should push frame (and adjust
  cbase) before wrapped eval.

* eval.c (rb_eval_cmd): ditto.

* eval.c (eval): should update ruby_class always after all.
@
text
@d1 4
@


1.488
log
@credit rb_name_error() fix to Nobuyoshi Nakada.
@
text
@d1 9
@


1.487
log
@* eval.c (block_pass): do not change wrapper information.
* eval.c (rb_yield_0):  preserve wrapper information.
@
text
@d7 1
a7 1
Tue Jul  3 14:49:51 2001  Shugo Maeda <shugo@@ruby-lang.org>
@


1.486
log
@* error.c (rb_name_error): raise NameError instead of LoadError.
@
text
@d1 6
@


1.485
log
@* error.c (exc_exception): clone the receiver exception instead of
  creating brand new exception object of the receiver.

* eval.c (rb_eval_string_wrap): extend new ruby_top_self, not
  original self.

* eval.c (rb_eval_cmd): respect ruby_wrapper if set.

* eval.c (eval): do not update ruby_class unless scope is not
  provided.

* eval.c (eval): preserve wrapper information.

* eval.c (proc_invoke): ditto.

* eval.c (block_pass): ditto.

* parse.y (void_expr): too much warnings for void context
  (e.g. foo[1] that can be mere Proc call).

* error.c (rb_name_error): new function to raise NameError with
  name attribute set.

* eval.c (rb_f_missing): set name and args in the exception
  object. [new]

* error.c (name_name): NameError#name - new method.

* error.c (nometh_args): NoMethodError#args - new method.

* lex.c (rb_reserved_word): lex_state after tRESCUE should be
  EXPR_MID.

* gc.c (add_heap): allocation size of the heap unit is doubled for
  each allocation.

* dir.c (isdelim): space, tab, and newline are no longer
  delimiters for glob patterns.

* eval.c (svalue_to_avalue): new conversion scheme between single
  value and array values.

* eval.c (avalue_to_svalue): ditto.

* eval.c (rb_eval): REXPAND now uses avalue_to_svalue(), return
  and yield too.

* eval.c (rb_yield_0): use avalue_to_svalue().

* eval.c (proc_invoke): Proc#call gives avaules, whereas
  Proc#yield gives mvalues.

* eval.c (bmcall): convert given value (svalue) to avalue.
@
text
@d1 4
@


1.484
log
@

* lib/matrix.rb: resolve 'ruby -w' warnings.
* lib/irb/locale.rb: resolve 'ruby -w' warnings.
* lib/irb/multi-irb.rb: resolve 'ruby -w' warnings.
* lib/irb/ruby-lex.rb: fix problem for "\\M-\\..." and "\\C-\\..."
  and resolve 'ruby -w' warnings.
* lib/irb/ruby-token.rb: fix typo
* lib/shell/command-processor.rb: resolve 'ruby -w' warnings.
@
text
@d1 45
d70 27
@


1.483
log
@sorry, check in miss.
@
text
@d1 15
@


1.482
log
@aamine
* lib/net/pop.rb: new methods POP3.auth_only, POP3#auth_only
* lib/net/http.rb: HTTP.Proxy returns self if ADDRESS is nil.
* lib/net/protocol.rb: new method ProtocolError#response
* lib/net/protocol.rb,smtp.rb,pop.rb,http.rb: add document.
@
text
@d1 2
a2 1
Wed Jun 27 08:53:26 2001  Minero Aoki  <#e(:global).g(:email)>\n
@


1.481
log
@* ext/readline/readline.c (readline_event): a non-void function
  should return a value.
@
text
@d1 9
@


1.480
log
@* ext/socket/socket.c (ruby_connect): workaround for the setup of
  Cygwin socket.
@
text
@d1 5
@


1.479
log
@* lib/irb/locale.rb: fix for require "kconv" problem
@
text
@d1 5
@


1.478
log
@* eval.c (rb_yield_0): no mvalue_to_svalue conversion here.

* eval.c (massign): takes svalue, convert it to mvalue inside.

* eval.c (rb_eval): parameters for yield/return are always
  svalues now.

* eval.c (svalue_to_mvalue): more strict conversion.

* eval.c (mvalue_to_svalue): ditto.

* st.c (new_size): prime hash size enabled.

* ext/socket/socket.c (Init_socket): SO_* constants added.
@
text
@d1 4
@


1.477
log
@* gc.c (rb_setjmp): avoid GCC 3.0 warnings.
@
text
@d1 19
@


1.476
log
@* ext/readline/readline.c: add new methods:
  Readline::completion_append_character and
  Readline::completion_append_character=.k
@
text
@d1 4
@


1.475
log
@* eval.c (svalue_to_mvalue): new function to convert from svalue
  to mvalue. [experimental]

* eval.c (mvalue_to_svalue): new function to convert from mvalue
  to svalue.

* eval.c (rb_eval): use mvalue_to_svalue().

* eval.c (rb_yield_0): use mvalue_to_svalue().

* eval.c (proc_invoke): proper mvalue handling.
@
text
@d1 6
@


1.474
log
@* eval.c (rb_f_require): searches ".rb" and ".so" at the same
  time.  previous behavior (search ".rb", then ".so") has a
  security risk (ruby-bugs#PR140).

* array.c (rb_ary_to_ary): new function to replace internal
  rb_Array(), which never calls to_a, but to_ary (rb_Array() might
  call both). [new]

* regex.c (PUSH_FAILURE_POINT): push option status again.

* regex.c (re_compile_pattern): avoid pushing unnecessary
  option_set.

* eval.c (rb_load): tainted string is OK if wrapped *and*
  $SAFE >= 4.

* eval.c (rb_thread_start_0): should not nail down higher blocks
  before preserving original context (i.e. should not alter
  original context).

* eval.c (proc_yield): new method equivalent to Proc#call but no
  check for number of arguments. [new]
@
text
@d1 14
@


1.473
log
@* dir.c (Init_Dir): add a new method File::fnmatch? along with
  File::Constants::FNM_*.  While I am here, FNM_NOCASE is renamed
  to FNM_CASEFOLD which is commonly used by *BSD and GNU libc.
@
text
@d1 28
d34 5
@


1.472
log
@* eval.c (method_eq): new method Method#==. [new]

* gc.c (STR_NO_ORIG): STR_NO_ORIG value was different between
  string.c and gc.c

* eval.c (rb_eval): should convert *non-array at the end of
  arguments by using Array().

* hash.c (ruby_setenv): readline library leaves their environment
  strings uncopied.  "free" check revised.
@
text
@d1 6
@


1.471
log
@* lib/mkmf.rb: target_prefix is only for installation, not for
  build.
@
text
@d6 4
d13 15
@


1.470
log
@* confgure.in: add RUBY_CANONICAL_BUILD.
@
text
@d1 5
@


1.469
log
@* ext/extmk.rb.in: Use -F and -T for mswin32 because cl.exe doesn't support -o officially and cl.exe considers that *.cc and *.cxx are OBJs.

* lib/mkmf.rb: ditto.

* win32/Makefile.sub: Use del instead of rm. All these changes are derived from Nobuyoshi Nakada's patch. Thanks.
@
text
@d1 4
@


1.468
log
@* gc.c (Init_stack): avoid __builtin_frame_address(2) to retrieve
  stack bottom line.

* st.c (numhash): should shuffle bits by dividing by prime number.

* eval.c (rb_eval): multiple assignment behavior fixed, which
  results "*a = nil" makes "a == []" now.

* eval.c (rb_f_require): should set SCOPE_PUBLIC before calling
  dln_load().
@
text
@d1 12
@


1.467
log
@* parse.y (yylex): exclude kDO_BLOCK too much by false condition.
@
text
@d1 19
@


1.466
log
@
* lib/sync.rb: bug fix if obj.initialize has parameters when
  obj.extend(Sync_m)

* lib/mutex_m.rb: modified bit
@
text
@d1 5
a5 1
Wed Jun  6 23:02:36 2001  Keiju Ishitsuka <keiju@@ishitsuka.com>
@


1.465
log
@* eval.c (rb_load): should check if tainted even when wrap is
  specified.

* regex.c (re_compile_pattern): too much optimization for the
  cases like /(.|a)b/.
@
text
@d1 7
@


1.464
log
@* parse.y (aref_args): "*arg" should always be expanded by REXPAND.

* variable.c (fc_i): removed vast string allocation.
@
text
@d1 5
d8 4
a11 1
	* parse.y (aref_args): "*arg" should always be expanded by REXPAND.
@


1.463
log
@* error.c (Init_Exception): NameError went under StandardError,
  and NoMethodError went under NameError.

* parse.y (rb_intern): non identifier symbols should be
  categorized as ID_JUNK. [new]
@
text
@d1 8
@


1.462
log
@* variable.c (rb_mod_const_at): use hash table as internal
  data. [new]

* variable.c (rb_mod_const_of): ditto.

* variable.c (rb_const_list): new function to convert internal
  data (hash table) to array of strings.

* eval.c (rb_mod_s_constants): data handling scheme has changed.

* eval.c (rb_add_method): should not call rb_secure(), for
  last_func may not be set.

* io.c (rb_io_ctl): ioctl should accept any integer within C long
  range.

* marshal.c (r_object): wrong type check for modules.

* marshal.c (w_object): should not dump anonymous classes/modules.

* io.c (rb_open_file): use rb_file_sysopen_internal() if the 3rd
  argument (permission flags) is given. [new, should be backported?]

* io.c (rb_io_mode_binmode): mode string (e.g. "r+") to flags to
  open(2).

* eval.c (rb_eval): NODE_REXPAND expand an array of 1 element as
  the element itself. [new, should be backported?]

* parse.y (ret_args): should treat "*[a]" in rhs expression as
  "a", not "[a]".

* regex.c (re_compile_pattern): should push option modifier at the
  right place.
@
text
@d1 10
@


1.461
log
@* ext/etc/extconf.rb: use egrep_cpp.
@
text
@d1 20
d25 22
d50 5
@


1.460
log
@	* lib/shellwords.rb: don't destroy argument.
@
text
@d1 4
@


1.459
log
@* lib/cgi/session.rb: don't use module_function for Class.
@
text
@d1 4
@


1.458
log
@
* irb messages: fix typos.
@
text
@d1 4
@


1.457
log
@* hash.c (replace_i): ignore when key == Qundef.
@
text
@d1 4
@


1.456
log
@* parse.y (call_args2): confusion with list_append() and
  list_concat() was fixed.
@
text
@d1 4
@


1.455
log
@* parse.y (yylex): fixed 'print CGI::bar() {}, "\n"' syntax
  breakage, adding new lex_state status.  sigh. [new]

* file.c (rb_file_s_unlink): should not allow if $SAFE >= 2.

* range.c (Init_Range): define "to_ary".
@
text
@d1 5
@


1.454
log
@* configure.in: use waitpid on mingw32.
* ext/dbm/extconf.rb: include <ndbm.h>, not <gdbm.h>.
@
text
@d1 5
d11 8
@


1.453
log
@* mkconfig.rb, ext/configsub.rb: VERSION -> RUBY_VERSION.
@
text
@d1 6
@


1.452
log
@* win32/dir.h: re-add.
@
text
@d1 4
@


1.451
log
@* configure.in: default --with-libc_r to `no' until the problem is
  fixed. (FreeBSD only)
@
text
@d1 4
@


1.450
log
@* ruby.c (proc_options): unexpected SecurityError happens when -T4.

* regex.c (re_compile_pattern): * \1 .. \9 should be
  backreferences always.

* regex.c (re_match): backreferences corresponding to
  unclosed/unmatched parentheses should fail always.

* string.c (rb_str_cat): use rb_str_buf_cat() if possible. [new]

* string.c (rb_str_append): ditto.

* string.c (rb_str_buf_cat): remove unnecessary check (type,
  taint, modify) to gain performance.

* string.c (rb_str_buf_append): ditto.

* string.c (rb_str_buf_new): buffering string function. [new]

* string.c (rb_str_buf_append): ditto.

* string.c (rb_str_buf_cat): ditto.

* time.c (make_time_t): local time adjustment revised.
@
text
@d1 5
@


1.449
log
@* configure.in: remove unnecessary AC_CANONICAL_BUILD
* defins.h: #define HAVE_SETITIMER on Cygwin(bug fixed).
* ruby.c: use relative path from LIBRUBY_SO.
* ruby.c: don't use -mwin32 option on Cygwin.
* cygwin/GNUmakefile.in: ditto.
* ext/sdbm/_sdbm: ditto.
* ext/tcltklib/extconf.rb: ditto.
* ext/tcltklib/stubs.c: ditto.
@
text
@d1 35
d59 4
d71 5
d80 23
d123 11
@


1.448
log
@* ext/extconf.rb.in: make the priority of the make rule of .c higher than .C .
@
text
@d1 18
d387 1
a387 1
	* configure.in:  don't use tzname on cygwin 1.3.1+.
d1454 1
a1454 1
	* configure.in: gcc-2.95.2-7(cygwin) support.
d2474 1
a2474 1
	* dln.c (dln_load): remove unused code for cygwin.
@


1.447
log
@* dir.c (glob_helper): teach has_magic() to handle flags and get
  glob_helper to properly support FNM_NOESCAPE.

* dir.c (fnmatch): fix a bug when FNM_PATHNAME and FNM_PERIOD are
  specified at the same time.
@
text
@d1 5
@


1.446
log
@* MANIFEST: add win32/dir.h .
@
text
@d1 8
@


1.445
log
@* ext/sha1/sha1-ruby.c (sha1_hexdigest): fix buffer overflow.  The
  buffer for a SHA-1 hexdigest needs to be 41 bytes in length.
@
text
@d1 4
@


1.444
log
@* MANIFEST: update the entries I forgot to add or remove.
@
text
@d1 5
@


1.443
log
@Fix the previous ChangeLog entry.
@
text
@d1 4
@


1.442
log
@* ext/sha1/sha1-ruby.c (md5i_new): separate initialize() from
  new().

* ext/md5/md5init.c (sha1_new): ditto.
@
text
@d3 1
a3 1
	* ext/sha1/sha1-ruby.c (md5i_new): separate initialize() from
d6 1
a6 1
	* ext/md5/md5init.c (sha1_new): ditto.
@


1.441
log
@* ext/dbm/extconf.rb: fix support for *BSD and set $CFLAGS
  properly.
@
text
@d1 7
@


1.440
log
@* mkconfig.rb: autoconf 2.50 support.
@
text
@d1 5
@


1.439
log
@* eval.c (rb_yield_0): need argument adjustment for C defined
  blocks too.
@
text
@d1 4
@


1.438
log
@* variable.c (rb_alias_variable): should not allow variable
  aliasing if $SAFE >= 4.

* parse.y (expr): "break" and "next" to take optional expression,
  which is used as a value for termination. [new, experimental]

* eval.c (rb_eval): "break" can give value to terminating method.

* eval.c (rb_eval): "break" and "next" to take optional expression.

* eval.c (rb_yield_0): "next" can give value to terminating "yield".

* eval.c (rb_iterate): "break" can give value to terminating method.

* eval.c (proc_call): ditto.
@
text
@d1 14
@


1.437
log
@* bignum.c (rb_big2str): t should be protected from GC.

* process.c (rb_proc_times): need not to check retrun value from
  times(2).
@
text
@d1 20
@


1.436
log
@* ext/extmk.rb.in (xsystem): backout the previous fix which was
  bogus.
@
text
@d1 9
d26 4
@


1.435
log
@* lib/mkmf.rb (xsystem): make a temporary fix to get $(...) macros
  properly expanded on a command execution.

* ext/extmk.rb.in (xsystem): ditto.
@
text
@d1 5
@


1.434
log
@* lib/mkmf.rb: unbreak "make install".  lib/* must be installed
  under $rubylibdir, not under $libdir.
@
text
@d1 7
@


1.433
log
@* ext/sha1/sha1-ruby.c (sha1_new): get rid of an unneeded
  rb_obj_call_init() call.
@
text
@d1 5
@


1.432
log
@* ext/sha1/sha1.txt, ext/sha1/sha1.txt.jp: fix typos.
@
text
@d1 5
@


1.431
log
@Adjust indents and blank lines.
@
text
@d1 4
@


1.430
log
@* lib/shell.rb, lib/shell/process-controller.rb,
lib/shell/command-processor.rb: translate Japanese comments into
English.
@
text
@d4 2
a5 2
	lib/shell/command-processor.rb: translate Japanese comments into
	English.
d12 1
a12 1
	English fixes, and sync with doc/shell.rd.jp.
d140 1
a140 1
	lib/irb/version.rb resolve ctrl-c problem
d152 1
a152 1
	`=end' in proper places so rd2 can format them without a problem.
d155 1
a155 1
	ditto.
d160 1
a160 1
	Import forwardable 1.1.
d165 2
a166 2
	EUC.
	
d199 1
a199 1
	Now `make -jN' should work without a problem.
d237 1
a237 1
	doc/irb/irb-tools.rd.jp: Merge from irb-tools 0.7.1.
d242 1
a242 1
	0.7.3.
d292 1
a292 1
	specified include directory if already included in $CPPFLAGS.
d295 1
a295 1
	value, [include_dir, lib_dir].
d520 6
a525 6
	FreeBSD, which is the first attempt to work around a certain
	problem regarding pthread on FreeBSD.  It should make ruby/libruby
	happy when it loads an extention to a library compiled and linked
	with -pthread.  Note, however, that libruby is _not_ linked with
	libc_r so as not to mess up pthread unfriendly stuff including
	apache+mod_ruby and vim6+ruby_interp.
d579 1
a579 1
	rules for the mswin32 platforms.
d969 1
a969 1
	rules.
d1353 1
a1353 1
	header() outputs only one Set-Cookie line.
d3728 1
a3728 1
	target `clean' doesn't remove Makefile.
d3733 1
a3733 1
	
d3838 1
a3838 1
	
d3840 1
a3840 1
	
d3842 1
a3842 1
	
d4244 1
a4244 1
	
d6453 1
a6453 1
	
d8054 2
a8055 1
	`instruby.rb'.
d8057 1
d8059 1
d8063 3
a8065 2
	archdir, pkglibdir, archdir, and mandir) under `destdir', and
	install all files under there.
d8067 1
a8067 1
	
d8071 1
d8073 3
a8075 2
	`$(libdir)/$(ruby_install_name)'. `libruby.so' and `libruby.so.LIB'
	are installed at `libdir'.
d8210 2
a8211 1
	'../lib/find.rb'.
d8213 1
d8215 1
d8217 2
a8218 1
	`keywords'.
d8220 1
d8222 1
d8224 1
d8226 2
a8227 1
	working directory.
d8229 1
a8229 1
	`rbconfig.rb'.
d8981 1
a8981 1
	
d10283 1
a10283 1
	
d10748 1
a10748 1
	
d10891 1
a10891 1
          function.
@


1.429
log
@* doc/shell.rd.jp: RD'ify and make some fixes.

* doc/shell.rd: RD'ify, delete Japanese leftovers, make overall
English fixes, and sync with doc/shell.rd.jp.
@
text
@d1 6
@


1.428
log
@* eval.c (rb_call0): address of local_vars might change during eval.
@
text
@d1 7
@


1.427
log
@Add a missed ChangeLog entry.

Tue May  8 18:28:19 2001  Keiju Ishitsuka  <keiju@@ishitsuka.com>

	* lib/irb.rb lib/irb/multi-irb.rb lib/irb/ruby-lex.rb
	lib/irb/version.rb resolve ctrl-c problem
@
text
@d1 4
d8 1
a8 1
	s/SuperClass/Superclass/.
d13 1
a13 1
	compile sha1 in as well as md5.
d20 1
a20 1
	ext/md5/md5.txt.jp.
d23 1
a23 1
	difference from ext/md5/md5.txt.
d30 1
a30 1
	detect the platform's endian.
d35 1
a35 1
	method: "<<".
d42 1
a42 1
	"update". (inspired by Steve Coltrin's ruby-sha1)
d50 5
d76 5
d94 1
a94 1
	dir_config().
d99 1
a99 1
	such a function does not actually exist.
@


1.426
log
@* ext/md5/md5.txt.jp, ext/sha1/sha1.txt.jp: s/SuperClass/Superclass/.
@
text
@d110 5
@


1.425
log
@* ext/Setup.dj, ext/Setup.emx, ext/Setup.nt, ext/Setup.x68:
compile sha1 in as well as md5.

* ext/Setup: put sha1 in a comment.
@
text
@d1 5
@


1.424
log
@* ext/sha1/sha1.txt.jp: add the Japanese version derived from
ext/md5/md5.txt.jp.

* ext/sha1/sha1.txt: revise the copyright info and reduce the
difference from ext/md5/md5.txt.

* ext/md5/md5.txt: reduce the difference from ext/sha1/sha1.txt.
@
text
@d1 7
@


1.423
log
@* ext/sha1/extconf.rb, ext/sha1/sha1.c: use WORDS_BIGENDIAN to
detect the platform's endian.
@
text
@d1 10
@


1.422
log
@* ext/md5/md5.txt: make wording fixes, and mention the newly added
method: "<<".

* ext/md5/md5.txt.jp: ditto.
@
text
@d1 5
@


1.421
log
@Add a missed entry.

* ext/md5/md5init.c: add an instance method "<<" as an alias for
"update". (inspired by Steve Coltrin's ruby-sha1)
@
text
@d1 7
@


1.420
log
@* array.c (rb_ary_and): should not push frozen key string.

* array.c (rb_ary_or): ditto.

* eval.c (rb_thread_schedule): should save context before raising
  deadlock, saved context for current thread might be obsolete.

* time.c (make_time_t): non DST timezone shift supported (hopefully).

* time.c (make_time_t): strict range detection for negative time_t.

* signal.c: SIGINFO added.

* eval.c (rb_ensure): should not SEGV when prot_tag is NULL.
@
text
@d1 5
@


1.419
log
@* win32/resource.rb: Modify copyright in resource script.
@
text
@d1 23
@


1.418
log
@* win32/win32.c (kill): add support of signal 9 on mswin32/mingw32.
@
text
@d1 4
@


1.417
log
@Put some missed entries to the ChangeLog.
@
text
@d1 4
@


1.416
log
@* ruby.h (rb_string_value): add volatile to avoid compiler warning.
* string.c (rb_string_value): ditto.
@
text
@d7 16
d46 22
@


1.415
log
@* bignum.c (bigdivrem): access boundary bug.

* marshal.c (w_object): prohibit dumping out singleton classes.

* object.c (rb_mod_to_s): distinguish singleton classes.

* variable.c (rb_class2name): it's ok to reveal NilClass,
  TrueClass, FalseClass.

* eval.c (rb_yield_0): preserve and restore ruby_cref as well.

* eval.c (is_defined): core dumped during instance_eval for
  special constants.

* eval.c (rb_eval): ditto.
@
text
@d1 6
@


1.414
log
@* parse.y (arg): "||=" should not warn for uninitialized instance
  variables.

* eval.c (rb_eval): ditto.

* eval.c (eval): preserve and restore ruby_cref as well.
@
text
@d1 24
@


1.413
log
@* lib/ftools.rb (syscopy): chmod destination file only if
  it does not exist.
@
text
@d1 9
d14 9
@


1.412
log
@I'm committing this from a MacOS X host. :)

* configure.in: get --enable-shared to work on MacOS X.

* Makefile.in: make $(LIBRUBY_SO) depend on miniruby properly.
Now `make -jN' should work without a problem.
@
text
@d1 5
@


1.411
log
@* win32/config.h.in: add SIZEOF___INT64 definition.
@
text
@d1 7
@


1.410
log
@* dir.c (rb_glob, rb_globi): remove unnecessary FNM_PATHNAME.
@
text
@d1 4
@


1.409
log
@* eval.c (block_pass): should not downgrade safe level.

* ext/dbm/extconf.rb: allow specifying dbm-type explicitly.

* ext/dbm/extconf.rb: avoid gdbm if possible, because it leaks
  memory, whereas gdbm.so doesn't.  potential incompatibility.

* string.c (rb_str_insert): new method.

* parse.y (yylex): lex_state after RESCUE_MOD should be EXPR_BEG.

* array.c (rb_ary_insert): new method.

* array.c (rb_ary_update): new utility function.

* io.c (set_outfile): should check if closed before assignment.

* eval.c (rb_eval): should preserve value of ruby_errinfo.

* eval.c (rb_thread_schedule): infinite sleep should not cause
  dead lock.

* array.c (rb_ary_flatten_bang): proper recursive detection.

* eval.c (yield_under): need not to prohibit at safe level 4.

* pack.c (pack_pack): p/P packs nil into NULL.

* pack.c (pack_unpack): p/P unpacks NULL into nil.

* pack.c (pack_pack): size check for P template.

* ruby.c (set_arg0): wrong predicate when new $0 value is bigger
  than original space.

* gc.c (id2ref): should use NUM2ULONG()

* object.c (rb_mod_const_get): check whether name is a class
  variable name.

* object.c (rb_mod_const_set): ditto.

* object.c (rb_mod_const_defined): ditto.

* marshal.c (w_float): precision changed to "%.16g"

* eval.c (rb_call0): wrong retry behavior.

* numeric.c (fix_aref): a bug on long>int architecture.

* eval.c (rb_eval_string_wrap): should restore ruby_wrapper.

* regex.c (re_compile_pattern): char class at either edge of range
  should be invalid.

* eval.c (handle_rescue): use === to compare exception match.

* error.c (syserr_eqq): comparison between SytemCallErrors should
  based on their error numbers.

* eval.c (safe_getter): should use INT2NUM().

* bignum.c (rb_big2long): 2**31 cannot fit in 31 bit long.

* regex.c (calculate_must_string): wrong length calculation.

* eval.c (rb_thread_start_0): fixed memory leak.

* parse.y (none): should clear cmdarg_stack too.

* io.c (rb_fopen): use setvbuf() to avoid recursive malloc() on
  some platforms.

* file.c (rb_stat_dev): device functions should honor stat field
  types (except long long such as dev_t).

* eval.c (rb_mod_nesting): should not push nil for nesting array.

* eval.c (rb_mod_s_constants): should not search array by
  rb_mod_const_at() for nil (happens for singleton class).

* class.c (rb_singleton_class_attached): should modify iv_tbl by
  itself, no longer use rb_iv_set() to avoid freeze check error.

* variable.c (rb_const_get): error message "uninitialized constant
  Foo at Bar::Baz" instead of "uninitialized constantBar::Baz::Foo".

* eval.c (rb_mod_included): new hook called from rb_mod_include().

* io.c (opt_i_set): should strdup() inplace_edit string.

* eval.c (exec_under): need to push cref too.

* eval.c (rb_f_missing): raise NameError for "undefined local
  variable or method".

* error.c (Init_Exception): new exception NoMethodError.
  NameError moved under ScriptError again.

* eval.c (rb_f_missing): use NoMethodError instead of NameError.

* file.c (Init_File): should redifine "new" class method.

* eval.c (PUSH_CREF): sharing cref node was problematic.  maintain
  runtime cref list instead.

* eval.c (rb_eval): copy defn node before registering.

* eval.c (rb_load): clear ruby_cref before loading.

* variable.c (rb_const_get): no recursion to show full class path
  for modules.

* eval.c (rb_set_safe_level): should set safe level in curr_thread
  as well.

* eval.c (safe_setter): ditto.

* object.c (rb_obj_is_instance_of): nil belongs to false, not true.

* time.c (make_time_t): proper (I hope) daylight saving time
  handling for both US and Europe.  I HATE DST!

* eval.c (rb_thread_wait_for): non blocked signal interrupt should
  stop the interval.

* eval.c (proc_eq): class check aded.

* eval.c (proc_eq): typo fixed ("return" was ommitted).

* error.c (Init_Exception): move NameError under StandardError.

* class.c (rb_mod_clone): should copy method bodies too.

* bignum.c (bigdivrem): should trim trailing zero bdigits of
  remainder, even if dd == 0.

* file.c (check3rdbyte): safe string check moved here.

* time.c (make_time_t): remove HAVE_TM_ZONE code since it
  sometimes reports wrong time.

* time.c (make_time_t): remove unnecessary range check for
  platforms where negative time_t is available.

* process.c (proc_waitall): should push Process::Status instead of
  Finuxm status.

* process.c (waitall_each): should add all entries in pid_tbl.
  these changes are inspired by Koji Arai.  Thanks.

* process.c (proc_wait): should not iterate if pid_tbl is 0.

* process.c (proc_waitall): ditto.

* numeric.c (flodivmod): a bug in no fmod case.

* process.c (pst_wifsignaled): should apply WIFSIGNALED for status
  (int), not st (VALUE).

* io.c (Init_IO): value of $/ and $\ are no longer restricted to
  strings.  type checks are done on demand.

* class.c (rb_include_module): module inclusion should be check
  taints.

* ruby.h (STR2CSTR): replace to StringType() and StringTypePtr().

* ruby.h (rb_str2cstr): ditto.

* eval.c (rb_load): should not copy topleve local variables.  It
  cause variable/method ambiguity.  Thanks to L. Peter Deutsch.

* class.c (rb_include_module): freeze check at first.

* eval.c (rb_attr): sprintf() and rb_intern() moved into
  conditional body.
@
text
@d1 4
@


1.408
log
@Merge from irb-tools 0.7.1.
@
text
@d1 25
d40 4
d51 30
d89 27
d127 24
d157 59
d220 46
d273 20
d325 9
d338 17
d358 9
@


1.407
log
@* sample/irb.rb, lib/irb.rb, lib/irb/*, doc/irb/*: Merge from irb
0.7.3.

* instruby.rb: Install help-message's too.

* lib/irb/main.rb: This file is not needed anymore.
@
text
@d1 5
@


1.406
log
@* configure.in:  don't use tzname on cygwin 1.3.1+.

* configure.in: add -mieee/-ieee to CFLAGS on OSF1/Alpha
  to disable "DIVISION BY ZERO" exception.
@
text
@d1 9
@


1.405
log
@* ext/extmk.rb.in, lib/mkmf.rb: (dir_config) do not add the
specified include directory if already included in $CPPFLAGS.

* ext/extmk.rb.in, lib/mkmf.rb: (dir_config) return a more useful
value, [include_dir, lib_dir].
@
text
@d1 7
@


1.404
log
@* configure.in: add -mieee to CFLAGS on Linux/Alpha
  to disable "DIVISION BY ZERO" exception.

* configure.in: remove -ansi on OSF/1.
@
text
@d1 8
@


1.403
log
@Wed Apr 18 04:37:51 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: CGI::Cookie: no use PATH_INFO.
@
text
@d1 7
@


1.402
log
@* win32/config.status.in: no longer use missing/alloca.c.
* win32/Makefile.sub: ditto.
@
text
@d1 4
d246 1
a246 1
	* lib/net/cgi.rb: // === '' --> //.match('')
d248 1
a248 1
	* lib/net/cgi.rb: cgi#header(): improvement for mod_ruby.
d250 1
a250 1
	* lib/net/cgi.rb: cgi#rfc1123date(): improvement.
d253 1
a253 1
	* lib/net/cgi.rb: cgi#rfc1123date(): document bug fix.
d256 1
a256 1
	* lib/net/cgi.rb: cgi#header(): bug fix.
@


1.401
log
@* lib/net/imap.rb: fix typo.
@
text
@d1 6
@


1.400
log
@* ext/extmk.rb.in (create_makefile): create def file only if
  it does not yet exist.
* lib/mkmf.rb: ditto.
@
text
@d1 4
@


1.399
log
@* lib/monitor.rb (wait): fix timeout support.
@
text
@d1 7
@


1.398
log
@* lib/monitor.rb (wait): ensure reentrance.
@
text
@d1 1
a1 1
Mon Apr  2 13:54:21 2001  Shugo Maeda <shugo@@ruby-lang.org>
d4 2
@


1.397
log
@* lib/net/imap.rb (media_subtype): return subtype.
@
text
@d1 4
@


1.396
log
@* lib/net/imap.rb (flag_list): capitalize flags.
@
text
@d1 4
@


1.395
log
@* Makefile.in: Introduce MAINLIBS.

* configure.in: Link libc_r against the ruby executable on
FreeBSD, which is the first attempt to work around a certain
problem regarding pthread on FreeBSD.  It should make ruby/libruby
happy when it loads an extention to a library compiled and linked
with -pthread.  Note, however, that libruby is _not_ linked with
libc_r so as not to mess up pthread unfriendly stuff including
apache+mod_ruby and vim6+ruby_interp.
@
text
@d1 4
@


1.394
log
@* win32/win32.c: use ruby's opendir on mingw32.
* win32/dir.h, dir.c, Makefile: ditto.
@
text
@d1 12
@


1.393
log
@* lib/net/imap.rb: add document and example code.
@
text
@d1 6
@


1.392
log
@* lib/net/imap.rb: rename ContinueRequest to ContinuationRequest.
@
text
@d1 4
@


1.391
log
@* ext/extmk.rb.in, lib/mkmf.rb: add C++ rules in addition to C
rules for the mswin32 platforms.
@
text
@d1 4
@


1.390
log
@* ext/extmk.rb.in, lib/mkmf.rb: move C++ rules to the right place.
@
text
@d1 5
@


1.389
log
@* object.c (rb_str2cstr): warn if string contains \0 and length
  value is ignored.

* class.c (rb_singleton_class_clone): should copy class constant
  table as well.

* class.c (rb_include_module): sometimes cache was mistakenly left
  uncleared - based on the patch by K.Kosako.

* ruby.h: all Check_SafeStr()'s are replaced by SafeStr() to
  ensure 'to_str' be always effective.
@
text
@d1 4
@


1.388
log
@* win32/Makefile.sub: disable global optimization.
@
text
@d1 18
@


1.387
log
@* eval.c (rb_mod_define_method): should have clear method cache.

* eval.c (rb_mod_define_method): should have raised exception for
  type error.

* ruby.h: changed "extern INLINE" to "static inline".
@
text
@d1 4
@


1.386
log
@* time.c (rb_strftime): check whether strftime returns empty string.
@
text
@d1 11
@


1.385
log
@* lib/net/imap.rb: supports response handlers and multiple commands.
@
text
@d1 4
@


1.384
log
@* eval.c: remove TMP_PROTECT_END to prevent C_ALLOCA crash.

* ext/Win32API/Win32API.c: remove Init_win32api().

* file.c (rb_file_flock): do not trap EINTR.

* missing/flock.c (flock): returns the value from lockf(2)
  directly.

* eval.c (ev_const_defined): should ignore toplevel cbase (Object).

* eval.c (ev_const_get): ditto.

* ext/md5/md5.h: replace by independent md5 implementation
  contributed by L. Peter Deutsch (thanks).

* ext/md5/md5init.c: adopted to Deutsch's md5 implementation.

* pack.c (pack_unpack): string from P/p should be tainted.

* ext/curses/curses.c: curses on Mac OS X public beta does not
  have _maxx etc.

* marshal.c (w_object): should truncate trailing zero short for
  bignums.

* object.c (sym_intern): new method.
@
text
@d1 4
@


1.383
log
@* ext/Win32API/Win32API.c: remove Init_win32api().
@
text
@d1 4
d9 38
d424 2
a425 2
	* error.c (endif): new function to give warning with strerror()
	  message. 
@


1.382
log
@* ext/Win32API/extconf.rb: add -fno-omit-frame-pointer.
@
text
@d1 4
@


1.381
log
@* eval.c (rb_mod_nesting): should not include Object at the
  toplevel.
@
text
@d1 4
@


1.380
log
@* ruby.h: better inline function support.

* configure.in (NO_C_INLINE): check if inline is available for the
  C compiler.

* marshal.c (r_object): len calculation patch was wrong for
  machines SIZEOF_BDIGITS == SIZEOF_SHORT.

* gc.c: alloca prototype reorganized for C_ALLOCA machine.
@
text
@d1 5
@


1.379
log
@* win32/win32.c (win32_stat): WinNT/2k "//host/share" support.
@
text
@d1 14
@


1.378
log
@* gc.c (id2ref): sometimes confused symbol and reference.

* dir.c (glob_helper): breaks loop after calling recusive
  glob_helper; all wild cards should be consumed; no need for
  further match.

* dir.c (dir_s_glob): gives warning if no match found.

* object.c (sym_inspect): did allocate extra byte space.

* marshal.c (shortlen): shortlen should return number of bytes
  written.

* eval.c (ev_const_defined): need not to check if cbase->nd_class
  is rb_cObject.

* eval.c (ev_const_get): ditto.

* time.c (time_zone): return "UTC" for UTC time objects.

* eval.c (THREAD_ALLOC): flags should be initialized.

* signal.c (rb_f_kill): should use FIX2INT, not FIX2UINT.
@
text
@d1 4
@


1.377
log
@* win32/dir.h: replace missing/dir.h .
* win32/win32.h: ditto.
* win32/win32.c: ditto.
@
text
@d9 4
d18 34
@


1.376
log
@* win32/win32.c (win32_stat): UNC support.
* dir.c (extract_path): fix "./*" problem.
@
text
@d1 8
d348 1
a348 1
	* win32/win32.c: fasten file I/O on mswin32/mingw32.
@


1.375
log
@* dir.c (glob_helper): replace lstat() by stat() to follow symlink
  in the case like 'symlink/*'.

* dir.c (glob_helper): gave warning too much.
@
text
@d1 6
@


1.374
log
@Sun Mar 18 08:58:18 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/net/cgi.rb: // === '' --> //.match('')

	* lib/net/cgi.rb: cgi#header(): improvement for mod_ruby.

	* lib/net/cgi.rb: cgi#rfc1123date(): improvement.
	  thanks to TADA Tadashi <sho@@spc.gr.jp>.

	* lib/net/cgi.rb: cgi#rfc1123date(): document bug fix.
	  thanks to Kazuhiro NISHIYAMA <zn@@mbf.nifty.com>.

	* lib/net/cgi.rb: cgi#header(): bug fix.
	  thanks to IWATSUKI Hiroyuki <don@@na.rim.or.jp>.
@
text
@d1 7
d22 5
@


1.373
log
@* dir.c (dir_s_chdir): block form of Dir.chdir. (RCR#U016).
@
text
@d1 15
@


1.372
log
@* configure.in: Set SOLIBS properly for all ELF and
  FreeBSD/NetBSD/OpenBSD a.out platforms so that the shlib
  dependencies are recorded in the libruby shlib.
@
text
@d1 4
@


1.371
log
@* eval.c (rb_thread_schedule): raise FATAL just once to
  THREAD_TO_KILL.
@
text
@d1 6
@


1.370
log
@* eval.c (rb_yield_0): 0 (= Qfalse) is a valid value, so that
  default self should be checked by klass == 0.

* bignum.c (rb_cstr2inum): should disallow '++1', '+-1', etc.
@
text
@d1 5
@


1.369
log
@* eval.c (ev_const_defined): add new parameter self for special
  const fallback.

* eval.c (ev_const_get): ditto.
@
text
@d1 7
@


1.368
log
@* dir.c (rb_glob_helper): fix drive letter handling on DOSISH.
@
text
@d1 7
@


1.367
log
@garvage is included.
@
text
@d1 4
@


1.366
log
@aamine
* lib/net/http.rb: add HTTPRequest#basic_auth.
* lib/net/smtp.rb: raise if only account or password is given.
* lib/net/protocol.rb: WriteAdapter#<< returns self.
@
text
@a8 1
<<<<<<< ChangeLog
@


1.365
log
@* io.c (argf_seek_m): wrong calling sequence of rb_io_seek().

* parse.y (cond0): no special treatment of string literal in
  condition.

* math.c: add acos, asin, atan, conh, sinh, tanh and hypot to Math.

* configure.in: check hypot availablility.

* missing/hypot.c: public domain rewrite of hypot.

* parse.y (warn_unless_e_option): warning condition was wrong.

* parse.y (warning_unless_e_option): ditto.

* enum.c (enum_all): new method 'all?', which returns true if
  block returns true for all elements.

* enum.c (enum_any): new method 'any?', which returns true if
  block retruns true for any of elements.

* marshal.c (marshal_load): do not give warning unless explicitly
  set to verbose.

* eval.c (rb_exit): give string value "exit" to SystemExit.

* ruby.c (proc_options): -v should not print version if
  proc_options called via moreswitches().

* parse.y (stmt): while/until modifier must work for empty body.
@
text
@d1 8
@


1.364
log
@* lib/mkmf.rb (create_makefile): save/restore $libs and $LIBPATH.
@
text
@d1 10
d15 14
d33 8
d45 12
d65 8
@


1.363
log
@* lib/mkmf.rb (install_rb): fix handling of destination path.
@
text
@d1 4
@


1.362
log
@* math.c (math_log, math_log10): use nan() instead of 0.0/0.0 on Cygwin.
@
text
@d1 4
@


1.361
log
@aamine
* lib/net/protocol.rb: one write(2) per one line.
@
text
@d1 4
@


1.360
log
@* math.c (math_log, math_log10): should return NaN if x < 0.0
  on Cygwin.
@
text
@d1 4
@


1.359
log
@* parse.y (primary): rescue and ensure clauses should be allowed
  to appear in singleton method body.
@
text
@d1 5
@


1.358
log
@* eval.c (proc_eq): compare Procs using blocktag equality.
@
text
@d1 5
d9 2
@


1.357
log
@* win32/win32.c (gettimeofday): use GetLocalTime() instead of ftime()
  for high-resolution timing.
@
text
@d1 4
d13 6
@


1.356
log
@Fill a missed ChangeLog entry.
@
text
@d1 5
@


1.355
log
@* string.c (trnext): support backslash escape in String#tr.
@
text
@d54 5
@


1.354
log
@* string.c (rb_str_delete_bang): delete! should take at least 1
  argument.

* ruby.c (load_file): add rb_gc() after loading to avoid
  extraordinary memory growth.

* dir.c (rb_glob_helper): "./foo" should match "foo", not "./foo".

* eval.c (ev_const_get): retrieve Object's constant if no current
  class is available (e.g. defining singleton class for Fixnums).

* eval.c (ev_const_defined): check Object's constant if no current
  class is available (e.g. defining singleton class for Fixnums).

* time.c (time_timeval): negative time interval shoule not be
  allowed.

* eval.c (proc_call): ignore block to `call' always, despite of
  being orphan or not.

* eval.c (rb_yield_0): should check based on rb_block_given_p()
  and rb_f_block_given_p().

* configure.in (frame-address): --enable-frame-address to allow
  __builtin_frame_address() to be used.

* eval.c (stack_length): use __builtin_frame_address() based on
  the macro USE_BUILTIN_FRAME_ADDRESS.

* gc.c (rb_gc): ditto.

* gc.c (Init_stack): ditto.
@
text
@d1 4
d208 1
a208 1
	* dir.c (dir_s_glob): supprt backslash escape of metacharacters
@


1.353
log
@* time.c (time_timeval): negative time interval shoule not be
  allowed.

* eval.c (proc_call): ignore block to `call' always, despite of
  being orphan or not.
@
text
@d1 12
d15 6
d26 17
@


1.352
log
@* eval.c (proc_call): should not modify ruby_block->frame.iter
  based on ruby_frame->iter altered by PUSH_ITER().

* eval.c (rb_thread_fd_close): should save current context before
  raising exception.

* io.c (set_stdin): preserve original stdin.

* io.c (set_outfile): preserve original stdout/stderr.
@
text
@d1 14
@


1.351
log
@Mon Feb 26 05:27:52 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/net/telnet.rb: #telnetmode(), #binmode(): bug fix.
	  thanks to nobu.nakada@@nifty.ne.jp.
@
text
@d1 5
d26 5
d41 6
@


1.350
log
@Mon Feb 26 04:55:50 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: CGI#form(): bug fix.
	  thanks to MoonWolf <moonwolf@@moonwolf.com>.

	* lib/cgi.rb: CGI#rfc1123_date(): improvement.
	  thanks to Tomoyasu Akita <genzo-@@dm4lab.to>.

	* lib/cgi.rb: CGI#header(): improvement for mod_ruby.
	  thanks to Shugo Maeda <shugo@@ruby-lang.org>.
@
text
@d1 5
@


1.349
log
@* file.c (rb_file_s_rename): avoid Cygwin's bug.
@
text
@d1 11
@


1.348
log
@* win32/win32.c (myrename): fix error handling.
@
text
@d1 4
@


1.347
log
@aamine
* lib/net/http.rb: always close connection on request without body.
* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: change copyright.
@
text
@d1 4
@


1.346
log
@aamine
* lib/net/protocol.rb: clear read buffer after reopen.
* lib/net/protocol.rb: refactoring.
* lib/net/http.rb: split module HTTPHeader from HTTPResponse.
@
text
@d1 7
@


1.345
log
@* process.c: add W* macro if not available.
@
text
@d1 8
@


1.344
log
@* configure.in: add check for negative time_t for gmtime(3).

* time.c (time_new_internal): no positive check if gmtime(3) can
  handle negative time_t.

* time.c (time_timeval): ditto.

* bignum.c (rb_big2long): should not raise RangeError for Bignum
  LONG_MIN value.
@
text
@d1 4
@


1.343
log
@* string.c (rb_str_substr): "a"[1,2] should return ""; need
  rubicon upgrade.
@
text
@d1 12
@


1.342
log
@* eval.c (secure_visibility): visibility check for untainted modules.

* signal.c (sigpipe): sighandler which does nothing.

* signal.c (trap): set sigpipe function for SIGPIPE.

* signal.c (Init_signal): default SIGPIPE handler should be
  sigpipe function.

* array.c (rb_ary_subseq): wrong boundary check.

* parse.y (cond0): integer literal in condition should not be
  compared to lineno ($.).
@
text
@d1 13
@


1.341
log
@* ext/curses/extconf.rb: add dir_config.
quote> * missing/flock.c: use fcntl(2) instead of lockf(2).
@
text
@d1 13
d24 4
d35 5
@


1.340
log
@aamine
* lib/net/http.rb: Response#range_length was not debugged.
@
text
@d1 6
@


1.339
log
@* win32/win32.c: fasten file I/O on mswin32/mingw32.

* win32/win32.h: ditto.

* rubysig.h: ditto.
@
text
@d1 4
@


1.338
log
@* io.c (set_outfile): f should be the FILE* from the assigning value.

* ext/socket/socket.c (tcp_s_open): should not give default value
  to local_host.

* time.c (time_s_times): move to Process::times.

* file.c (rb_file_s_lchmod): new method File::lchmod.

* file.c (rb_file_s_lchown): new method File::lchown.
@
text
@d1 8
d112 1
a112 1
	* win32/win32.c (win32_stat): replace stat for enable when pathname
@


1.337
log
@* process.c (proc_waitall): new method based on a patch from Brian
  Fundakowski Feldman <green@@green.dyndns.org>.

* process.c (last_status_set): objectify $? value (Process::Status).
@
text
@d1 13
d3287 1
a3287 1
	* io.c(rb_io_printf, rb_f_printf): should use rb_io_write.
@


1.336
log
@* lib/cgi/session.rb (close): fixed reversed condition.
@
text
@d5 7
@


1.335
log
@* lib/net/imap.rb: supports unknown resp_text_code.
@
text
@d1 4
@


1.334
log
@* dir.c (dir_s_glob): supprt backslash escape of metacharacters
  and delimiters.

* dir.c (remove_backslases): remove backslashes from path before
  calling stat(2).

* dir.c (dir_s_glob): call rb_yield directly (via push_pattern) if
  block is given to the method.

* dir.c (push_pattern): do not call rb_ary_push; yield directly.

* eval.c (blk_copy_prev): reduced ALLOC_N too much.

* eval.c (frame_dup): ditto.
@
text
@d1 4
@


1.333
log
@* dir.c (lstat): should use rb_sys_stat if lstat(2) is not
available.
@
text
@d1 17
d22 9
@


1.332
log
@* io.c (rb_io_ctl): do not call ioctl/fcntl for f2, if f and f2
  have same fileno.

* eval.c (rb_load): raise LocaJumpError if unexpected local jumps
  appear during load.

* ext/socket/socket.c (bsock_close_read): don't call rb_thread_fd_close();
  it's supposed to be called by io_io_close().

* ext/socket/socket.c (bsock_close_read): do not modify f and f2.

* ext/socket/socket.c (bsock_close_write): ditto.

* ext/socket/socket.c (sock_new): avoid dup(2) on sockets.

* parse.y (primary): preserve and clear in_single and in_def using
  stack to prevent nested method errors in singleton class bodies.
@
text
@d1 1
a1 4
Sun Feb 11 16:00:30 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* eval.c (stack_length): use __builtin_frame_address() only if
	  GCC and i386 CPU.
d3 2
a4 3
	* gc.c (rb_gc, Init_stack): ditto.

	* configure.in: add ac_cv_func_getpgrp_void=yes on DJGPP.
d27 9
@


1.331
log
@* configure.in: add ac_cv_func_getpgrp_void=yes on DJGPP.
@
text
@d10 34
a43 1
Fri Feb 10 00:00:30 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>
d60 4
@


1.330
log
@* eval.c (stack_length): use __builtin_frame_address() only if
  GCC and i386 CPU.
* gc.c (rb_gc, Init_stack): ditto.
@
text
@d8 2
@


1.329
log
@* win32/win32.c (win32_stat): replace stat for enable when pathname
  ends with '/' or '\' for mswin32 on Win9X / Win2k.

* win32/win32.h: ditto.

* ruby.h: ditto.

* dir.c (rb_glob_helper): ditto.

* file.c (rb_stat, rb_file_s_stat, eaccess, check3rdbyte): ditto.
@
text
@d1 7
@


1.328
log
@ruby.c (ruby_init_loadpath): convert '\' to '/'
before finding executable file path.
@
text
@d1 13
@


1.327
log
@lib/mkmf.rb (create_makefile): add srcdir.
@
text
@d1 5
@


1.326
log
@* parse.y (parse_quotedwords): %w should allow parenthesis escape.

* parse.y (parse_qstring): %q should allow terminator escape.

* re.c (rb_reg_options): new method to give an option values.

* parse.y (cond0): disable special treating of integer literal in
  conditional unless option -e is supplied.  changes current
  behavior.  experimental.

* parse.y (cond0): give warning for string/integer literals and
  dot operators in conditionals unless option -e is supplied.

* re.c (rb_reg_equal): all option flags should be same to be equal.

* error.c (Init_Exception): make Interrupt a subclass of
  SignalException.
@
text
@d1 6
@


1.325
log
@aamine
* lib/net/http.rb: join HTTPReadResponse into HTTPResponse again.
* lib/net/http.rb: move http_version() from HTTPRequest to HTTPResponse.
* lib/net/protocol.rb: refactoring.
@
text
@d19 19
d53 34
@


1.324
log
@aamine
* lib/net/http.rb: split HTTPResponse into HTTPReadResponse module.
* lib/net/protocol.rb: add Net::net_private.
* lib/net/protocol.rb: Socket#reopen takes arg, open_timeout.
@
text
@d1 9
@


1.323
log
@aamine
* lib/net/http.rb: call on_connect() on re-opening socket.
* lib/net/pop.rb: also POP3 can use APOP auth.
@
text
@d1 9
@


1.322
log
@aamine
* lib/net/http.rb: add HTTP#request.
* lib/net/http.rb: take HTTP 1.0 server into account (incomplete).
* lib/net/protocol.rb: timeout for open/read.
* lib/net/protocol.rb: add Protocol#on_connect,on_disconnect.
@
text
@d1 6
@


1.321
log
@* array.c (rb_ary_sort_bang): returns self, even if its length is
  less than 2.

* eval.c (POP_VARS): propagate DVAR_DONT_RECYCLE, if
  SCOPE_DONT_RECYCLE of ruby_scope is set.
@
text
@d1 10
@


1.320
log
@gcc-2.95.2-7(cygwin) support.
@
text
@d1 8
d15 9
@


1.319
log
@* eval.c (block_pass): return from block jumps directory to
  block invoker.
@
text
@d1 7
@


1.318
log
@* string.c (str_independent): should not clear str->orig here.
  it's too early.
@
text
@d1 5
@


1.317
log
@* parse.y: clarify do ambiguity, bit more complex but natural
  from my point of view.
@
text
@d1 5
@


1.316
log
@* eval.c (POP_BLOCK_TAG): call rb_gc_force_recycle() if block has
  not been objectified.

* eval.c (rb_callcc): should nail down block->tag history to avoid
  rb_gc_force_recycle().
@
text
@d1 5
@


1.315
log
@* lib/cgi.rb: fix the problem that when running under mod_ruby
header() outputs only one Set-Cookie line.

Approved by:	wakou, matz
@
text
@d6 8
@


1.314
log
@* gc.c (rb_gc_call_finalizer_at_exit): should finalize objects in
  deferred_final_list too.
@
text
@d1 5
@


1.313
log
@* gc.c (os_live_obj): do not list terminated object.

* gc.c (os_obj_of): ditto.

* gc.c (rb_gc_mark): support new T_BLKTAG tag.

* gc.c (obj_free): ditto.

* eval.c (new_blktag): creation of new block tag, which holds
  destination of global jump and orphan status.

* eval.c (block_pass): break from orphan Proc object will raise a
  LocalJumpError exception.

* eval.c (block_pass): behavior consistency with proc_call(). do
  not propagate `break'.
@
text
@d1 5
@


1.312
log
@* mkconfig.rb: autoconf 2.49 support.
@
text
@d1 16
d20 5
@


1.311
log
@* parse.y (block_call): syntax restructure.
@
text
@d1 4
@


1.310
log
@* parse.y (yylex): fixed serious syntax misbehavior.  do's
  preceding was too high.  a block in `foo bar do .. end' should
  be passed to `foo', not `bar'.
@
text
@d7 2
@


1.309
log
@* io.c (rb_io_s_read): new method to call IO#read from
  pathname.  In addition, it accepts third optional argument to
  specify starting point.
@
text
@d1 6
@


1.308
log
@* mkconfig.rb, win32/config.status.in: remove DEFS definition.
@
text
@d1 6
d24 2
a25 1
	  pack("P").  restriction added.
@


1.307
log
@* configure.in: remove DEFS definition.
@
text
@d5 4
@


1.306
log
@aamine
* lib/net/protocol.rb: ignore EOFError for read.
* lib/net/http.rb: user specified header was not used.
@
text
@d1 4
@


1.305
log
@Mon Jan 15 16:00:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* pack.c (pack_unpack): should check associated pointer packed by
	  pack("P").  restriction added.

Sun Jan 14 21:49:28 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* sprintf.c (rb_f_sprintf): simple typo.  binary base should be 2,
	  not '2'.

	* re.c (rb_reg_s_last_match): should explicitly return nth match.
@
text
@d1 6
@


1.304
log
@*** empty log message ***
@
text
@d1 12
d44 6
@


1.303
log
@aamine
* lib/net/protocol.rb (adding): too few "yield" in case of arg is not String/File.
* lib/net/http.rb: add http request object.
@
text
@d1 9
@


1.302
log
@eban
@
text
@d1 7
@


1.301
log
@NORETURN, INLINE
@
text
@d1 7
@


1.300
log
@m17n cleanup ;_;
@
text
@d1 9
@


1.299
log
@NORETURN
@
text
@d21 2
@


1.297
log
@setres[ug]id, NORETURN
@
text
@d7 4
d110 4
@


1.296
log
@eban
@
text
@d1 14
@


1.295
log
@* ruby.c (load_file): typo(rb_load_fail -> rb_load_failed).
@
text
@a0 4
Wed Jan 10 11:30:13 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ruby.c (load_file): typo(rb_load_fail -> rb_load_failed).

@


1.294
log
@* string.c (rb_str_reverse_bang): forgot to call rb_str_modify().

* object.c (rb_obj_taint): check frozen status before modifying
  taint status.

* object.c (rb_obj_untaint): ditto.
@
text
@d1 4
@


1.293
log
@* file.c (path_check_1): should restore modified path.
@
text
@d1 11
@


1.292
log
@* enum.c (enum_inject): new method.

* gc.c (rb_gc_call_finalizer_at_exit): clear klass member of
  terminating object.

* eval.c (rb_call): raise exception for terminated object.

* bignum.c (bigdivrem): t2 might be too big for signed long; do
  not use rb_int2big(), but rb_uint2big().

* error.c (rb_load_fail): new func to report LoadError.

* ruby.c (load_file): use rb_load_fail.

* eval.c (ruby_finalize): should enclosed by PUSH_TAG/POP_TAG.

* gc.c (rb_gc_mark): link 2 of NODE_IFUNC should not be explicitly
  marked.  it may contain non object pointer.

* re.c (reg_s_last_match): Regexp::last_match(nth) returns nth
  substring of the match  (alternative for $& and $<digit>).

* eval.c (rb_mod_define_method): wrong comparison for blocks.

* gc.c (id2ref): should handle Symbol too.

* gc.c (id2ref): should print original ptr value

* eval.c (rb_iterate): NODE_CFUNC does not protect its data
  (nd_tval), so create new node NODE_IFUNC for iteration C
  function.

* eval.c (rb_yield_0): use NODE_IFUNC.

* gc.c (rb_gc_mark): support NODE_IFUNC.

* gc.c (mem_error): prohibit recursive mem_error().
  (ruby-bugs-ja:PR#36)

* eval.c (rb_thread_fd_writable): should not switch context if
  rb_thread_critical is set.

* eval.c (rb_thread_wait_fd): ditto.

* eval.c (rb_thread_wait_for): ditto.

* eval.c (rb_thread_select): ditto.

* eval.c (rb_thread_join): join during critical section causes
  deadlock.
@
text
@d17 4
@


1.291
log
@eban
@
text
@d1 22
d26 22
@


1.290
log
@* eval.c (rb_iterate): NODE_CFUNC does not protect its data
  (nd_tval), so create new node NODE_IFUNC for iteration C
  function.

* eval.c (rb_yield_0): use NODE_IFUNC.

* gc.c (rb_gc_mark): support NODE_IFUNC.
@
text
@d1 4
@


1.289
log
@* gc.c (mem_error): prohibit recursive mem_error().
  (ruby-bugs-ja:PR#36)
@
text
@d1 10
@


1.288
log
@matz
@
text
@d1 19
d138 1
a138 1
	* time.c (time_minus): usec might overflow (ruby-bugs-ja:#PR#35).
@


1.287
log
@matz
@
text
@d1 6
d9 3
d871 1
a871 1
	* lib/net/http.rb: too early parameter expantion in string.
d928 1
a928 1
	* eval.c (rb_provided): detect infnite load loop.
d993 1
a993 1
	* bignum.c (rb_big_eq): imcomplete value compare of bignums.
d1118 1
a1118 1
	* hash.c (rb_hash_sort): should not retrun nil.
d1286 1
a1286 1
	* eval.c (rb_callcc): returned current thread instaed of
d1459 1
a1459 1
	* lib/mkmf.rb: converts extention of $objs into $OBJEXT.
d1556 1
a1556 1
	  prevent rb_gc_force_recylce().
d1631 1
a1631 1
	* numeric.c (num_ceil, etc): default ceil, floor, round, trancate
d1722 1
a1722 1
	* numeric.c (fixdivmod): does not depend C's undifined %
d1765 1
a1765 1
	  objct.  result should be either true or false.
d3958 1
a3958 1
	* dir.c (fnmatch): use eban's fnmatch; do not depend on systems's
d6553 1
a6553 1
	  splitted fields are unlimited, as in perl.
d8809 1
a8809 1
	* regex.c (re_compile_pattern): non-resitering parens (?:..).
d9065 1
a9065 1
	  variable, if ruby is running under seuid.
@


1.286
log
@matz
@
text
@d8 5
@


1.285
log
@matz
@
text
@d1 17
@


1.285.2.1
log
@matz
@
text
@a0 31
Tue Dec 26 18:46:41 2000  NAKAMURA Hiroshi  <nakahiro@@sarion.co.jp>

	* lib/debug.rb: Avoid thread deadlock in debugging stopped thread.

	* lib/debug.rb: Uncleared 'finish' state.

Tue Dec 26 16:53:55 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_yield_0): remove dvar node by rb_gc_force_recycle()
	  more eagerly.

	* eval.c (rb_f_binding): recycling should be stopped for outer
	  scope too.

	* eval.c (proc_new): ditto.

Tue Dec 26 15:45:35 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_inspect): should treat multibyte chracters
	  properly.

Mon Dec 25 17:49:08 2000  K.Kosako  <kosako@@sofnec.co.jp>

	* string.c (rb_str_replace_m): unexpected string share happens if
	  replace is done for associated (STR_NO_ORIG) string.

Tue Dec 26 15:01:53 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_f_p): should not call rb_io_flush() if rb_defout is not
	  a IO (T_FILE).

d840 1
a840 1
	* lib/net/http.rb: too early parameter expansion in string.
d897 1
a897 1
	* eval.c (rb_provided): detect infinite load loop.
d962 1
a962 1
	* bignum.c (rb_big_eq): incomplete value comparison of bignums.
d1087 1
a1087 1
	* hash.c (rb_hash_sort): should not return nil.
d1255 1
a1255 1
	* eval.c (rb_callcc): returned current thread instead of
d1428 1
a1428 1
	* lib/mkmf.rb: converts extension of $objs into $OBJEXT.
d1525 1
a1525 1
	  prevent rb_gc_force_recycle().
d1600 1
a1600 1
	* numeric.c (num_ceil, etc): default ceil, floor, round, truncate
d1691 1
a1691 1
	* numeric.c (fixdivmod): does not depend C's undefined %
d1734 1
a1734 1
	  object.  result should be either true or false.
d3927 1
a3927 1
	* dir.c (fnmatch): use eban's fnmatch; do not depend on system's
d6522 1
a6522 1
	  split fields are unlimited, as in perl.
d8778 1
a8778 1
	* regex.c (re_compile_pattern): non-registering parens (?:..).
d9034 1
a9034 1
	  variable, if ruby is running under setuid.
@


1.285.2.2
log
@* gc.c (mem_error): prohibit recursive mem_error().
  (ruby-bugs-ja:PR#36)

* eval.c (rb_thread_fd_writable): should not switch context if
  rb_thread_critical is set.

* eval.c (rb_thread_wait_fd): ditto.

* eval.c (rb_thread_wait_for): ditto.

* eval.c (rb_thread_select): ditto.

* eval.c (rb_thread_join): join during critical section causes
  deadlock.
@
text
@a0 19
Fri Dec 29 11:41:55 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (mem_error): prohibit recursive mem_error().
	  (ruby-bugs-ja:PR#36)

Fri Dec 29 11:05:41 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_fd_writable): should not switch context if
	  rb_thread_critical is set.

	* eval.c (rb_thread_wait_fd): ditto.

	* eval.c (rb_thread_wait_for): ditto.

	* eval.c (rb_thread_select): ditto.

	* eval.c (rb_thread_join): join during critical section causes
	  deadlock. 

d119 1
a119 1
	* time.c (time_minus): usec might overflow. (ruby-bugs-ja:PR#35)
@


1.285.2.3
log
@* pack.c (pack_pack): template "m2" or "u2" caused inifinite loop.

* eval.c (ruby_finalize): should enclosed by PUSH_TAG/POP_TAG.

* eval.c (rb_mod_define_method): wrong comparison for blocks.

* gc.c (id2ref): should handle Symbol too.

* gc.c (id2ref): should print original ptr value

* eval.c (rb_iterate): NODE_CFUNC does not protect its data
  (nd_tval), so create new node NODE_IFUNC for iteration C
  function.

* eval.c (rb_yield_0): use NODE_IFUNC.

* gc.c (rb_gc_mark): support NODE_IFUNC.
@
text
@a0 28
Sat Jan  6 00:55:59 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* pack.c (pack_pack): template "m2" or "u2" caused inifinite loop.

Fri Jan  5 01:02:17 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (ruby_finalize): should enclosed by PUSH_TAG/POP_TAG.

Sun Dec 31 01:39:16 2000  Guy Decoux  <decoux@@moulon.inra.fr>

	* eval.c (rb_mod_define_method): wrong comparison for blocks.

Sat Dec 30 19:28:50 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (id2ref): should handle Symbol too.

	* gc.c (id2ref): should print original ptr value

Sat Dec 30 03:14:22 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_iterate): NODE_CFUNC does not protect its data
	  (nd_tval), so create new node NODE_IFUNC for iteration C
	  function. 

	* eval.c (rb_yield_0): use NODE_IFUNC.

	* gc.c (rb_gc_mark): support NODE_IFUNC.

@


1.285.2.4
log
@* file.c (path_check_1): should restore modified path.
@
text
@a0 4
Mon Jan  8 21:35:10 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* file.c (path_check_1): should restore modified path.

@


1.285.2.5
log
@* string.c (rb_str_reverse_bang): forgot to call rb_str_modify().
@
text
@a0 11
Wed Jan 10 01:50:45 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_reverse_bang): forgot to call rb_str_modify().

Tue Jan  9 17:41:40 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_obj_taint): check frozen status before modifying
	  taint status.

	* object.c (rb_obj_untaint): ditto.

@


1.285.2.6
log
@* gc.c: wrap inline by #if.
@
text
@a15 5
Mon Jan  8 21:24:37 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (bigdivrem): t2 might be too big for signed long; do
	  not use rb_int2big(), but rb_uint2big().

@


1.285.2.7
log
@re.c
@
text
@a0 7
Sat Jan 13 19:18:18 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* re.c (rb_reg_desc): separate RE_OPTION_MULTILINE

	* re.c (rb_reg_options): add RE_OPTION_{POSIXLINE,RE_OPTION_MULTILINE,
	  RE_OPTION_EXTENDED}

@


1.285.2.8
log
@aamine
* lib/net/protocol.rb (adding): too few "yield" in case of arg is not String/File.
@
text
@a0 5
Sun Jan 14 02:49:57 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb (adding): too few "yield" in case of arg is
	not String/File.

@


1.285.2.9
log
@Sun Jan 14 21:49:28 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* sprintf.c (rb_f_sprintf): simple typo.  binary base should be 2,
	  not '2'.
@
text
@a0 5
Sun Jan 14 21:49:28 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* sprintf.c (rb_f_sprintf): simple typo.  binary base should be 2,
	  not '2'.

a11 6

Thu Jan 11 06:45:55 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_mod_dup): should propagate FL_SINGLETON.

	* object.c (inspect_obj): handles the case of no instance variable.
@


1.285.2.10
log
@aamine
* lib/net/protocol.rb: ignore EOFError for read
@
text
@a0 4
Tue Jan 16 16:59:14 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb: ignore EOFError for read

d9 1
a9 1
	  not String/File.
@


1.285.2.11
log
@* configure.in: remove DEFS definition.
@
text
@a0 4
Wed Jan 17 13:28:26 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: remove DEFS definition.

@


1.285.2.12
log
@* mkconfig.rb, win32/config.status.in: remove DEFS definition.
@
text
@a4 4
	* mkconfig.rb: ditto.

	* win32/config.status.in: ditto.

@


1.285.2.13
log
@* lib/irb/ruby-lex.rb: Merge from HEAD: rev.1.4
@
text
@a0 4
Fri Jan 19 04:04:31 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/irb/ruby-lex.rb: Merge from HEAD: rev.1.4

@


1.285.2.14
log
@* mkconfig.rb: autoconf 2.49 support.
@
text
@a0 4
Mon Jan 22 16:33:16 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* mkconfig.rb: autoconf 2.49 support.

@


1.285.2.15
log
@* gc.c (rb_gc_call_finalizer_at_exit): should finalize objects in
  deferred_final_list too.
@
text
@a0 5
Tue Jan 23 18:51:57 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (rb_gc_call_finalizer_at_exit): should finalize objects in
	  deferred_final_list too.

a3 8

Sat Jan 20 03:54:00 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): fixed serious syntax misbehavior.  do's
	  preceding was too high.  a block in `foo bar do .. end' should
	  be passed to `foo', not `bar'.

	* parse.y (block_call): syntax restructure.
@


1.285.2.16
log
@gcc-2.95.2-7(cygwin) support.
@
text
@a0 7
Wed Jan 31 22:27:29 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: gcc-2.95.2-7(cygwin) support.
	  add -mwin32 if available.

	* cygwin/GNUmakefile: ditto.

@


1.285.2.17
log
@* eval.c (POP_VARS): propagate DVAR_DONT_RECYCLE, if
  SCOPE_DONT_RECYCLE of ruby_scope is set.
@
text
@a0 8
Fri Feb  2 16:14:51 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_sort_bang): returns self, even if its length is
	  less than 2.

	* eval.c (POP_VARS): propagate DVAR_DONT_RECYCLE, if
	  SCOPE_DONT_RECYCLE of ruby_scope is set.

a7 18
Mon Jan 29 17:36:19 2001  TOYOFUKU Chikanobu  <toyofuku@@juice.or.jp>

	* eval.c (rb_eval): nd_iter evaluation should be wrapped by
	  BEGIN_CALLARGS and END_CALLARGS.

Mon Jan 29 01:40:27 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (str_independent): should not clear str->orig here.
	  it's too early.

Wed Jan 24 01:45:49 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (POP_BLOCK_TAG): call rb_gc_force_recycle() if block has
	  not been objectified.

	* eval.c (rb_callcc): should nail down block->tag history to avoid
	  rb_gc_force_recycle(). 

a12 16
Tue Jan 23 16:10:12 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (os_live_obj): do not list terminated object.

	* gc.c (os_obj_of): ditto.

	* gc.c (rb_gc_mark): support new T_BLKTAG tag.

	* gc.c (obj_free): ditto.

	* eval.c (new_blktag): creation of new block tag, which holds
	  destination of global jump and orphan status.

	* eval.c (block_pass): break from orphan Proc object will raise a
	  LocalJumpError exception.

a82 6

Mon Jan  8 03:09:58 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* error.c (rb_load_fail): new func to report LoadError.

	* ruby.c (load_file): use rb_load_fail.
@


1.285.2.18
log
@* win32/win32.c (isInternalCmd): ignore case for shell's internal command. (marge from HEAD)
@
text
@a0 5
Fri Feb  3 00:48:50 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* win32/win32.c (isInternalCmd): ignore case for shell's internal
	  command. (marge from HEAD)

@


1.285.2.19
log
@aamine
* lib/net/protocol.rb: ignore EOFError on only specified case.
* lib/net/http.rb: take HTTP 1.0 server into account.
@
text
@a0 6
Tue Feb  6 21:01:29 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb: ignore EOFError on only specified case.

	* lib/net/http.rb: take HTTP 1.0 server into account.

@


1.285.2.20
log
@* parse.y (parse_quotedwords): %w should allow parenthesis escape.

* parse.y (parse_qstring): %q should allow terminator escape.

* re.c (rb_reg_equal): all option flags should be same to be equal.
@
text
@a0 12
Wed Feb  7 16:05:22 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (parse_quotedwords): %w should allow parenthesis escape.

Wed Feb  7 00:57:42 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (parse_qstring): %q should allow terminator escape.

Wed Feb  7 00:57:42 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_equal): all option flags should be same to be equal.

a6 16
Mon Feb 5 00:39:06 2001  KANEKO Naoshi  <wbs01621@@mail.wbs.ne.jp>

	* dir.c: use ISXXX() instead of isxxx().

	* dln.c (aix_loaderror): ditto.

	* file.c (rb_file_s_expand_path): ditto.

	* string.c (rb_str_upcase_bang): ditto.

	* win32/win32.c (do_spawn): ditto.

	* win32/win32.c (NtMakeCmdVector): ditto.

	* win32/win32.c (opendir): ditto.

d13 3
@


1.285.2.21
log
@lib/mkmf.rb (create_makefile): add srcdir.
@
text
@a0 6
Thu Feb  8 21:27:24 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/mkmf.rb (install_rb): fix handling of relative path.

	* lib/mkmf.rb (create_makefile): add srcdir.

@


1.285.2.22
log
@* win32/config.h.in (inline): renamed from INLINE.
@
text
@a0 4
Fri Feb  8 23:53:08 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* win32/config.h.in (inline): renamed from INLINE.

@


1.285.2.23
log
@* win32/config.h.in (inline): add inline definition.
@
text
@d3 1
a3 1
	* win32/config.h.in (inline): add inline definition.
@


1.285.2.24
log
@ruby.c (ruby_init_loadpath): convert '\' to '/'
before finding executable file path.
@
text
@a0 5
Fri Feb  9 22:54:57 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ruby.c (ruby_init_loadpath): convert '\\' to '/'
	  before finding executable file path.

@


1.285.2.25
log
@* win32/win32.c (win32_stat): replace stat for enable when pathname
  ends with '/' or '\' for mswin32 on Win9X / Win2k.

* win32/win32.h: ditto.

* ruby.h: ditto.

* dir.c (rb_glob_helper): ditto.

* file.c (rb_stat, rb_file_s_stat, eaccess, check3rdbyte): ditto.
@
text
@a0 13
Fri Feb 10 00:06:28 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* win32/win32.c (win32_stat): replace stat for enable when pathname
	  ends with '/' or '\' for mswin32 on Win9X / Win2k.

	* win32/win32.h: ditto.

	* ruby.h: ditto.

	* dir.c (rb_glob_helper): ditto.

	* file.c (rb_stat, rb_file_s_stat, eaccess, check3rdbyte): ditto.

@


1.285.2.26
log
@* eval.c (stack_length): use __builtin_frame_address() only if
  GCC and i386 CPU.
* gc.c (rb_gc, Init_stack): ditto.
@
text
@a0 7
Sun Feb 11 16:00:30 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* eval.c (stack_length): use __builtin_frame_address() only if
	  GCC and i386 CPU.

	* gc.c (rb_gc, Init_stack): ditto.

@


1.285.2.27
log
@* configure.in: add ac_cv_func_getpgrp_void=yes on DJGPP.
@
text
@a7 2
	* configure.in: add ac_cv_func_getpgrp_void=yes on DJGPP.

@


1.285.2.28
log
@* parse.y (primary): preserve and clear in_single and in_def using
  stack to prevent nested method errors in singleton class bodies.
@
text
@a0 9
Tue Feb 13 01:13:43 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (primary): preserve and clear in_single and in_def using
	  stack to prevent nested method errors in singleton class bodies.

Sat Feb 10 23:43:49 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* hash.c (rb_any_hash): dumped core on machines sizeof(int) != sizeof(long).

d10 1
a10 6
Sat Feb 10 23:07:15 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (PREV_IS_A_LETTER): should not treat c>0x7f as a word
	  character if -Kn.

Sat Feb 10 00:06:28 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>
a26 4

Fri Feb  9 17:41:53 2001  Triet H. Lai  <thlai@@mail.usyd.edu.au>

	* dir.c (rb_glob_helper): do not follow symbolic links.
@


1.285.2.29
log
@aamine
* lib/net/http.rb: supports HTTP 1.0 server.
@
text
@a0 4
Tue Feb 13 17:00:18 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: supports HTTP 1.0 server.

@


1.285.2.30
log
@* dir.c (lstat): should use rb_sys_stat if lstat(2) is not
available.
@
text
@a0 5
Tue Feb 13 23:05:38 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* dir.c (lstat): should use rb_sys_stat if lstat(2) is not
	  available.

d10 4
a21 4

Sat Feb 10 23:43:49 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* hash.c (rb_any_hash): dumped core on machines sizeof(int) != sizeof(long).
@


1.285.2.31
log
@* lib/net/imap.rb: supports unknown resp_text_code.
@
text
@a0 4
Wed Feb 14 17:28:24 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* lib/net/imap.rb: supports unknown resp_text_code.

@


1.285.2.32
log
@* lib/cgi/session.rb (close): fixed reversed condition.
@
text
@a0 4
Thu Feb 15 11:33:49 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* lib/cgi/session.rb (close): fixed reversed condition.

@


1.285.2.33
log
@* io.c (set_outfile): f should be the FILE* from the assigning value.
@
text
@a0 4
Fri Feb 16 01:44:56 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (set_outfile): f should be the FILE* from the assigning value.

a7 7

Wed Feb 14 00:44:17 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* dir.c (dir_s_glob): call rb_yield directly (via push_pattern) if
	  block is given to the method.

	* dir.c (push_pattern): do not call rb_ary_push; yield directly.
@


1.285.2.34
log
@* ext/curses/extconf.rb: add dir_config.
* missing/flock.c: use fcntl(2) instead of lockf(2).
@
text
@a0 6
Sun Feb 18 15:42:38 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/curses/extconf.rb: add dir_config.

	* missing/flock.c: use fcntl(2) instead of lockf(2).

@


1.285.2.35
log
@* eval.c (secure_visibility): visibility check for untainted modules.

* signal.c (sigpipe): sighandler which does nothing.

* signal.c (trap): set sigpipe function for SIGPIPE.

* signal.c (Init_signal): default SIGPIPE handler should be
  sigpipe function.

* array.c (rb_ary_subseq): wrong boundary check.
@
text
@a0 13
Mon Feb 19 01:55:43 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (secure_visibility): visibility check for untainted modules.

Mon Feb 19 00:29:29 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* signal.c (sigpipe): sighandler which does nothing.

	* signal.c (trap): set sigpipe function for SIGPIPE.

	* signal.c (Init_signal): default SIGPIPE handler should be
	  sigpipe function.

a5 4

Sun Feb 18 13:02:03 2001  Yasushi Shoji  <yashi@@yashi.com>

	* array.c (rb_ary_subseq): wrong boundary check.
@


1.285.2.36
log
@* string.c (rb_str_substr): "a"[1,2] should return ""; need
  rubicon upgrade.
@
text
@a0 5
Mon Feb 19 17:46:37 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_substr): "a"[1,2] should return ""; need
	  rubicon upgrade.

@


1.285.2.37
log
@* bignum.c (rb_big2long): should not raise RangeError for Bignum
  LONG_MIN value.
@
text
@a0 5
Tue Feb 20 16:37:58 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big2long): should not raise RangeError for Bignum
	  LONG_MIN value.

@


1.285.2.38
log
@aamine
* lib/net/protocol.rb: clear read buffer after reopen.
* lib/net/http.rb: update RD document.
@
text
@a0 6
Fri Feb 23 08:24:53 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb: clear read buffer after reopen.

	* lib/net/http.rb: update RD document.

@


1.285.2.39
log
@aamine
* lib/net/http.rb: keep-alive detection was incomplete.
@
text
@a0 4
Fri Feb 23 13:27:05 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: keep-alive detection was incomplete.

@


1.285.2.40
log
@aamine
* lib/net/http.rb: always close connection if body is not exist.
@
text
@a0 4
Fri Feb 23 16:36:09 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: always close connection if body is not exist.

@


1.285.2.41
log
@aamine
* lib/net/protocol.rb: use net 1.2 for also ruby 1.6 branch.
* lib/net/smtp.rb: ditto.
* lib/net/pop.rb: ditto.
* lib/net/http.rb: ditto.
@
text
@a0 10
Sat Feb 24 15:43:31 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb: use net 1.2 for also ruby 1.6 branch.

	* lib/net/smtp.rb: ditto.

	* lib/net/pop.rb: ditto.

	* lib/net/http.rb: ditto.

@


1.285.2.42
log
@* win32/win32.c (myrename): fix error handling.
@
text
@a0 4
Sat Feb 24 22:14:00 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.c (myrename): fix error handling.

@


1.285.2.43
log
@* file.c (rb_file_s_rename): avoid Cygwin's bug.
@
text
@a0 4
Sun Feb 25 02:45:30 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* file.c (rb_file_s_rename): avoid Cygwin's bug.

@


1.285.2.44
log
@Mon Feb 26 04:55:50 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: CGI#form(): bug fix.
	  thanks to MoonWolf <moonwolf@@moonwolf.com>.

	* lib/cgi.rb: CGI#rfc1123_date(): improvement.
	  thanks to Tomoyasu Akita <genzo-@@dm4lab.to>.

	* lib/cgi.rb: CGI#header(): improvement for mod_ruby.
	  thanks to Shugo Maeda <shugo@@ruby-lang.org>.
@
text
@a0 11
Mon Feb 26 04:55:50 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: CGI#form(): bug fix.
	  thanks to MoonWolf <moonwolf@@moonwolf.com>.

	* lib/cgi.rb: CGI#rfc1123_date(): improvement.
	  thanks to Tomoyasu Akita <genzo-@@dm4lab.to>.

	* lib/cgi.rb: CGI#header(): improvement for mod_ruby.
	  thanks to Shugo Maeda <shugo@@ruby-lang.org>.

@


1.285.2.45
log
@Mon Feb 26 05:27:52 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/net/telnet.rb: #telnetmode(), #binmode(): bug fix.
	  thanks to nobu.nakada@@nifty.ne.jp.
@
text
@a0 5
Mon Feb 26 05:27:52 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/net/telnet.rb: #telnetmode(), #binmode(): bug fix.
	  thanks to nobu.nakada@@nifty.ne.jp.

@


1.285.2.46
log
@* eval.c (proc_call): should not modify ruby_block->frame.iter
  based on ruby_frame->iter altered by PUSH_ITER().

* eval.c (rb_thread_fd_close): should save current context before
  raising exception.
@
text
@a0 5
Mon Feb 26 00:04:52 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (proc_call): should not modify ruby_block->frame.iter
	  based on ruby_frame->iter altered by PUSH_ITER().

a19 5

Sat Feb 24 23:32:55 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_fd_close): should save current context before
	  raising exception.
@


1.285.2.47
log
@* eval.c (ev_const_get): retrieve Object's constant if no current
  class is available (e.g. defining singleton class for Fixnums).

* eval.c (proc_call): ignore block to `call' always, despite of
  being orphan or not.
@
text
@a0 12
Tue Feb 27 16:38:15 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (ev_const_get): retrieve Object's caonstat if no current
	  class is available (e.g. defining singleton class for Fixnums).

	* eval.c (proc_call): ignore block to `call' always, despite of
	  being orphan or not.

Mon Feb 26 16:20:27 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.c (proc_options): call ruby_show_version() just once.

@


1.285.2.48
log
@* string.c (rb_str_delete_bang): delete! should take at least 1
  argument.

* eval.c (ev_const_defined): check Object's constant if no current
  class is available (e.g. defining singleton class for Fixnums).

* eval.c (rb_yield_0): should check based on rb_block_given_p()
  and rb_f_block_given_p().
@
text
@a0 5
Wed Feb 28 11:02:41 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_delete_bang): delete! should take at least 1
	  argument. 

a5 3
	* eval.c (ev_const_defined): check Object's constant if no current
	  class is available (e.g. defining singleton class for Fixnums).

a7 5

Wed Feb 27 10:16:32 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_yield_0): should check based on rb_block_given_p()
	  and rb_f_block_given_p().
@


1.285.2.49
log
@* string.c (trnext): support backslash escape in String#tr.
@
text
@a0 4
Sun Mar  4 17:01:09 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* string.c (trnext): support backslash escape in String#tr.

@


1.285.2.50
log
@Merge from HEAD. (ext/extmk.rb.in 1.38, lib/mkmf.rb 1.41)

* ext/extmk.rb.in, lib/mkmf.rb: add C++ rules in addition to C rules.
@
text
@a0 5
Sun Mar  4 20:45:20 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in, lib/mkmf.rb: add C++ rules in addition to C
	rules.

@


1.285.2.51
log
@* win32/win32.c (gettimeofday): use GetLocalTime() instead of ftime()
  for high-resolution timing.
@
text
@a0 5
Mon Mar  5 17:19:56 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.c (gettimeofday): use GetLocalTime() instead of ftime()
	  for high-resolution timing.

@


1.285.2.52
log
@* parse.y (primary): rescue and ensure clauses should be allowed
  to appear in singleton method body.
@
text
@a0 11
Tue Mar  6 10:50:29 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (primary): rescue and ensure clauses should be allowed
	  to appear in singleton method body.

Mon Mar  5 17:25:13 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (proc_eq): compare Procs using blocktag equality.

	* eval.c (proc_to_s): stringify according to block tag address.

@


1.285.2.53
log
@* math.c (math_log, math_log10): should return NaN if x < 0.0
  on Cygwin.
@
text
@a0 5
Wed Mar  7 14:26:11 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* math.c (math_log, math_log10): should return NaN if x < 0.0
	  on Cygwin.

@


1.285.2.54
log
@aamine
* lib/net/protocol.rb: one write(2) per one line.
@
text
@a0 4
Thu Mar  8 17:43:59 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb: one write(2) per one line.

@


1.285.2.55
log
@* math.c (math_log, math_log10): use nan() instead of 0.0/0.0 on Cygwin.
@
text
@a0 4
Sat Mar 10 02:34:18 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* math.c (math_log, math_log10): use nan() instead of 0.0/0.0 on Cygwin.

@


1.285.2.56
log
@* lib/mkmf.rb (install_rb): fix handling of destination path.
@
text
@a0 4
Sun Mar 11 00:55:31 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/mkmf.rb (install_rb): fix handling of destination path.

@


1.285.2.57
log
@* lib/mkmf.rb (create_makefile): save/restore $libs and $LIBPATH.
@
text
@a0 4
Mon Mar 12 18:59:38 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/mkmf.rb (create_makefile): save/restore $libs and $LIBPATH.

@


1.285.2.58
log
@* io.c (argf_seek): wrong calling sequence of rb_io_seek().

* parse.y (stmt): while/until modifier must work for empty body.

* ruby.c (ruby_set_argv): clear ARGV contents before adding args.
@
text
@a0 4
Tue Mar 13 14:41:16 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (argf_seek): wrong calling sequence of rb_io_seek().

a20 8

Thu Mar  7 10:31:26 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (stmt): while/until modifier must work for empty body.

Tue Mar  6 22:53:58 2001  Kazuhiro Yoshida   <moriq.kazuhiro@@nifty.ne.jp>

	* ruby.c (ruby_set_argv): clear ARGV contents before adding args.
@


1.285.2.59
log
@aamine
* lib/net/http.rb: add HTTPRequest#basic_auth.
* lib/net/smtp.rb: raise if only account or password is given.
* lib/net/protocol.rb: WriteAdapter#<< returns self.
@
text
@a0 8
Tue Mar 13 15:01:12 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: add HTTPRequest#basic_auth.

	* lib/net/smtp.rb: raise if only account or password is given.

	* lib/net/protocol.rb: WriteAdapter#<< returns self.

@


1.285.2.60
log
@* dir.c (rb_glob_helper): fix drive letter handling on DOSISH.
@
text
@a0 4
Tue Mar 13 16:39:45 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* dir.c (rb_glob_helper): fix drive letter handling on DOSISH.

@


1.285.2.61
log
@* eval.c (rb_yield_0): 0 (= Qfalse) is a valid value, so that
  default self should be checked by klass == 0.

* bignum.c (rb_cstr2inum): should disallow '++1', '+-1', etc.
@
text
@a0 14
Wed Mar 14 10:41:34 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_yield_0): 0 (= Qfalse) is a valid value, so that
	  default self should be checked by klass == 0.

	* bignum.c (rb_cstr2inum): should disallow '++1', '+-1', etc.

Tue Mar 13 17:51:09 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (ev_const_defined): add new parameter self for special
	  const fallback.

	* eval.c (ev_const_get): ditto.

@


1.285.2.62
log
@* eval.c (rb_thread_schedule): raise FATAL just once to
  THREAD_TO_KILL.
@
text
@a0 5
Wed Mar 14 16:41:45 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_schedule): raise FATAL just once to
	  THREAD_TO_KILL.

@


1.285.2.63
log
@* configure.in: Set SOLIBS properly for all ELF and
  FreeBSD/NetBSD/OpenBSD a.out platforms so that the shlib
  dependencies are recorded in the libruby shlib.
@
text
@a0 6
Fri Mar 16 17:21:25 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* configure.in: Set SOLIBS properly for all ELF and
	  FreeBSD/NetBSD/OpenBSD a.out platforms so that the shlib
	  dependencies are recorded in the libruby shlib.

@


1.285.2.64
log
@Sun Mar 18 08:58:18 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/net/cgi.rb: // === '' --> //.match('')

	* lib/net/cgi.rb: cgi#header(): improvement for mod_ruby.

	* lib/net/cgi.rb: cgi#rfc1123date(): improvement.
	  thanks to TADA Tadashi <sho@@spc.gr.jp>.

	* lib/net/cgi.rb: cgi#rfc1123date(): document bug fix.
	  thanks to Kazuhiro NISHIYAMA <zn@@mbf.nifty.com>.

	* lib/net/cgi.rb: cgi#header(): bug fix.
	  thanks to IWATSUKI Hiroyuki <don@@na.rim.or.jp>.
@
text
@a0 15
Sun Mar 18 08:58:18 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/net/cgi.rb: // === '' --> //.match('')

	* lib/net/cgi.rb: cgi#header(): improvement for mod_ruby.

	* lib/net/cgi.rb: cgi#rfc1123date(): improvement.
	  thanks to TADA Tadashi <sho@@spc.gr.jp>.

	* lib/net/cgi.rb: cgi#rfc1123date(): document bug fix.
	  thanks to Kazuhiro NISHIYAMA <zn@@mbf.nifty.com>.

	* lib/net/cgi.rb: cgi#header(): bug fix.
	  thanks to IWATSUKI Hiroyuki <don@@na.rim.or.jp>.

@


1.285.2.65
log
@* eval.c (THREAD_ALLOC): flags should be initialized.
@
text
@a0 7
Mon Mar 19 16:27:32 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (THREAD_ALLOC): flags should be initialized.

	* signal.c (rb_f_kill): should use FIX2INT, not FIX2UINT.


@


1.285.2.66
log
@* eval.c (ev_const_defined): need not to check if cbase->nd_class
  is rb_cObject.

* eval.c (ev_const_get): ditto.
@
text
@a0 7
Mon Mar 19 16:52:23 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (ev_const_defined): need not to check if cbase->nd_class
	  is rb_cObject.

	* eval.c (ev_const_get): ditto.

d6 1
@


1.285.2.67
log
@* win32/win32.c (win32_stat): UNC support.
* dir.c (extract_path): fix "./*" problem.
@
text
@a0 6
Tue Mar 20 23:09:33 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.c (win32_stat): UNC support.

	* dir.c (extract_path): fix "./*" problem.

@


1.285.2.68
log
@* gc.c (id2ref): sometimes confused symbol and reference.

* marshal.c (shortlen): shortlen should return number of bytes
  written.
@
text
@a0 16
Wed Mar 21 01:26:14 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (id2ref): sometimes confused symbol and reference.

Wed Mar 21 08:05:35 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* win32/dir.h: replace missing/dir.h .

	* win32/win32.h: ditto.

	* win32/win32.c: ditto.

Wed Mar 21 01:26:14 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (id2ref): sometimes confused symbol and reference.

a6 29
Mon Mar 19 19:14:47 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* marshal.c (shortlen): shortlen should return number of bytes
	  written.

Mon Mar 19 18:56:55 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* stable version 1.6.3 released.

Tue Mar 20 15:10:00 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* dir.c (glob_helper): breaks loop after calling recusive
	  glob_helper; all wild cards should be consumed; no need for
	  further match.

	* dir.c (dir_s_glob): gives warning if no match found.

Tue Mar 20 14:13:45  Koji Arai  <JCA02266@@nifty.ne.jp>

	* object.c (sym_inspect): did allocate extra byte space.

Mon Mar 19 19:14:47 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* marshal.c (shortlen): shortlen should return number of bytes
	  written.

>>>>>>> 1.378
=======
>>>>>>> 1.285.2.67
a33 3
<<<<<<< ChangeLog

Sat Mar 17 11:11:24 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>
a34 8
	* dir.c (glob_helper): * should follow symlink, whereas ** should
	  not follow.
=======
>>>>>>> 1.285.2.67

<<<<<<< ChangeLog
Thu Mar 15 01:28:02 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>
=======
a35 5
>>>>>>> 1.285.2.67

	* dir.c (dir_s_chdir): block form of Dir.chdir. (RCR#U016).

Fri Mar 16 17:14:17 2001  Akinori MUSHA  <knu@@iDaemons.org>
a73 5
	* io.c (argf_seek_m): wrong calling sequence of rb_io_seek().

<<<<<<< ChangeLog
Tue Mar 13 09:14:19 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>
=======
a74 5
>>>>>>> 1.285.2.67

<<<<<<< ChangeLog
	* parse.y (cond0): no special treatment of string literal in
	  condition.
a75 2
=======
>>>>>>> 1.285.2.67
a86 1
<<<<<<< ChangeLog
a87 8
Fri Mar  9 09:56:19 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>
=======
>>>>>>> 1.285.2.67

<<<<<<< ChangeLog
	* marshal.c (marshal_load): do not give warning unless explicitly
	  set to verbose.
=======
a88 10
>>>>>>> 1.285.2.67

Fri Mar  9 02:07:53 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_exit): give string value "exit" to SystemExit.

	* ruby.c (proc_options): -v should not print version if
	  proc_options called via moreswitches().

Thu Mar  8 17:45:19 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>
a241 3
<<<<<<< ChangeLog
Sun Feb 18 05:46:03 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>
=======
a242 5
>>>>>>> 1.285.2.67

	* lib/net/http.rb: Response#range_length was not debugged.

Sun Feb 18 04:02:03 2001  Yasushi Shoji  <yashi@@yashi.com>
a268 4
<<<<<<< ChangeLog
<<<<<<< ChangeLog
=======
>>>>>>> 1.285.2.67
a271 1
<<<<<<< ChangeLog
a272 4
=======
=======
	* lib/net/http.rb: supports HTTP 1.0 server.
>>>>>>> 1.285.2.67
a273 18
Sun Feb 11 16:00:30 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* eval.c (stack_length): use __builtin_frame_address() only if
	  GCC and i386 CPU.

	* gc.c (rb_gc, Init_stack): ditto.

	* configure.in: add ac_cv_func_getpgrp_void=yes on DJGPP.

Tue Feb 13 08:43:10 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>
>>>>>>> 1.378

<<<<<<< ChangeLog
=======
	* io.c (rb_io_ctl): do not call ioctl/fcntl for f2, if f and f2
	  have same fileno.

>>>>>>> 1.378
a336 10
<<<<<<< ChangeLog
	* re.c (rb_reg_options): new method to give an option values.

	* parse.y (cond0): disable special treating of integer literal in
	  conditional unless option -e is supplied.  changes current
	  behavior.  experimental.

	* parse.y (cond0): give warning for string/integer literals and
	  dot operators in conditionals unless option -e is supplied.
=======
a337 1
>>>>>>> 1.285.2.67
a339 11
<<<<<<< ChangeLog

Tue Feb  6 21:30:44 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: call on_connect() on re-opening socket.

	* lib/net/pop.rb: also POP3 can use APOP auth.

Tue Feb  6 20:19:10 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/http.rb: add HTTP#request.
a340 7
	* lib/net/http.rb: take HTTP 1.0 server into account (incomplete).
=======
>>>>>>> 1.285.2.67

<<<<<<< ChangeLog
	* lib/net/protocol.rb: timeout for open/read.
=======
a341 1
>>>>>>> 1.285.2.67
a342 3
<<<<<<< ChangeLog
	* lib/net/protocol.rb: add Protocol#on_connect,on_disconnect.
=======
a343 1
>>>>>>> 1.285.2.67
a344 3
<<<<<<< ChangeLog
Mon Feb  5 23:15:46 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>
=======
a345 4
>>>>>>> 1.285.2.67

	* error.c (Init_Exception): make Interrupt a subclass of
	  SignalException.
a362 7
Sat Feb  3 14:44:53 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* configure.in (AC_C_INLINE): check inline attribute.

<<<<<<< ChangeLog
	* gc.c (is_pointer_to_heap): use inline rather than __inline__.
=======
a363 1
>>>>>>> 1.285.2.67
a364 8
<<<<<<< ChangeLog
	* pack.c (hex2num): ditto.

	* ruby.h (rb_class_of, rb_type, rb_special_const_p): ditto.

	* util.c (rb_class_of, rb_type, rb_special_const_p): defined in
	  ruby.h.
=======
a366 1
>>>>>>> 1.285.2.67
a441 11
<<<<<<< ChangeLog
<<<<<<< ChangeLog
=======
=======
>>>>>>> 1.285.2.67

<<<<<<< ChangeLog
Tue Jan 16 17:00:50 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb: ignore EOFError for read.
>>>>>>> 1.378
a442 1
<<<<<<< ChangeLog
a443 6
=======
	* lib/net/http.rb: user specified header was not used.
>>>>>>> 1.378
=======
Tue Jan 16 16:59:14 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>
>>>>>>> 1.285.2.67
a444 4
<<<<<<< ChangeLog
<<<<<<< ChangeLog
	* lib/net/protocol.rb: ignore EOFError for read
=======
a445 1
>>>>>>> 1.285.2.67
a446 11
<<<<<<< ChangeLog
=======
Mon Jan 15 16:00:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* pack.c (pack_unpack): should check associated pointer packed by
	  pack("P").  Thus pointers can be retrieved only from pointer
	  packed strings.  restriction added.

>>>>>>> 1.378
=======
>>>>>>> 1.285.2.67
a450 7
<<<<<<< ChangeLog

	* re.c (rb_reg_s_last_match): should explicitly return nth match.

Sun Jan 14 18:21:30 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>
=======
>>>>>>> 1.285.2.67
a451 3
<<<<<<< ChangeLog
	* win32/config.status.in: add some field.
=======
a452 9
>>>>>>> 1.285.2.67

<<<<<<< ChangeLog
	* win32/win32.c (isInternalCmd): ignore case for shell's internal
	  command.

	* win32/win32.c (do_spawn): recognize quoted command line.

Sun Jan 14 04:10:27 2001  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>
a453 2
=======
>>>>>>> 1.285.2.67
@


1.285.2.69
log
@ChangeLog screwed up fixed
@
text
@d5 12
d32 20
d79 3
d83 8
d92 5
d135 5
d141 5
d147 2
d160 1
d162 8
d171 10
d334 3
d338 5
d369 4
d376 1
d378 6
d385 16
d464 10
d475 1
d478 15
d494 3
d498 1
d500 3
d504 1
d506 3
d510 4
d531 7
d539 4
d544 5
d551 1
d627 8
d636 9
d646 1
d648 2
d651 3
d655 11
d670 3
d674 7
d682 9
d692 2
@


1.285.2.70
log
@* win32/win32.c (win32_stat): WinNT/2k "//host/share" support.
@
text
@a0 4
Wed Mar 21 23:07:45 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.c (win32_stat): WinNT/2k "//host/share" support.

@


1.285.2.71
log
@* ruby.h: better inline function support.

* configure.in (NO_C_INLINE): check if inline is available for the
  C compiler.

* marshal.c (r_object): len calculation patch was wrong for
  machines SIZEOF_BDIGITS == SIZEOF_SHORT.

* gc.c: alloca prototype reorganized for C_ALLOCA machine.
@
text
@a0 14
Thu Mar 22 17:43:44 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.h: better inline function support.

	* configure.in (NO_C_INLINE): check if inline is available for the
	  C compiler.

Mon Mar 19 11:03:10 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* marshal.c (r_object): len calculation patch was wrong for
	  machines SIZEOF_BDIGITS == SIZEOF_SHORT.

	* gc.c: alloca prototype reorganized for C_ALLOCA machine.

@


1.285.2.72
log
@* ext/Win32API/extconf.rb: add -fno-omit-frame-pointer.
@
text
@a0 4
Thu Mar 22 22:15:45 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/Win32API/extconf.rb: add -fno-omit-frame-pointer.

d8 7
a49 7

Mon Mar 19 11:03:10 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* marshal.c (r_object): len calculation patch was wrong for
	  machines SIZEOF_BDIGITS == SIZEOF_SHORT.

	* gc.c: alloca prototype reorganized for C_ALLOCA machine.
@


1.285.2.73
log
@* ext/Win32API/Win32API.c: remove Init_win32api().
@
text
@a0 4
Mon Mar 26 14:04:41 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/Win32API/Win32API.c: remove Init_win32api().

@


1.285.2.74
log
@* eval.c: remove TMP_PROTECT_END to prevent C_ALLOCA crash.

* eval.c (ev_const_defined): should ignore toplevel cbase (Object).

* eval.c (ev_const_get): ditto.

* ext/curses/curses.c: curses on Mac OS X public beta does not
  have _maxx etc.

* marshal.c (w_object): should truncate trailing zero short for
  bignums.
@
text
@a0 4
Mon Mar 26 17:21:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c: remove TMP_PROTECT_END to prevent C_ALLOCA crash.

a3 16

Sat Mar 24 23:44:50 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (ev_const_defined): should ignore toplevel cbase (Object).

	* eval.c (ev_const_get): ditto.

Fri Mar 23 12:18:44 2001  SHIROYAMA Takayuki  <psi@@fortune.nest.or.jp>

	* ext/curses/curses.c: curses on Mac OS X public beta does not
	  have _maxx etc.

Fri Mar 23 10:50:31 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_object): should truncate trailing zero short for
	  bignums.
@


1.285.2.75
log
@* time.c (rb_strftime): check whether strftime returns empty string.
@
text
@a0 4
Mon Mar 26 23:19:33 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* time.c (rb_strftime): check whether strftime returns empty string.

@


1.285.2.76
log
@* eval.c (rb_mod_define_method): should have clear method cache.

* eval.c (rb_mod_define_method): should have raised exception for
  type error.

* ruby.h: changed "extern INLINE" to "static inline".
@
text
@a0 11
Tue Mar 27 15:00:54 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (rb_mod_define_method): should have clear method cache.

	* eval.c (rb_mod_define_method): should have raised exception for
	  type error.

Tue Mar 27 14:48:17 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.h: changed "extern INLINE" to "static inline".

a3 5

Mon Mar 26 18:14:47 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* dir.c (rb_glob_helper): part of 1.7 globber backported to proper
	  following of symlinks.
@


1.285.2.77
log
@* win32/Makefile.sub: disable global optimization.
@
text
@a0 4
Wed Mar 28 09:52:33 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/Makefile.sub: disable global optimization.

@


1.285.2.78
log
@* object.c (rb_str2cstr): warn if string contains \0 and length
  value is ignored.

* class.c (rb_singleton_class_clone): should copy class constant
  table as well.

* class.c (rb_include_module): sometimes cache was mistakenly left
  uncleared - based on the patch by K.Kosako.
@
text
@a0 15
Wed Mar 28 17:39:04 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_str2cstr): warn if string contains \0 and length
	  value is ignored.

Wed Mar 28 15:00:31 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* class.c (rb_singleton_class_clone): should copy class constant
	  table as well.

Wed Mar 28 15:03:23 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_include_module): sometimes cache was mistakenly left
	  uncleared - based on the patch by K.Kosako.

@


1.285.2.79
log
@* ext/extmk.rb.in, lib/mkmf.rb: move C++ rules to the right place.
@
text
@a0 4
Wed Mar 28 19:29:21 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in, lib/mkmf.rb: move C++ rules to the right place.

@


1.285.2.80
log
@* ext/extmk.rb.in, lib/mkmf.rb: add C++ rules in addition to C
rules for the mswin32 platforms.
@
text
@a0 5
Wed Mar 28 23:43:00 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/extmk.rb.in, lib/mkmf.rb: add C++ rules in addition to C
	rules for the mswin32 platforms.

@


1.285.2.81
log
@* win32/win32.c: use ruby's opendir on mingw32.
* missing/dir.h, dir.c, Makefile: ditto.
@
text
@a0 6
Mon Apr  2 01:16:24 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.c: use ruby's opendir on mingw32.

	* missing/dir.h, dir.c, Makefile: ditto.

@


1.285.2.82
log
@* lib/net/imap.rb: backport from ruby-1.7.
@
text
@a0 4
Mon Apr  2 12:44:53 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* lib/net/imap.rb: backport from ruby-1.7.

@


1.285.2.83
log
@* lib/monitor.rb (wait): ensure reentrance.
@
text
@a0 4
Mon Apr  2 13:54:21 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* lib/monitor.rb (wait): ensure reentrance.

@


1.285.2.84
log
@* lib/monitor.rb (wait): fix timeout support.
@
text
@d1 1
a1 1
Mon Apr  2 14:25:49 2001  Shugo Maeda <shugo@@ruby-lang.org>
a3 2

	* lib/monitor.rb (wait): fix timeout support.
@


1.285.2.85
log
@* ext/extmk.rb.in (create_makefile): create def file only if
  it does not yet exist.
* lib/mkmf.rb: ditto.
@
text
@a0 7
Tue Apr  3 09:56:20 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb.in (create_makefile): create def file only if
	  it does not yet exist.

	* lib/mkmf.rb: ditto.

@


1.285.2.86
log
@* time.c (make_time_t): remove HAVE_TM_ZONE code since it
  sometimes reports wrong time.

* time.c (make_time_t): remove unnecessary range check for
  platforms where negative time_t is available.

* numeric.c (flodivmod): a bug in no fmod case.

* process.c (pst_wifsignaled): should apply WIFSIGNALED for status
  (int), not st (VALUE).

* class.c (rb_include_module): module inclusion should be check
  taints.

* class.c (rb_include_module): freeze check at first.

* eval.c (rb_attr): sprintf() and rb_intern() moved into
  conditional body.
@
text
@a7 8
Tue Apr  3 00:05:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (make_time_t): remove HAVE_TM_ZONE code since it
	  sometimes reports wrong time.

	* time.c (make_time_t): remove unnecessary range check for
	  platforms where negative time_t is available.

a22 23

Sun Apr  1 23:26:14 2001  TOYOFUKU Chikanobu  <toyofuku@@juice.or.jp>

	* numeric.c (flodivmod): a bug in no fmod case.

Sun Apr  1 18:36:14 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* process.c (pst_wifsignaled): should apply WIFSIGNALED for status
	  (int), not st (VALUE).

Sat Mar 31 03:24:10 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_include_module): module inclusion should be check
	  taints.

Fri Mar 30 12:51:19 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_include_module): freeze check at first.

Thu Mar 29 17:05:09 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_attr): sprintf() and rb_intern() moved into
	  conditional body.
@


1.285.2.87
log
@* Makefile.in: Introduce MAINLIBS.

* configure.in: Link libc_r against the ruby executable on
FreeBSD, which is the first attempt to work around a certain
problem regarding pthread on FreeBSD.  It should make ruby/libruby
happy when it loads an extention to a library compiled and linked
with -pthread.  Note, however, that libruby is _not_ linked with
libc_r so as not to mess up pthread unfriendly stuff including
apache+mod_ruby and vim6+ruby_interp.
@
text
@a0 12
Tue Apr  3 15:29:10 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* Makefile.in: Introduce MAINLIBS.

	* configure.in: Link libc_r against the ruby executable on
	FreeBSD, which is the first attempt to work around a certain
	problem regarding pthread on FreeBSD.  It should make ruby/libruby
	happy when it loads an extention to a library compiled and linked
	with -pthread.  Note, however, that libruby is _not_ linked with
	libc_r so as not to mess up pthread unfriendly stuff including
	apache+mod_ruby and vim6+ruby_interp.

@


1.285.2.88
log
@* variable.c (rb_const_get): no recursion to show full class path
  for modules.

* eval.c (rb_set_safe_level): should set safe level in curr_thread
  as well.

* eval.c (safe_setter): ditto.

* object.c (rb_obj_is_instance_of): nil belongs to false, not true.

* time.c (make_time_t): proper (I hope) daylight saving time
  handling for both US and Europe.  I HATE SUMMER TIME!

* eval.c (rb_thread_wait_for): non blocked signal interrupt should
  stop the interval.

* class.c (rb_mod_clone): should copy method bodies too.

* bignum.c (bigdivrem): should trim trailing zero bdigits of
  remainder, even if dd == 0.
@
text
@a0 29
Thu Apr  5 22:40:12 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_const_get): no recursion to show full class path
	  for modules.

	* eval.c (rb_set_safe_level): should set safe level in curr_thread
	  as well.

	* eval.c (safe_setter): ditto.

Thu Apr  5 13:46:06 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* object.c (rb_obj_is_instance_of): nil belongs to false, not true.

Thu Apr  5 02:19:03 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (make_time_t): proper (I hope) daylight saving time
	  handling for both US and Europe.  I HATE SUMMER TIME!

	* eval.c (rb_thread_wait_for): non blocked signal interrupt should
	  stop the interval.

Wed Apr  4 03:47:03 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_mod_clone): should copy method bodies too.

	* bignum.c (bigdivrem): should trim trailing zero bdigits of
	  remainder, even if dd == 0.

@


1.285.2.89
log
@* lib/net/imap.rb: fix typo.
@
text
@a0 4
Mon Apr  9 11:56:52 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* lib/net/imap.rb: fix typo.

@


1.285.2.90
log
@* file.c (Init_File): should redifine "new" class method.
@
text
@a0 4
Mon Apr  9 12:05:44 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (Init_File): should redifine "new" class method.

@


1.285.2.91
log
@* io.c (opt_i_set): should strdup() inplace_edit string.

* eval.c (exec_under): need to push cref too.
@
text
@a0 8
Tue Apr 10 02:24:40 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* io.c (opt_i_set): should strdup() inplace_edit string.

Mon Apr  9 23:29:54 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (exec_under): need to push cref too.

@


1.285.2.92
log
@* class.c (rb_singleton_class_attached): should modify iv_tbl by
  itself, no longer use rb_iv_set() to avoid freeze check error.

* variable.c (rb_const_get): error message "uninitialized constant
  Foo at Bar::Baz" instead of "uninitialized constantBar::Baz::Foo".
@
text
@a0 8
Wed Apr 11 13:29:26 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_singleton_class_attached): should modify iv_tbl by
	  itself, no longer use rb_iv_set() to avoid freeze check error.

	* variable.c (rb_const_get): error message "uninitialized constant
	  Foo at Bar::Baz" instead of "uninitialized constantBar::Baz::Foo".

@


1.285.2.93
log
@* win32/config.status.in: no longer use missing/alloca.c.
* win32/Makefile.sub: ditto.
@
text
@a0 6
Sat Apr 14 13:33:32 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* win32/config.status.in: no longer use missing/alloca.c.

	* win32/Makefile.sub: ditto.

@


1.285.2.94
log
@* regex.c (calculate_must_string): wrong length calculation.

* eval.c (rb_thread_start_0): fixed memory leak.

* parse.y (none): should clear cmdarg_stack too.

* io.c (rb_fopen): use setvbuf() to avoid recursive malloc() on
  some platforms.

* file.c (rb_stat_dev): device functions should honor stat field
  types (except long long such as dev_t).

* eval.c (rb_mod_nesting): should not push nil for nesting array.

* eval.c (rb_mod_s_constants): should not search array by
  rb_mod_const_at() for nil (happens for singleton class).
@
text
@a0 4
Sat Apr 14 22:46:43 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* regex.c (calculate_must_string): wrong length calculation.

a6 25
Fri Apr 13 12:40:48 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (rb_thread_start_0): fixed memory leak.

Fri Apr 13 16:41:18 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (none): should clear cmdarg_stack too.

Fri Apr 13 06:19:29 2001  GOTOU YUUZOU  <gotoyuzo@@notwork.org>

	* io.c (rb_fopen): use setvbuf() to avoid recursive malloc() on
	  some platforms.

Wed Apr 11 23:36:26 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_stat_dev): device functions should honor stat field
	  types (except long long such as dev_t).

Wed Apr 11 18:07:53 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (rb_mod_nesting): should not push nil for nesting array.

	* eval.c (rb_mod_s_constants): should not search array by
	  rb_mod_const_at() for nil (happens for singleton class).

a3630 7

Sun Mar 25 16:52:48 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

	* file.c (rb_file_flock): do not trap EINTR.

	* missing/flock.c (flock): returns the value from lockf(2)
	  directly.
@


1.285.2.95
log
@	* eval.c (safe_getter): should use INT2NUM().

	* bignum.c (rb_big2long): 2**31 cannot fit in 31 bit long.
@
text
@a0 8
Tue Apr 17 16:54:39 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (safe_getter): should use INT2NUM().

Tue Apr 17 15:12:56 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big2long): 2**31 cannot fit in 31 bit long.

@


1.285.2.96
log
@preview2
@
text
@a0 5
Wed Apr 18 00:24:40 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_compile_pattern): char class at either edge of range
	  should be invalid.

@


1.285.2.97
log
@Wed Apr 18 04:37:51 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: CGI::Cookie: no use PATH_INFO.
@
text
@a0 4
Wed Apr 18 04:37:51 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: CGI::Cookie: no use PATH_INFO.

d296 1
a296 1
	* lib/cgi.rb: // === '' --> //.match('')
d298 1
a298 1
	* lib/cgi.rb: cgi#header(): improvement for mod_ruby.
d300 1
a300 1
	* lib/cgi.rb: cgi#rfc1123date(): improvement.
d303 1
a303 1
	* lib/cgi.rb: cgi#rfc1123date(): document bug fix.
d306 1
a306 1
	* lib/cgi.rb: cgi#header(): bug fix.
@


1.285.2.98
log
@* configure.in: add -mieee to CFLAGS on Linux/Alpha
  to disable "DIVISION BY ZERO" exception.

* configure.in: remove -ansi on OSF/1.
@
text
@a0 7
Sun Apr 22 17:44:37 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: add -mieee to CFLAGS on Linux/Alpha
	  to disable "DIVISION BY ZERO" exception.

	* configure.in: remove -ansi on OSF/1.

@


1.285.2.99
log
@* ruby.c (set_arg0): wrong predicate when new $0 value is bigger
  than original space.

* gc.c (id2ref): should use NUM2ULONG()

* object.c (rb_mod_const_get): check whether name is a class
  variable name.

* object.c (rb_mod_const_set): ditto.

* object.c (rb_mod_const_defined): ditto.

* marshal.c (w_float): precision changed to "%.16g"

* eval.c (rb_call0): wrong retry behavior.

* numeric.c (fix_aref): a bug on long>int architecture.

* eval.c (rb_eval_string_wrap): should restore ruby_wrapper.
@
text
@a0 16
Tue Apr 24 15:35:32 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.c (set_arg0): wrong predicate when new $0 value is bigger
	  than original space.

Mon Apr 23 14:43:59 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (id2ref): should use NUM2ULONG()

	* object.c (rb_mod_const_get): check whether name is a class
	  variable name.

	* object.c (rb_mod_const_set): ditto.

	* object.c (rb_mod_const_defined): ditto.

a6 16

Sat Apr 21 22:33:26 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_float): precision changed to "%.16g"

Sat Apr 21 22:07:58 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* eval.c (rb_call0): wrong retry behavior.

Fri Apr 20 19:12:20 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (fix_aref): a bug on long>int architecture.

Fri Apr 20 14:57:15 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (rb_eval_string_wrap): should restore ruby_wrapper.
@


1.285.2.100
log
@* ext/extmk.rb.in, lib/mkmf.rb: (dir_config) do not add the
specified include directory if already included in $CPPFLAGS.

* ext/extmk.rb.in, lib/mkmf.rb: (dir_config) return a more useful
value, [include_dir, lib_dir].
@
text
@a0 8
Tue Apr 24 15:57:45 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in, lib/mkmf.rb: (dir_config) do not add the
	specified include directory if already included in $CPPFLAGS.

	* ext/extmk.rb.in, lib/mkmf.rb: (dir_config) return a more useful
	value, [include_dir, lib_dir].

@


1.285.2.101
log
@* ext/extmk.rb.in: add target `distclean' in Makefile for extlib.
target `clean' doesn't remove Makefile.
@
text
@a0 5
Tue Apr 24 16:03:25 2001  Hiroshi Igarashi  <iga@@ruby-lang.org>

	* ext/extmk.rb.in: add target `distclean' in Makefile for extlib.
	target `clean' doesn't remove Makefile.

@


1.285.2.102
log
@* configure.in:  don't use tzname on cygwin 1.3.1+.

* configure.in: add -mieee/-ieee to CFLAGS on OSF1/Alpha
  to disable "DIVISION BY ZERO" exception.
@
text
@a0 7
Thu Apr 26 22:36:11 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in:  don't use tzname on cygwin 1.3.1+.

	* configure.in: add -mieee/-ieee to CFLAGS on OSF1/Alpha
	  to disable "DIVISION BY ZERO" exception.

@


1.285.2.103
log
@* sample/irb.rb, lib/irb.rb, lib/irb/*, doc/irb/*: Merge from irb
0.7.3 and irb-tools 0.7.1.

* instruby.rb: Install help-message's too.

* lib/irb/main.rb: This file is not needed anymore.
@
text
@a0 9
Tue May  1 03:36:50 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* sample/irb.rb, lib/irb.rb, lib/irb/*, doc/irb/*: Merge from irb
	0.7.3 and irb-tools 0.7.1.

	* instruby.rb: Install help-message's too.

	* lib/irb/main.rb: This file is not needed anymore.

@


1.285.2.104
log
@* eval.c (rb_eval): should preserve value of ruby_errinfo.

* eval.c (rb_thread_schedule): inifinite sleep should not cause
  dead lock.

* array.c (rb_ary_flatten_bang): proper recursive detection.

* eval.c (yield_under): need not to prohibit at safe leve 4.
@
text
@a16 17
Thu Apr 26 22:30:43 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): should preserve value of ruby_errinfo.

Thu Apr 26 10:36:09 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_schedule): inifinite sleep should not cause
	  dead lock.

Wed Apr 25 16:40:44 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_flatten_bang): proper recursive detection.

Wed Apr 25 15:36:15 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (yield_under): need not to prohibit at safe leve 4.

d127 1
a127 1
	  Foo at Bar::Baz" instead of "uninitialized constant Bar::Baz::Foo".
@


1.285.2.105
log
@* parse.y (yylex): lex_state after RESCUE_MOD should be EXPR_BEG.
@
text
@a0 4
Tue May  1 17:55:58 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): lex_state after RESCUE_MOD should be EXPR_BEG.

@


1.285.2.106
log
@* eval.c (block_pass): should not downgrade safe level.
@
text
@a0 4
Wed May  2 11:46:13 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (block_pass): should not downgrade safe level.

d27 1
a27 1
       * eval.c (rb_thread_schedule): infinite sleep should not cause
d36 1
a36 1
       * eval.c (yield_under): need not to prohibit at safe level 4.
@


1.285.2.107
log
@* dir.c (rb_glob, rb_iglob): remove unnecessary FNM_PATHNAME.
@
text
@a0 4
Wed May  2 20:39:35 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* dir.c (rb_glob, rb_iglob): remove unnecessary FNM_PATHNAME.

@


1.285.2.108
log
@* configure.in: get --enable-shared to work on MacOS X.

* Makefile.in: make $(LIBRUBY_SO) depend on miniruby properly.
Now `make -jN' should work without a problem.
@
text
@a0 7
Thu May  3 03:41:01 2001  SHIROYAMA Takayuki <psi@@fortune.nest.or.jp>

	* configure.in: get --enable-shared to work on MacOS X.

	* Makefile.in: make $(LIBRUBY_SO) depend on miniruby properly.
	Now `make -jN' should work without a problem.

@


1.285.2.109
log
@* lib/ftools.rb (syscopy): chmod destination file only if
  it does not exist.
@
text
@a0 5
Mon May  7 15:45:48 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/ftools.rb (syscopy): chmod destination file only if
	  it does not exist.

@


1.285.2.110
log
@* eval.c (eval): preserve and restore ruby_cref as well.
@
text
@a0 4
Mon May  7 15:58:45 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (eval): preserve and restore ruby_cref as well.

@


1.285.2.111
log
@* parse.y (arg): "||=" should not warn for uninitialized instance
  variables.

* eval.c (rb_eval): ditto.
@
text
@a2 5
	* parse.y (arg): "||=" should not warn for uninitialized instance
	  variables.

	* eval.c (rb_eval): ditto.

@


1.285.2.112
log
@* eval.c (is_defined): core dumped during instance_eval for
  special constants.

* eval.c (rb_eval): ditto
@
text
@a0 7
Tue May  8 17:12:43 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (is_defined): core dumped during instance_eval for
	  special constants.

	* eval.c (rb_eval): ditto.

@


1.285.2.113
log
@* bignum.c (bigdivrem): access boundary bug.
@
text
@a0 4
Fri May 11 02:00:44 2001  Ryo HAYASAKA  <ryoh@@jaist.ac.jp>

	* bignum.c (bigdivrem): access boundary bug.

@


1.285.2.114
log
@* process.c: silence VC++ warnings.

* sprintf.c: ditto.
@
text
@a0 6
Fri May 11 23:51:54 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* process.c: silence VC++ warnings.

	* sprintf.c: ditto.

@


1.285.2.115
log
@Put some missed entries to the ChangeLog.
@
text
@a6 16
Fri May 11 03:38:11 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* README.EXT: Document find_library(), with_config() and
	dir_config().

Fri May 11 03:37:53 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* README.EXT.jp: Remove the description of find_header() because
	such a function does not actually exist.
    
	* README.EXT.jp: Update the description of dir_config().

Fri May 11 02:42:40 2001  Kazuhiro NISHIYAMA  <zn@@mbf.nifty.com>

	* README, README.jp: Fix CVS access and mailing lists info.

a16 22

Tue May  8 08:59:01 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* doc/forwardable.rd, doc/forwardable.rd.jp: Hit `=begin' and
	`=end' in proper places so rd2 can format them without a problem.

	* doc/irb/irb-tools.rd.jp, doc/irb/irb.rd, doc/irb/irb.rd.jp:
	ditto.

Tue May  8 08:56:05 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* doc/forwardable.rd, doc/forwardable.rd.jp, lib/forwardable.rb:
	Bring forwardable 1.1 onto the ruby_1_6 branch.

Tue May  8 08:35:09 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* doc/irb/irb-tools.rd.jp, doc/irb/irb.rd.jp: Convert from JIS to
	EUC.
	
Tue May  8 03:46:24 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* sample/rbc.rb: Obsoleted by IRB.
@


1.285.2.116
log
@* win32/resource.rb: Modify copyright in resource script.
@
text
@a0 4
Sun May 13 23:49:25 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* win32/resource.rb: Modify copyright in resource script.

@


1.285.2.117
log
@* array.c (rb_ary_and): should not push frozen key string.

* array.c (rb_ary_or): ditto.

* eval.c (rb_thread_schedule): should save context before raising
  deadlock, saved context for current thread might be obsolete.

* time.c (make_time_t): non DST timezone shift supported (hopefully).

* signal.c: SIGINFO added.

* eval.c (rb_ensure): should not SEGV when prot_tag is NULL.
@
text
@a0 21
Tue May 15 17:46:37 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_and): should not push frozen key string.

	* array.c (rb_ary_or): ditto.

Mon May 14 13:50:22 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_schedule): should save context before raising
	  deadlock, saved context for current thread might be obsolete.

	* time.c (make_time_t): non DST timezone shift supported (hopefully).

Mon May 14 11:54:20 2001  Tanaka Akira  <akr@@m17n.org>

	* signal.c: SIGINFO added.

Mon May 14 08:57:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_ensure): should not SEGV when prot_tag is NULL.

@


1.285.2.118
log
@
resolve ctrl-c problem.
@
text
@a0 4
Thu May 17 05:23:52 2001  Keiju Ishitsuka <keiju@@ishitsuka.com>
	* lib/irb.rb lib/irb/multi-irb.rb lib/irb/ruby-lex.rb lib/irb/version.rb
	  resolve ctrl-c problem
	
@


1.285.2.119
log
@* ext/md5/md5.txt: make wording fixes.

* ext/md5/md5.txt.jp: ditto.
@
text
@a0 6
Thu May 17 06:37:14 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/md5/md5.txt: make wording fixes.

	* ext/md5/md5.txt.jp: ditto.

@


1.285.2.120
log
@* ext/md5/md5.txt, ext/md5/md5.txt.jp: s/SuperClass/Superclass/.
@
text
@a0 4
Thu May 17 07:30:15 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/md5/md5.txt, ext/md5/md5.txt.jp: s/SuperClass/Superclass/.

@


1.285.2.121
log
@* eval.c (rb_call0): address of local_vars might change during eval.
@
text
@a0 4
Thu May 17 17:35:04 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_call0): address of local_vars might change during eval.

@


1.285.2.122
log
@* doc/shell.rd*, lib/shell*: bring shell.rb 0.6 onto the ruby_1_6
branch.
@
text
@a0 5
Thu May 17 19:34:11 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* doc/shell.rd*, lib/shell*: bring shell.rb 0.6 onto the ruby_1_6
	branch.

@


1.285.2.123
log
@* lib/shell.rb, lib/shell/process-controller.rb,
lib/shell/command-processor.rb: translate Japanese comments into
English.

* doc/shell.rd.jp: RD'ify and make some fixes.

* doc/shell.rd: RD'ify, delete Japanese leftovers, make overall
English fixes, and sync with doc/shell.rd.jp.
@
text
@a0 11
Thu May 17 19:36:47 2001  Akinori MUSHA  <knu@@iDaemons.org>

        * lib/shell.rb, lib/shell/process-controller.rb,
        lib/shell/command-processor.rb: translate Japanese comments into
        English.

        * doc/shell.rd.jp: RD'ify and make some fixes.

        * doc/shell.rd: RD'ify, delete Japanese leftovers, make overall
        English fixes, and sync with doc/shell.rd.jp.

@


1.285.2.124
log
@Adjust indents and blank lines.
@
text
@d3 3
a5 3
	* lib/shell.rb, lib/shell/process-controller.rb,
	  lib/shell/command-processor.rb: translate Japanese comments into
	  English.
d7 1
a7 1
	* doc/shell.rd.jp: RD'ify and make some fixes.
d9 2
a10 2
	* doc/shell.rd: RD'ify, delete Japanese leftovers, make overall
	  English fixes, and sync with doc/shell.rd.jp.
d15 1
a15 1
	  branch.
d34 1
a34 1

d69 1
a69 1
	  dir_config().
d74 1
a74 1
	  such a function does not actually exist.
d96 1
a96 1
	  `=end' in proper places so rd2 can format them without a problem.
d99 1
a99 1
	  ditto.
d104 1
a104 1
	  Bring forwardable 1.1 onto the ruby_1_6 branch.
d109 2
a110 2
	  EUC.

d134 1
a134 1
	  Now `make -jN' should work without a problem.
d151 1
a151 1
	  0.7.3 and irb-tools 0.7.1.
d184 1
a184 1
	  target `clean' doesn't remove Makefile.
d189 1
a189 1
	  specified include directory if already included in $CPPFLAGS.
d192 1
a192 1
	  value, [include_dir, lib_dir].
d343 6
a348 6
	  FreeBSD, which is the first attempt to work around a certain
	  problem regarding pthread on FreeBSD.  It should make ruby/libruby
	  happy when it loads an extention to a library compiled and linked
	  with -pthread.  Note, however, that libruby is _not_ linked with
	  libc_r so as not to mess up pthread unfriendly stuff including
	  apache+mod_ruby and vim6+ruby_interp.
d407 1
a407 1
	  rules for the mswin32 platforms.
d634 1
a634 1
	  rules.
d3193 1
a3193 1
	  target `clean' doesn't remove Makefile.
d3198 1
a3198 1

d3303 1
a3303 1

d3305 1
a3305 1

d3307 1
a3307 1

d3709 1
a3709 1

d5925 1
a5925 1

d7526 1
a7526 2
	  `instruby.rb'.

a7527 1

a7528 1

d7532 2
a7533 3
	  archdir, pkglibdir, archdir, and mandir) under `destdir', and
	  install all files under there.

d7535 1
a7535 1

a7538 1

d7540 2
a7541 3
	  `$(libdir)/$(ruby_install_name)'. `libruby.so' and `libruby.so.LIB'
	  are installed at `libdir'.

d7676 1
a7676 2
	  '../lib/find.rb'.

a7677 1

a7678 1

d7680 1
a7680 2
	  `keywords'.

a7681 1

a7682 1

a7683 1

d7685 1
a7685 2
	  working directory.

d7687 1
a7687 1
	  `rbconfig.rb'.
d8439 1
a8439 1

d9741 1
a9741 1

d10206 1
a10206 1

d10349 1
a10349 1
	  function.
@


1.285.2.125
log
@* lib/mkmf.rb: unbreak "make install".  lib/* must be installed
  under $rubylibdir, not under $libdir.
@
text
@a0 5
Fri May 18 03:49:55 2001  Brian F. Feldman  <green@@FreeBSD.org>

	* lib/mkmf.rb: unbreak "make install".  lib/* must be installed
	  under $rubylibdir, not under $libdir.

@


1.285.2.126
log
@* lib/mkmf.rb (xsystem): make a temporary fix to get $(...) macros
  properly expanded on a command execution.
@
text
@a0 5
Fri May 18 05:29:21 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/mkmf.rb (xsystem): make a temporary fix to get $(...) macros
	  properly expanded on a command execution.

@


1.285.2.127
log
@* lib/thread.rb: rescue ThreadError in case the thread is dead
  just before calling Thread#run.
@
text
@a0 5
Fri May 18 05:42:28 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/thread.rb: rescue ThreadError in case the thread is dead
	  just before calling Thread#run.

@


1.285.2.128
log
@* ext/socket/extconf.rb: do not clobber $CFLAGS when setting
  -DSOCKS.
@
text
@a0 5
Sun May 20 00:28:43 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/socket/extconf.rb: do not clobber $CFLAGS when setting
	  -DSOCKS.

@


1.285.2.129
log
@* bignum.c (rb_big2str): t should be protected from GC.
@
text
@a0 4
Mon May 21 13:15:25 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big2str): t should be protected from GC.

@


1.285.2.130
log
@
	* lib/irb/multi-irb.rb
	  delete japanese messages.
@
text
@a0 4
Mon May 21 15:26:05 JST 2001  Keiju Ishitsuka <keiju@@ishitsuka.com>
	* lib/irb/multi-irb.rb
	  delete japanese messages.

@


1.285.2.131
log
@* variable.c (rb_alias_variable): should not allow variable
  aliasing if $SAFE >= 4.
@
text
@a0 5
Tue May 22 17:10:35 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* variable.c (rb_alias_variable): should not allow variable
	  aliasing if $SAFE >= 4.

d2 2
a3 2

	* lib/irb/multi-irb.rb: delete japanese messages.
@


1.285.2.132
log
@* eval.c (rb_yield_0): need argument adjustment for C defined
  blocks too.
@
text
@a0 5
Thu May 24 14:23:35 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_yield_0): need argument adjustment for C defined
	  blocks too.

@


1.285.2.133
log
@* mkconfig.rb: autoconf 2.50 support.
@
text
@a0 4
Thu May 24 16:08:21 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* mkconfig.rb: autoconf 2.50 support.

@


1.285.2.134
log
@* MANIFEST: update the entries I forgot to add or remove.
@
text
@a0 4
Fri May 25 01:36:52 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* MANIFEST: update the entries I forgot to add or remove.

@


1.285.2.135
log
@* MANIFEST: Re-adjust the entries to coincide with HEAD.
@
text
@a0 4
Fri May 25 01:55:32 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* MANIFEST: Re-adjust the entries to coincide with HEAD.

@


1.285.2.136
log
@* string.c (rb_str_replace): add taint status infection
  (OBJ_INFECT()).

* string.c (rb_str_crypt): ditto.

* string.c (rb_str_ljust): ditto.

* string.c (rb_str_rjust): ditto.

* string.c (rb_str_center): ditto.
@
text
@a0 13
Fri May 25 14:19:25 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* string.c (rb_str_replace): add taint status infection
	  (OBJ_INFECT()).

	* string.c (rb_str_crypt): ditto.

	* string.c (rb_str_ljust): ditto.

	* string.c (rb_str_rjust): ditto.

	* string.c (rb_str_center): ditto.

@


1.285.2.137
log
@* win32/dir.h: replace missing/dir.h .
* dir.c: ditto.
@
text
@a0 6
Sat May 26 00:15:57 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* win32/dir.h: replace missing/dir.h .

	* dir.c: ditto.

@


1.285.2.138
log
@* MANIFEST: add win32/dir.h .
@
text
@a0 4
Sat May 26 07:00:05 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* MANIFEST: add win32/dir.h .

@


1.285.2.139
log
@* win32/win32.c (opendir): add const directive.
@
text
@a0 4
Sat May 26 07:19:48 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* win32/win32.c (opendir): add const directive.

@


1.285.2.140
log
@* dir.c (rb_glob_helper): teach has_magic() to handle flags and
  get rb_glob_helper to properly support FNM_NOESCAPE.

* dir.c (fnmatch): fix a bug when FNM_PATHNAME and FNM_PERIOD are
  specified at the same time.
@
text
@a0 8
Mon May 28 02:43:16 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* dir.c (rb_glob_helper): teach has_magic() to handle flags and
	  get rb_glob_helper to properly support FNM_NOESCAPE.

	* dir.c (fnmatch): fix a bug when FNM_PATHNAME and FNM_PERIOD are
	  specified at the same time.

@


1.285.2.141
log
@* ext/extconf.rb.in: make the priority of the make rule of .c higher than .C .
@
text
@a0 5
Mon May 28 22:12:01 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/extconf.rb.in: make the priority of the make rule of .c
	  higher than .C .

@


1.285.2.142
log
@* configure.in: remove unnecessary AC_CANONICAL_BUILD
* defins.h: #define HAVE_SETITIMER on Cygwin(bug fixed).
* ruby.c: use relative path from LIBRUBY_SO.
* ruby.c: don't use -mwin32 option on Cygwin.
* cygwin/GNUmakefile.in: ditto.
* ext/sdbm/_sdbm: ditto.
* ext/tcltklib/extconf.rb: ditto.
* ext/tcltklib/stubs.c: ditto.
@
text
@a0 18
Mon May 28 23:20:43 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: remove unnecessary AC_CANONICAL_BUILD

	* defins.h: #define HAVE_SETITIMER on Cygwin(bug fixed).

	* ruby.c: use relative path from LIBRUBY_SO.

	* ruby.c: don't use -mwin32 option on Cygwin.

	* cygwin/GNUmakefile.in: ditto.

	* ext/sdbm/_sdbm: ditto.

	* ext/tcltklib/extconf.rb: ditto.

	* ext/tcltklib/stubs.c: ditto.

@


1.285.2.143
log
@* regex.c (re_compile_pattern): no back reference to a
  subexpression if inside of it.

* eval.c (rb_yield_0): preserve and restore ruby_cref as well.
@
text
@a142 5
Wed May 16 01:48:34 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* regex.c (re_compile_pattern): no back reference to a
	  subexpression if inside of it.

a192 4

Wed May  9 14:38:33 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (rb_yield_0): preserve and restore ruby_cref as well.
@


1.285.2.144
log
@* regex.c (re_compile_pattern): * \1 .. \9 should be
  backreferences always.

* regex.c (re_match): backreferences corresponding to
  unclosed/unmatched parentheses should fail always.
@
text
@a0 8
Tue May 29 18:46:04 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_compile_pattern): * \1 .. \9 should be
	  backreferences always.

	* regex.c (re_match): backreferences corresponding to
	  unclosed/unmatched parentheses should fail always.

d142 5
@


1.285.2.145
log
@* configure.in: default --with-libc_r to `no' until the problem is
  fixed. (FreeBSD only)
@
text
@a0 5
Thu May 31 01:28:54 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* configure.in: default --with-libc_r to `no' until the problem is
	  fixed. (FreeBSD only)

@


1.285.2.146
log
@* dln.c: #define S_ISDIR if not defined.
@
text
@a0 4
Thu May 31 08:31:22 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* dln.c: #define S_ISDIR if not defined.

@


1.285.2.147
log
@* mkconfig.rb, ext/configsub.rb: VERSION -> RUBY_VERSION.
@
text
@a0 4
Thu May 31 13:30:25 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* mkconfig.rb, ext/configsub.rb: VERSION -> RUBY_VERSION.

@


1.285.2.148
log
@* configure.in: use waitpid on mingw32.
@
text
@a0 4
Fri Jun  1 11:21:04 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: use waitpid on mingw32.

@


1.285.2.149
log
@* file.c (rb_file_s_unlink): should not allow if $SAFE >= 2.

* object.c (rb_obj_taint): backport from 1.7.

* object.c (rb_obj_untaint): add frozen status check (backport from 1.7).

* ruby.c (proc_options): unexpected SecurityError happens when -T4.
@
text
@a4 4
Thu May 31 18:34:57 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* file.c (rb_file_s_unlink): should not allow if $SAFE >= 2.

a16 10

Wed May 30 14:09:00 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* object.c (rb_obj_taint): backport from 1.7.

	* object.c (rb_obj_untaint): add frozen status check (backport from 1.7).

Tue May 29 17:24:23 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* ruby.c (proc_options): unexpected SecurityError happens when -T4.
@


1.285.2.150
log
@* hash.c (replace_i): ignore when key == Qundef.
@
text
@a0 4
Fri Jun  1 17:26:24 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* hash.c (replace_i): ignore when key == Qundef.

@


1.285.2.151
log
@
* irb messages: fix typos.
@
text
@a0 4
Sat Jun  2 00:02:22 2001  Keiju Ishitsuka <keiju@@ishitsuka.com>

	* irb messages: fix typos.

@


1.285.2.152
log
@* lib/cgi/session.rb: don't use module_function for Class.
@
text
@a0 4
Sat Jun  2 23:05:20 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* lib/cgi/session.rb: don't use module_function for Class.

@


1.285.2.153
log
@	* lib/shellwords.rb: don't destroy argument.
@
text
@a0 4
Mon Jun  4 04:14:53 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/shellwords.rb: don't destroy argument.

@


1.285.2.154
log
@* regex.c (re_compile_pattern): should push option modifier at the
  right place.
@
text
@a4 5
Sat Jun  2 23:23:05 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_compile_pattern): should push option modifier at the
	  right place.

@


1.285.2.155
log
@stable release 1.6.4
@
text
@a0 4
Mon Jun  4 17:57:56 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* stable version 1.6.4 released.

@


1.285.2.156
log
@* marshal.c (r_object): wrong type check for modules.

* marshal.c (w_object): should not dump anonymous classes/modules.
@
text
@a0 6
Tue Jun  5 12:44:59 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (r_object): wrong type check for modules.

	* marshal.c (w_object): should not dump anonymous classes/modules.

@


1.285.2.157
log
@* ext/etc/extconf.rb: use egrep_cpp.
@
text
@a0 4
Tue Jun  5 13:41:13 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/etc/extconf.rb: use egrep_cpp.

@


1.285.2.158
log
@* eval.c (rb_add_method): should not call rb_secure(), for
  last_func may not be set.

* io.c (rb_io_ctl): ioctl should accept any integer within C long
  range.
@
text
@a0 8
Tue Jun  5 15:16:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_add_method): should not call rb_secure(), for
	  last_func may not be set.

	* io.c (rb_io_ctl): ioctl should accept any integer within C long
	  range.

@


1.285.2.159
log
@* eval.c (rb_load): should check if tainted even when wrap is
  specified.

* regex.c (re_compile_pattern): too much optimization for the
  cases like /(.|a)b/.

* variable.c (fc_i): removed vast string allocation.
@
text
@a0 14
Wed Jun  6 16:11:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_load): should check if tainted even when wrap is
	  specified.

Wed Jun  6 14:34:27 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_compile_pattern): too much optimization for the
	  cases like /(.|a)b/.

Tue Jun  5 23:58:43 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (fc_i): removed vast string allocation.

@


1.285.2.160
log
@* confgure.in: add RUBY_CANONICAL_BUILD.
@
text
@a0 4
Mon Jun 11 14:29:41 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* confgure.in: add RUBY_CANONICAL_BUILD.

@


1.285.2.161
log
@* hash.c (ruby_setenv): readline library leaves their environment
  strings uncopied.  "free" check revised.

* st.c (numhash): should shuffle bits by dividing by prime number.
@
text
@a4 23
Sat Jun  9 17:04:30 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* hash.c (ruby_setenv): readline library leaves their environment
	  strings uncopied.  "free" check revised.

Fri Jun  8 18:14:12 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* st.c (numhash): should shuffle bits by dividing by prime number.

Fri Jun  8 22:37:40 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (Init_stack): avoid __builtin_frame_address(2) to retrieve
	  stack bottom line.

Fri Jun  8 18:14:12 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* st.c (numhash): should shuffle bits by dividing by prime number.

Fri Jun  8 15:25:09 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_f_require): should set SCOPE_PUBLIC before calling
	  dln_load().

@


1.285.2.162
log
@* lib/mkmf.rb: target_prefix is only for installation, not for
  build.
@
text
@a0 5
Tue Jun 12 14:24:02 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* lib/mkmf.rb: target_prefix is only for installation, not for
	  build.

@


1.285.2.163
log
@* eval.c (rb_f_require): searches ".rb" and ".so" at the same
  time.  previous behavior (search ".rb", then ".so") has a
  security risk (ruby-bugs#PR140).

* regex.c (re_compile_pattern): avoid pushing unnecessary
  option_set.

* eval.c (rb_load): tainted string is OK if wrapped *and*
  $SAFE >= 4.

* eval.c (rb_thread_start_0): should not nail down higher blocks
  before preserving original context (i.e. should not alter
  original context).
@
text
@a0 22
Mon Jun 18 17:38:50 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_f_require): searches ".rb" and ".so" at the same
	  time.  previous behavior (search ".rb", then ".so") has a
	  security risk (ruby-bugs#PR140).

Mon Jun 18 00:43:20 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_compile_pattern): avoid pushing unnecessary
	  option_set.

Sat Jun 16 10:58:48 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_load): tainted string is OK if wrapped *and*
	  $SAFE >= 4.

Thu Jun 14 16:27:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_start_0): should not nail down higher blocks
	  before preserving original context (i.e. should not alter
	  original context).

@


1.285.2.164
log
@* gc.c (rb_setjmp): avoid GCC 3.0 warnings.
@
text
@a0 4
Tue Jun 19 22:24:07 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* gc.c (rb_setjmp): avoid GCC 3.0 warnings.

@


1.285.2.165
log
@* st.c (new_size): prime hash size enabled.

* ext/socket/socket.c (Init_socket): SO_* constants added.
@
text
@a0 6
Fri Jun 22 17:12:23 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* st.c (new_size): prime hash size enabled.

	* ext/socket/socket.c (Init_socket): SO_* constants added.

@


1.285.2.166
log
@
* lib/irb/locale.rb: fix for require "kconv" problem
@
text
@a0 4
Fri Jun 22 22:54:33 2001  Keiju Ishitsuka <keiju@@ishitsuka.com>

	* lib/irb/locale.rb: fix for require "kconv" problem
	
@


1.285.2.167
log
@* ext/socket/socket.c (ruby_connect): workaround for the setup of
  Cygwin socket.
@
text
@a0 5
Fri Jun 22 23:17:28 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/socket/socket.c (ruby_connect): workaround for the setup of
	  Cygwin socket.

@


1.285.2.168
log
@* lib/thread.rb: Synchronize with HEAD.  The last change
  (rev.1.9.2.2) against SizedQueue#max= was wrong and didn't fix
  the bug in question.
@
text
@a0 6
Sat Jun 23 19:25:08 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/thread.rb: Synchronize with HEAD.  The last change
	  (rev.1.9.2.2) against SizedQueue#max= was wrong and didn't fix
	  the bug in question.

@


1.285.2.169
log
@aamine
* lib/net/pop.rb: new methods POP3.auth_only, POP3#auth_only
* lib/net/http.rb: HTTP.Proxy returns self if ADDRESS is nil.
* lib/net/protocol.rb: new method ProtocolError#response
* lib/net/protocol.rb,smtp.rb,pop.rb,http.rb: add document.
@
text
@a0 9
Wed Jun 27 08:53:04 2001  Minero Aoki  <#e(:global).g(:email)>\n
	* lib/net/pop.rb: new methods POP3.auth_only, POP3#auth_only

	* lib/net/http.rb: HTTP.Proxy returns self if ADDRESS is nil.

	* lib/net/protocol.rb: new method ProtocolError#response

	* lib/net/protocol.rb,smtp.rb,pop.rb,http.rb: add document.

@


1.285.2.170
log
@sorry, check in miss.
@
text
@d1 1
a1 2
Wed Jun 27 08:53:04 2001  Minero Aoki  <aamine@@loveruby.net>

@


1.285.2.171
log
@
* lib/matrix.rb: resolve 'ruby -w' warnings.
* lib/irb/locale.rb: resolve 'ruby -w' warnings.
* lib/irb/multi-irb.rb: resolve 'ruby -w' warnings.
* lib/irb/ruby-lex.rb: fix problem for "\\M-\\..." and "\\C-\\..."
  and resolve 'ruby -w' warnings.
* lib/irb/ruby-token.rb: fix typo
* lib/shell/command-processor.rb: resolve 'ruby -w' warnings.
@
text
@a0 15
Thu Jun 28 00:36:19 2001 Keiju Ishitsuka <keiju@@ishitsuka.com>
	
	* lib/matrix.rb: resolve 'ruby -w' warnings.

	* lib/irb/locale.rb: resolve 'ruby -w' warnings.

	* lib/irb/multi-irb.rb: resolve 'ruby -w' warnings.

	* lib/irb/ruby-lex.rb: fix problem for "\\M-\\..." and "\\C-\\..."
	  and resolve 'ruby -w' warnings.  

	* lib/irb/ruby-token.rb: fix typo

	* lib/shell/command-processor.rb: resolve 'ruby -w' warnings.
	
@


1.285.2.172
log
@* lex.c (rb_reserved_word): lex_state after tRESCUE should be
  EXPR_MID.

* gc.c (add_heap): allocation size of the heap unit is doubled for
  each allocation.
@
text
@a0 5
Fri Jun 29 15:29:31 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* lex.c (rb_reserved_word): lex_state after tRESCUE should be
	  EXPR_MID.

a24 5

Tue Jun 26 18:42:42 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* gc.c (add_heap): allocation size of the heap unit is doubled for
	  each allocation.
@


1.285.2.173
log
@* eval.c (rb_eval_string_wrap): extend new ruby_top_self, not
  original self.

* eval.c (rb_eval_cmd): respect ruby_wrapper if set.

* eval.c (eval): do not update ruby_class unless scope is not
  provided.

* eval.c (eval): preserve wrapper information.

* eval.c (proc_invoke): ditto.

* eval.c (block_pass): ditto.

* parse.y (void_expr): too much warnings for void context
  (e.g. foo[1] that can be mere Proc call).
@
text
@a0 23
Mon Jul  2 09:53:12 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval_string_wrap): extend new ruby_top_self, not
	  original self.

	* eval.c (rb_eval_cmd): respect ruby_wrapper if set.

	* eval.c (eval): do not update ruby_class unless scope is not
	  provided.

Sun Jul  1 10:51:15 2001  Shugo Maeda <shugo@@ruby-lang.org>

	* eval.c (eval): preserve wrapper information.

	* eval.c (proc_invoke): ditto.

	* eval.c (block_pass): ditto.

Sat Jun 30 02:55:45 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (void_expr): too much warnings for void context
	  (e.g. foo[1] that can be mere Proc call).

@


1.285.2.174
log
@* lib/mkmf.rb: distclean should remove mkmf.log as well.
@
text
@a0 4
Wed Jul  4 00:01:36 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/mkmf.rb: distclean should remove mkmf.log as well.

@


1.285.2.175
log
@* lib/mathn.rb: merge from 1.7: add Rational#inspect().
@
text
@a0 4
Wed Jul  4 00:09:16 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/mathn.rb: merge from 1.7: add Rational#inspect().

@


1.285.2.176
log
@* lib/find.rb: merge from 1.7: rescue Errno::EACCES as well.
@
text
@a0 4
Wed Jul  4 00:12:37 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/find.rb: merge from 1.7: rescue Errno::EACCES as well.

@


1.285.2.177
log
@* ext/readline/readline.c (readline_event): merge from 1.7: a
  non-void function should return a value.

* ext/readline/readline.c: merge from 1.7: add new methods:
  Readline::completion_append_character and
  Readline::completion_append_character=.

* ext/readline/README, ext/readline/README.jp: merge from 1.7: add
  an English version of the document.
@
text
@a0 12
Fri Jul  6 00:49:05 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/readline/readline.c (readline_event): merge from 1.7: a
	  non-void function should return a value.

	* ext/readline/readline.c: merge from 1.7: add new methods:
	  Readline::completion_append_character and
	  Readline::completion_append_character=.

	* ext/readline/README, ext/readline/README.jp: merge from 1.7: add
	  an English version of the document.

@


1.285.2.178
log
@* lib/tempfile.rb: merge from 1.7: do not delete a used tempfile
  from children processes.

* lib/tempfile.rb: merge from 1.7: do not change the umask so as
  not to affect other threads' file creation.  specify a file mode
  (0600) when creating a tempfile instead.
@
text
@a0 9
Fri Jul  6 15:11:38 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/tempfile.rb: merge from 1.7: do not delete a used tempfile
	  from children processes.

	* lib/tempfile.rb: merge from 1.7: do not change the umask so as
	  not to affect other threads' file creation.  specify a file mode
	  (0600) when creating a tempfile instead.

@


1.285.2.179
log
@* eval.c (rb_f_require): move rb_file_s_expand_path from
  rb_find_file_noext().

* file.c (rb_find_file_noext): move rb_file_s_expand_path to
  rb_f_require().

* string.c (rb_str_each_line): should propagate taint mark.

* ext/nkf/nkf.c (rb_nkf_kconv): ditto.

* ruby.c (load_file): local variables 'c' remain uninitialized on
  xflag.

* regex.c (re_match): prefetched escaped character too early.

* eval.c (rb_call0): add argument check for attr_readers.
@
text
@a21 27
Thu Jul  5 22:53:27 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_f_require): move rb_file_s_expand_path from
	  rb_find_file_noext().

	* file.c (rb_find_file_noext): move rb_file_s_expand_path to
	  rb_f_require(). 

Thu Jul  5 20:28:53 2001  Tietew <tietew@@tietew.net>

	* string.c (rb_str_each_line): should propagate taint mark. 

	* ext/nkf/nkf.c (rb_nkf_kconv): ditto.

Thu Jul  5 13:44:03 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.c (load_file): local variables 'c' remain uninitialized on
	  xflag.

Thu Jul  5 10:00:59 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_match): prefetched escaped character too early.

Wed Jul  4 08:58:30 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_call0): add argument check for attr_readers.

@


1.285.2.180
log
@aamine
* lib/net/protocol.rb (ProtoSocket#read): modify typo.
@
text
@a0 4
Sun Jul  8 16:05:36 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/protocol.rb (ProtoSocket#read): modify typo.

@


1.285.2.181
log
@* ruby.h: fix a wrong function name: rb_iglob() -> rb_globi().
@
text
@a0 4
Sun Jul  8 20:54:19 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ruby.h: fix a wrong function name: rb_iglob() -> rb_globi().

@


1.285.2.182
log
@* ext/extmk.rb.in: modify RM macro.
@
text
@a0 4
Mon Jul  9 16:49:30 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb.in: modify RM macro.

@


1.285.2.183
log
@* lib/mkmf.rb: modify RM macro.
@
text
@a3 2
	
	* lib/mkmf.rb: ditto.
@


1.285.2.184
log
@* ext/socket/socket.c (ruby_connect): workaround for the setup of
  Cygwin socket(EALREADY).
@
text
@a0 5
Thu Jul 12 15:11:48 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/socket/socket.c (ruby_connect): workaround for the setup of
	  Cygwin socket(EALREADY).

@


1.285.2.185
log
@* eval.c: wrapper modifies updated to 1.7 changes.

* object.c (rb_obj_dup): should free generic_ivar if original owns
  them.
@
text
@a19 5
Fri Jul  6 18:01:10 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_obj_dup): should free generic_ivar if original owns
	  them.

a47 4

Thu Jul  5 22:01:02 2001  Mitsuhiro Kondo  <kondo@@nik-prt.co.jp>

	* dln.c (dln_load): should use NSLINKMODULE_OPTION_BINDNOW.
@


1.285.2.186
log
@* missing/strstr.c, missing/strtol.c: Merge from 1.7: replace with
  public-domain ones.
@
text
@a0 5
Fri Jul 13 19:25:16 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* missing/strstr.c, missing/strtol.c: Merge from 1.7: replace with
	  public-domain ones.

@


1.285.2.187
log
@* lib/mkmf.rb: use File::split to split a target into a prefix and
  a module name.  This also works around a just found bug of
  String#rindex.

* ext/extmk.rb.in: ditto.
@
text
@a0 8
Fri Jul 13 23:18:19 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/mkmf.rb: use File::split to split a target into a prefix and
	  a module name.  This also works around a just found bug of
	  String#rindex.

	* ext/extmk.rb.in: ditto.

@


1.285.2.188
log
@* ext/extmk.rb.in: support multi-level ext/ directories.
  (e.g. you can have ext/foo, ext/foo/bar and ext/foo/baz)

* ext/.cvsignore: let cvs ignore extinit.c.
@
text
@a0 9
Sat Jul 14 02:56:19 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in: support multi-level ext/ directories.
	  (e.g. you can have ext/foo, ext/foo/bar and ext/foo/baz)

Sat Jul 14 02:55:02 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/.cvsignore: let cvs ignore extinit.c.

@


1.285.2.189
log
@aamine
* lib/net/http.rb: HTTP#proxy? did not worked.
@
text
@a0 4
Sat Jul 14 06:25:00 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/http.rb: HTTP#proxy? did not worked.

@


1.285.2.190
log
@* eval.c (proc_invoke): should preserve iter status for embedded
  frame in the block.

* file.c (rb_file_s_expand_path): may overrun buffer on stack.

* regex.c (re_search): should consider reverse search.
@
text
@a0 9
Mon Jul 16 12:58:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (proc_invoke): should preserve iter status for embedded
	  frame in the block.

Mon Jul 16 00:04:39 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_file_s_expand_path): may overrun buffer on stack.

a12 4

Fri Jul 13 23:47:35 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_search): should consider reverse search.
@


1.285.2.191
log
@* ext/extmk.rb.in: modify RM macro because command.com/cmd.exe don't
  recognize single quotation as quote character.

* lib/mkmf.rb: ditto.
@
text
@a0 7
Tue Jul 17 11:18:42 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* ext/extmk.rb.in: modify RM macro because command.com/cmd.exe don't
	  recognize single quotation as quote character.

	* lib/mkmf.rb: ditto.

@


1.285.2.192
log
@modify checkin miss.
@
text
@d17 1
a17 1
Sat Jul 14 06:25:00 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>
@


1.285.2.193
log
@* regex.c (NUM_FAILURE_ITEMS): was confusing NUM_REG_ITEMS and
  NUM_NONREG_ITEMS, which have happened to be same value.
@
text
@a0 5
Tue Jul 17 11:22:01 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (NUM_FAILURE_ITEMS): was confusing NUM_REG_ITEMS and
	  NUM_NONREG_ITEMS, which have happened to be same value.

@


1.285.2.194
log
@new files added: doc/net/http.rd.ja pop.rd.ja smtp.rd.ja
@
text
@a0 4
Sun Jul 19 06:01:12 2001  Minero Aoki  <aamine@@loveruby.net>

	* doc/net/smtp.rd.ja, pop.rd.ja, http.rd.ja: new files.

@


1.285.2.195
log
@

* lib/irb/input-method: patch to irb to remove blank lines from
  the readline history buffer.
@
text
@a0 5
Thu Jul 19 19:16:50 2001 Stephen White <spwhite@@chariot.net.au>

	* lib/irb/input-method.rb: patch to irb to remove blank lines from
	  the readline history buffer.
	
@


1.285.2.196
log
@* win32/config.h.in: merge from 1.7: add SIZEOF___INT64 definition.
* win32/config.status.in: merge from 1.7: add ENABLE_SHARED = yes.
@
text
@a0 6
Fri Jul 20 22:35:23 2001  Usaku Nakamura  <usa@@osb.att.ne.jp>

	* win32/config.h.in: merge from 1.7: add SIZEOF___INT64 definition.

	* win32/config.status.in: merge from 1.7: add ENABLE_SHARED = yes.

@


1.285.2.197
log
@* gc.c (ruby_xrealloc): fix a dangling bug which led memory
  reallocation to fail even though the second try after a GC
  succeeds.
@
text
@a0 6
Sat Jul 21 00:19:54 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* gc.c (ruby_xrealloc): fix a dangling bug which led memory
	  reallocation to fail even though the second try after a GC
	  succeeds.

@


1.285.2.198
log
@* ext/extmk.rb.in, lib/mkmf.rb: introduce a couple of new make
  variables: CLEANFILES and DISTCLEANFILES.  They'd typically be
  defined in a file "depend".
@
text
@a0 6
Sun Jul 22 21:23:00 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in, lib/mkmf.rb: introduce a couple of new make
	  variables: CLEANFILES and DISTCLEANFILES.  They'd typically be
	  defined in a file "depend".

@


1.285.2.199
log
@* eval.c (rb_provide_feature): should not tweak extension used for
  loading.

* eval.c (rb_f_require): should not include path in $" value

* file.c (rb_find_file): should return 0 explicitly on failure.
@
text
@a0 5
Mon Jul 23 00:26:04 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_provide_feature): should not tweak extension used for
	  loading.

a23 6
Thu Jul 19 13:03:15 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_f_require): should not include path in $" value

	* file.c (rb_find_file): should return 0 explicitly on failure.

@


1.285.2.200
log
@* ext/extmk.rb.in, lib/mkmf.rb: dig the target subdirectory for
  lib/* files properly in case of create_makefile("dir/name").
@
text
@a0 5
Tue Jul 24 19:28:23 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in, lib/mkmf.rb: dig the target subdirectory for
	  lib/* files properly in case of create_makefile("dir/name").

@


1.285.2.201
log
@* file.c (rb_find_file_noext, rb_find_file): fix tilde expansion
  problem.
@
text
@a0 5
Thu Jul 26 11:27:12 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* file.c (rb_find_file_noext, rb_find_file): fix tilde expansion
	  problem.

@


1.285.2.202
log
@* eval.c (rb_eval): add CHECK_INTS before next, redo, retry to
  avoid potential uninterruptable infinite loop.

* file.c (rb_file_s_expand_path): should not expand "." and ".."
  not following dirsep.

* eval.c (rb_provide_feature): should not tweak extension used for
  loading.
@
text
@a0 5
Fri Jul 27 16:25:52 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): add CHECK_INTS before next, redo, retry to
	  avoid potential uninterruptable infinite loop.

a4 11

Wed Jul 25 15:50:05 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* file.c (rb_file_s_expand_path): should not expand "." and ".."
	  not following dirsep.

Wed Jul 25 12:15:32 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* file.c (rb_find_file_noext): should update f by expanded path.

	* file.c (rb_find_file): ditto.
@


1.285.2.203
log
@* eval.c (rb_provided): extension should be guessed using
  rb_find_file_noext().

* eval.c (rb_f_require): should call rb_feature_p() after
  extension completion.
@
text
@a0 8
Fri Jul 27 18:07:27 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_provided): extension should be guessed using
	  rb_find_file_noext().

	* eval.c (rb_f_require): should call rb_feature_p() after
	  extension completion.

@


1.285.2.204
log
@* file.c (rb_file_s_expand_path): expanded path should not end
  with "/.".
  removed meaningless code.
@
text
@a0 6
Tue Jul 31 12:55:35 2001  Nobuyoshi.Nakada <nobu.nokada@@softhome.net>  <nobu.nakada@@nifty.ne.jp>

	* file.c (rb_file_s_expand_path): expanded path should not end
	  with "/.".
	  removed meaningless code.

@


1.285.2.205
log
@* marshal.c (marshal_load): ruby_verbose test should be wrapped by
  RTEST().

* hash.c (rb_hash_index): should return nil (not the default
  value) if value is not in the hash.

* bignum.c (rb_cstr2inum): "0 ff".hex should return 0, not 255.
@
text
@a6 14
Tue Jul 31 11:52:10 2001  akira yamada  <akira@@ruby-lang.org>

	* marshal.c (marshal_load): ruby_verbose test should be wrapped by
	  RTEST().

Mon Jul 30 17:54:23 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_hash_index): should return nil (not the default
	  value) if value is not in the hash.

Mon Jul 30 03:19:53 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_cstr2inum): "0 ff".hex should return 0, not 255.

@


1.285.2.206
log
@* win32/Makefile.sub: changed path separator of $LIB to '\'.
@
text
@a0 4
Wed Aug  1 20:45:14 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* win32/Makefile.sub: changed path separator of $LIB to '\'.

@


1.285.2.207
log
@* struct.c (rb_struct_modify): should check frozen and taint
  status.

* eval.c (rb_undefined): do not recurse if method_missing is
  undefined.
@
text
@a0 10
Mon Aug  6 00:35:03 2001  Guy Decoux  <decoux@@moulon.inra.fr>

	* struct.c (rb_struct_modify): should check frozen and taint
	  status.

Sun Aug  5 07:46:18 2001  Nobuyoshi Nakada <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_undefined): do not recurse if method_missing is
	  undefined.

@


1.285.2.208
log
@* eval.c (rb_mark_end_proc): should mark ruby_cref, maybe should
  not be here, but it's simplest way for a kludge.
@
text
@a0 5
Mon Aug  6 17:01:33 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_mark_end_proc): should mark ruby_cref, maybe should
	  not be here, but it's simplest way for a kludge.

@


1.285.2.209
log
@* win32/win32.h: fix problems with BC++ (ruby-bugs#PR161).
@
text
@a0 4
Tue Aug  7 09:12:55 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* win32/win32.h: fix problems with BC++ (ruby-bugs#PR161).

@


1.285.2.210
log
@* object.c (rb_obj_inspect): merge from 1.7: remove useless space.
@
text
@a0 4
Sat Aug 11 23:08:01 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* object.c (rb_obj_inspect): merge from 1.7: remove useless space.

@


1.285.2.211
log
@* string.c (rb_str_cmp): remove needless conditional.

* array.c (rb_inspecting_p): initialize inspect_key if it is
  not initialized yet.
@
text
@a0 4
Tue Aug 14 11:49:00 2001  TOYOFUKU Chikanobu  <toyofuku@@juice.or.jp>

	* string.c (rb_str_cmp): remove needless conditional.

a3 5

Sat Aug 11 14:43:47 2001  Tanaka Akira  <akr@@m17n.org>

	* array.c (rb_inspecting_p): initialize inspect_key if it is
	  not initialized yet.
@


1.285.2.212
log
@* lib/mkmf.rb: add -I$(srcdir) to CPPFLAGS.
@
text
@a0 4
Thu Aug 16 03:54:36 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* lib/mkmf.rb: add -I$(srcdir) to CPPFLAGS.

@


1.285.2.213
log
@* LEGAL, ext/Setup*, ext/digest/*: Merge from 1.7: Import digest
  modules.

* ext/md5/*: Move to ext/digest/md5.
@
text
@a0 7
Thu Aug 16 16:32:21 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* LEGAL, ext/Setup*, ext/digest/*: Merge from 1.7: Import digest
	  modules.

	* ext/md5/*: Move to ext/digest/md5.

@


1.285.2.214
log
@* lib/resolv.rb, lib/resolv-replace.rb: Copy from 1.7.
@
text
@a0 4
Thu Aug 16 19:53:19 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/resolv.rb, lib/resolv-replace.rb: Copy from 1.7.

@


1.285.2.215
log
@* win32/Makefile.sub: merge from 1.7: use del instead of rm.
@
text
@a0 4
Wed Aug 17 13:55:33 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* win32/Makefile.sub: merge from 1.7: use del instead of rm.

@


1.285.2.216
log
@* parse.y (parse_regx): handle backslash escaping of delimiter here.
@
text
@a4 4
Fri Aug 17 00:49:51 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (parse_regx): handle backslash escaping of delimiter here.

@


1.285.2.217
log
@* ext/digest/sha2/extconf.rb: fix support for cross-compiling.
* mkconfig.rb: fix support for autoconf 2.52.
@
text
@a0 6
Mon Aug 20 19:53:16 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/digest/sha2/extconf.rb: fix support for cross-compiling.

	* mkconfig.rb: fix support for autoconf 2.52.

@


1.285.2.218
log
@* eval.c (is_defined): should not dump core for "defined?(())".

* eval.c (umethod_bind): recv can be an instance of descender of
  oklass if oklass is a Module.

* hash.c (rb_hash_equal): check identiry equality first.

* variable.c (mod_av_set): detect constant overriding for built-in
  classes/modules.

* marshal.c (w_object): should retrieve __member__ data from
  non-singleton class.
@
text
@a0 11
Thu Aug 23 10:10:59 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (is_defined): should not dump core for "defined?(())".

	* eval.c (umethod_bind): recv can be an instance of descender of
	  oklass if oklass is a Module.

Wed Aug 22 23:20:03 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_hash_equal): check identiry equality first.

a5 10

Mon Aug 20 16:09:05 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (mod_av_set): detect constant overriding for built-in
	  classes/modules.

Mon Aug 20 12:43:08 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_object): should retrieve __member__ data from
	  non-singleton class.
@


1.285.2.219
log
@* dln.c (dln_strerror): fix a bug that sometimes made null message on
  win32 (Tietew <tietew@@tietew.net>'s patch).

* win32/win32.c (mystrerror): ditto.
@
text
@a0 7
Fri Aug 24 14:45:26 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* dln.c (dln_strerror): fix a bug that sometimes made null message on
	  win32 (Tietew <tietew@@tietew.net>'s patch).

	* win32/win32.c (mystrerror): ditto.

@


1.285.2.220
log
@* array.c (rb_ary_equal): check identiry equality first.

* string.c (rb_str_equal): ditto.

* struct.c (rb_struct_equal): ditto.

* numeric.c (Init_Numeric): undef Integer::new.
@
text
@a0 8
Fri Aug 24 15:17:40 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_equal): check identiry equality first.

	* string.c (rb_str_equal): ditto.

	* struct.c (rb_struct_equal): ditto.

a6 4

Fri Aug 24 03:15:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (Init_Numeric): undef Integer::new.
@


1.285.2.221
log
@* dir.c (rb_glob_helper): merge from 1.7: traversed files twice
  with pattern "*/**".  don't descend to non-existing directories.
@
text
@a0 5
Mon Aug 27 07:32:23 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* dir.c (rb_glob_helper): merge from 1.7: traversed files twice
	  with pattern "*/**".  don't descend to non-existing directories.

@


1.285.2.222
log
@* ruby.c (set_arg0): prevent SEGV when val is longer than the
  original arguments.

* ruby.c (ruby_process_options): initialize total length of
  original arguments at first.
@
text
@a0 8
Sat Sep  1 09:50:54 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ruby.c (set_arg0): prevent SEGV when val is longer than the
	  original arguments.

	* ruby.c (ruby_process_options): initialize total length of
	  original arguments at first.

@


1.285.2.223
log
@* error.c: unbreak the build on *BSD with gcc 3.0.1 by removing
  the conflicting declaration of sys_nerr for *BSD.
@
text
@a0 5
Mon Sep  3 14:17:17 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* error.c: unbreak the build on *BSD with gcc 3.0.1 by removing
	  the conflicting declaration of sys_nerr for *BSD.

@


1.285.2.224
log
@* io.c (rb_io_popen): accept integer flags as mode.

* file.c (rb_find_file_ext): extension table can be supplied from
  outside.  renamed.

* eval.c (rb_f_require): replace rb_find_file_noext by
  rb_find_file_ext.

* eval.c (rb_provided): should also check feature without
  extension.

* numeric.c (flo_to_s): do not rely on decimal point to be '.'

* parse.y (yylex): ternary ? can be followed by newline.
@
text
@a13 25
Sat Sep  1 03:49:11 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (rb_io_popen): accept integer flags as mode.

Fri Aug 31 19:46:05 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c (rb_find_file_ext): extension table can be supplied from
	  outside.  renamed.

	* eval.c (rb_f_require): replace rb_find_file_noext by
	  rb_find_file_ext.

Fri Aug 31 19:26:55 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_provided): should also check feature without
	  extension.

Fri Aug 31 13:06:33 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (flo_to_s): do not rely on decimal point to be '.'

Wed Aug 29 02:18:53 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): ternary ? can be followed by newline.

@


1.285.2.225
log
@* eval.c (rb_f_require): should check static linked libraries\
  before raising exception(from 1.7).
@
text
@a0 5
Mon Sep  3 14:38:24 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* eval.c (rb_f_require): should check static linked libraries
	  before raising exception(from 1.7).

@


1.285.2.226
log
@* intern.h (rb_find_file_ext): changed from rb_find_file_noext().
@
text
@a0 4
Mon Sep  3 20:26:08 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* intern.h (rb_find_file_ext): changed from rb_find_file_noext().

@


1.285.2.227
log
@* ruby.c (proc_options): should not adjust argc/argv if -e option
  is supplied.
@
text
@a4 5
Mon Sep  3 15:12:49 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.c (proc_options): should not adjust argc/argv if -e option
	  is supplied.

a105 6

Thu Aug 16 23:03:40 2001  Koji Arai  <JCA02266@@nifty.ne.jp>

       * io.c: prevent recursive malloc calls on NEC UX/4800.

       * ext/socket/socket.c: ditto.
@


1.285.2.228
log
@* lib/jcode.rb (_regexp_quote): fix quote handling.
@
text
@a0 4
Wed Sep  5 17:41:11 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/jcode.rb (_regexp_quote): fix quote handling.

@


1.285.2.229
log
@* file.c (rb_find_file_ext): add const qualifiers to ext.

* intern.h (rb_find_file_ext): ditto.
@
text
@a0 6
Thu Sep  6 12:02:49 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c (rb_find_file_ext): add const qualifiers to ext.

	* intern.h (rb_find_file_ext): ditto.

@


1.285.2.230
log
@* lib/jcode.rb (_regexp_quote): fix quote handling, again.
@
text
@a0 4
Thu Sep  6 13:28:51 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/jcode.rb (_regexp_quote): fix quote handling, again.

@


1.285.2.231
log
@* ext/digest/digest.c (rb_digest_base_s_digest,
  rb_digest_base_s_hexdigest): ensure that a string is given.
@
text
@a0 5
Thu Sep  6 14:00:49 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/digest.c (rb_digest_base_s_digest,
	  rb_digest_base_s_hexdigest): ensure that a string is given.

@


1.285.2.232
log
@* ext/digest/digest.c (rb_digest_base_s_hexdigest): remove a debug
  print.
@
text
@a0 5
Thu Sep  6 14:27:54 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/digest.c (rb_digest_base_s_hexdigest): remove a debug
	  print.

@


1.285.2.233
log
@* class.c (rb_include_module): should check whole ancestors to
  avoid duplicate module inclusion.

* string.c (trnext): should check backslash before updating "now"
  position.
@
text
@a0 5
Thu Sep  6 03:15:24 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_include_module): should check whole ancestors to
	  avoid duplicate module inclusion.

a23 5

Wed Sep  5 20:02:27 2001  Shin'ya Adzumi  <adzumi@@denpa.org>

	* string.c (trnext): should check backslash before updating "now"
	  position.
@


1.285.2.234
log
@* dir.c (dir_s_chdir): raise if environment variable HOME/LOGDIR
  not set.

* dir.c (glob_helper): avoid infinite loop on a file name with
  wildcard characters. (ruby-bugs#PR177)
@
text
@a0 8
Thu Sep  6 17:38:18 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* dir.c (dir_s_chdir): raise if environment variable HOME/LOGDIR
	  not set.

	* dir.c (glob_helper): avoid infinite loop on a file name with
	  wildcard characters. (ruby-bugs#PR177)

@


1.285.2.235
log
@	* lib/cgi.rb: CGI#doctype(): bug fix (html4Fr).

	* lib/net/telnet.rb, lib/cgi.rb: remove VERSION, RELEASE_DATE,
	  VERSION_CODE, RELEASE_CODE. please use REVISION.

	* lib/cgi.rb: CGI#header(): bug fix.

	* lib/net/telnet.rb, lib/cgi.rb: concat --> +=
@
text
@a0 11
Fri Sep  7 07:11:34 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: CGI#doctype(): bug fix (html4Fr).

	* lib/net/telnet.rb, lib/cgi.rb: remove VERSION, RELEASE_DATE,
	  VERSION_CODE, RELEASE_CODE. please use REVISION.

	* lib/cgi.rb: CGI#header(): bug fix.

	* lib/net/telnet.rb, lib/cgi.rb: concat --> +=

@


1.285.2.236
log
@        * lib/net/telnet.rb: waitfor(): bug fix.
@
text
@a0 4
Fri Sep  7 09:44:44 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/net/telnet.rb: waitfor(): bug fix.

@


1.285.2.237
log
@	* lib/net/telnet.rb: waitfor(): improvement. thanks to
	  nobu.nakada@@nifty.ne.jp
@
text
@a0 5
Sat Sep  8 07:13:42 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/net/telnet.rb: waitfor(): improvement. thanks to
	  nobu.nakada@@nifty.ne.jp

@


1.285.2.238
log
@* eval.c (rb_thread_restore_context): save current value of
  lastline and lastmatch in the thread struct for later restore.

* eval.c (rb_thread_save_context): restore lastline and lastmatch.

* numeric.c (flo_to_s): should handle negative float value.
@
text
@a5 11
Sat Sep  8 04:34:17 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_restore_context): save current value of
	  lastline and lastmatch in the thread struct for later restore.

	* eval.c (rb_thread_save_context): restore lastline and lastmatch.

Fri Sep  7 11:27:56 2001  akira yamada  <akira@@ruby-lang.org>

	* numeric.c (flo_to_s): should handle negative float value.

@


1.285.2.239
log
@010919
@
text
@a0 4
Wed Sep 19 17:46:42 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* stable version 1.6.5 released.

@


1.285.2.240
log
@* win32/win32.c (isInternalCmd): check return value of NtMakeCmdVector (Tietew <tietew@@tietew.net>'s patch).
@
text
@a0 5
Tue Sep 25 10:42:46 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* win32/win32.c (isInternalCmd): check return value of NtMakeCmdVector
	  (Tietew <tietew@@tietew.net>'s patch).

@


1.285.2.241
log
@Thu Sep 27 09:04:44 2001  Guy Decoux  <ts@@moulon.inra.fr>

	* parse.y: allow 'primary[] += arg'
@
text
@a0 4
Thu Sep 27 09:04:44 2001  Guy Decoux  <ts@@moulon.inra.fr>

	* parse.y: allow 'primary[] += arg'

@


1.285.2.242
log
@* ext/socket/socket.c (unix_addr): getsockname(2) may result len = 0.

* ext/socket/socket.c (unix_peeraddr): getpeername(2) may result
  len = 0.

* eval.c (POP_BLOCK): rb_gc_force_recycle() was called too much.
  Should not be called if SCOPE_DONT_RECYCLE is set.

* string.c (rb_str_substr): should return an instance of
  receiver's class.

* string.c (rb_str_succ): ditto.

* array.c (rb_ary_subseq): ditto.

* string.c (rb_str_reverse): should return an instance of
  reciever's class.

* string.c (rb_str_times): ditto.

* array.c (rb_ary_times): ditto

* string.c (str_gsub): ditto.

* string.c (rb_str_ljust): ditto.

* string.c (rb_str_rjust): ditto.

* string.c (rb_str_center): ditto.
@
text
@a0 12
Mon Oct  1 19:18:54 2001  Tanaka Akira  <akr@@m17n.org>

	* ext/socket/socket.c (unix_addr): getsockname(2) may result len = 0. 

	* ext/socket/socket.c (unix_peeraddr): getpeername(2) may result
	  len = 0.

Sat Sep 29 02:30:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (POP_BLOCK): rb_gc_force_recycle() was called too much.
	  Should not be called if SCOPE_DONT_RECYCLE is set.

a8 26

Mon Sep 24 00:55:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_substr): should return an instance of
	  receiver's class.

	* string.c (rb_str_succ): ditto.

	* array.c (rb_ary_subseq): ditto.

Sat Sep 22 22:16:08 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_reverse): should return an instance of
	  reciever's class.

	* string.c (rb_str_times): ditto.

	* array.c (rb_ary_times): ditto

	* string.c (str_gsub): ditto.

	* string.c (rb_str_ljust): ditto.

	* string.c (rb_str_rjust): ditto.

	* string.c (rb_str_center): ditto.
@


1.285.2.243
log
@* eval.c (rb_eval): should override existing class.
@
text
@a0 4
Tue Oct  2 18:31:20 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): should override existing class.

@


1.285.2.244
log
@* lib/ftools.rb (catname): allow trailing '/' for the destination.
@
text
@a0 4
Tue Oct  2 19:12:47 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/ftools.rb (catname): allow trailing '/' for the destination.

@


1.285.2.245
log
@* ext/socket/socket.c (ruby_connect): EALREADY is the equivalent
  for EINPROGRESS in ws2_32.lib.
@
text
@a0 5
Thu Oct  4 14:11:03 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/socket/socket.c (ruby_connect): EALREADY is the equivalent
	  for EINPROGRESS in ws2_32.lib.

@


1.285.2.246
log
@* string.c (rb_str_aset): should maintain original negative
  offset.

* string.c (rb_str_aset_m): ditto.

* re.c (rb_reg_nth_match): should check negative nth.

* re.c (rb_reg_nth_defined): ditto.
@
text
@a5 11
Wed Oct  3 13:32:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_aset): should maintain original negative
	  offset.

	* string.c (rb_str_aset_m): ditto.

	* re.c (rb_reg_nth_match): should check negative nth.

	* re.c (rb_reg_nth_defined): ditto.

@


1.285.2.247
log
@* eval.c (thread_status_name): separated from
  rb_thread_inspect(). return string expression for thread status.

* eval.c (rb_thread_status, rb_thread_inspect): use
  thread_status_name().

* eval.c (rb_thread_priority_set): return the priority not but
  self.
@
text
@a0 11
Tue Oct  9 17:08:00 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (thread_status_name): separated from
	  rb_thread_inspect(). return string expression for thread status.

	* eval.c (rb_thread_status, rb_thread_inspect): use
	  thread_status_name().

	* eval.c (rb_thread_priority_set): return the priority not but
	  self.

@


1.285.2.248
log
@* eval.c (rb_eval): NODE_MATCH3 was confusing left and right. sigh.

* marshal.c: backport from 1.7 marshal.c
@
text
@a11 8
Sat Oct  6 23:07:08 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): NODE_MATCH3 was confusing left and right. sigh.

Fri Oct  5 15:27:30 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c: backport from 1.7 marshal.c

@


1.285.2.249
log
@* parse.y (parse_quotedwords): %w(...) is not a string.
@
text
@a0 4
Wed Oct 10 03:11:47 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (parse_quotedwords): %w(...) is not a string.

@


1.285.2.250
log
@* parse.y (yylex): disallow alpha-numeric and mbchar for
  terminator of %string.
@
text
@a0 5
Tue Oct 16 00:07:06 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (yylex): disallow alpha-numeric and mbchar for
	  terminator of %string.

@


1.285.2.251
log
@* eval.c (rb_f_missing): check stack level with rb_stack_check().

* eval.c (rb_call0): ditto.

* eval.c, intern.h (rb_stack_check): added. [new]
@
text
@a0 8
Tue Oct 16 21:38:15 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_f_missing): check stack level with rb_stack_check().

	* eval.c (rb_call0): ditto.

	* eval.c, intern.h (rb_stack_check): added. [new]

@


1.285.2.252
log
@* variable.c (remove_trace): should not access already freed area.

* variable.c (rb_f_untrace_var): fix memory leak.
@
text
@a0 6
Fri Oct 19 23:40:37 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* variable.c (remove_trace): should not access already freed area.

	* variable.c (rb_f_untrace_var): fix memory leak.

@


1.285.2.253
log
@* string.c (rb_str_index): wrong increment for non alphanumeric
  string.
@
text
@a19 5
Mond Oct 15 18:00:05 2001  Pit Capitain  <pit@@capitain.de>

	* string.c (rb_str_index): wrong increment for non alphanumeric
	  string.

@


1.285.2.254
log
@* parse.y (str_extend): shuould allow interpolation of $-x.

* bignum.c (rb_big_eq): convert Bignum to Float, instead of
  reverse.

* time.c (time_localtime): getting tm should not be prohibited for
  frozen time objects.

* time.c (time_gmtime): ditto.

* version.c (Init_version): freeze RUBY_VERSION,
  RUBY_RELEASE_DATE, and RUBY_PLATFORM.

* file.c (Init_File): freeze File::SEPARATOR, ALT_SEPARATOR and
  PATH_SEPARATOR.

* file.c (rb_stat_cmp): should check operand type before calling
  get_stat().

* eval.c (rb_eval_cmd): should not invoke "call" with a block on
  any occasion.

* numeric.c (fix_aref): idx may be a Bignum.

* numeric.c (num_remainder): a bug in Numeric#remainder.

* eval.c (rb_exec_end_proc): END might be called within END
  block.
@
text
@a0 43
Mon Oct 29 07:57:31 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (str_extend): shuould allow interpolation of $-x.

Sat Oct 27 23:01:19 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big_eq): convert Bignum to Float, instead of
	  reverse.

Fri Oct 26 06:19:29 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_localtime): getting tm should not be prohibited for
	  frozen time objects.

	* time.c (time_gmtime): ditto.

	* version.c (Init_version): freeze RUBY_VERSION,
	  RUBY_RELEASE_DATE, and RUBY_PLATFORM.

	* file.c (Init_File): freeze File::SEPARATOR, ALT_SEPARATOR and
	  PATH_SEPARATOR.

	* file.c (rb_stat_cmp): should check operand type before calling
	  get_stat().

Thu Oct 25 10:28:15 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval_cmd): should not invoke "call" with a block on
	  any occasion.

Wed Oct 24 03:25:31 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (fix_aref): idx may be a Bignum.

Mon Oct 22 18:53:55 2001  Masahiro Tanaka  <masa@@stars.gsfc.nasa.gov>

	* numeric.c (num_remainder): a bug in Numeric#remainder.

Mon Oct 22 15:21:55 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_exec_end_proc): END might be called within END
	  block.

@


1.285.2.255
log
@* eval.c (rb_f_eval): can't modify untainted binding.

* regex.c (re_compile_pattern): should preverve p0 value.
@
text
@a0 8
Tue Oct 30 14:04:04 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_f_eval): can't modify untainted binding.

Mon Oct 29 16:08:30 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_compile_pattern): should preverve p0 value.

@


1.285.2.256
log
@	* lib/cgi.rb: CGI::Cookie::parse(): Ignore duplicate keys caused by
	  Netscape bug.
@
text
@a0 5
Wed Oct 31 02:44:06 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb: CGI::Cookie::parse(): Ignore duplicate keys caused by
	  Netscape bug.

@


1.285.2.257
log
@* eval.c (POP_VARS): should not set DVAR_DONT_RECYCLE if _old
  ruby_vars is already force_recycled.
@
text
@a0 5
Wed Oct 31 15:09:28 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (POP_VARS): should not set DVAR_DONT_RECYCLE if _old
	  ruby_vars is already force_recycled.

@


1.285.2.258
log
@* eval.c (exec_under): should initialize ruby_frame->self;
@
text
@a0 4
Wed Oct 31 16:59:25 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (exec_under): should initialize ruby_frame->self;

@


1.285.2.259
log
@* bignum.c (rb_big_aref): idx may be a Bignum.

* numeric.c (fix_aref): negative index must return zero.
@
text
@a0 6
Thu Nov  1 14:08:42 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big_aref): idx may be a Bignum.

	* numeric.c (fix_aref): negative index must return zero.

@


1.285.2.260
log
@* matrix.rb (Matrix#column_vectors, Matrix#row_vectors): ditto bug.
  this bug report and fix by tsutomu@@nucba.ac.jp.

* forwardable.rb: change raise to Kernel::raise
@
text
@a0 6
Sat Nov  3 22:28:51 2001  Keiju Ishitsuka <keiju@@ishitsuka.com>
	* matrix.rb (Matrix#column_vectors, Matrix#row_vectors): ditto bug. 
	  this bug report and fix by tsutomu@@nucba.ac.jp.
	
	* forwardable.rb: change raise to Kernel::raise
	
@


1.285.2.261
log
@* dir.c (my_getcwd): do not rely on MAXPATHLEN.

* eval.c (rb_yield_0): should not call rb_f_block_given_p().
@
text
@a0 8
Tue Nov  6 14:38:48 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* dir.c (my_getcwd): do not rely on MAXPATHLEN.

Mon Nov  5 17:09:55 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_yield_0): should not call rb_f_block_given_p().

a1 3

	* forwardable.rb: change raise to Kernel::raise
	
d4 2
@


1.285.2.262
log
@* eval.c (rb_trap_eval): avoid annoying warning with signal.
  [ruby-talk:23225]

* eval.c (rb_call0): adjust caller source file/line while
  evaluating optional arguments.
@
text
@a0 8
Thu Nov  8 20:20:37 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_trap_eval): avoid annoying warning with signal.
	  [ruby-talk:23225]

	* eval.c (rb_call0): adjust caller source file/line while
	  evaluating optional arguments.

@


1.285.2.263
log
@* win32/config.status.in: make CFLAGS same as Makefile's one.
@
text
@a0 4
Fri Nov  9 13:52:18 2001  Usaku Nakamura <usa@@ruby-lang.org>

	* win32/config.status.in: make CFLAGS same as Makefile's one.

@


1.285.2.264
log
@* signal.c (sighandle): should not re-register sighandler if
  POSIX_SIGNAL is defined.

* eval.c (error_print): errat array may be empty.

* parse.y (yylex): float '1_.0' should not be allowed.

* variable.c (var_getter): should care about var as Qfalse
  (ruby-bugs#PR199).

* array.c (cmpint): <=> or block for {min,max} may return bignum.

* array.c (sort_1): use rb_compint.

* array.c (sort_2): ditto.

* enum.c (min_ii): ditto.

* enum.c (min_ii): ditto.

* enum.c (max_i): ditto.

* enum.c (max_ii): ditto.

* mkconfig.rb: use String#dump to generate Ruby string literal.

* range.c (range_eql): should override 'eql?'
@
text
@a0 16
Tue Nov 13 14:39:11 2001  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* signal.c (sighandle): should not re-register sighandler if
	  POSIX_SIGNAL is defined.

Mon Nov 12 16:48:48 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (error_print): errat array may be empty.

Sat Nov 10 00:14:24 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): float '1_.0' should not be allowed.

	* variable.c (var_getter): should care about var as Qfalse
	  (ruby-bugs#PR199).

a11 24

Thu Nov  8 18:41:58 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (cmpint): <=> or block for {min,max} may return bignum.

	* array.c (sort_1): use rb_compint.

	* array.c (sort_2): ditto.

	* enum.c (min_ii): ditto.

	* enum.c (min_ii): ditto.

	* enum.c (max_i): ditto.

	* enum.c (max_ii): ditto.

Thu Nov  8 14:52:15 2001  Tanaka Akira  <akr@@m17n.org>

	* mkconfig.rb: use String#dump to generate Ruby string literal.

Thu Nov  8 15:46:54 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* range.c (range_eql): should override 'eql?'
@


1.285.2.265
log
@	* hash.c (envix): merge from 1.7: use GET_ENVIRON and FREE_ENVIRON to
	  get environment variables list.

	* hash.c (env_keys): ditto.

	* hash.c (env_each_key): ditto.

	* hash.c (env_values): ditto.

	* hash.c (env_keys): ditto.

	* hash.c (env_each_value): ditto.

	* hash.c (env_each): ditto.

	* hash.c (env_inspect): ditto.

	* hash.c (env_to_a): ditto.

	* hash.c (env_size): ditto.

	* hash.c (env_empty_p): ditto.

	* hash.c (env_has_value): ditto.

	* hash.c (env_index): ditto.

	* hash.c (env_to_hash): ditto.

	* win32/win32.c (win32_getenv): merge from 1.7: use static buffer.

	* win32/win32.c, win32/win32.h (win32_get_environ): merge from 1.7:
	  get environment variables list.

	* win32/win32.c, win32/win32.h (win32_free_environ): merge from 1.7:
	  free environment variables list.

	* win32/Makefile.sub: merge from 1.7: add -DLIBRUBY_SO to CPPFLAGS.
@
text
@a0 41
Tue Nov 13 17:25:44 2001  Usaku Nakamura <usa@@ruby-lang.org>

	* hash.c (envix): merge from 1.7: use GET_ENVIRON and FREE_ENVIRON to
	  get environment variables list.

	* hash.c (env_keys): ditto.

	* hash.c (env_each_key): ditto.

	* hash.c (env_values): ditto.

	* hash.c (env_keys): ditto.

	* hash.c (env_each_value): ditto.

	* hash.c (env_each): ditto.

	* hash.c (env_inspect): ditto.

	* hash.c (env_to_a): ditto.

	* hash.c (env_size): ditto.

	* hash.c (env_empty_p): ditto.

	* hash.c (env_has_value): ditto.

	* hash.c (env_index): ditto.

	* hash.c (env_to_hash): ditto.

	* win32/win32.c (win32_getenv): merge from 1.7: use static buffer.

	* win32/win32.c, win32/win32.h (win32_get_environ): merge from 1.7:
	  get environment variables list.

	* win32/win32.c, win32/win32.h (win32_free_environ): merge from 1.7:
	  free environment variables list.

	* win32/Makefile.sub: merge from 1.7: add -DLIBRUBY_SO to CPPFLAGS.

@


1.285.2.266
log
@* configure.in: do not override CC if set.
@
text
@a0 4
Tue Nov 13 19:50:30 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: do not override CC if set.

@


1.285.2.267
log
@* parse.y: needless conditional.

* parse.y (parse_regx): parse error at unterminated regex /#{.
  (ruby-bugs-ja:PR#142)
@
text
@a0 7
Sun Nov 18 19:37:55 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y: needless conditional.

	* parse.y (parse_regx): parse error at unterminated regex /#{.
	  (ruby-bugs-ja:PR#142)

@


1.285.2.268
log
@	* lib/cgi.rb (header): support for Apache. thanks to
	  Shugo Maeda <shugo@@ruby-lang.org>.
@
text
@a0 5
Mon Nov 19 04:58:42 2001  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi.rb (header): support for Apache. thanks to
	  Shugo Maeda <shugo@@ruby-lang.org>.

@


1.285.2.269
log
@* parse.y (parse_regx): should raise error on untermitated
  expression interpolation.

* pack.c (pack_unpack): should give length to utf8_to_uv().

* pack.c (utf8_to_uv): add length check.

* eval.c (rb_thread_wait_for): select may cause ERESTART on
  Solaris.

* eval.c (rb_thread_select): ditto.
@
text
@a5 5
Mon Nov 19 01:58:14 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (parse_regx): should raise error on untermitated
	  expression interpolation.

a11 13

Sat Nov 17 12:37:39 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* pack.c (pack_unpack): should give length to utf8_to_uv().

	* pack.c (utf8_to_uv): add length check.

Sat Nov 17 01:41:52 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_wait_for): select may cause ERESTART on
	  Solaris.

	* eval.c (rb_thread_select): ditto.
@


1.285.2.270
log
@* parse.y (str_extend): term can be any character.
@
text
@a0 4
Mon Nov 19 14:14:58 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (str_extend): term can be any character.

@


1.285.2.271
log
@* parse.y (str_extend): should not terminate string interpolation
  with newlines in here-docs and newline terminated strings.
@
text
@a0 5
Tue Nov 20 01:07:13 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (str_extend): should not terminate string interpolation
	  with newlines in here-docs and newline terminated strings.

@


1.285.2.272
log
@* parse.y (str_extend): should check nesting parentheses in #{}.

* eval.c (rb_thread_select): tv_sec and tv_usec should not be
  negative.

* signal.c (posix_signal): do not set SA_RESTART for SIGVTALRM.
@
text
@a0 11
Thu Nov 22 00:28:13 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (str_extend): should check nesting parentheses in #{}.

Wed Nov 21 00:17:54 2001  Ville Mattila  <mulperi@@iki.fi>

	* eval.c (rb_thread_select): tv_sec and tv_usec should not be
	  negative.

	* signal.c (posix_signal): do not set SA_RESTART for SIGVTALRM.

@


1.285.2.273
log
@	* process.c (Init_process): enable getpid and getppid on NT.
	  (ruby-bugs-ja:PR#152)
@
text
@a0 5
Fri Nov 23 03:13:49 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* process.c (Init_process): enable getpid and getppid on NT.
	  (ruby-bugs-ja:PR#152)

@


1.285.2.274
log
@	* parse.y (str_extend): change types of second and third arguments
	  from char to int.
@
text
@a0 5
Sun Nov 25 21:03:43 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* parse.y (str_extend): change types of second and third arguments
	  from char to int.

@


1.285.2.275
log
@* eval.c (rb_thread_select): should subtract timeofday() from
  limit, not reverse.

* util.c (scan_hex): x is not a hexadecimal digit.

* eval.c (rb_thread_schedule): should treat the case that
  select(2) returns 0, if a thread is under both WAIT_SELECT and
  WAIT_TIME.  Jakub Travnik <J.Travnik@@sh.cvut.cz> actually fixed
  this bug.
@
text
@a0 16
Wed Nov 28 18:46:28 2001  Ville Mattila  <mulperi@@iki.fi>

	* eval.c (rb_thread_select): should subtract timeofday() from
	  limit, not reverse.

Wed Nov 28 16:03:28 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* util.c (scan_hex): x is not a hexadecimal digit.

Wed Nov 28 13:38:04 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_schedule): should treat the case that
	  select(2) returns 0, if a thread is under both WAIT_SELECT and
	  WAIT_TIME.  Jakub Travnik <J.Travnik@@sh.cvut.cz> actually fixed
	  this bug.

@


1.285.2.276
log
@* README.EXT: Appendix B is duplicated.
* README.EXT.ja: ditto.
@
text
@a0 6
Fri Nov 30 00:30:00 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* README.EXT: Appendix B is duplicated.

	* README.EXT.ja: ditto.

@


1.285.2.277
log
@* configure.in: use GCC, not without_gcc. remove without_gcc.
* ext/curses/extconf.rb: check for curses.h.
@
text
@a0 6
Sun Dec  2 22:01:52 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: use GCC, not without_gcc. remove without_gcc.

	* ext/curses/extconf.rb: check for curses.h.

@


1.285.2.278
log
@* configure.in: apply patch from NetBSD's pkgsrc (patch-aa).
@
text
@a0 4
Mon Dec  3 03:29:17 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* configure.in: apply patch from NetBSD's pkgsrc (patch-aa).

@


1.285.2.279
log
@* configure.in: not use X11BASE, since it's not always set.
@
text
@a0 4
Mon Dec 03 16:06:04 2001  Usaku Nakamura <usa@@ruby-lang.org>

	* configure.in: not use X11BASE, since it's not always set.

@


1.285.2.280
log
@* ext/socket/extconf.rb: remove -L/usr/local/lib.
@
text
@a0 4
Mon Dec  3 16:06:57 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/socket/extconf.rb: remove -L/usr/local/lib.

@


1.285.2.281
log
@Mention the import of the syslog module.
@
text
@d5 1
a5 1
Mon Dec  3 16:06:04 2001  Usaku Nakamura <usa@@ruby-lang.org>
a17 5

Sat Dec  1 23:23:57 2001  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/Setup*, ext/syslog/*: import the "syslog" module from the
	  rough ruby project.
@


1.285.2.282
log
@* time.c (time_new_internal): round usec overflow and underflow
  here.

* time.c (time_plus): remove overflow/underflow check.

* time.c (time_minus): ditto.

* time.c (time_cmp): should consider tv_usec too.

* time.c (time_gmtime): time_modify() should be called even if tm
  struct is not calculated yet.

* string.c (rb_str_equal): object with to_str must be treated as a
  string.
@
text
@a8 11
Mon Dec  3 09:59:08 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_new_internal): round usec overflow and underflow
	  here. 

	* time.c (time_plus): remove overflow/underflow check.

	* time.c (time_minus): ditto.

	* time.c (time_cmp): should consider tv_usec too.

a23 5
Sat Dec  1 12:13:20 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_gmtime): time_modify() should be called even if tm
	  struct is not calculated yet.

a28 5

Thu Nov 29 00:28:07 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_equal): object with to_str must be treated as a
	  string.
@


1.285.2.283
log
@* configure.in: add -Wl,-export-dynamic on NetBSD.
@
text
@a4 2
	* configure.in: add -Wl,-export-dynamic on NetBSD.

@


1.285.2.284
log
@* io.c (io_fread): EAGAIN/EWOULDBLOCK should not terminate and
  throw away the input.

* time.c (time_new_internal): underflow adjustment must not use
  negative div/mod.

* time.c (time_cmp): should consider tv_usec on non Fixnum number
  comparison.
@
text
@a0 11
Tue Dec  4 03:49:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (io_fread): EAGAIN/EWOULDBLOCK should not terminate and
	  throw away the input.

	* time.c (time_new_internal): underflow adjustment must not use
	  negative div/mod.

	* time.c (time_cmp): should consider tv_usec on non Fixnum number
	  comparison.

@


1.285.2.285
log
@* ext/extmk.rb.in: add -Wl,-R flags to DLDFLAGS on netbsdelf.
* lib/mkmf.rb: ditto.
@
text
@a0 6
Thu Dec  6 18:55:01 2001  Usaku Nakamura  <usa@@ruby-lang.org>

	* ext/extmk.rb.in: add -Wl,-R flags to DLDFLAGS on netbsdelf.

	* lib/mkmf.rb: ditto.

@


1.285.2.286
log
@* ext/extmk.rb.in: ignore adding -Wl,-R to DLDFLAGS when the directory
  is $topdir.
@
text
@a0 5
Fri Dec  7 15:52:05 2001  Usaku Nakamura <usa@@ruby-lang.org>

	* ext/extmk.rb.in: ignore adding -Wl,-R to DLDFLAGS when the directory
	  is $topdir.

@


1.285.2.287
log
@aamine
* lib/net/smtp.rb: SMTP.new requires at least one arg.
* lib/net/pop.rb: POP.new requires at least one arg.
* lib/net/pop.rb: uses "raise *Error.new" instead of simple raise.
* lib/net/http.rb: HTTP.new requires at least one arg.
* lib/net/http.rb: changes implicit start algolithm.
@
text
@a0 12
Fri Dec  7 18:47:54 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/smtp.rb: SMTP.new requires at least one arg.

	* lib/net/pop.rb: POP.new requires at least one arg.

	* lib/net/pop.rb: uses "raise *Error.new" instead of simple raise.

	* lib/net/http.rb: HTTP.new requires at least one arg.

	* lib/net/http.rb: changes implicit start algolithm.

@


1.285.2.288
log
@aamine
* lib/net/smtp.rb: uses Digest::MD5 instead of MD5 (again).
* lib/net/pop.rb: ditto.
* lib/net/http.rb (HTTP#request): must pass block.
@
text
@a0 8
Fri Dec  7 19:20:44 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/smtp.rb: uses Digest::MD5 instead of MD5 (again).

	* lib/net/pop.rb: ditto.

	* lib/net/http.rb (HTTP#request): must pass block.

@


1.285.2.289
log
@aamine
* lib/net/protocol.rb: calls on_connect before conn_command
@
text
@a0 4
Sun Dec  9 18:06:05 2001  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/protocol.rb: calls on_connect before conn_command

@


1.285.2.290
log
@* matrix.rb: Vector#* bug. reported from Massimiliano Mirra
 <info@@chromatic-harp.com>.
@
text
@a0 4
Sun Dec  9 23:00:54 2001  Keiju Ishitsuka <keiju@@ishitsuka.com>
	* matrix.rb: Vector#* bug. reported from Massimiliano Mirra
	<info@@chromatic-harp.com>. 

@


1.285.2.291
log
@* parse.y (gettable): should freeze __LINE__ string.

* parse.y (str_extend): should not process immature #$x and
  #@@x interportation, e.g #@@#@@ etc.

* regex.c (WC2MBC1ST): should not pass through > 0x80 number in UTF-8.
@
text
@a0 4
Mon Dec 10 01:06:56 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (gettable): should freeze __LINE__ string.

a33 5
Fri Dec  7 09:51:00 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (str_extend): should not process immature #$x and
	  #@@x interportation, e.g #@@#@@ etc.

a39 4
Wed Dec  5 23:36:56 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (WC2MBC1ST): should not pass through > 0x80 number in UTF-8.

a59 7

Mon Dec  3 13:53:49 2001  Tanaka Akira  <akr@@m17n.org>

	* time.c (rb_strftime): buffer length condition was wrong.

	* time.c (time_strftime): should backup buf to the original
	  buffer.
@


1.285.2.292
log
@* parse.y (gettable): should freeze __FILE__ string(__LINE__ is Fixnum).
@
text
@d3 1
a3 1
	* parse.y (gettable): should freeze __FILE__ string.
@


1.285.2.293
log
@* parse.y (str_extend): make up pushback call.
@
text
@a0 4
Mon Dec 10 17:40:02 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* parse.y (str_extend): make up pushback call.

@


1.285.2.294
log
@* time.c (time_cmp): should handle Bignums.
@
text
@a0 4
Thu Dec 13 10:03:18 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_cmp): should handle Bignums.

@


1.285.2.295
log
@* intern.h: add prototypes.
  rb_str_dup_frozen()

* ruby.h: added declaration.
  rb_defout, rb_stdin, rb_stdout, rb_stderr, ruby_errinfo

* rubyio.h: changed double include guard macro to RUBYIO_H.

* array.c (inspect_call): make static.

* eval.c (dvar_asgn): ditto.

* io.c (rb_io_close_read): ditto.

* lex.c (rb_reserved_word): ditto.

* ruby.c: (req_list_head, req_list_last): ditto.

* ruby.c (require_libraries): ditto.
@
text
@a0 22
Mon Dec 17 17:06:56 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* intern.h: add prototypes.
	  rb_str_dup_frozen()

	* ruby.h: added declaration.
	  rb_defout, rb_stdin, rb_stdout, rb_stderr, ruby_errinfo

	* rubyio.h: changed double include guard macro to RUBYIO_H.

	* array.c (inspect_call): make static.

	* eval.c (dvar_asgn): ditto.

	* io.c (rb_io_close_read): ditto.

	* lex.c (rb_reserved_word): ditto.

	* ruby.c: (req_list_head, req_list_last): ditto.

	* ruby.c (require_libraries): ditto.

@


1.285.2.296
log
@* eval.c (rb_thread_schedule): should not select a thread which is
  not yet initialized.

* variable.c (find_class_path): should initialize iv_tbl if it's
  NULL.

* class.c (rb_define_class): should return the existing class if
  the class is already defined and its superclass is ideintical to
  the specified superclass.

* class.c (rb_define_class_under): ditto.

* class.c (rb_define_module): should return the existing module if
  the module is already defined.
@
text
@a0 5
Tue Dec 18 01:02:13 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_schedule): should not select a thread which is
	  not yet initialized.

a21 16

Mon Dec 17 00:02:04 2001  Guy Decoux  <ts@@moulon.inra.fr>

	* variable.c (find_class_path): should initialize iv_tbl if it's
	  NULL.

Fri Dec 14 00:16:06 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_define_class): should return the existing class if
	  the class is already defined and its superclass is ideintical to
	  the specified superclass.

	* class.c (rb_define_class_under): ditto.

	* class.c (rb_define_module): should return the existing module if
	  the module is already defined.
@


1.285.2.297
log
@* eval.c (rb_mod_define_method): define_method should follow
  default method visibility.

* eval.c (rb_attr): should warn if the default method visibility
  is "module_function" (can be error).

* eval.c (rb_mod_define_method): should define class/module method
  also if the visibility is "module_function".

* eval.c (rb_mod_define_method): should call hook method
  "method_added", and "singleton_method_added".

* ext/socket/socket.c (bsock_send): should raise EWOULDBLOCK
  exception.

* ext/socket/socket.c (s_recvfrom): ditto.

* ext/socket/socket.c (s_accept): ditto.

* ext/socket/socket.c (udp_send): ditto.
@
text
@a0 14
Wed Dec 19 14:05:00 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_mod_define_method): define_method should follow
	  default method visibility.

	* eval.c (rb_attr): should warn if the default method visibility
	  is "module_function" (can be error). 

	* eval.c (rb_mod_define_method): should define class/module method
	  also if the visibility is "module_function".

	* eval.c (rb_mod_define_method): should call hook method
	  "method_added", and "singleton_method_added".

a102 11

Wed Dec  5 20:05:18 2001  Florian Frank  <flori@@ping.de>

	* ext/socket/socket.c (bsock_send): should raise EWOULDBLOCK
	  exception.

	* ext/socket/socket.c (s_recvfrom): ditto.

	* ext/socket/socket.c (s_accept): ditto.

	* ext/socket/socket.c (udp_send): ditto.
@


1.285.2.298
log
@* intern.h: added prototypes: rb_cv_set(), rb_cv_get(),
  rb_define_class_variable()
@
text
@a0 5
Thu Dec 20 10:37:32 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* intern.h: added prototypes: rb_cv_set(), rb_cv_get(),
	  rb_define_class_variable()

@


1.285.2.299
log
@* lib/mkmf.rb (with_destdir): new.

* lib/mkmf.rb: prefix target directories with $(DESTDIR) all.

* lib/mkmf.rb: no need to mkdir $(libdir)
@
text
@a0 8
Fri Dec 21 01:17:57 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* lib/mkmf.rb (with_destdir): new.

	* lib/mkmf.rb: prefix target directories with $(DESTDIR) all.

	* lib/mkmf.rb: no need to mkdir $(libdir)

@


1.285.2.300
log
@* eval.c (rb_mod_define_method): must not convert Method to Proc.
@
text
@a0 4
Fri Dec 21 03:15:52 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_mod_define_method): must not convert Method to Proc.

@


1.285.2.301
log
@* dln.h, ruby.h, util.h: enable prototypes in C++.
@
text
@a0 4
Fri Dec 21 16:18:17 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* dln.h, ruby.h, util.h: enable prototypes in C++.

@


1.285.2.302
log
@* variable.c (rb_cvar_set): add frozen class/module check.

* variable.c (rb_cvar_declare): add frozen class/module check.

* re.c (match_to_a): should propagate taint.

* re.c (rb_reg_s_quote): ditto.
@
text
@a16 6
Thu Dec 20 13:51:52 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* variable.c (rb_cvar_set): add frozen class/module check.

	* variable.c (rb_cvar_declare): add frozen class/module check.

a20 6

Thu Dec 20 01:01:50 2001  takuma ozawa  <metal@@mine.ne.jp>

	* re.c (match_to_a): should propagate taint.

	* re.c (rb_reg_s_quote): ditto.
@


1.285.2.303
log
@* stable version 1.6.6 released.
@
text
@a0 12
Tue Dec 25 23:28:47 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* stable version 1.6.6 released.

Tue Dec 25 18:32:16 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* re.c (rb_reg_search): initialize taint status of match object.

Fri Dec 21 20:33:34 2001  K.Kosako  <kosako@@sofnec.co.jp>

	* parse.y (str_extend): make up "#$;" handling.

@


1.285.2.304
log
@* bignum.c (rb_cstr2inum): allow "0\n" and so on.
@
text
@a0 4
Thu Dec 27 01:54:02 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* bignum.c (rb_cstr2inum): allow "0\n" and so on.

@


1.285.2.305
log
@* bignum.c (rb_cstr2inum): deny "0_".
@
text
@a0 4
Thu Dec 27 18:43:04 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* bignum.c (rb_cstr2inum): deny "0_".

@


1.285.2.306
log
@* ext/extmk.rb.in, lib/mkmf.rb (have_library): accept -lm
  unconditionally on mswin32/mingw32.
@
text
@a0 5
Sun Dec 30 00:59:16 2001  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb.in, lib/mkmf.rb (have_library): accept -lm
	  unconditionally on mswin32/mingw32.

@


1.285.2.307
log
@* time.c (time_utc_offset): new function.

* time.c (Init_Time): new method gmtoff, gmt_offset and utc_offset.

* lib/time.rb: new file.
@
text
@a0 8
Sun Dec 30 18:04:07 2001  Tanaka Akira  <akr@@m17n.org>

	* time.c (time_utc_offset): new function.

	* time.c (Init_Time): new method gmtoff, gmt_offset and utc_offset.

	* lib/time.rb: new file.

@


1.285.2.308
log
@* parse.y (yycompile): always store copy of filename.

* parse.y (rb_compile_file): no longer need to strdup() here.
@
text
@a0 6
Mon Dec 31 14:20:46 2001  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (yycompile): always store copy of filename.

	* parse.y (rb_compile_file): no longer need to strdup() here.

@


1.285.2.309
log
@* Makefile.in (fake.rb): set RUBY_VERSION.
@
text
@a0 4
Tue Jan  1 02:16:48 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* Makefile.in (fake.rb): set RUBY_VERSION.

@


1.285.2.310
log
@* lib/mkmf.rb (create_makefile): add -I. to CPPFLAGS.
* lib/mkmf.rb (create_makefile): srcdir support(.def and depend file).
@
text
@a0 6
Wed Jan  2 23:34:25 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/mkmf.rb (create_makefile): add -I. to CPPFLAGS.

	* lib/mkmf.rb (create_makefile): srcdir support(.def and depend file).

@


1.285.2.311
log
@* process.c (rb_f_system): abandon vfork.

* io.c (pipe_open): ditto.

* defines.h: sparc linux needs different FLUSH_REGISTER_WINDOWS

* regex.c (re_search): abandon stclass optimization.
@
text
@a6 6
Wed Jan  2 11:51:56 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* process.c (rb_f_system): abandon vfork.

	* io.c (pipe_open): ditto.

a16 4
Mon Dec 31 05:26:40 2001  Ferris McCormick  <fmccor@@inforead.com>

	* defines.h: sparc linux needs different FLUSH_REGISTER_WINDOWS

a28 4

Sat Dec 29 01:55:42 2001  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_search): abandon stclass optimization.
@


1.285.2.312
log
@* parse.y (yycompile): strdup()'ed twice.
@
text
@a0 4
Sat Jan  5 00:19:12 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (yycompile): strdup()'ed twice.

@


1.285.2.313
log
@* misc/ruby-mode.el (ruby-forward-string): forward a string. [new]

* misc/ruby-mode.el (ruby-parse-region): handle nested parentheses
  in a string and terminators in #{}.

* misc/ruby-mode.el (ruby-calculate-indent): ditto.

* misc/ruby-mode.el (ruby-font-lock-syntactic-keywords):
  fix font-lock problem [ruby-talk:29296].
@
text
@a4 9
Fri Jan  4 17:23:49 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* misc/ruby-mode.el (ruby-forward-string): forward a string. [new]

	* misc/ruby-mode.el (ruby-parse-region): handle nested parentheses
	  in a string and terminators in #{}.

	* misc/ruby-mode.el (ruby-calculate-indent): ditto.

a62 5

Mon Dec 24 02:37:40 2001  Le Wang  <lewang@@bigfoot.com>

	* misc/ruby-mode.el (ruby-font-lock-syntactic-keywords):
	  fix font-lock problem [ruby-talk:29296].
@


1.285.2.314
log
@* lib/time.rb (Time#xmlschema): new optional argument
fractional_seconds to specify a number of digits of
fractional part of the time.
@
text
@a0 6
Mon Jan  7 12:38:47 2002  Tanaka Akira  <akr@@m17n.org>

        * lib/time.rb (Time#xmlschema): new optional argument 
	fractional_seconds to specify a number of digits of
	fractional part of the time.

@


1.285.2.315
log
@* string.c (rb_str_new2): NULL pointer check added.

* class.c (rb_define_module_under): should locate predefined
  module using rb_const_defined_at().
@
text
@a6 4
Sat Jan  5 03:07:34 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_new2): NULL pointer check added.

a9 5

Fri Jan  4 18:29:10 2002  Michal Rokos  <m.rokos@@sh.cvut.cz>

	* class.c (rb_define_module_under): should locate predefined
	  module using rb_const_defined_at().
@


1.285.2.316
log
@* object.c (convert_type): backport from 1.7 to avoid NameError
  messages with -d option.
@
text
@a0 5
Mon Jan  7 14:38:51 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (convert_type): backport from 1.7 to avoid NameError
	  messages with -d option.

@


1.285.2.317
log
@* eval.c (rb_add_method): clear replaced method from the cache.
@
text
@a0 4
Tue Jan  8 15:54:02 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_add_method): clear replaced method from the cache.

@


1.285.2.318
log
@missed entry.
@
text
@a4 3
	* eval.c (rb_stack_check): should avoid stack length check during
	  raising SystemStackError exception.

@


1.285.2.319
log
@* misc/ruby-mode.el (ruby-calculate-indent): indentation after
  comment at beginning of buffer failed.

* misc/ruby-mode.el (font-lock-defaults): unless XEmacs, set
  font-lock variables in ruby-mode-hook.
@
text
@a0 8
Wed Jan  9 20:21:09 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* misc/ruby-mode.el (ruby-calculate-indent): indentation after
	  comment at beginning of buffer failed.

	* misc/ruby-mode.el (font-lock-defaults): unless XEmacs, set
	  font-lock variables in ruby-mode-hook.

@


1.285.2.320
log
@* win32/resource.rb: Modify copyright in resource script.
@
text
@a0 4
Thu Jan 10 11:30:52 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* win32/resource.rb: Modify copyright in resource script.

@


1.285.2.321
log
@* eval.c (rb_add_method): should clear cache by id always.

* eval.c (rb_disable_super): no longer need to clear cache before
  rb_add_method().

* eval.c (rb_export_method): ditto.

* eval.c (rb_attr): ditto.

* eval.c (rb_undef): ditto.

* eval.c (rb_eval): ditto.

* eval.c (rb_mod_modfunc): ditto.

* eval.c (rb_mod_define_method): ditto.
@
text
@a0 19
Thu Jan 10 19:15:15 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_add_method): should clear cache by id always.

	* eval.c (rb_disable_super): no longer need to clear cache before
	  rb_add_method().

	* eval.c (rb_export_method): ditto.

	* eval.c (rb_attr): ditto.

	* eval.c (rb_undef): ditto.

	* eval.c (rb_eval): ditto.

	* eval.c (rb_mod_modfunc): ditto.

	* eval.c (rb_mod_define_method): ditto.

@


1.285.2.322
log
@* class.c (rb_make_metaclass): [new]

* class.c (rb_define_class_id): use rb_make_metaclass(), don't
  call Class#inherited hook.

* class.c (rb_class_inherited): [new]

* class.c (rb_define_class): call Class#inherited hook here.

* class.c (rb_define_class_under): ditto after class path is set.

* class.c (rb_singleton_class): use rb_make_metaclass().

* eval.c (rb_eval): same as rb_define_class_under().

* intern.h: prototypes of rb_make_metaclass() and
  rb_class_inherited().

* object.c (rb_class_s_new): use rb_make_metaclass() and
  rb_class_inherited().

* object.c (Init_Object): use rb_make_metaclass().

* struct.c (make_struct): use rb_class_inherited().
@
text
@a0 27
Fri Jan 11 05:06:25 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* class.c (rb_make_metaclass): [new]

	* class.c (rb_define_class_id): use rb_make_metaclass(), don't
	  call Class#inherited hook.

	* class.c (rb_class_inherited): [new]

	* class.c (rb_define_class): call Class#inherited hook here.

	* class.c (rb_define_class_under): ditto after class path is set.

	* class.c (rb_singleton_class): use rb_make_metaclass().

	* eval.c (rb_eval): same as rb_define_class_under().

	* intern.h: prototypes of rb_make_metaclass() and
	  rb_class_inherited().

	* object.c (rb_class_s_new): use rb_make_metaclass() and
	  rb_class_inherited().

	* object.c (Init_Object): use rb_make_metaclass().

	* struct.c (make_struct): use rb_class_inherited().

@


1.285.2.323
log
@aamine
* lib/net/protocol.rb: Protocol#start returns the return value of block.
* lib/net/protocol.rb: set timeout limit by default.
* lib/net/protocol.rb: new methods WriteAdapter#write, puts, print, printf.
* lib/net/protocol.rb: change template method scheme.
* lib/net/http.rb: rename HTTP#get2 to request_get, post2 to request_post ...
* lib/net/pop.rb: POP#auth_only did not work.
* lib/net/smtp.rb: should not resolve HELO domain automatically.
@
text
@a0 19
Tue Jan 15 12:43:34 2002  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/protocol.rb: Protocol#start returns the return value of
	  block.

	* lib/net/protocol.rb: set timeout limit by default.

	* lib/net/protocol.rb: new methods WriteAdapter#write, puts,
	  print, printf.

	* lib/net/protocol.rb: change template method scheme.

	* lib/net/http.rb: rename HTTP#get2 to request_get, post2 to
	  request_post ...

	* lib/net/pop.rb: POP#auth_only did not work.

	* lib/net/smtp.rb: should not resolve HELO domain automatically.

@


1.285.2.324
log
@* object.c (rb_Float): remove underscores between digits.

* bignum.c (rb_cstr2inum): reject prefix followed by spaces only.

* class.c (rb_class_inherited): should use Object when no super
  class.
@
text
@a0 9
Wed Jan 16 11:12:30 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* object.c (rb_Float): remove underscores between digits.

	* bignum.c (rb_cstr2inum): reject prefix followed by spaces only.

	* class.c (rb_class_inherited): should use Object when no super
	  class.

@


1.285.2.325
log
@* eval.c (block_pass): should not pass tainted block, if $SAFE > 0.

* variable.c (rb_mod_remove_cvar): should pass the char*.
@
text
@a28 8
Mon Jan 14 13:06:02 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (block_pass): should not pass tainted block, if $SAFE > 0.

Sun Jan 13 09:31:41 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* variable.c (rb_mod_remove_cvar): should pass the char*.

@


1.285.2.326
log
@* eval.c (ruby_stop): should not trace error handler.

* io.c (io_write): should not raise exception on O_NONBLOCK io.

* dir.c (dir_set_pos): seek should return dir, pos= should not.
@
text
@a0 43
Mon Jan 21 08:25:30 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (ruby_stop): should not trace error handler.

	* signal.c (install_sighandler): do not install sighandler unless
	  the old value is SIG_DFL.

	* io.c (io_write): should not raise exception on O_NONBLOCK io.

	* dir.c (dir_set_pos): seek should return dir, pos= should not.

Fri Jan 18 10:26:33 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* error.c (rb_sys_fail): replace INT2FIX() by INT2NUM() since
	  errno value may not fit in Fixnum size on Hurd.

	* error.c (set_syserr): ditto.

Fri Jan 18 02:27:48 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* dir.c (dir_s_glob): returns nil if block given.

	* io.c (rb_io_each_byte): should return self.

	* io.c (rb_io_close_m): close check added.

	* dir.c (dir_seek): should return pos.

Fri Jan 18 01:21:53 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>


	* parse.y (fixpos): orig may be (NODE*)1, which should not be
	  dereferenced.

Thu Jan 17 16:21:42 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (block_pass): should allow block argument relay even in
	  the tainted mode.

Wed Jan 16 18:25:08 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* st.c: primes should be primes.

@


1.285.2.327
log
@* eval.c (rb_yield_0): restore source file/line after yield.
@
text
@a0 4
Wed Jan 23 13:27:44 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (rb_yield_0): restore source file/line after yield.

@


1.285.2.328
log
@* class.c (rb_include_module): detect cyclic module inclusion.

* eval.c (rb_thread_schedule): should check time only if BOTH
  WAIT_SELECT and WAIT_TIME.

* string.c (rb_str_split_m): no need to consider KANJI
characters, if the length of separator is 1 (byte).
@
text
@a0 14
Fri Jan 25 17:16:23 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_include_module): detect cyclic module inclusion.

Fri Jan 25 02:17:56 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_schedule): should check time only if BOTH
	  WAIT_SELECT and WAIT_TIME.

Thu Jan 24 05:42:01 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* string.c (rb_str_split_m): no need to consider KANJI
	characters, if the length of separator is 1 (byte)

@


1.285.2.329
log
@* configure.in (solaris): add '-shared' only for GNU ld.
@
text
@a0 4
Fri Jan 25 17:48:43 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in (solaris): add '-shared' only for GNU ld.

@


1.285.2.330
log
@* eval.c (is_defined): defined?(Foo::Baz) should check constants
  only, no methods.

* eval.c (is_defined): should not dump core on defined?(a::b)
  where a is not a class nor a module.
@
text
@a0 8
Mon Jan 28 13:29:41 2002  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (is_defined): defined?(Foo::Baz) should check constants
	  only, no methods.

	* eval.c (is_defined): should not dump core on defined?(a::b)
	  where a is not a class nor a module.

@


1.285.2.331
log
@* parse.y (yylex): strict check for numbers.
@
text
@a0 4
Mon Jan 28 18:33:18 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* parse.y (yylex): strict check for numbers.

@


1.285.2.332
log
@* lib/mkmf.rb (dir_config): prior --with flag.

* lib/mkmf.rb (arg_config): avoid special variables for
  font-lock-mode.
@
text
@a0 7
Thu Jan 31 20:45:33 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* lib/mkmf.rb (dir_config): prior --with flag.

	* lib/mkmf.rb (arg_config): avoid special variables for
	  font-lock-mode.

@


1.285.2.333
log
@* re.c (rb_reg_search): should set regs.allocated.
@
text
@a7 4
Wed Jan 30 13:37:05 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_search): should set regs.allocated.

@


1.285.2.334
log
@* object.c (rb_class_real): should not follow ICLASS link

* variable.c (classname): should follow ICLASS link explicitly.
@
text
@a0 6
Mon Feb  4 15:38:29 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* object.c (rb_class_real): should not follow ICLASS link

	* variable.c (classname): should follow ICLASS link explicitly.

@


1.285.2.335
log
@* configure.in: keep old config.h unless changed.
@
text
@a0 4
Wed Feb  6 17:18:54 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* configure.in: keep old config.h unless changed.

@


1.285.2.336
log
@uri-0.9.5
@
text
@a0 10
Thu Feb 07 13:44:08 2002  akira yamada  <akira@@arika.org>

	* uri/common.rb (URI::join): new method.

	* uri/generic.rb (Generic#merge): URI.parse("http://a/")+"b" should
	  return "http://a/b" but it returned "http://a//b".

	* uri/generic.rb (Generic#check_path): corrected error message, 
	  @@path -> v

@


1.285.2.337
log
@aamine
* lib/net/http.rb: HTTP.Proxy should use self for proxy-class's super class.
* lib/net/http.rb: initialize HTTP.proxy_port by HTTP.port.
@
text
@a0 7
Fri Feb  8 05:39:15 2002  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/http.rb: HTTP.Proxy should use self for proxy-class's
	  super class.

	* lib/net/http.rb: initialize HTTP.proxy_port by HTTP.port.

@


1.285.2.338
log
@* parse.y (yycompile): should inherit "in_single" if eval happened
  in a singleton method.

* eval.c (rb_eval): class variables from singleton methods defined
  within singleton class statement should work like ones defined
  by sington def statements.
@
text
@a7 9
Fri Feb  8 01:27:33 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yycompile): should inherit "in_single" if eval happened
	  in a singleton method.

	* eval.c (rb_eval): class variables from singleton methods defined
	  within singleton class statement should work like ones defined
	  by sington def statements.

@


1.285.2.339
log
@* eval.c (rb_eval): singleton chech should be moved from yycompile
  to here.

* eval.c (is_defined): check should be added here too.
@
text
@a0 7
Fri Feb  8 23:07:23 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): singleton chech should be moved from yycompile
	  to here.

	* eval.c (is_defined): check should be added here too.

@


1.285.2.340
log
@* ruby.c (load_file): avoid SEGV on '#' only input.
@
text
@a0 4
Sun Feb 10 16:52:53 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ruby.c (load_file): avoid SEGV on '#' only input.

@


1.285.2.341
log
@* parse.y (assignable): should emit CVASGN within the method
  body.
@
text
@a0 5
Tue Feb 12 01:21:34 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (assignable): should emit CVASGN within the method
	  body.

@


1.285.2.342
log
@* bignum.c (rb_big_rshift): should properly convert the nagative
  value to 2's compliment.
@
text
@a0 5
Fri Feb 15 13:36:58 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big_rshift): should properly convert the nagative
	  value to 2's compliment.

@


1.285.2.343
log
@* regex.c (re_compile_fastmap): skip begpos.
@
text
@a10 4
Mon Feb 11 00:10:41 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* regex.c (re_compile_fastmap): skip begpos.

@


1.285.2.344
log
@* eval.c (block_pass): "&nil" should clear block given.
@
text
@a0 4
Mon Feb 18 13:56:44 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (block_pass): "&nil" should clear block given.

@


1.285.2.345
log
@* io.c (rb_io_ungetc): don't fail pushed EOF back.
@
text
@a0 4
Tue Feb 19 13:16:08 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* io.c (rb_io_ungetc): don't fail pushed EOF back.

@


1.285.2.346
log
@* variable.c (rb_cvar_set): define new class variable if it's not
  defined yet.

* eval.c (rb_eval_string_wrap): should hide the toplevel local
  variable bindings by PUSH_SCOPE().
@
text
@a0 8
Tue Feb 19 13:38:10 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_cvar_set): define new class variable if it's not
	  defined yet.

	* eval.c (rb_eval_string_wrap): should hide the toplevel local
	  variable bindings by PUSH_SCOPE().

@


1.285.2.347
log
@* marshal.c (r_object): complete restoration before calling
  r_regist().

* parse.y (yylex): operators in the "op" rule should make
  lex_state EXPR_ARG on EXPR_FNAME and EXPR_DOT.
@
text
@a0 8
Tue Feb 19 14:45:32 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (r_object): complete restoration before calling
	  r_regist(). 

	* parse.y (yylex): operators in the "op" rule should make
	  lex_state EXPR_ARG on EXPR_FNAME and EXPR_DOT.

@


1.285.2.348
log
@aamine
* lib/net/http.rb: remove unused class Accumulator.
* lib/net/http.rb: read response in HTTP#request. not HTTPRequest#exec.
* lib/net/http.rb: proxy related class instance variables are not initialized correctly.
* doc/net/http.rb: modify typo in the description of basic auth.
@
text
@a0 12
Tue Feb 19 22:49:29 2002  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/http.rb: remove unused class Accumulator.

	* lib/net/http.rb: read response in HTTP#request. not
	  HTTPRequest#exec.

	* lib/net/http.rb: proxy related class instance variables are not
	  initialized correctly.

	* doc/net/http.rb: modify typo in the description of basic auth.

@


1.285.2.349
log
@* hash.c (rb_any_cmp): should handle Qundef in keys.

* eval.c (remove_method): should not remove a empty method to
  implement "undef".

* eval.c (rb_eval): should allow singleton class def for
  true/false/nil.

* parse.y (str_extend): backslash escape was done wrong.

* class.c (rb_include_module): should preserve ancestor order in
  the included class/module.
@
text
@a0 10
Wed Feb 20 12:41:59 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_any_cmp): should handle Qundef in keys.

	* eval.c (remove_method): should not remove a empty method to
	  implement "undef".

	* eval.c (rb_eval): should allow singleton class def for
	  true/false/nil.

a11 9

Tue Feb 19 20:20:12 2002  Ed Sinjiashvili  <edsin@@swes.saren.ru>

	* parse.y (str_extend): backslash escape was done wrong.

Tue Feb 19 15:51:41 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_include_module): should preserve ancestor order in
	  the included class/module.
@


1.285.2.350
log
@* intern.h: prototypes; rb_io_addstr(), rb_io_printf(),
  rb_io_print(), rb_io_puts()

* io.c (rb_io_addstr): make extern.

* io.c (rb_io_printf): ditto.

* io.c (rb_io_print): ditto.

* io.c (rb_io_puts): ditto.
@
text
@a0 13
Wed Feb 20 15:15:03 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* intern.h: prototypes; rb_io_addstr(), rb_io_printf(),
	  rb_io_print(), rb_io_puts()

	* io.c (rb_io_addstr): make extern.

	* io.c (rb_io_printf): ditto.

	* io.c (rb_io_print): ditto.

	* io.c (rb_io_puts): ditto.

@


1.285.2.351
log
@* bignum.c (get2comp): need to specify to carry or not.
@
text
@a0 4
Fri Feb 22 03:34:38 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (get2comp): need to specify to carry or not.

@


1.285.2.352
log
@* win32/config.status.in: set LIBRUBY_SO.
@
text
@a0 4
Fri Feb 22 19:59:33 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* win32/config.status.in: set LIBRUBY_SO.

@


1.285.2.353
log
@* misc/ruby-mode.el (ruby-modifier-re): add rescue modifier.

* misc/ruby-mode.el (ruby-font-lock-keywords): fontify
  instance/class/global variables start with '_'.
@
text
@a72 7
Mon Feb 18 14:23:10 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* misc/ruby-mode.el (ruby-modifier-re): add rescue modifier.

	* misc/ruby-mode.el (ruby-font-lock-keywords): fontify
	  instance/class/global variables start with '_'.

@


1.285.2.354
log
@* lib/net/protocol.rb: set read_timeout dynamically.
@
text
@a0 4
Fri Feb 22 22:00:08 2002  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/protocol.rb: set read_timeout dynamically.

@


1.285.2.355
log
@* ext/digest/*/*.h: Merge from rough.
  - Avoid namespace pollution. (MD5_* -> rb_Digest_MD5_*, etc.)
@
text
@a0 5
Sun Feb 24 17:20:50 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/*/*.h: Merge from rough.
	  - Avoid namespace pollution. (MD5_* -> rb_Digest_MD5_*, etc.)

@


1.285.2.356
log
@* lib/time.rb: fix unit tests before Unix Epoch.
@
text
@a0 4
Mon Jan  7 12:38:47 2002  Tanaka Akira  <akr@@m17n.org>

        * lib/time.rb: fix unit tests before Unix Epoch.

@


1.285.2.357
log
@* lib/shell.rb (Shell::expand_path): relative to @@cwd.
@
text
@a0 4
Mon Feb 25 13:32:13 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* lib/shell.rb (Shell::expand_path): relative to @@cwd.

@


1.285.2.358
log
@* process.c (rb_syswait): thread kludge; should be fixed to
  support native thread.
@
text
@d5 4
a13 5
Sat Feb 23 21:12:13 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* process.c (rb_syswait): thread kludge; should be fixed to
	  support native thread.

a354 4

Mon Jan  7 12:38:47 2002  Tanaka Akira  <akr@@m17n.org>

        * lib/time.rb: fix unit tests before Unix Epoch.
@


1.285.2.359
log
@* process.c (rb_syswait): argument order of rb_waitpid() inverted.

* sample/test.rb (system): test with scripts under the source
  directory.
@
text
@a0 7
Mon Feb 25 19:35:48 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* process.c (rb_syswait): argument order of rb_waitpid() inverted.

	* sample/test.rb (system): test with scripts under the source
	  directory.

@


1.285.2.360
log
@* ext/syslog/syslog.c: Merge from rough.  Turn Syslog into a
  module keeping backward compatibility intact.
@
text
@a0 5
Mon Feb 25 21:28:46 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/syslog/syslog.c: Merge from rough.  Turn Syslog into a
	  module keeping backward compatibility intact.

@


1.285.2.361
log
@* lib/uri/generic.rb: merge0 shuld return [oth, oth] if oth is absolute URI.
* lib/uri/generic.rb: registry part must not be allowed for any schemes for the Internet. (RFC2396, section 3.2.2 and 3.2.1.)
@
text
@a0 8
Tue Feb 26 11:25:50 2002  akira yamada  <akira@@arika.org>

	* lib/uri/generic.rb: merge0 shuld return [oth, oth] if oth is
	  absolute URI. 

	* lib/uri/generic.rb: registry part must not be allowed for any
	  schemes for the Internet. (RFC2396, section 3.2.2 and 3.2.1.) 

@


1.285.2.362
log
@* bignum.c (rb_big_2comp): void function cannot return any value.
@
text
@a0 4
Tue Feb 26 21:36:01 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* bignum.c (rb_big_2comp): void function cannot return any value.

@


1.285.2.363
log
@* ext/digest/sha2/sha2.c: Merge from rough.  Fix a couple of
  off-by-one errors in Aaron Gifford's code.

  Obtained from:  KAME via FreeBSD
  KAME PR:        393
  FreeBSD PR:     kern/34242
@
text
@a0 9
Wed Feb 27 07:08:16 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/digest/sha2/sha2.c: Merge from rough.  Fix a couple of
	  off-by-one errors in Aaron Gifford's code.

	  Obtained from:  KAME via FreeBSD
	  KAME PR:        393
	  FreeBSD PR:     kern/34242

@


1.285.2.364
log
@* io.c (READ_DATA_PENDING): uClibc support.
* random.c (rand_init): ditto.
* ext/socket/{addinfo.h,getaddrinfo.c} (gai_strerror): ditto.
@
text
@a0 8
Wed Feb 27 13:18:49 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* io.c (READ_DATA_PENDING): uClibc support.

	* random.c (rand_init): ditto.

	* ext/socket/{addinfo.h,getaddrinfo.c} (gai_strerror): ditto.

@


1.285.2.365
log
@* eval.c (rb_f_missing): NoMethod error messages for true, false,
  nil must respond visibility like for other objects.
@
text
@a0 4
Wed Feb 27 13:49:24 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* stable version 1.6.6 released.

a20 5

Tue Feb 26 16:52:12 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_f_missing): NoMethod error messages for true, false,
	  nil must respond visibility like for other objects.
@


1.285.2.366
log
@* st.c (st_init_table_with_size): num_bins should be prime numbers
  (no decrement).

* st.c (rehash): ditto.
@
text
@d1 1
a1 1
Wed Feb 27 16:31:38 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>
d3 1
a3 8
	* stable version 1.6.7 released.

Wed Feb 27 16:30:50 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* st.c (st_init_table_with_size): num_bins should be prime numbers
	  (no decrement).

	* st.c (rehash): ditto.
@


1.285.2.367
log
@* ext/socket/{addinfo.h,getaddrinfo.c} (gai_strerror): add const
  qualifier only for uClibc.
@
text
@a0 5
Fri Mar  1 11:29:10 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/socket/{addinfo.h,getaddrinfo.c} (gai_strerror): add const
	  qualifier only for uClibc.

@


1.285.2.368
log
@* stable version 1.6.7 released.
@
text
@a0 4
Fri Mar  1 23:08:16 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* stable version 1.6.7 released.

d5 4
@


1.285.2.369
log
@fix log date.
@
text
@a66 4
Mon Feb 25 05:41:52 2002  Tanaka Akira  <akr@@m17n.org>

        * lib/time.rb: fix unit tests before Unix Epoch.

d418 4
@


1.285.2.370
log
@* ext/extmk.rb.in (dir_config): Sync with mkmf.rb: Fix a bug where
  --with-xx-{include,lib} is ignored when --with-xx-dir is
  specified.
@
text
@a0 6
Mon Mar  4 13:23:16 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/extmk.rb.in (dir_config): Sync with mkmf.rb: Fix a bug where
	  --with-xx-{include,lib} is ignored when --with-xx-dir is
	  specified.

@


1.285.2.371
log
@* ext/extmk.rb.in (create_makefile): remove unnecessary -L option from
  LIBS macro.
* ext/extmk.rb.in (extmake): default $LIBPATH to $libdir.
* win32/win32.c (NtCmdGlob): avoid VC++ warning.
@
text
@a0 9
Tue Mar  5 03:39:27 2002  Usaku Nakamura <usa@@ruby-lang.org>

	* ext/extmk.rb.in (create_makefile): remove unnecessary -L option from
	  LIBS macro.

	* ext/extmk.rb.in (extmake): default $LIBPATH to $libdir.

	* win32/win32.c (NtCmdGlob): avoid VC++ warning.

@


1.285.2.372
log
@* dln.c (dln_load): use LoadLibrary instead of LoadLibraryEx.
@
text
@a0 4
Wed Mar  6 17:58:08 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* dln.c (dln_load): use LoadLibrary instead of LoadLibraryEx.

@


1.285.2.373
log
@* gc.c (rb_source_filename): added. holds unique strings for file
  names with GC space.

* gc.c (rb_gc_mark): mark source file name.

* gc.c (gc_sweep): ditto.

* gc.c (Init_GC): initialize source file name table.

* intern.h (rb_source_filename): added.

* eval.c (rb_eval_string): use rb_source_filename().

* parse.y (yycompile): ditto.

* ruby.c (proc_options): ditto.

* ruby.c (load_file): ditto.

* ruby.c (ruby_script): ditto.

* ruby.c (ruby_prog_init): ditto.
@
text
@a0 25
Thu Mar  7 20:08:25 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* gc.c (rb_source_filename): added. holds unique strings for file
	  names with GC space.

	* gc.c (rb_gc_mark): mark source file name.

	* gc.c (gc_sweep): ditto.

	* gc.c (Init_GC): initialize source file name table.

	* intern.h (rb_source_filename): added.

	* eval.c (rb_eval_string): use rb_source_filename().

	* parse.y (yycompile): ditto.

	* ruby.c (proc_options): ditto.

	* ruby.c (load_file): ditto.

	* ruby.c (ruby_script): ditto.

	* ruby.c (ruby_prog_init): ditto.

@


1.285.2.374
log
@* eval.c (cvar_cbase): utility function to find innermost non
  singleton cbase.

* eval.c (is_defined): adopt new cvar behavior.

* eval.c (rb_eval): ditto.

* eval.c (assign): ditto.
@
text
@a0 11
Fri Mar  8 02:21:32 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (cvar_cbase): utility function to find innermost non
	  singleton cbase.

	* eval.c (is_defined): adopt new cvar behavior.

	* eval.c (rb_eval): ditto.

	* eval.c (assign): ditto.

a43 11

Mon Mar  4 00:09:55 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): should initialize outer class variables from
	  methods in singleton class definitions.

	* eval.c (assign): ditto.

Sun Mar  3 15:02:23 2002  akira yamada  <akira@@arika.org>

	* marshal.c (r_object): should call "call", not "yield".
@


1.285.2.375
log
@Fix some typos.
@
text
@d111 2
a112 2
	* lib/uri/generic.rb: merge0 should return [oth, oth] if oth is
	  absolute URI.
d176 1
a176 1
	* eval.c (remove_method): should not remove an empty method to
d254 1
a254 1
	* eval.c (rb_eval): singleton check should be moved from yycompile
d273 1
a273 1
	  by singleton def statements.
d370 1
d3095 1
a3095 1
	  an IO (T_FILE).
@


1.285.2.376
log
@* regex.c (re_compile_pattern): '\0111' should be '\011' plus '1',
  since octal literals are formed by three digits at most.

* eval.c (rb_eval_cmd): cbase should not be NULL; it should be
  either ruby_wrapper or Object.

* enum.c (enum_each_with_index): should return self.

* process.c (proc_setpgrp): should return value for non-void function.

* process.c (proc_getpgid): should raise exception if getpgid() return -1.

* string.c (rb_str_ljust): should return a duplicated string.

* string.c (rb_str_rjust): ditto.

* string.c (rb_str_center): ditto.
@
text
@a0 24
Mon Mar 11 18:03:37 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_compile_pattern): '\0111' should be '\011' plus '1',
	  since octal literals are formed by three digits at most.

Mon Mar 11 14:44:38 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval_cmd): cbase should not be NULL; it should be
	  either ruby_wrapper or Object.

Sun Mar 10 02:18:22 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* enum.c (enum_each_with_index): should return self.

	* process.c (proc_setpgrp): should return value for non-void function.

	* process.c (proc_getpgid): should raise exception if getpgid() return -1.

	* string.c (rb_str_ljust): should return a duplicated string.

	* string.c (rb_str_rjust): ditto.

	* string.c (rb_str_center): ditto.

@


1.285.2.377
log
@* lib/getopts.rb: Merge from 1.7.  Rewrite to fix some bugs and
  complete features.
    - Accept options with the colon in the first argument;
      getopts("a:bcd:") is equivalent to getopts("bc", "a:", "d:").
    - Do not discard the argument that caused an error.
    - Do not discard '-', which commonly stands for stdin or stdout.
    - Allow specifying a long option with a value using '='.
      (command --long-option=value)
    - Stop reading options when it meets a non-option argument.
@
text
@a0 12
Wed Mar 13 18:50:29 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/getopts.rb: Merge from 1.7.  Rewrite to fix some bugs and
	  complete features.
	    - Accept options with the colon in the first argument;
	      getopts("a:bcd:") is equivalent to getopts("bc", "a:", "d:").
	    - Do not discard the argument that caused an error.
	    - Do not discard '-', which commonly stands for stdin or stdout.
	    - Allow specifying a long option with a value using '='.
	      (command --long-option=value)
	    - Stop reading options when it meets a non-option argument.

@


1.285.2.378
log
@* re.c (rb_reg_match): should clear $~ if operand is nil.

* re.c (rb_reg_match2): ditto.
@
text
@a0 6
Thu Mar 14 00:29:12 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_match): should clear $~ if operand is nil.

	* re.c (rb_reg_match2): ditto.

@


1.285.2.379
log
@* class.c (rb_define_class): should handle autoload.

* class.c (rb_define_module): ditto.
@
text
@a0 6
Thu Mar 14 16:42:37 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (rb_define_class): should handle autoload.

	* class.c (rb_define_module): ditto.

@


1.285.2.380
log
@* enum.c (enum_find): catch a value before recycle.

* enum.c (enum_min): ditto.

* enum.c (enum_max): ditto.

* parse.y (parse_string): part of multi-byte sequence must not
  match to paren.

* parse.y (parse_qstring): ditto.

* parse.y (parse_quotedwords): ditto.

* parse.y (str_extend): handle multi-byte characters.
@
text
@a0 17
Mon Mar 18 10:55:03 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* enum.c (enum_find): catch a value before recycle.

	* enum.c (enum_min): ditto.

	* enum.c (enum_max): ditto.

	* parse.y (parse_string): part of multi-byte sequence must not
	  match to paren.

	* parse.y (parse_qstring): ditto.

	* parse.y (parse_quotedwords): ditto.

	* parse.y (str_extend): handle multi-byte characters.

@


1.285.2.381
log
@* re.c (rb_reg_search): should clear last_match if pos is out of
  string range.

* string.c (rb_str_index_m): ditto.

* string.c (rb_str_rindex): ditto.
@
text
@a17 9
Sat Mar 16 15:30:40 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_search): should clear last_match if pos is out of
	  string range.

	* string.c (rb_str_index_m): ditto.

	* string.c (rb_str_rindex): ditto.

@


1.285.2.382
log
@* dir.c (my_getcwd): the content of buf is uncertain and must not
  be printed when getcwd(buf, size) has failed.
@
text
@a0 5
Wed Mar 20 00:46:54 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* dir.c (my_getcwd): the content of buf is uncertain and must not
	  be printed when getcwd(buf, size) has failed.

@


1.285.2.383
log
@* configure.in: workaround for autoconf 2.53.
@
text
@a0 4
Wed Mar 20 16:24:49 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: workaround for autoconf 2.53.

@


1.285.2.384
log
@* eval.c (is_defined): should check receiver only once.

* eval.c (is_defined): should handle NODE_NEWLINE.

* file.c (rb_file_s_expand_path): memory leak fixed.
@
text
@a9 10
Wed Mar 20 16:05:37 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (is_defined): should check receiver only once.

	* eval.c (is_defined): should handle NODE_NEWLINE.

Wed Mar 20 11:29:25 2002  Aristarkh A Zagorodnikov  <xm@@xml-objects.com>

	* file.c (rb_file_s_expand_path): memory leak fixed.

@


1.285.2.385
log
@* win32/config.status.in: RUBY_SO_NAME had been changed long long ago.
@
text
@a0 5
Wed Mar 20 20:46:36 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* win32/config.status.in: RUBY_SO_NAME had been changed long long
	  ago.

@


1.285.2.386
log
@* eval.c (is_defined): label forgotten.
@
text
@a0 4
Wed Mar 20 22:08:51 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (is_defined): label forgotten.

@


1.285.2.387
log
@lib/net/protocol.rb: Protocol#start should return self.
@
text
@a0 4
Fri Mar 22 14:32:14 2002  Minero Aoki  <aamine@@loveruby.net>

	* lib/net/protocol.rb: Protocol#start should return self.

@


1.285.2.388
log
@add depend files
@
text
@a0 6
Mon Mar 25 11:32:21 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/digest: add depend files.

	* ext/syslog: ditto.

@


1.285.2.389
log
@* dln.c (dln_argv0): unused unless USE_DLN_A_OUT.
@
text
@a2 2
	* dln.c (dln_argv0): unused unless USE_DLN_A_OUT.

@


1.285.2.390
log
@* ext/socket/socket.c (bsock_do_not_rev_lookup_set): should not be
  allowed when $SAFE > 3.

* dir.c (fnmatch): "*/bar" (with FNM_PATHNAME flag) does not
  match "foo/bar".

* io.c (read_all): files on /proc filesystem with zero stat size,
  may have contents.

* eval.c (exec_under): changing ruby_class is OK, but should not
  alter cbase.

* eval.c (yield_under_i): ditto.
@
text
@a0 5
Mon Mar 25 13:24:20 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/socket/socket.c (bsock_do_not_rev_lookup_set): should not be
	  allowed when $SAFE > 3.

a7 17

Sun Mar 24 12:19:09 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* dir.c (fnmatch): "*/bar" (with FNM_PATHNAME flag) does not
	  match "foo/bar".

Sat Mar 23 01:50:30 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (read_all): files on /proc filesystem with zero stat size,
	  may have contents.

Fri Mar 22 15:04:03 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (exec_under): changing ruby_class is OK, but should not
	  alter cbase.

	* eval.c (yield_under_i): ditto.
@


1.285.2.391
log
@* ext/extmk.rb.in (arg_config): get rid of single quotes for autoconf 2.53.
@
text
@a0 5
Mon Mar 25 19:30:25 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb.in (arg_config): get rid of single quotes
	  for autoconf 2.53.

@


1.285.2.392
log
@* win32/mkexports.rb: support VC++.NET.
@
text
@a0 4
Tue Mar 26 14:08:11 2002  okabe katsuyuki <HGC02147@@nifty.ne.jp>

	* win32/mkexports.rb: support VC++.NET.

@


1.285.2.393
log
@* ext/extmk.rb.in (arg_config): should use Shellwords::shellwords.
@
text
@a9 2
	* ext/extmk.rb.in (arg_config): should use Shellwords::shellwords.

@


1.285.2.394
log
@* file.c (rb_file_s_expand_path): Do not free the pointer obtained
  from getenv().
@
text
@a0 5
Wed Mar 27 04:44:48 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* file.c (rb_file_s_expand_path): Do not free the pointer obtained
	  from getenv().

@


1.285.2.395
log
@* io.c (READ_DATA_PENDING): uClibc 0.9.10 support.
  use !feof(fp) for default behavior.
@
text
@a0 5
Wed Mar 27 14:38:16 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* io.c (READ_DATA_PENDING): uClibc 0.9.10 support.
	  use !feof(fp) for default behavior.

@


1.285.2.396
log
@* lib/mkmf.rb (arg_config): should use Shellwords::shellwords like
  ext/extmk.rb.in.

* lib/mkmf.rb (enable_config): default had priority over command
  line options and configure_args.

* lib/mkmf.rb: support autoconf 2.53 style variables from
  environment.

* lib/mkmf.rb: add directory options.
@
text
@a0 13
Fri Mar 29 16:36:52 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* lib/mkmf.rb (arg_config): should use Shellwords::shellwords like
	  ext/extmk.rb.in.

	* lib/mkmf.rb (enable_config): default had priority over command
	  line options and configure_args.

	* lib/mkmf.rb: support autoconf 2.53 style variables from
	  environment.

	* lib/mkmf.rb: add directory options.

@


1.285.2.397
log
@* lib/mkmf.rb (create_makefile): default FLAGS to empty strings.
@
text
@a0 4
Fri Mar 29 20:21:58 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* lib/mkmf.rb (create_makefile): default FLAGS to empty strings.

@


1.285.2.398
log
@* re.c (match_setter): it's OK to assign nil to $~.
@
text
@a0 4
Mon Apr  1 10:56:40 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (match_setter): it's OK to assign nil to $~.

@


1.285.2.399
log
@* ext/extmk.rb.in (enable_config): follow lib/mkmf.rb.
@
text
@a0 4
Wed Apr  3 01:54:10 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/extmk.rb.in (enable_config): follow lib/mkmf.rb.

@


1.285.2.400
log
@* parse.y: avoid binson 1.35 warnings. add ; at the end of a rule.
@
text
@a0 4
Thu Apr  4 15:45:12 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* parse.y: avoid binson 1.35 warnings. add ; at the end of a rule.

@


1.285.2.401
log
@* ChangeLog: fix typo.
@
text
@d3 1
a3 1
	* parse.y: avoid bison 1.34 warnings. add `;' at the end of a rule.
@


1.285.2.402
log
@* misc/ruby-mode.el (ruby-font-lock-keywords): fontify symbols for
  unary operators and aset.
@
text
@a0 5
Wed Apr 10 14:16:45 2002  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* misc/ruby-mode.el (ruby-font-lock-keywords): fontify symbols for
	  unary operators and aset.

@


1.285.2.403
log
@* variable.c (rb_obj_remove_instance_variable): raise NameError if
  specified instance variable is not defined.

* variable.c (generic_ivar_remove): modified to check ivar
  existence.

* class.c (rb_singleton_class): wrong condition; was creating
  unnecessary singleton class.

* numeric.c (int_step): step may be a float less than 1.
@
text
@a0 9
<<<<<<< ChangeLog
Wed Apr 10 17:30:19 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_obj_remove_instance_variable): raise NameError if
	  specified instance variable is not defined.

	* variable.c (generic_ivar_remove): modified to check ivar
	  existence.

a5 5
Sat Apr  6 02:04:49 2002  Guy Decoux  <ts@@moulon.inra.fr>

	* class.c (rb_singleton_class): wrong condition; was creating
	  unnecessary singleton class.

a8 4

Thu Apr  4 01:08:23 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* numeric.c (int_step): step may be a float less than 1.
@


1.285.2.404
log
@conflicted
@
text
@d1 1
@


1.285.2.405
log
@	* lib/cgi/session.rb: support for multipart form.
@
text
@a0 4
Thu Apr 11 01:55:52 2002  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/cgi/session.rb: support for multipart form.

@


1.285.2.406
log
@* io.c (read_all): return "" if file.size == 0.
@
text
@a0 4
Thu Apr 11 18:40:38 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* io.c (read_all): return "" if file.size == 0.

@


1.285.2.407
log
@* random.c (rand_init): add check for initstate(3).
* configure.in: ditto.
@
text
@a4 4
	* random.c (rand_init): add check for initstate(3).

	* configure.in: ditto.

@


1.285.2.408
log
@* ext/socket/extconf.rb: include <windows.h>, <winsock.h> on _WIN32.
@
text
@a0 4
Fri Apr 19 17:06:48 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/socket/extconf.rb: include <windows.h>, <winsock.h> on _WIN32.
	
@


1.285.2.409
log
@* ext/extmk.rb.in (create_makefile): use `{$(srcdir)}' directive instead
  of `$(srcdir)/' when including depend file.

* lib/mkmf.rb (create_makefile): add `{$(srcdir)}' when including depend
  file.
@
text
@a0 8
Wed Apr 24 00:42:41 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* ext/extmk.rb.in (create_makefile): use `{$(srcdir)}' directive instead
	  of `$(srcdir)/' when including depend file.

	* lib/mkmf.rb (create_makefile): add `{$(srcdir)}' when including depend
	  file.

@


1.285.2.410
log
@* lib/mkmf.rb (create_makefile): should print depend file when
  make is other than nmake.
@
text
@a0 5
Wed Apr 24 01:16:14 2002  Nobuyoshi Nakada  <nobu@@ruby-lang.org>

	* lib/mkmf.rb (create_makefile): should print depend file when
	  make is other than nmake.

@


1.285.2.411
log
@* configure.in: set size of the initial stack from
  2MB to 32MB on MinGW/Cygwin.
@
text
@a0 5
Wed Apr 24 14:21:41 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: set size of the initial stack from
	  2MB to 32MB on MinGW/Cygwin.

@


1.285.2.412
log
@* util.c (push_element): avoid warning for djgpp.
@
text
@a5 2
	* util.c (push_element): avoid warning for djgpp.

@


1.285.2.413
log
@* win32/win32.c (insert): fix prototype for ANSI C.
@
text
@a0 4
Sun Apr 28 17:01:56 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.c (insert): fix prototype for ANSI C.

@


1.285.2.414
log
@* file.c (rb_find_file): load must be done from an abolute path if
  $SAFE >= 4.

* re.c (rb_reg_s_quote): quote whitespaces for /x cases.

* eval.c (rb_thread_cleanup): should not terminate main_thread by
  Fatal error.

* regex.c (is_in_list): need to not exclude NUL and NEWLINE.

* re.c (rb_reg_expr_str): wrong backslash escapement.

* re.c (rb_reg_expr_str): do not escape embedded space
  characters.

* eval.c (rb_thread_cleanup): current thread may be THREAD_STOPPED,
  for example when terminated from signal handler.

* re.c (rb_reg_expr_str): should treat backslash specially in
  escaping.

* bignum.c (rb_big_eq): check `y == x' if y is neither Fixnum,
  Bignum, nor Float.

* pack.c (pack_unpack): should treat 'U' in character unit, not in
  byte unit.

* marshal.c (w_uclass): should check based on rb_obj_class(), not
  CLASS_OF().

* io.c (io_write): check error if written data is less than
  specified size to detect EPIPE.

* eval.c (assign): ruby_verbose should be surrounded by RTEST().

* object.c (rb_str2cstr): ditto.

* parse.y (void_expr): ditto.

* parse.y (void_stmts): ditto.

* variable.c (rb_ivar_get): ditto.

* variable.c (rb_cvar_set): ditto.

* variable.c (rb_cvar_get): ditto.
@
text
@a0 5
Mon Apr 29 18:46:42 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_find_file): load must be done from an abolute path if
	  $SAFE >= 4.

a4 4
Fri Apr 26 13:41:00 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_s_quote): quote whitespaces for /x cases.

a24 14
Mon Apr 22 09:31:30 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_cleanup): should not terminate main_thread by
	  Fatal error.

	* regex.c (is_in_list): need to not exclude NUL and NEWLINE.

Sat Apr 20 00:19:13 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_expr_str): wrong backslash escapement.

	* re.c (rb_reg_expr_str): do not escape embedded space
	  characters.

a28 30
Fri Apr 19 01:08:20 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_cleanup): current thread may be THREAD_STOPPED,
	  for example when terminated from signal handler.

Wed Apr 17 16:53:33 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_expr_str): should treat backslash specially in
	  escaping.

Mon Apr 15 18:12:57 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big_eq): check `y == x' if y is neither Fixnum,
	  Bignum, nor Float.

Mon Apr 15 09:27:31 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* pack.c (pack_unpack): should treat 'U' in character unit, not in
	  byte unit.

Thu Apr 11 23:54:36 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_uclass): should check based on rb_obj_class(), not
	  CLASS_OF().

Thu Apr 11 20:01:44 2002  Masahiro Tomita  <tommy@@tmtm.org>

	* io.c (io_write): check error if written data is less than
	  specified size to detect EPIPE.

a35 16

Thu Apr 11 07:57:48 2002  Michal Rokos  <m.rokos@@sh.cvut.cz>

	* eval.c (assign): ruby_verbose should be surrounded by RTEST().

	* object.c (rb_str2cstr): ditto.

	* parse.y (void_expr): ditto.

	* parse.y (void_stmts): ditto.

	* variable.c (rb_ivar_get): ditto.

	* variable.c (rb_cvar_set): ditto.

	* variable.c (rb_cvar_get): ditto.
@


1.285.2.415
log
@* ext/extmk.rb.in, lib/mkmf.rb: use 'do...end' instead of '{}' for Borland make.
@
text
@a0 5
Thu May  2 18:27:13 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb.in, lib/mkmf.rb: use 'do...end' instead of '{}' for
	  Borland make.

@


1.285.2.416
log
@* eval.c, gc.c, intern.h, variable.c: declare rb_gc_mark{,maybe}()
  canonically in order not to confuse C++ compilers. (backported
  from 1.7, problem noted by ttate)
@
text
@a0 6
Sat May  4 20:55:10 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* eval.c, gc.c, intern.h, variable.c: declare rb_gc_mark{,maybe}()
	  canonically in order not to confuse C++ compilers. (backported
	  from 1.7, problem noted by ttate)

@


1.285.2.417
log
@* eval.c (superclass): undesirable "unexpected return" when the superclass is not a Class.
@
text
@a0 5
Tue May  7 09:21:12 2002  Minero Aoki  <aamine@@loveruby.net>

	* eval.c (superclass): undesirable "unexpected return" when the
	  superclass is not a Class.

@


1.285.2.418
log
@* eval.c (rb_yield_0): The destination of the goto jump was wrong.
@
text
@a0 4
Tue May  7 15:24:32 2002  Minero Aoki  <aamine@@loveruby.net>

	* eval.c (rb_yield_0): The destination of the goto jump was wrong.

@


1.285.2.419
log
@* parse.y (here_document): preserve line number begins here
  document.
@
text
@a0 5
Fri May 10 19:00:47 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (here_document): preserve line number begins here
	  document.

@


1.285.2.420
log
@* eval.c (blk_orphan): the wrong condition; backported from 1.7

* eval.c (rb_clear_cache_by_class): new function.

* eval.c (set_method_visibility): should have clear cache forq
  updated visibility.

* re.c (rb_reg_s_quote): # also should be quoted.
@
text
@a0 11
Tue May 14 09:15:39 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (blk_orphan): the wrong condition; backported from 1.7

Tue May 14 03:07:35 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_clear_cache_by_class): new function.

	* eval.c (set_method_visibility): should have clear cache forq
	  updated visibility.

a19 4

Thu May  2 23:42:40 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_s_quote): # also should be quoted.
@


1.285.2.421
log
@* gc.c (is_pointer_to_heap): avoid GCC 3.1 warnings.
* missing/strftime.c (timezone): it should take no argument on Cygwin.
@
text
@a0 6
Tue May 14 14:49:05 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* gc.c (is_pointer_to_heap): avoid GCC 3.1 warnings.

	* missing/strftime.c (timezone): it should take no argument on Cygwin.

@


1.285.2.422
log
@* djgpp/config.hin, djgpp/config.sed: catch up with the latest change.
@
text
@a0 4
Thu May 16 15:14:48 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* djgpp/config.hin, djgpp/config.sed: catch up with the latest change.

@


1.285.2.423
log
@* eval.c (rb_thread_select): cleanup conditional compilation.
@
text
@a0 4
Thu May 16 16:14:25 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_thread_select): cleanup conditional compilation.

@


1.285.2.424
log
@* sampl/test.rb: use eval instead of './miniruby -c',
  in order to check a syntax error.
@
text
@a0 5
Fri May 17 16:16:19 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* sampl/test.rb: use eval instead of './miniruby -c',
	  in order to check a syntax error.

@


1.285.2.425
log
@* io.c (rb_io_clone): writing stream was not copied properly.
@
text
@a0 4
Mon May 20 13:28:52 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* io.c (rb_io_clone): writing stream was not copied properly.

@


1.285.2.426
log
@Tue May 21 04:48:37 2002  Sean Chittenden <sean@@chittenden.org>

	* lib/cgi-lib.rb: Checking for constant MOD_RUBY instead of
	  environment variable. Remove a mod_ruby warning and use
	  Apache::request.headers_out[] instead.
@
text
@a0 6
Tue May 21 04:48:37 2002  Sean Chittenden <sean@@chittenden.org>

	* lib/cgi-lib.rb: Checking for constant MOD_RUBY instead of
	  environment variable. Remove a mod_ruby warning and use
	  Apache::request.headers_out[] instead.

@


1.285.2.427
log
@* misc/ruby-mode.el (ruby-font-lock-keywords): symbols end with '_'.
@
text
@a0 5
Tue May 21 13:25:18 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* misc/ruby-mode.el (ruby-font-lock-keywords): symbols end with
	  '_'.

@


1.285.2.428
log
@* eval.c (rb_thread_schedule): need to preserve errno before
  calling rb_trap_exec().

* regex.c (calculate_must_string): a bug in charset/charset_not
  parsing.
@
text
@a28 8
Wed May 15 06:13:35 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_schedule): need to preserve errno before
	  calling rb_trap_exec().

	* regex.c (calculate_must_string): a bug in charset/charset_not
	  parsing.

@


1.285.2.429
log
@* parse.y (yylex): case '<': here-document label ate '-'.
@
text
@a0 4
Wed May 22 18:40:22 2002  Minero Aoki  <aamine@@loveruby.net>

	* parse.y (yylex): case '<': here-document has eaten '-'.

@


1.285.2.430
log
@Wed May 22 20:18:31 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: need not link vsnprintf.o on MinGW.
@
text
@a0 4
Wed May 22 20:18:31 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: need not link vsnprintf.o on MinGW.

@


1.285.2.431
log
@* ruby.c (proc_options): -T consumes digits only.
@
text
@a0 4
Wed May 22 21:26:47 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ruby.c (proc_options): -T consumes digits only.

@


1.285.2.432
log
@updated to the new version (based on date2 2.6.1).
@
text
@a0 4
Wed May 22 21:36:11 2002  Tadayoshi Funaba  <tadf@@dotrb.org>

	* lib/parsedate.rb: updated to the new version (based on date2 2.6.1).

@


1.285.2.433
log
@* ruby.c (proc_options): removed "-*-" support for #! line.
@
text
@a0 4
Thu May 23 09:13:56 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.c (proc_options): removed "-*-" support for #! line.

@


1.285.2.434
log
@* ruby.c (proc_options): -v should not print version if
  proc_options called via moreswitches().
@
text
@a0 5
Thu May 23 14:52:32 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ruby.c (proc_options): -v should not print version if
	  proc_options called via moreswitches().

@


1.285.2.435
log
@* eval.c (scope_node): trick to keep the node has a scope.

* eval.c (rb_eval): NODE_EVSTR: write back local_tbl to the node.

* eval.c (rb_eval): NODE_SCOPE: hold the scope node in ruby_scope.

* eval.c (module_setup): ditto.

* eval.c (rb_call0): ditto.

* node.h (NEW_DASGN, NEW_DASGN_CURR): remove surplus semicolons.
@
text
@a0 14
Tue May 28 12:13:37 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (scope_node): trick to keep the node has a scope.

	* eval.c (rb_eval): NODE_EVSTR: write back local_tbl to the node.

	* eval.c (rb_eval): NODE_SCOPE: hold the scope node in ruby_scope.

	* eval.c (module_setup): ditto.

	* eval.c (rb_call0): ditto.

	* node.h (NEW_DASGN, NEW_DASGN_CURR): remove surplus semicolons.

@


1.285.2.436
log
@	* lib/cgi.rb: not use const if GET, HEAD. check multipart form head.
@
text
@a0 4
Wed May 29 13:45:15 2002  Wakou Aoyama  <wakou@@ruby-lang.org>

	* lib/cgi.rb: not use const if GET, HEAD. check multipart form head.

@


1.285.2.437
log
@* time.c (time_arg): nil test against v[6] (usec).
@
text
@a18 4
Fri May 24 09:06:29 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* time.c (time_arg): nil test against v[6] (usec).

@


1.285.2.438
log
@	* lib/cgi.rb: if StringIO is usable then use it.
@
text
@a0 4
Thu May 30 09:16:36 2002  Wakou Aoyama  <wakou@@ruby-lang.org>

	* lib/cgi.rb: if StringIO is usable then use it.

@


1.285.2.439
log
@* parse.y (here_document): check if identifier is terminated.
  (ruby-bugs-ja:PR#239)

* parse.y (yylex): should pushback proper char after '**'.
  (ruby-bugs-ja:PR#240)
@
text
@a0 8
Mon Jun  3 07:07:07 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (here_document): check if identifier is terminated.
	  (ruby-bugs-ja:PR#239)

	* parse.y (yylex): should pushback proper char after '**'.
	  (ruby-bugs-ja:PR#240)

@


1.285.2.440
log
@* ext/socket/addrinfo.h: typo.

* ext/socket/getaddrinfo.c (gai_strerror): get rid of warning.

* ext/socket/socket.c (init_inetsock): ensures resources are
  freed at exceptions.

* ext/socket/socket.c (init_unixsock): ditto.

* ext/socket/socket.c (udp_connect): ditto.
@
text
@a0 13
Tue Jun  4 00:45:50 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/socket/addrinfo.h: typo.

	* ext/socket/getaddrinfo.c (gai_strerror): get rid of warning.

	* ext/socket/socket.c (init_inetsock): ensures resources are
	  freed at exceptions.

	* ext/socket/socket.c (init_unixsock): ditto.

	* ext/socket/socket.c (udp_connect): ditto.

@


1.285.2.441
log
@commit miss
@
text
@d5 2
@


1.285.2.442
log
@* string.c (rb_str_aset): should raise error if an indexing string
  is not found in the receiver.

* sprintf.c (rb_f_sprintf): "%d" should convert objects into
  integers using Integer().
@
text
@a19 8
Mon Jun  3 05:56:17 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_aset): should raise error if an indexing string
	  is not found in the receiver.

	* sprintf.c (rb_f_sprintf): "%d" should convert objects into
	  integers using Integer().

@


1.285.2.443
log
@* math.c (Init_Math): backport asin, acos, atan.
@
text
@a0 4
Wed Jun  5 18:53:06 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* math.c (Init_Math): backport asin, acos, atan.

@


1.285.2.444
log
@* numeric.c (fix_lshift): negative shift count means right shift.
  (ruby-bugs-ja:PR#248)

* numeric.c (fix_rshift): return -1 when left side operand is
  negative. (ruby-bugs-ja:PR#247)

* parse.y (yylex): `0_' should be an error. (ruby-bugs-ja:PR#239)
@
text
@a0 10
Mon Jun 10 19:02:19 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* numeric.c (fix_lshift): negative shift count means right shift.
	  (ruby-bugs-ja:PR#248)

	* numeric.c (fix_rshift): return -1 when left side operand is
	  negative. (ruby-bugs-ja:PR#247)

	* parse.y (yylex): `0_' should be an error. (ruby-bugs-ja:PR#239)

@


1.285.2.445
log
@fix PR#.
@
text
@d9 1
a9 1
	* parse.y (yylex): `0_' should be an error. (ruby-bugs-ja:PR#249)
@


1.285.2.446
log
@* eval.c (rb_eval): ruby_frame->last_func may be null, if it's
  called outside of a method.

* parse.y (arg): use INT2NUM, not INT2FIX for tUMINUS.

* parse.y (arg): $1 may be null for tPOW.

* parse.y (stmt,arg): too much void value check.

* parse.y (arg): need to check void value on rules which does not
  use node_assign().

* ext/socket/socket.c (ipaddr): need not to taint hostnames.
@
text
@a10 20
Mon Jun 10 01:53:54 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): ruby_frame->last_func may be null, if it's
	  called outside of a method.

	* parse.y (arg): use INT2NUM, not INT2FIX for tUMINUS.

	* parse.y (arg): $1 may be null for tPOW.

Sat Jun  8 00:48:38 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (stmt,arg): too much void value check.

	* parse.y (arg): need to check void value on rules which does not
	  use node_assign().

Thu Jun  6 17:42:39 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/socket/socket.c (ipaddr): need not to taint hostnames.

@


1.285.2.447
log
@* parse.y (stmt): fix typo.
@
text
@a0 4
Wed Jun 12 15:00:57 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (stmt): fix typo.

@


1.285.2.448
log
@* parse.y (yylex): 'do' should return kDO_BLOCK on EXPR_ENDARG.

* parse.y (singleton): "def (()).a end" dumped core.

* parse.y (range_op): node may be null.

* parse.y (match_gen): ditto.
@
text
@a4 18
Wed Jun 12 01:10:40 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (singleton): "def (()).a end" dumped core.

	* parse.y (cond2): node may be null.

	* parse.y (match_gen): ditto.

Tue Jun 11 17:12:04 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (arg): void value check for "..", "...", "!", and "not".

	* parse.y (match_gen): void value check for "=~".

	* parse.y (value_expr): check NODE_AND and NODE_OR recursively.

	* parse.y (cond0): void value check added for conditionals.

@


1.285.2.449
log
@merged differences between uri-0.9.6 and uri-0.9.7
@
text
@a0 10
Wed Jun 12 18:04:44 2002  akira yamada  <akira@@arika.org>

	* uri/common.rb (REGEXP::PATTERN::X_ABS_URI): 'file:/foo' is valid.

	* uri/generic.rb (Generic#xxx=): should return substituted value.
	  (ruby-dev:16728.)

	* test/generic.rb (test_set_component): added tests for the above
	  change.

@


1.285.2.450
log
@* hash.c (rb_hash_s_create): use rb_hash_aset() instead of calling
  st_insert() directly, to dup&freeze string keys.

* parse.y (yylex): proper error message for "@@@@0".

* parse.y (yylex): paren to parse_string() must be zero for
  unparenthesized strings.

* parse.y (str_extend): broken string when unterminated "#{".
@
text
@a0 14
Thu Jun 13 00:33:49 2002  takuma ozawa  <metal@@mine.ne.jp>

	* hash.c (rb_hash_s_create): use rb_hash_aset() instead of calling
	  st_insert() directly, to dup&freeze string keys.

Thu Jun 13 00:12:54 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): proper error message for "@@@@0".

	* parse.y (yylex): paren to parse_string() must be zero for
	  unparenthesized strings.

	* parse.y (str_extend): broken string when unterminated "#{".

@


1.285.2.451
log
@* parse.y (read_escape): deny zero-width hexadecimal character.
  (ruby-bugs-ja:PR#260)

* parse.y (tokadd_escape): ditto.

* regex.c (re_compile_pattern): ditto.
@
text
@a0 9
Fri Jun 14 15:22:19 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (read_escape): deny zero-width hexadecimal character.
	  (ruby-bugs-ja:PR#260)

	* parse.y (tokadd_escape): ditto.

	* regex.c (re_compile_pattern): ditto.

@


1.285.2.452
log
@* dir.c (rb_glob_helper): Use lstat() instead of rb_sys_stat() so
  it catches a dead symlink.  Given a dead symlink named "a",
  Dir.glob("?") did catch it but Dir.glob("a") somehow didn't.
@
text
@a0 6
Sat Jun 15 19:30:44 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* dir.c (rb_glob_helper): Use lstat() instead of rb_sys_stat() so
	  it catches a dead symlink.  Given a dead symlink named "a",
	  Dir.glob("?") did catch it but Dir.glob("a") somehow didn't.

@


1.285.2.453
log
@* dln.c (dln_load): need to preserve dln_strerror() result,
  calling other dl family can clear it.
@
text
@a0 5
Mon Jun 17 10:51:37 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* dln.c (dln_load): need to preserve dln_strerror() result,
	  calling other dl family can clear it.

@


1.285.2.454
log
@* ext/extmk.rb, lib/mkmf.rb (xsystem): open the log file if xsystem is called.
@
text
@a0 5
Wed Jun 19 14:46:18 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/extmk.rb, lib/mkmf.rb (xsystem): open the log file if xsystem
	  is called.

@


1.285.2.455
log
@* lib/ftool.rb (BUFSIZE): tuning, set buffer length to 8192.
@
text
@a0 4
Thu Jun 20 17:10:27 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* lib/ftool.rb (BUFSIZE): tuning, set buffer length to 8192.

@


1.285.2.456
log
@* configure.in (__NO_ISOCEXT): add for mingw-runtime 2.0-2.
* configure.in (__MSVCRT__): removed because it is defined
  in the GCC specs.
@
text
@a4 5
	* configure.in (__NO_ISOCEXT): add for mingw-runtime 2.0-2.

	* configure.in (__MSVCRT__): removed because it is defined
	  in the GCC specs.

@


1.285.2.457
log
@* ext/readline/readline.c (readline_readline): get rid of
  libreadline's bug. (ruby-bugs-ja:PR#268)
@
text
@a0 5
Thu Jun 20 21:09:37 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/readline/readline.c (readline_readline): get rid of
	  libreadline's bug. (ruby-bugs-ja:PR#268)

@


1.285.2.458
log
@* dln.c: remark definition rb_loaderror().
@
text
@a0 4
Tue Jun 25 00:24:00 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* dln.c: remark definition rb_loaderror().

@


1.285.2.459
log
@* dln.c: remove definition rb_loaderror().
@
text
@d1 1
a1 1
Tue Jun 25 18:40:50 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>
d3 1
a3 1
	* dln.c: remove definition rb_loaderror().
@


1.285.2.460
log
@* win32/win32.c (rb_w32_stat): fix buffer overflow. (ruby-bugs:PR#329)
@
text
@a0 4
Fri Jun 28 00:51:19 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* win32/win32.c (rb_w32_stat): fix buffer overflow. (ruby-bugs:PR#329)

@


1.285.2.461
log
@* configure.in (seekdir, telldir): add ac_cv_func_telldir=yes,
  ac_cv_func_seekdir=yes for MinGW.
@
text
@a0 5
Sun Jun 30 17:05:29 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in (seekdir, telldir): add ac_cv_func_telldir=yes,
	  ac_cv_func_seekdir=yes for MinGW.

@


1.285.2.462
log
@	* lib/cgi.rb (CGI#header): accept any type as value.
@
text
@a0 4
Tue Jul  2 14:13:11 2002  Wakou Aoyama  <wakou@@ruby-lang.org>

	* lib/cgi.rb (CGI#header): accept any type as value.

@


1.285.2.463
log
@	* lib/cgi.rb (CGI#initialize): improvement for mod_ruby.
@
text
@a0 4
Wed Jul  3 02:32:31 2002  Wakou Aoyama  <wakou@@ruby-lang.org>

	* lib/cgi.rb (CGI#initialize): improvement for mod_ruby.

@


1.285.2.464
log
@	* lib/cgi.rb (CGI#initialize): improvement for mod_ruby.
	thanks to Sean Chittenden <sean@@ruby-lang.org>, Shugo Maeda
	<shugo@@modruby.net>
@
text
@a0 6
Fri Jul  5 05:00:40 2002  Wakou Aoyama  <wakou@@ruby-lang.org>

	* lib/cgi.rb (CGI#initialize): improvement for mod_ruby.
	thanks to Sean Chittenden <sean@@ruby-lang.org>, Shugo Maeda
	<shugo@@modruby.net>

@


1.285.2.465
log
@* string.c (rb_str_slice_bang): if there's no corresponding
  substring, slice! should return nil without exception.

* string.c (rb_str_split_m): accept separator value nil as well.

* class.c (include_class_new): module may be T_ICLASS; retrieve
  original module information.

* re.c (rb_reg_expr_str): need to process backslashes properly.

* parse.y (yylex): no here document after a dot.

* parse.y (yylex): should have set lex_state properly after '`'.

* parse.y (yylex): should have set lex_state properly after
  tOP_ASGN.

* bignum.c (rb_big2dbl): return canonical HUGE_VAL for infinity.
@
text
@a0 9
Thu Jul 11 09:00:43 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_slice_bang): if there's no corresponding
	  substring, slice! should return nil without exception.

Fri Jul  5 09:17:00 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_split_m): accept separator value nil as well.

a10 5
Tue Jul  2 14:53:10 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* class.c (include_class_new): module may be T_ICLASS; retrieve
	  original module information.

a23 4
Thu Jun 27 03:42:04 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_expr_str): need to process backslashes properly.

a57 9
Sat Jun 15 01:59:05 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (yylex): no here document after a dot.

	* parse.y (yylex): should have set lex_state properly after '`'.

	* parse.y (yylex): should have set lex_state properly after
	  tOP_ASGN.

a65 4

Fri Jun 14 00:49:54 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big2dbl): return canonical HUGE_VAL for infinity.
@


1.285.2.466
log
@* parse.y (yylex): should pushback proper char after '<<'.
@
text
@a0 4
Thu Jul 11 21:30:38 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (yylex): should pushback proper char after '<<'.

@


1.285.2.467
log
@* eval.c (rb_eval): fixed line number in string interpolation.

* parse.y (str_extend): ditto.
@
text
@a0 6
Fri Jul 12 00:51:09 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_eval): fixed line number in string interpolation.

	* parse.y (str_extend): ditto.

@


1.285.2.468
log
@* ext/tcltklib/stubs.c (ruby_tcltk_stubs): win32_getenv returns
  the same address always, so allocate string by ruby_strdup.
@
text
@a0 5
Tue Jul 30 15:24:07 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/tcltklib/stubs.c (ruby_tcltk_stubs): win32_getenv returns
	  the same address always, so allocate string by ruby_strdup.

@


1.285.2.469
log
@* eval.c (rb_undef): undef should be done for klass, not ruby_class.

* eval.c (error_handle): should handle TAG_THROW as well.
@
text
@a0 4
Wed Jul 31 14:11:43 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_undef): undef should be done for klass, not ruby_class.

a4 4

Mon Jul 22 17:23:00 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (error_handle): should handle TAG_THROW as well.
@


1.285.2.470
log
@* io.c (io_fread): return value was longer when EWOULDBLOCK
  occurred.
@
text
@a0 5
Thu Aug  1 13:51:30 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* io.c (io_fread): return value was longer when EWOULDBLOCK
	  occurred.

@


1.285.2.471
log
@* hash.c (rb_hash_equal): should check default values.

* ext/socket/socket.c (s_recvfrom): update RSTRING len.
@
text
@a0 8
Wed Aug  7 09:51:54 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (rb_hash_equal): should check default values.

Fri Aug  2 01:21:52 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/socket/socket.c (s_recvfrom): update RSTRING len.

@


1.285.2.472
log
@* eval.c (rb_thread_save_context, rb_thread_restore_context):
  save/restore SEH chain on MS-Windows at thread switch.
  [ruby-win32:273]

* eval.c (win32_get_exception_frame, win32_set_exception_frame):
  added.
@
text
@a0 9
Mon Aug 19 09:36:00 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_thread_save_context, rb_thread_restore_context):
	  save/restore SEH chain on MS-Windows at thread switch.
	  [ruby-win32:273]

	* eval.c (win32_get_exception_frame, win32_set_exception_frame):
	  added.

@


1.285.2.473
log
@particular symbol for win32_exception_list.
@
text
@d1 1
a1 1
Mon Aug 19 12:38:33 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>
d7 1
a7 1
	* eval.c (win32_get_exception_list, win32_set_exception_list):
@


1.285.2.474
log
@* array.c (sort_2): *a - *b may overflow.

* array.c (rb_ary_new2): len*sizeof(VALUE) may be a positive value.

* array.c (rb_ary_initialize): ditto.

* re.c (rb_reg_initialize): should not modify frozen Regexp.

* bignum.c (rb_uint2big): there should be no zero sized bignum.

* ext/extmk.rb.in: extmake() that works properly for both tkutil
  (tk/tkutil.so) and digest/sha1.
@
text
@a9 23
Sat Aug 17 23:01:25 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (sort_2): *a - *b may overflow.

Sat Aug 17 00:25:08 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (rb_ary_new2): len*sizeof(VALUE) may be a positive value.

	* array.c (rb_ary_initialize): ditto.

Thu Aug 15 00:48:46 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_initialize): should not modify frozen Regexp.

Tue Aug 13 00:37:11 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_uint2big): there should be no zero sized bignum.

Mon Aug 12 23:45:28 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ext/extmk.rb.in: extmake() that works properly for both tkutil
	  (tk/tkutil.so) and digest/sha1.

@


1.285.2.475
log
@* array.c (sort_2): comparison should be done as signed long.

* array.c (sort_2): should return int, not VALUE.
@
text
@a0 6
Mon Aug 19 15:38:44 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* array.c (sort_2): comparison should be done as signed long.

	* array.c (sort_2): should return int, not VALUE.

@


1.285.2.476
log
@* misc/inf-ruby.el (inf-ruby-keys): ruby-send-definition
  conflicted with ruby-insert-end.

* misc/inf-ruby.el (inferior-ruby-mode): compilation-minor-mode.

* misc/inf-ruby.el (ruby-send-region): send as here document to
  adjust source file/line.  [ruby-talk:47113], [ruby-dev:17965]

* misc/inf-ruby.el (ruby-send-terminator): added to make unique
  terminator.
@
text
@a0 13
Mon Aug 19 19:01:55 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* misc/inf-ruby.el (inf-ruby-keys): ruby-send-definition
	  conflicted with ruby-insert-end.

	* misc/inf-ruby.el (inferior-ruby-mode): compilation-minor-mode.

	* misc/inf-ruby.el (ruby-send-region): send as here document to
	  adjust source file/line.  [ruby-talk:47113], [ruby-dev:17965]

	* misc/inf-ruby.el (ruby-send-terminator): added to make unique
	  terminator.

@


1.285.2.477
log
@* file.c (rb_file_s_expand_path): accept drive letter on Cygwin.
* file.c (is_absolute_path): ditto.
@
text
@a0 6
Tue Aug 20 19:39:03 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* file.c (rb_file_s_expand_path): accept drive letter on Cygwin.

	* file.c (is_absolute_path): ditto.

@


1.285.2.478
log
@* eval.c (rb_thread_cleanup): should not modify the global
  variable curr_thread.

* re.c (rb_reg_initialize_m): frozen check should be moved here
  from rb_reg_initialize().
@
text
@a0 5
Wed Aug 21 16:43:19 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_cleanup): should not modify the global
	  variable curr_thread.

a18 5

Mon Aug 19 17:08:19 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* re.c (rb_reg_initialize_m): frozen check should be moved here
	  from rb_reg_initialize().
@


1.285.2.479
log
@* lib/time.rb (Time.rfc2822, Time#rfc2822): preserve localtimeness.

* lib/pp.rb: pretty_print_cycled is renamed to pretty_print_cycle.
@
text
@a0 4
Sat Aug 24 13:57:28 2002  Tanaka Akira  <akr@@m17n.org>

	* lib/time.rb (Time.rfc2822, Time#rfc2822): preserve localtimeness.

@


1.285.2.480
log
@	* lib/cgi.rb (CGI#form): fix ruby-bugs-ja:PR#280, add default action.
@
text
@a0 4
Sun Aug 25 20:10:32 2002  Wakou Aoyama  <wakou@@ruby-lang.org>

	* lib/cgi.rb (CGI#form): fix ruby-bugs-ja:PR#280, add default action.

@


1.285.2.481
log
@* gc.c (gc_sweep): does reclaim nodes in also compile time, if we can.
* ruby.c (load_file): omit GC if we can.
* parse.y (ruby_parser_stack_on_heap): new function.
* intern.h (ruby_parser_stack_on_heap): added.
@
text
@a0 11
Tue Sep  3 00:22:43 2002  Minero Aoki  <aamine@@loveruby.net>

	* gc.c (gc_sweep): does reclaim nodes in also compile time, if we
	  can.

	* ruby.c (load_file): omit GC if we can.

	* parse.y (ruby_parser_stack_on_heap): new function.

	* intern.h (ruby_parser_stack_on_heap): added.

@


1.285.2.482
log
@* eval.c (rb_eval): overriding false constant with class/module
  definition should be error.  (PR#327)

* eval.c (rb_call0): preset source file/line to pass correct ones
  to trace_func at end of empty method.  [ruby-dev:18035]

* ruby.c (require_libraries): not clear source file.
  [ruby-dev:18074]
@
text
@a0 11
Thu Sep  5 13:09:22 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_eval): overriding false constant with class/module
	  definition should be error.  (PR#327)

	* eval.c (rb_call0): preset source file/line to pass correct ones
	  to trace_func at end of empty method.  [ruby-dev:18035]

	* ruby.c (require_libraries): not clear source file.
	  [ruby-dev:18074]

@


1.285.2.483
log
@* gc.c (rb_gc): should mark parser.
* parse.y (rb_gc_mark_parser): new function.
* intern.h (rb_gc_mark_parser): added.
@
text
@a0 8
Fri Sep  6 05:11:48 2002  Minero Aoki  <aamine@@loveruby.net>

	* gc.c (rb_gc): should mark parser.

	* parse.y (rb_gc_mark_parser): new function.

	* intern.h (rb_gc_mark_parser): added.

@


1.285.2.484
log
@* file.c (rb_path_check): nothing to check under DOSISH.
  [ruby-list:35772]
@
text
@a0 5
Fri Sep  6 05:48:26 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* file.c (rb_path_check): nothing to check under DOSISH.
	  [ruby-list:35772]

@


1.285.2.485
log
@* parse.y (rb_gc_mark_parser): should mark all global variables in parse.y.
@
text
@a0 5
Fri Sep  6 12:01:18 2002  Minero Aoki  <aamine@@loveruby.net>

	* parse.y (rb_gc_mark_parser): should mark all global variables
	  in parse.y.

@


1.285.2.486
log
@* parse.y (rb_gc_mark_parser): ruby_eval_tree is marked in eval.c.
@
text
@a0 4
Sat Sep  7 08:44:27 2002  Minero Aoki  <aamine@@loveruby.net>

	* parse.y (rb_gc_mark_parser): ruby_eval_tree is marked in eval.c.

@


1.285.2.487
log
@* misc/inf-ruby.el (inferior-ruby-error-regexp-alist): regexp
  alist for error message from ruby.

* misc/inf-ruby.el (inferior-ruby-mode): fixed for Emacs.

* misc/inf-ruby.el (ruby-send-region): compilation-parse-errors
  doesn't parse first line, so insert separators before each
  evaluations.
@
text
@a0 11
Sat Sep  7 23:32:56 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* misc/inf-ruby.el (inferior-ruby-error-regexp-alist): regexp
	  alist for error message from ruby.

	* misc/inf-ruby.el (inferior-ruby-mode): fixed for Emacs.

	* misc/inf-ruby.el (ruby-send-region): compilation-parse-errors
	  doesn't parse first line, so insert separators before each
	  evaluations.

@


1.285.2.488
log
@* dir.c (rb_glob): add prototype of 2nd argument to avoid VC++ warning.

* dir.c (push_pattern): add const directive to 1st argument.

* dir.c: prototype; push_pattern() to avoid VC++ warning.

* ext/tcltklib/tcltklib.c: prototype; _timer_for_tcl() and ip_ruby()
  to avoid VC++ warning.

* win32/win32.c (win32_stat): remove S_IWGRP and S_IWOTH bits from
  st_mode.

* win32/win32.h (S_I*): define if not defined.
@
text
@a0 16
Sun Sep  8 19:21:48 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* dir.c (rb_glob): add prototype of 2nd argument to avoid VC++ warning.

	* dir.c (push_pattern): add const directive to 1st argument.

	* dir.c: prototype; push_pattern() to avoid VC++ warning.

	* ext/tcltklib/tcltklib.c: prototype; _timer_for_tcl() and ip_ruby()
	  to avoid VC++ warning.

	* win32/win32.c (win32_stat): remove S_IWGRP and S_IWOTH bits from
	  st_mode.

	* win32/win32.h (S_I*): define if not defined.

@


1.285.2.489
log
@* win32/win32.c (do_spawn): fix the bug which the environment variables
  had not spread.
@
text
@a0 5
Mon Sep  9 20:41:03 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* win32/win32.c (do_spawn): fix the bug which the environment variables
	  had not spread.

@


1.285.2.490
log
@* win32/win32.h (S_I?USR): define only if not mingw32.
@
text
@a0 4
Mon Sep  9 23:43:33 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* win32/win32.h (S_I?USR): define only if not mingw32.

@


1.285.2.491
log
@* lib/tempfile.rb: Merge from 1.7: Add Tempfile#size.
@
text
@a0 4
Wed Sep 11 16:15:06 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/tempfile.rb: Merge from 1.7: Add Tempfile#size.

@


1.285.2.492
log
@* lib/thread.rb: Merge from 1.7: Get rid of race condition in
  Queue#pop().

* lib/thread.rb: Merge from 1.7: SizedQueue: new(max) should not
  accept a value <= 0.

* lib/thread.rb: Merge from 1.7: SizedQueue: Properly override
  enq(), shift() and deq().
@
text
@a0 11
Wed Sep 11 16:24:22 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/thread.rb: Merge from 1.7: Get rid of race condition in
	  Queue#pop().

	* lib/thread.rb: Merge from 1.7: SizedQueue: new(max) should not
	  accept a value <= 0.

	* lib/thread.rb: Merge from 1.7: SizedQueue: Properly override
	  enq(), shift() and deq().

@


1.285.2.493
log
@* lib/open3.rb: Merge from 1.7: Turn sync on for the writer
  handle.

* lib/ping.rb: Merge from 1.7: Fix a typo.
@
text
@a0 7
Wed Sep 11 16:49:26 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* lib/open3.rb: Merge from 1.7: Turn sync on for the writer
	  handle.

	* lib/ping.rb: Merge from 1.7: Fix a typo.

@


1.285.2.494
log
@* eval.c (rb_trap_eval): preserve thread status and so on.
  [ruby-talk:40337], [ruby-core:00019]
@
text
@a0 5
Thu Sep 12 00:09:32 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (rb_trap_eval): preserve thread status and so on.
	  [ruby-talk:40337], [ruby-core:00019]

@


1.285.2.495
log
@* lib/mkmf.rb (create_makefile): Merge from 1.7: link with
  CONFIG["LIBS"].
@
text
@a0 5
Thu Sep 12 00:52:15 2002  NAKAMURA Usaku <usa@@ruby-lang.org>

	* lib/mkmf.rb (create_makefile): Merge from 1.7: link with
	  CONFIG["LIBS"].

@


1.285.2.496
log
@* win32/win32.c (opendir): Corresponds to the unjust path containing ".
                   (win32_stat) : ditto.
@
text
@a0 5
Sun Sep 15 21:42:07 2002  KONISHI Hiromasa <konishih@@fd6.so-net.ne.jp>

	* win32/win32.c (opendir): Corresponds to the unjust path containing ".
	                (win32_stat) : ditto.

@


1.285.2.497
log
@* lib/mkmf.rb: some backports.
@
text
@a0 4
Sun Sep 22 15:31:33 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* lib/mkmf.rb: some backports.

@


1.285.2.498
log
@* eval.c (ruby_run): should set toplevel visibility again here.

* eval.c (rb_eval): should not rely on ruby_class == rb_cObject
  check.   Besides allow implicit publicity for attribute set
  methods.

* parse.y (primary): need not to check class_nest, just set
  whether method is an attrset or not.

* string.c (rb_str_each_line): p might be at the top of the
  string.

* variable.c (rb_path2class): should not use rb_eval_string().

* parse.y (str_extend): expression substitution can contain string
  terminator again.

* parse.y (yylex): the warning message "invalid
  character syntax" was never issued.

* file.c (rb_find_file): $LOAD_PATH must not be empty.

* file.c (rb_find_file_ext): ditto.

* range.c (range_eq): class check should be based on range.class,
  instead of Range to work with Range.dup.

* range.c (range_eql): ditto.
@
text
@a0 16
Mon Sep 23 02:46:29 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (ruby_run): should set toplevel visibility again here. 

	* eval.c (rb_eval): should not rely on ruby_class == rb_cObject
	  check.   Besides allow implicit publicity for attribute set
	  methods.

	* parse.y (primary): need not to check class_nest, just set
	  whether method is an attrset or not.

Sun Sep 22 17:08:11 2002  Tanaka Akira  <akr@@m17n.org>
	
	* string.c (rb_str_each_line): p might be at the top of the
	  string.

a99 9
Thu Sep  5 18:32:32 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* variable.c (rb_path2class): should not use rb_eval_string().

Thu Sep  5 15:33:16 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* parse.y (str_extend): expression substitution can contain string
	  terminator again.

a110 5
Wed Sep  4 05:10:16 2002  Koji Arai  <jca02266@@nifty.ne.jp>

	* parse.y (yylex): the warning message "invalid
          character syntax" was never issued.

a120 13

Tue Aug 27 15:03:35 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* file.c (rb_find_file): $LOAD_PATH must not be empty.

	* file.c (rb_find_file_ext): ditto.

Tue Aug 27 02:35:21 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* range.c (range_eq): class check should be based on range.class,
	  instead of Range to work with Range.dup.

	* range.c (range_eql): ditto.
@


1.285.2.499
log
@* regex.c (re_match): p1 may exceed pend limit.
@
text
@a0 4
Wed Sep 25 16:14:51 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_match): p1 may exceed pend limit.

@


1.285.2.500
log
@	* ext/socket/socket.c (sock_new): duplicate underlying socket
	  handle not only descriptor.  [ruby-talk:40015]

	* ext/socket/socket.c (bsock_close_read, bsock_close_write): not
	  use myfdclose().

	* win32/win32.c, win32/win32.h (myfddup, myfdclose): delete.
@
text
@a0 10
Tue Oct  1 23:48:32 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/socket/socket.c (sock_new): duplicate underlying socket
	  handle not only descriptor.  [ruby-talk:40015]

	* ext/socket/socket.c (bsock_close_read, bsock_close_write): not
	  use myfdclose().

	* win32/win32.c, win32/win32.h (myfddup, myfdclose): delete.

@


1.285.2.501
log
@* configure.in: set ac_cv_func_setitimer to "no" on Cygwin.
@
text
@a0 4
Wed Oct  2 13:03:58 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in: set ac_cv_func_setitimer to "no" on Cygwin.

@


1.285.2.502
log
@* ext/tcltklib/tcltklib.c (invoke_queue_handler): make singleton
  method object to run handler in separated safe level.

* ext/tcltklib/tcltklib.c (ip_invoke): requires command name
  argument.
@
text
@a0 8
Thu Oct  3 20:09:52 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/tcltklib/tcltklib.c (invoke_queue_handler): make singleton
	  method object to run handler in separated safe level.

	* ext/tcltklib/tcltklib.c (ip_invoke): requires command name
	  argument.

@


1.285.2.503
log
@* configure.in (RUBY_PROG_GNU_LD): check whether the linker is GNU ld.
* ext/extmk.rb.in (create_makefile): add -Wl,-no-undefined to $DLDFLAGS
  on Linux if GNU ld is used and --enable-shared is specified.
* configure.in (RUBY_MINGW32): backport from 1.7.
@
text
@a0 9
Fri Oct  4 14:23:08 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* configure.in (RUBY_PROG_GNU_LD): check whether the linker is GNU ld.

	* ext/extmk.rb.in (create_makefile): add -Wl,-no-undefined to $DLDFLAGS
	  on Linux if GNU ld is used and --enable-shared is specified.

	* configure.in (RUBY_MINGW32): backport from 1.7.

@


1.285.2.504
log
@* eval.c (rb_load): should not pass block to the loaded file.
@
text
@a0 4
Sun Oct  6 06:11:19 2002  Minero Aoki  <aamine@@loveruby.net>

	* eval.c (rb_load): should not pass block to the loaded file.

@


1.285.2.505
log
@* bignum.c (bigdivmod): wrong condition check for Bignum zero.

* bignum.c (Init_Bignum): need to add Bignum#div.
@
text
@a0 6
Mon Oct  7 15:36:42 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (bigdivmod): wrong condition check for Bignum zero.

	* bignum.c (Init_Bignum): need to add Bignum#div.

a12 7

Fri Oct  4 02:21:16 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (rb_big_rshift): num should be initialized by carry
	  bits if x is negative. (ruby-bugs-ja:PR#347)

	* bignum.c (bigdivmod): len for bignum zero is 1, not 0.
@


1.285.2.506
log
@* bignum.c (bigdivrem): bignum zero's len should not be 0.
@
text
@a0 4
Mon Oct  7 16:43:07 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* bignum.c (bigdivrem): bignum zero's len should not be 0.

@


1.285.2.507
log
@* eval.c (ruby_init): Init_stack() with local location.
  (ruby-bugs-ja:PR#277)

* gc.c (Init_stack): prefer address of argument rather than local
  variable to initialize rb_gc_stack_start.

* lib/weakref.rb (WeakRef::@@@@final): use Hash#delete.

* lib/weakref.rb (WeakRef::__getobj__): examin if alive or not by
  ID_REV_MAP to deal with recycled object.  [ruby-dev:18472]

* lib/weakref.rb (WeakRef::weakref_alive?): ditto.
@
text
@a0 15
Thu Oct 10 15:20:18 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* eval.c (ruby_init): Init_stack() with local location.
	  (ruby-bugs-ja:PR#277)

	* gc.c (Init_stack): prefer address of argument rather than local
	  variable to initialize rb_gc_stack_start.

	* lib/weakref.rb (WeakRef::@@@@final): use Hash#delete.

	* lib/weakref.rb (WeakRef::__getobj__): examin if alive or not by
	  ID_REV_MAP to deal with recycled object.  [ruby-dev:18472]

	* lib/weakref.rb (WeakRef::weakref_alive?): ditto.

@


1.285.2.508
log
@* ext/tcltklib/stubs.c (ruby_tcltk_stubs): fix memory leak.
  [ruby-dev:18478]
@
text
@a0 5
Thu Oct 10 17:26:12 2002  WATANABE Hirofumi  <eban@@ruby-lang.org>

	* ext/tcltklib/stubs.c (ruby_tcltk_stubs): fix memory leak.
	  [ruby-dev:18478]

@


1.285.2.509
log
@* win32/win32.c (win32_fclose, win32_close): use closesocket()
  for socket.  [ruby-win32:382]

* win32/win32.c (StartSockets): set NtSocketsInitialized.

* win32/win32.h: prototypes; win32_fclose, win32_close
@
text
@a0 9
Fri Oct 11 06:05:30 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* win32/win32.c (win32_fclose, win32_close): use closesocket()
	  for socket.  [ruby-win32:382]

	* win32/win32.c (StartSockets): set NtSocketsInitialized.

	* win32/win32.h: prototypes; win32_fclose, win32_close

@


1.285.2.510
log
@* eval.c (rb_eval): need to push empty varmap node only when
  ruby_dyna_var is NULL.
@
text
@a0 5
Thu Oct 17 15:20:11 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_eval): need to push empty varmap node only when
	  ruby_dyna_var is NULL.

@


1.285.2.511
log
@* hash.c, eval.c: Use (*_NSGetEnviron()) instead of environ on
  Darwin for namespace cleanness.  [ruby-core:00537]

* dln.c (dln_load): Fix Darwin support that has been disabled and
  switch to using it on Darwin instead of the system dlopen().
  [ruby-core:00541]
@
text
@a0 9
Fri Oct 18 01:25:51 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* hash.c, eval.c: Use (*_NSGetEnviron()) instead of environ on
	  Darwin for namespace cleanness.  [ruby-core:00537]

	* dln.c (dln_load): Fix Darwin support that has been disabled and
	  switch to using it on Darwin instead of the system dlopen().
	  [ruby-core:00541]

@


1.285.2.512
log
@* parse.y (value_expr0): allow return/break/next/redo/retry in rhs
  of logical operator.  [ruby-dev:18534]

* parse.y (remove_begin): eliminate useless NODE_BEGIN.
  [ruby-dev:18535]
@
text
@a0 8
Fri Oct 18 23:39:00 2002  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* parse.y (value_expr0): allow return/break/next/redo/retry in rhs
	  of logical operator.  [ruby-dev:18534]

	* parse.y (remove_begin): eliminate useless NODE_BEGIN.
	  [ruby-dev:18535]

@


1.285.2.513
log
@* eval.c (rb_eval): local_vars[-1] should protect body, not a
  local_tbl.

* marshal.c (w_object): check if klass is really a class.
@
text
@a0 9
Tue Oct 22 18:15:49 2002  Guy Decoux  <ts@@moulon.inra.fr>

	* eval.c (rb_eval): local_vars[-1] should protect body, not a
	  local_tbl.

Tue Oct 22 02:31:16 2002  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* marshal.c (w_object): check if klass is really a class.

@


1.285.2.514
log
@* eval.c, gc.c: use a common set of alloca() #ifdef's.  This fixes
  the build with Intel C Compiler for Linux.
@
text
@a0 5
Sat Oct 26 04:36:01 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* eval.c, gc.c: use a common set of alloca() #ifdef's.  This fixes
	  the build with Intel C Compiler for Linux.

@


1.285.2.515
log
@* ext/dbm/dbm.c (fdbm_indexes, fdbm_select): add a missing
  argument and prevent coredump when a nonexistent key is
  specified.

* ext/sdbm/init.c (fsdbm_indexes, fsdbm_select): ditto.
@
text
@a0 8
Sat Oct 26 04:38:25 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* ext/dbm/dbm.c (fdbm_indexes, fdbm_select): add a missing
	  argument and prevent coredump when a nonexistent key is
	  specified.

	* ext/sdbm/init.c (fsdbm_indexes, fsdbm_select): ditto.
  
@


1.285.2.516
log
@* parse.y (str_extend): pushback() takes one argument, so properly
  pass c to it.
@
text
@a0 5
Sat Oct 26 04:39:48 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* parse.y (str_extend): pushback() takes one argument, so properly
	  pass c to it.

@


1.285.2.517
log
@* array.c, class.c, eval.c, file.c, gc.c, node.h, numeric.c,
  object.c, parse.y, range.c, re.c, string.c, struct.c, util.c,
  ext/socket/socket.c: merge from 1.7: treat long values as long
  instead of int.
@
text
@a0 7
Sun Oct 27 00:55:21 2002  Akinori MUSHA  <knu@@iDaemons.org>

	* array.c, class.c, eval.c, file.c, gc.c, node.h, numeric.c,
	  object.c, parse.y, range.c, re.c, string.c, struct.c, util.c,
	  ext/socket/socket.c: merge from 1.7: treat long values as long
	  instead of int.

@


1.285.2.518
log
@* error.c (init_syserr): remove sys_nerr dependency.
@
text
@a0 5
Thu Oct 31 09:31:51 2002  K.Kosako  <kosako@@sofnec.co.jp>

	* eval.c (rb_export_method): undef'ed method visibility should not
	  be changed.

@


1.284
log
@001225
@
text
@d1 4
a26 4

Fri Dec 22 17:59:30 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* stable version 1.6.2 released.
@


1.283
log
@wakou
@
text
@d13 30
d55 1
a55 1
Fri Dec 22 17:59:30 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>
d57 1
a57 1
	* stable version 1.6.2 released.
@


1.282
log
@aamine
* lib/net/http.rb: does not send HEAD on closing socket.
@
text
@d1 8
d95 1
a95 1
Thu Dec 14 09:20:26 2000 Wakou Aoyama <wakou@@fsinet.or.jp>
d649 1
a649 1
Thu Oct 12 01:23:38 2000 Wakou Aoyama <wakou@@fsinet.or.jp>
d938 1
a938 1
Wed Sep 13 06:09:26 2000  Wakou Aoyama <wakou@@fsinet.or.jp>
d960 1
a960 1
Tue Sep 12 07:05:24 2000  Wakou Aoyama <wakou@@fsinet.or.jp>
d1869 1
a1869 1
Tue Jun 20 06:14:43 2000  Wakou Aoyama <wakou@@fsinet.or.jp>
d2028 1
a2028 1
Wed Jun 14 00:50:14 2000  Wakou Aoyama <wakou@@fsinet.or.jp>
d2110 1
a2110 1
Sun Jun  4 03:17:36 2000  Wakou Aoyama <wakou@@fsinet.or.jp>
d2155 1
a2155 1
Wed May 31 04:06:41 2000  Wakou Aoyama <wakou@@fsinet.or.jp>
d2242 1
a2242 1
Wed May 24 16:03:06 2000  Wakou Aoyama <wakou@@fsinet.or.jp>
@


1.281
log
@aamine
* lib/net/protocol.rb: set @@closed false in Socket#reopen.
* lib/net/pop.rb: add POP3.foreach, delete_all.
* lib/net/pop.rb: add POP3#delete_all.
* lib/net/http.rb: add HTTP.version_1_1, version_1_2
* lib/net/http.rb: refactoring.
@
text
@d1 4
@


1.280
log
@matz
@
text
@d1 12
@


1.279
log
@001222
@
text
@d1 8
d11 1
a11 1
	* stable version 1.6.2 released.
@


1.278
log
@matz
@
text
@d1 4
d13 1
a13 1
	* parse.y (yylex): disallow trailin '_' for numeric litrals.
@


1.277
log
@shugo
@
text
@d5 24
@


1.276
log
@eban
@
text
@d1 4
@


1.275
log
@matz
@
text
@d1 5
@


1.274
log
@wakou
@
text
@d1 25
d33 11
@


1.273
log
@eban
@
text
@d1 8
@


1.272
log
@matz
@
text
@d1 4
@


1.271
log
@matz
@
text
@d1 30
@


1.270
log
@shugo
@
text
@d1 5
d15 11
@


1.269
log
@eban
@
text
@d1 4
@


1.268
log
@matz
@
text
@d1 6
@


1.267
log
@eban
@
text
@d5 48
@


1.266
log
@matz
@
text
@d1 4
@


1.265
log
@matz
@
text
@d1 67
d70 4
d75 2
a76 1
	  singleton classes.
@


1.264
log
@matz
@
text
@d1 5
d7 3
@


1.263
log
@matz
@
text
@d3 6
@


1.262
log
@eban
@
text
@d1 5
d10 24
d72 1
a72 1
	* lib/net/protocol: detects and catches "break" from block.
d298 1
a298 1
	* pack.c (OFF16,OFF32B): big endien offset for network byteorder.
@


1.261
log
@aamine
* lib/net/http.rb: Socket#readline() reads until "\n", not "\r\n"
@
text
@d1 4
@


1.260
log
@eban
@
text
@d1 4
@


1.259
log
@matz
@
text
@d1 4
@


1.258
log
@aamine
* lib/net/http.rb: can call {old,new}_implementation any times.
* lib/net/http.rb: HTTP#connecting, receive ->
  common_oper, connecting.
* lib/net/http.rb: output warning if u_header includes
  duplicated header.
* lib/net/http.rb: not check Connection:/Proxy-Connection;
  always read until eof.
* lib/net/protocol: detects and catches "break" from block.
@
text
@d1 17
d32 4
@


1.257
log
@matz
@
text
@d1 15
@


1.256
log
@matz
@
text
@d1 32
d45 1
a45 1
	  number literal;  hacky but behavior appears uniformed.
d51 25
@


1.255
log
@eban
@
text
@d1 4
@


1.254
log
@matz
@
text
@d1 5
@


1.253
log
@aamine
* ChangeLog: modifies some logs.
@
text
@d1 10
d21 3
a23 1
	* error.c: T_SYMBOL was misplaced my T_UNDEF.
@


1.252
log
@aamine
* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.31
* lib/net/http.rb: initializes header in HTTP, not HTTPCommand
* lib/net/protocol.rb, http.rb: rewrites proxy code
@
text
@d3 1
a3 1
	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.31
d5 1
a5 1
	* lib/net/http.rb: initializes header in HTTP, not HTTPCommand
d7 1
a7 1
	* lib/net/protocol.rb, http.rb: rewrites proxy code
d30 1
a30 1
	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.30
d34 1
a34 1
	* lib/net/http.rb: read header when also "100 Continue"
d181 1
a181 1
	* lib/net/http.rb: a code for "Switch Protocol" was wrongly 100
d209 2
a210 1
	* lib/net/protocol.rb: 2nd arg for ProtocolError#initialize is optional.
@


1.251
log
@matz
@
text
@d1 8
@


1.250
log
@matz
@
text
@d3 2
@


1.249
log
@matz
@
text
@d1 12
@


1.248
log
@aamine
* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.30
* lib/net/protocol.rb, smtp.rb: Command#critical_ok -> error_ok
* lib/net/http.rb: read header when also "100 Continue"
@
text
@d1 5
d13 19
@


1.247
log
@matz
@
text
@d1 8
@


1.246
log
@matz
@
text
@d1 5
@


1.245
log
@aamine
* lib/net/protocol.rb: Command#critical_ok
* lib/net/smtp.rb: clear critical flag before go to SMTP
@
text
@d1 25
@


1.244
log
@matz
@
text
@d1 6
@


1.243
log
@matz
@
text
@d1 8
d13 1
a13 5
Wed Oct 18 03:10:20 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* stable version 1.6.2 released.

Thu Oct 19 16:51:46 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>
@


1.242
log
@1.6.2 (to be)
@
text
@d1 4
d8 4
@


1.241
log
@matz
@
text
@d1 24
d53 12
@


1.240
log
@aamine
* lib/net/http.rb: hex-alpha is not [a-h] but [a-f].
@
text
@d1 18
d22 7
@


1.239
log
@matz
@
text
@d1 4
@


1.238
log
@matz
@
text
@d1 5
@


1.237
log
@*** empty log message ***
@
text
@d15 20
@


1.236
log
@aamine
* lib/net/pop.rb: POP3#reset
* lib/net/http.rb: a code for "Switch Protocol" was wrongly 100
@
text
@d1 4
@


1.235
log
@wakou
@
text
@d1 6
@


1.234
log
@matz
@
text
@d1 4
@


1.233
log
@aamine
* ChangeLog: adding logs.
@
text
@d7 11
@


1.232
log
@aamine
* lib/net/protocol.rb: 2nd arg for ProtocolError#initialize is optional.
@
text
@d5 2
@


1.231
log
@eban
@
text
@d1 4
@


1.230
log
@matz
@
text
@d1 4
@


1.229
log
@eban
@
text
@d1 15
d21 13
@


1.228
log
@matz
@
text
@d1 6
@


1.227
log
@matz
@
text
@d1 9
@


1.226
log
@eban
@
text
@d1 4
d8 9
@


1.225
log
@000927
@
text
@d1 4
@


1.224
log
@eban
@
text
@d1 4
@


1.223
log
@eban
@
text
@d1 4
@


1.222
log
@matz
@
text
@d1 4
@


1.221
log
@matz
@
text
@d1 5
@


1.220
log
@matz
@
text
@d1 7
d9 2
@


1.219
log
@eban
@
text
@d1 5
d17 5
@


1.218
log
@eban
@
text
@d3 1
a3 1
	* dir.c (rb_glob): DOSISH support.
@


1.217
log
@eban
@
text
@d1 4
@


1.216
log
@aamine
* lib/net/protocol.rb, http.rb: typo.
@
text
@d1 4
@


1.215
log
@matz
@
text
@d1 4
@


1.214
log
@aamine
* lib/net/http.rb: too early parameter expantion in string.
@
text
@d1 5
@


1.213
log
@matz
@
text
@d1 4
d42 1
a42 1
	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.28.
@


1.212
log
@eban
@
text
@d5 6
@


1.211
log
@eban
@
text
@d3 1
a3 1
	* ext/extmk.rb: don't use default $:
@


1.210
log
@eban
@
text
@d1 4
@


1.209
log
@eban
@
text
@d1 4
@


1.208
log
@eban
@
text
@d3 2
a4 1
	* ext/extmk.rb (install_rb): check whether libdir is directory or not.
@


1.207
log
@matz
@
text
@d1 4
@


1.206
log
@aamine
* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.28.
* lib/net/http.rb: HTTPReadAdapter -> HTTPResponseReceiver
* lib/net/http.rb (connecting): response is got in receive()
@
text
@d1 16
d24 5
@


1.205
log
@matz - net library bug (by me)
@
text
@d1 8
@


1.204
log
@matz - disappointing fixes
@
text
@d1 5
@


1.203
log
@eban
@
text
@d1 13
@


1.202
log
@000919
@
text
@a10 2
	* configure.in: include version number in RUBY_SO_NAME.

@


1.201
log
@000919
@
text
@d1 1
a1 1
Tue Sep 19 16:53:06 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>
@


1.200
log
@eban
@
text
@d1 1
a1 1
Mon Sep 18 17:46:11 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>
d5 4
d11 2
d15 9
@


1.199
log
@eban
@
text
@d7 2
a8 1
	* configure.in: include version number in RUBY_SO_NAME.
@


1.198
log
@matz
@
text
@d5 4
@


1.197
log
@matz
@
text
@d5 14
d21 2
a22 2
	* eval.c (rb_f_require): rb_provided() called too early; does not
	  work well with threads.
@


1.196
log
@matz
@
text
@d1 1
a1 1
Wed Sep 13 17:11:19 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>
d4 11
@


1.195
log
@wakou
@
text
@d1 17
d22 1
a22 1
Tue Sep 12 22:34:20 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>
d24 1
a24 1
	* stable version 1.6.0 released.
d37 2
a38 2
	* eval.c (rb_yield_0): stripped array too much, should be just for
	  proc_call(). 
d118 1
a118 1
	* parse.y (rescue): no assignment was done if rescue body as
d166 1
a166 2
	* eval.c (rb_rescue2): now arbitrary number of exception types can
	  be specified.
@


1.194
log
@eban
@
text
@d1 4
@


1.193
log
@eban
@
text
@d1 1
a1 1
Tue Sep 12 16:02:20 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>
d4 5
@


1.192
log
@matz
@
text
@d1 1
a1 1
Tue Sep 12 15:41:13 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>
d4 4
@


1.191
log
@matz: 1.6.0 final (hopufully)
@
text
@d1 1
a1 1
Tue Sep 12 14:36:49 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>
d4 5
@


1.190
log
@wakou
@
text
@d1 4
d11 10
a20 1
Wed Sep  6 17:06:59 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>
d22 15
a36 1
	* stable version 1.6.0 released.
d193 1
a193 1
	  toplevel shoule not give warning.
d750 1
a750 1
	  objct.  result shoule be either true or false.
@


1.189
log
@matz
@
text
@d1 6
@


1.188
log
@matz
@
text
@d1 1
a1 1
Mon Sep  4 12:58:31 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>
d4 34
@


1.187
log
@eban
@
text
@d1 4
d10 8
a17 1
Fri Sep  1 10:36:45 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>
d19 10
a28 1
	* stable version 1.6.0 released.
d31 5
@


1.186
log
@matz
@
text
@d1 5
@


1.185
log
@matz
@
text
@d7 2
@


1.184
log
@matz
@
text
@d7 2
@


1.183
log
@matz
@
text
@d7 2
@


1.182
log
@matz
@
text
@d1 1
a1 1
Thu Aug 31 18:07:14 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>
d4 4
@


1.181
log
@000831
@
text
@d1 1
a1 1
Thu Aug 31 17:06:09 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>
d6 2
@


1.180
log
@matz
@
text
@d1 4
d7 1
a7 1
	* stable version 1.6.0 released.
@


1.179
log
@eban
@
text
@d1 24
@


1.178
log
@eban
@
text
@d1 4
@


1.177
log
@matz
@
text
@d10 3
@


1.176
log
@eban
@
text
@d1 4
d9 4
@


1.175
log
@matz
@
text
@d1 5
@


1.174
log
@matz
@
text
@d1 6
@


1.173
log
@matz
@
text
@d1 6
d18 2
a19 1
	  stack.
@


1.172
log
@matz
@
text
@d1 13
d17 4
@


1.171
log
@eban
@
text
@d1 15
@


1.170
log
@matz
@
text
@d1 4
@


1.169
log
@eban
@
text
@d8 15
d30 4
@


1.168
log
@aamine
* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.27.
* lib/net/protocol.rb: writing methods returns written byte size.
* lib/net/smtp.rb: send_mail accepts many destinations.
@
text
@d1 7
@


1.167
log
@matz
@
text
@d1 8
@


1.166
log
@eban
@
text
@d1 8
@


1.165
log
@matz
@
text
@d1 6
@


1.164
log
@matz
@
text
@d1 14
@


1.163
log
@eban
@
text
@d1 5
@


1.162
log
@matz(ruby-bugs PR#51)
@
text
@d1 8
@


1.161
log
@eban
@
text
@d1 5
@


1.160
log
@eban
@
text
@d1 4
@


1.159
log
@matz
@
text
@d1 8
@


1.158
log
@matz
@
text
@d3 3
@


1.157
log
@eban
@
text
@d1 4
d14 20
@


1.156
log
@matz
@
text
@d1 10
@


1.155
log
@matz
@
text
@d1 7
@


1.154
log
@matz
@
text
@d1 8
@


1.153
log
@matz
@
text
@d1 9
@


1.152
log
@eban
@
text
@d1 5
@


1.151
log
@matz
@
text
@d1 4
@


1.150
log
@eban
@
text
@d8 7
@


1.149
log
@eban
@
text
@d5 3
@


1.148
log
@eban
@
text
@d1 4
@


1.147
log
@eban
@
text
@d4 11
a14 1
	  Cygwin DLL's behavior is changed.
@


1.146
log
@matz
@
text
@d1 5
@


1.145
log
@matz - irb (PR#46)
@
text
@d1 4
@


1.144
log
@eban
@
text
@d7 5
@


1.143
log
@matz
@
text
@d1 6
d9 1
a9 1
       * string.c (rb_str_rindex): Support negative end position.
@


1.142
log
@matz
@
text
@d1 4
@


1.141
log
@matz
@
text
@d1 14
@


1.140
log
@matz
@
text
@d1 4
@


1.139
log
@matz
@
text
@d1 7
@


1.138
log
@matz
@
text
@d1 8
d11 2
d15 2
a16 1
	  added to ObjectSpace.
@


1.137
log
@matz
@
text
@d1 6
d9 4
a12 3
	* eval.c (Init_eval): should prohibit `include' and
	  `module_function' for class Class.  The latter was very
	  dangerous.
@


1.136
log
@eban
@
text
@d1 6
@


1.135
log
@matz
@
text
@d1 4
@


1.134
log
@matz
@
text
@d3 9
@


1.133
log
@matz
@
text
@d1 7
d20 1
a20 1
	* variable.c (rb_const_get_at): retrieve toplevel constants only,
@


1.132
log
@matz
@
text
@d3 4
@


1.131
log
@matz
@
text
@d1 4
@


1.130
log
@aamine
* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.26.
* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb:
  add module Net::NetPrivate and its inner classes
  {Read,Write}Adapter, Command, Socket,
  SMTPCommand, POP3Command, APOPCommand, HTTPCommand
@
text
@d1 7
d16 6
@


1.129
log
@matz
@
text
@d1 9
@


1.128
log
@eban
@
text
@d1 14
@


1.127
log
@matz
@
text
@d1 4
@


1.126
log
@matz
@
text
@d1 25
@


1.125
log
@matz
@
text
@d1 21
d24 1
a24 1
	* object.c (rb_to_id): name may not be symbol or fixnum.
d64 1
a64 1
	* io.c (rb_file_s_open): terminate fptr uless null.
@


1.124
log
@eban
@
text
@d1 18
d32 20
d97 6
@


1.123
log
@eban
@
text
@d1 5
@


1.122
log
@eban
@
text
@d1 8
@


1.121
log
@matz
@
text
@d1 6
@


1.120
log
@eban
@
text
@d1 11
@


1.119
log
@matz
@
text
@d1 5
@


1.118
log
@remove ruby_mktemp
@
text
@d1 10
d15 10
d41 1
a41 1
	* configure.in: use AC_CANONICAL_{TARGET,HOST,BUILD}.
@


1.117
log
@* lib/mkmf.rb: use null device if it exists for cross-compiling.
@
text
@d1 4
@


1.116
log
@update ChangeLog
@
text
@d1 4
@


1.115
log
@2000-07-03
@
text
@d1 8
@


1.114
log
@2000-07-03
@
text
@d5 2
@


1.113
log
@matz
@
text
@d1 4
@


1.112
log
@2000-07-03
@
text
@d1 13
d30 4
d41 5
@


1.111
log
@2000-07-02
@
text
@d1 4
@


1.110
log
@update ChangeLog
@
text
@d1 12
@


1.109
log
@matz
@
text
@d1 8
@


1.108
log
@matz
@
text
@d1 21
d42 4
@


1.107
log
@matz
@
text
@d1 8
@


1.106
log
@update ChangeLog
@
text
@d1 18
d35 6
d47 22
d72 10
@


1.105
log
@2000-06-27
@
text
@d1 16
@


1.104
log
@2000-06-24
@
text
@d1 6
@


1.103
log
@2000-06-23
@
text
@d1 4
@


1.102
log
@2000-06-22
@
text
@d1 11
@


1.101
log
@*** empty log message ***
@
text
@d1 5
d8 1
a8 1
	* lib/net/ftp.rb: support resume.
d14 25
d48 7
@


1.100
log
@2000-06-22
@
text
@d1 4
@


1.99
log
@2000-06-20
@
text
@d1 4
@


1.98
log
@Tue Jun 20 06:14:43 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

        * lib/cgi.rb: change: version syntax. old: x.yz, now: x.y.z

        * lib/net/telnet.rb: ditto.
@
text
@d1 4
@


1.97
log
@2000-06-19
@
text
@d1 6
@


1.96
log
@2000-06-19
@
text
@d1 5
d17 27
d55 10
@


1.95
log
@Sat Jun 17 17:23:28 2000  Minero Aoki <aamine@@dp.u-netsurf.ne.jp>

	* ChangeLog: add lib/net/* entries; modify some entries
@
text
@d1 11
@


1.94
log
@2000-06-16
@
text
@d1 6
d85 1
a85 1
Wed 14 Jun 04:58:53 2000  Dave Thomas  <dave@@thomases.com>
d110 6
d130 6
d202 7
d273 1
a273 1
Thu May 25 21:28:44 JST 2000  Minero Aoki <aamine@@dp.u-netsurf.ne.jp>
d334 6
d415 8
d465 1
a465 1
May 16 19:45:32 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>
d622 8
d668 1
a668 1
Sat Apr 29 04:58:12  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>
d672 1
a672 1
Fri Apr 28 00:19:22  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>
d685 6
d699 7
d727 8
d744 8
d811 13
d834 24
d871 9
d1007 1
a1007 1
Fri Mar 10 09:37:49 JST 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>
d1027 6
d1090 6
d1153 15
d1291 1
a1291 1
Wed Feb  2 22:33:45  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>
d1386 7
d1447 8
d1567 8
d1579 6
d1606 12
d1975 6
d2017 8
d2108 8
d2193 4
d2219 1
a2219 1
Thu Sep 2 05:23:05 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>
@


1.93
log
@2000-06-16
@
text
@d1 6
@


1.92
log
@2000-06-14-2
@
text
@d1 22
@


1.91
log
@2000-06-14
@
text
@d1 4
d7 14
d94 1
a94 1
	* eval.c (rb_thread_safe_level): should retrive current $SAFE
d132 1
a132 1
	* lib/cig.rb: improve: CGI::pretty()
d402 1
a402 1
	* win32/ruby.h: add rb_defout, rb_stdout, ruby_errinfo,
@


1.90
log
@2000-06-14
@
text
@d1 4
@


1.89
log
@2000-06-14
@
text
@d11 27
d80 1
a80 1
Thu Jun  8 13:34:03 2000  Dave Thomas   <dave@@thomases.com>
@


1.88
log
@2000-06-14
@
text
@d9 2
@


1.87
log
@Wed Jun 14 00:50:14 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

        * lib/cig.rb: read_multipart(): if no content body then raise EOFError.
@
text
@d1 8
d11 1
a11 1
	* lib/cig.rb: read_multipart(): if no content body then raise EOFError.
@


1.86
log
@2000-06-13
@
text
@d1 4
@


1.85
log
@2000-06-12
@
text
@d1 12
@


1.84
log
@2000-06-12
@
text
@d1 10
@


1.83
log
@2000-06-08
@
text
@d1 20
d27 10
a620 4

Fri Mar 31 08:56:55 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): 
@


1.82
log
@2000-06-05
@
text
@d1 6
@


1.81
log
@see ChangeLog
@
text
@d17 18
d39 4
a60 5

	* ext/extmk.rb.in (have_library, have_func): remove unnecessary
	  try_link() call from the mswin32 platform branch.

	* lib/mkmf.rb (have_library, have_func): ditto.
@


1.80
log
@Sun Jun  4 03:17:36 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

        * lib/cig.rb: improve: CGI::pretty()
@
text
@d1 8
@


1.79
log
@see ChangeLog
@
text
@d1 4
@


1.78
log
@2000-06-01
@
text
@d1 4
@


1.77
log
@2000-05-31
@
text
@d1 8
d64 1
a64 1
	* win32/win32.def: add ruby_ignorecase and regex.c's exports.
a69 4
Wed May 24 23:17:50 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/Makefile: remove unnecessary mv and rm command call.

d207 1
a207 1
Wed May 18 09:01:25 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>
d259 1
a259 1
	* io.c (pipe_open): syncronize subprocess stdout/stderr.
d295 1
a295 1
	* lib/irb/ruby-lex.rb: '/' should be escaped in charcter class.
d2818 1
a2818 1
	* ext/socket/socket.c (tcp_s_gethostbyname): aboid using struct
d2947 1
a2947 1
	* io.c (rb_file_s_open): intialize was called twice.
d3074 1
a3074 1
	* eval.c (blk_copy_prev): need to preverse outer scope as well as
d5939 1
a5939 1
 	* sprintf.c (f_sprintf): use baes 10 for conversion from string to
@


1.76
log
@Wed May 31 04:06:41 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

        * lib/cgi.rb: change: CGI#out()
          if "HEAD" == REQUEST_METHOD then output only HTTP header.
@
text
@d3 20
a22 2
	* lib/cgi.rb: change: CGI#out()
	  if "HEAD" == REQUEST_METHOD then output only HTTP header.
@


1.75
log
@2000-05-30
@
text
@d1 5
d81 3
a83 2
	* lib/cgi.rb bug fix: CGI::escape(), CGI::Cookie::new()
	* lib/net/telnet.rb improve: binmode(), telnetmode() interface
@


1.74
log
@see ChangeLog.
@
text
@d1 4
d25 14
d54 4
@


1.73
log
@2000-05-25
@
text
@d1 20
@


1.72
log
@Wed May 24 16:03:06 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

        * lib/cgi.rb bug fix: CGI::escape(), CGI::Cookie::new()
        * lib/net/telnet.rb improve: binmode(), telnetmode() interface
@
text
@d1 31
d39 3
a41 1
	* misc/ruby-mode.el (ruby-parse-region): support `while .. do' etc.
@


1.71
log
@2000-05-24
@
text
@d1 5
@


1.70
log
@see ChangeLog.
@
text
@d1 37
d46 4
d62 47
d161 5
@


1.69
log
@see ChangeLog
@
text
@d1 8
@


1.68
log
@2000-05-18
@
text
@d1 12
@


1.67
log
@thread problems
@
text
@d28 9
@


1.66
log
@2000-05-17
@
text
@d1 4
@


1.65
log
@mswin32 DLEXT2
O_BINARY
@
text
@d1 11
d23 8
@


1.64
log
@remove configure from repositry
@
text
@d1 12
d30 1
a30 1
	* configure.in: bug fix; static linking on mingw32
d58 1
a58 1
	* io.c: should check _IOBIN, O_BINARY, not PLATFORMs.
@


1.63
log
@2000-05-15
@
text
@d3 5
@


1.62
log
@fix bug; support mingw32.
@
text
@d1 8
d42 4
@


1.61
log
@escape `/'.
@
text
@d1 14
@


1.60
log
@support mingw32.
@
text
@d1 4
d7 1
a7 1
	* configure.in, ...: suport mingw32.
d3440 1
a3440 1
	* ruby.c (load_file): define DATA iff __END__ appeared in script.
d3577 1
a3577 1
	* variable.c (classname): check __classpath__ iff it is defined.
@


1.59
log
@2000-05-12
@
text
@d1 16
@


1.58
log
@2000-05-10
@
text
@d1 53
a54 2

	* array.c (Init_Array): prepare 'append' as alias to `push'. 
@


1.57
log
@2000-05-09
@
text
@d1 9
d17 1
a17 1
	  suggested by Aleksi Niemela <aleksi.niemela@@cinnober.com>
@


1.56
log
@2000-05-01
@
text
@d1 62
@


1.55
log
@mkmf
@
text
@d1 55
d173 1
a173 1
	* eval.c (rb_backtrace, make_backtrace): removed unsed variable
d606 1
a606 1
	* variable.c (rb_const_set): gives warining again on constant
d762 1
a762 1
	* win32/win32.c (mypclose): fix process handle laek.
d793 1
a793 1
	* file.c (rb_file_s_expand_path): handle dir separetor correctly.
d826 1
a826 1
	  because of major performace drawback.
d989 1
a989 1
	* dir.c (glob): recurseve wildcard match by `**' ala zsh.
d1039 1
a1039 1
	  becase they are no longer constants.
d1422 1
a1422 1
	  value is ommited for return statement.
d1447 1
a1447 1
	* gc.c (rb_gc): add volatile to avoid GCC optimaize bug(?).
d1462 1
a1462 1
	  not granteed to be IO.  check and forwarding added to every ARGF
d1602 1
a1602 1
	* eval.c (yield_under_i): cbase context should be maintaind for
d1641 1
a1641 1
	* eval.c (rb_thread_join): get_backtrace() may retrun Qnil.
d1692 1
a1692 1
	* many files: clean up unsed variables found by gcc -Wall.
d2024 1
a2024 1
	* gc.c (rb_gc_mark_locations): add safty margin 1.
d2033 1
a2033 1
	  variables happend to be higher (or lower) than stack_start.
d2138 1
a2138 1
	* version.h (RUBY_RELEASE_CODE): integer macro contant for source
d2191 1
a2191 1
	* ext/sockt/socket.c (ip_addrsetup): decode symbolic address
d2389 1
a2389 1
	* parse.y (parse_string): there shuould be newline escape by
d2754 1
a2754 1
	* ext/socket/socket.c (Init_socket): UDPsocket was ommited.
d2833 2
a2834 2
	  without arguments emit superclasse method with the value from
	  optinal arguments.  enabled as experiment.
d2922 1
a2922 1
	* eval.c (rb_load): tilde expandion moved to find_file.
d2924 1
a2924 1
	* eval.c (find_file): tilde expandion added.
d2971 1
a2971 1
	* string.c (rb_str_substr): nagative length raises exception now.
d2975 1
a2975 1
	* array.c (rb_ary_subseq): nagative length raises exception now.
d2981 2
a2982 2
	* time.c (time_strftime): `\0' within format string shoule not be
	  ommited in the result.
d3050 1
a3050 1
	* sprintf.c (rb_f_sprintf): `%G' was ommited.
d3059 1
a3059 1
	  insinf, isnan, and finite.
d3133 1
a3133 1
	* re.c (match_getter): accessng $~ without matching caused SEGV.
d3165 1
a3165 1
	* numeric.c (rb_num2long): missing/vsnprintf.c does not supprt
d3205 1
a3205 1
	* string.c (rb_str_gsub_bang): too small realoc condition.
d3222 1
a3222 1
	  within character classs.  Was matching with \W.
d3519 1
a3519 1
	* ruby.c (set_arg0): $0 supprt for HP-UX.
d3682 1
a3682 1
	* configure.in: elf supprt for FreeBSD 3.x
d3813 1
a3813 1
	* parse.y (arg): local variabls can be accessed within right side
d3927 1
a3927 1
	* string.c (scan_once): comsume at leaset on character.
d4255 1
a4255 1
	* marshal.c (r_bytes): remove weird casting bwetween pointer and int.
d4714 1
a4714 1
	  comsuming CPU too much.
d5055 1
a5055 1
	* file.c (f_test): raises exception for unkown command.
d5172 1
a5172 1
	* regex.c (re_match): forwading failure point popped too much. 
d5287 1
a5287 1
	  interpreter temination.
d5331 1
a5331 1
	* struct.c (struct_alloc): imcomplete struct initialization made
d5702 1
a5702 1
	* file.c (file_s_basename): removes any extention by ".*".
d5840 1
a5840 1
	* parse.y (yycompile): do not clear eval_tree. thus enable multipe 
d5921 1
a5921 1
	* lib/mkmf.rb: generate Makefile for extention modules out of ruby 
d6119 1
a6119 1
	* eval.c (rb_provide): module extentions should always be `.o'.
d6315 1
a6315 1
	* eval.c (rb_call): alias occured in the module body caused SEGV.
d6334 1
a6334 1
 	  is initilialized.
d6368 1
a6368 1
	* variable.c (find_class_path): avoid inifinite loop.
d6385 1
a6385 1
	* class.c (mod_anscestors): list superclasses and included modules 
d6400 1
a6400 1
	* parse.y (asignable): remove unnecessary local variable
d6465 1
a6465 1
	* eval.c (rb_eval): clear method cache at class extention.
@


1.54
log
@2000-04-10
@
text
@d1 18
@


1.53
log
@2000-03-23
@
text
@d1 68
d117 1
a117 1
	  which is better this or preparing alias `exception' for `$!'.
d276 1
a276 1
	  `initialize; should not be called more than once.
d285 1
a285 1
	* Fix String#* with huge string.
@


1.52
log
@2000-03-17
@
text
@d1 50
d163 1
a163 1
	* re.c (Init_Regexp): new method Regexp#last_match added; it's a
@


1.51
log
@2000-03-15
@
text
@d1 24
@


1.50
log
@2000-03-15
@
text
@d1 5
d7 2
@


1.49
log
@2000-03-13
@
text
@d1 4
@


1.48
log
@2000-03-09
@
text
@d1 48
@


1.47
log
@2000-03-08
@
text
@d1 14
@


1.46
log
@2000-03-07
@
text
@d1 8
d17 1
a17 1
	  replacement for $~.
@


1.45
log
@2000-03-06
@
text
@d1 16
d18 6
@


1.44
log
@2000-02-29
@
text
@d1 27
@


1.43
log
@2000-02-25
@
text
@d1 33
d36 6
a41 1
	* eval.c (rb_thread_start_timer): interval made 10ms from 50ms.
@


1.42
log
@2000-02-23
@
text
@d1 9
@


1.41
log
@2000-02-18
@
text
@d1 18
@


1.40
log
@2000-02-17
@
text
@d1 16
d29 1
a29 1
	* parse.y (yylex): yylex yields wrong token for `:foo=~expr'.
d35 2
a36 1
	* parse.y (yylex): `foo.bar=' should be <foo><.><bar><=>.
@


1.39
log
@2000-02-08
@
text
@d1 55
@


1.38
log
@2000-02-02
@
text
@d1 61
d64 1
a64 1
	* string.c (str_gsub_bang): gsub! now leaves information about
@


1.37
log
@2000-02-01
@
text
@d1 5
a6 3

	* string.c (rb_str_sub): no bang method returns original string if
	  no change is made.
@


1.36
log
@2000-01-18
@
text
@d1 79
d150 2
a151 2
	* eval.c (rb_yield_0): force_recycle ruby_dyna_vars to performance
	  gain.
d167 2
a168 2
	* ruby.h (OBJ_INFECT): newly added which copies taint from `s' to
	  `x'.
d284 1
a284 1
	  class must synchronize with the object.
d486 1
a486 1
	  constants (shared variables).
@


1.35
log
@2000-01-17
@
text
@d1 4
@


1.34
log
@2000-01-08
@
text
@d1 37
d162 4
@


1.33
log
@20000105
@
text
@d1 9
@


1.32
log
@19991214
@
text
@d1 144
@


1.31
log
@991207
@
text
@d1 52
@


1.30
log
@19991206
@
text
@d1 9
d12 1
a12 1
	* numeric.c (fix_rshift): Fix -1 >> 32 returned 0. (-1 is true)
d14 1
a14 1
	* numeric.c (fix_rshift): Fix  1 >> -1 returned 0. (2 is true)
d19 1
a19 1
	  any of parameters is tainted.
@


1.29
log
@19991292
@
text
@d1 39
@


1.28
log
@19991201
@
text
@d1 8
@


1.27
log
@19991129
@
text
@d1 29
@


1.26
log
@19991125
@
text
@d1 18
@


1.25
log
@19991117
@
text
@d1 29
d68 4
@


1.24
log
@19991111
@
text
@d1 39
@


1.23
log
@19991110
@
text
@d1 9
@


1.22
log
@19991108
@
text
@d1 25
d30 1
a30 1
Sat Nov  6 19:26:55 1999  EGUCHI Osamu  <eguchi@@triton2.>
@


1.21
log
@19991104
@
text
@d1 13
@


1.20
log
@19991029
@
text
@d1 18
@


1.19
log
@RUBYOPT
@
text
@d1 34
@


1.18
log
@marshal load GC protect
@
text
@d1 11
@


1.17
log
@19991018
@
text
@d1 5
d13 4
@


1.16
log
@ruby -v
@
text
@d1 12
@


1.15
log
@-r debug, -s, etc.
@
text
@d3 2
d24 6
@


1.14
log
@block->tag pointing out of stack
@
text
@d1 22
d69 4
@


1.13
log
@*** empty log message ***
@
text
@d3 6
@


1.12
log
@19991012
@
text
@d1 27
@


1.12.2.1
log
@19991013
@
text
@a0 8
Tue Oct 12 22:29:04 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_read): length may be 0 or negative.

Tue Oct 12 13:26:27 1999  Jun-ichiro itojun Hagino  <itojun@@itojun.org>

	* signal.c (posix_signal): RETSIGTYPE may be void.

@


1.12.2.2
log
@block->tag pointing out of stack
@
text
@a2 6
	* eval.c (block_pass): should copy block to prevent modifications.
	  tag in the structure should be updated from latest prot_tag.

	* eval.c (proc_s_new): tag in struct BLOCK should not point into
	  unused stack.

@


1.12.2.3
log
@19991015
@
text
@a0 5
Fri Oct 15 01:32:31 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/Win32API/Win32API.c (Win32API_Call): need to use NUM2ULONG,
	  not NUM2INT.

a31 4

Wed Oct  6 17:13:19 1999  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ruby.c (addpath): rubylib_mangled_path() modified.
@


1.12.2.4
log
@marshal load GC bug
@
text
@a0 5
Wed Oct 20 15:14:24 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (marshal_load): should protect the generated object
	  table (arg->data) from GC.

@


1.12.2.5
log
@19991124-1.4.3pre1
@
text
@a0 87
Thu Nov 18 16:18:27 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/pstore.rb: mutual lock by flock(2).

Thu Nov 18 11:44:13 1999  Masahiro Tomita  <tommy@@tmtm.org>

	* io.c (read_all): should check bytes too.

Mon Nov 15 16:50:34 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* enum.c (enum_grep): grep with block returns collection of
	  evaluated values of block over matched elements.

Mon Nov 15 04:50:33 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* re.c (rb_reg_source): should not call rb_reg_expr_str()
	  everytime.

Fri Nov 12 23:52:19 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* process.c (rb_f_system): argument check for NT, __EMX__, DJGPP.

Wed Nov 10 21:54:11 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* hash.c (rb_any_cmp): Fixed return without value.

Tue Nov  9 13:21:04 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* configure.in: AC_MINIX move to before AC_EXEEXT and AC_OBJEXT.

Mon Nov  8 19:52:29 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* configure.in: Renamed AC_CHAR_UNSIGNED to AC_C_CHAR_UNSIGNED.

	* configure.in: Added default to AC_CHECK_SIZEOF().

Mon Nov  8 14:28:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_f_eval): fake outer scope when eval() called without
	  bindings.

	* eval.c (rb_f_binding): should copy last_class in the outer frame too.

Sun Nov  7 18:31:04 1999  Yasuhiro Fukuma  <yasuf@@big.or.jp>

	* eval.c (is_defined): last_class may be 0.

Sat Nov  6 19:26:55 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* Makefile.in: Added depend entry make parse.@@OBJEXT@@ from parse.c
	  for UCB make

Wed Nov  3 08:52:57 1999  Masaki Fukushima  <fukusima@@goto.info.waseda.ac.jp>

	* io.c (Init_IO): forgot to use INT2FIX() around SEEK_SET, etc. 

Wed Nov  3 00:25:20 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_split_method): use mbclen2() to handle kcode
	  option of regexp objects.

Sun Oct 31 13:12:42 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* regex.c (re_compile_pattern): wrong [\W] match.

Thu Oct 28 13:35:40 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_split_method): should be mbchar aware with
	  single char separators.

Wed Oct 27 12:57:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* random.c (rb_f_srand): random seed should be unsigned.

Tue Oct 26 19:20:54 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* marshal.c (r_object): should register class/module objects.

Sat Oct 23 15:59:39 1999  Takaaki Tateishi  <ttate@@jaist.ac.jp>

	* process.c (rb_f_system): should require at least one argument.

Thu Oct 21 16:14:19 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* dir.c (fnmatch): use eban's fnmatch; do not depend on systems's
	  fnmatch (which may have portability problem) anymore.

a4 8

Mon Oct 18 16:15:52 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/nkf/nkf.c (rb_nkf_kconv): output should be NUL terminated.

Fri Oct 15 22:50:41 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* error.c (sys_nerr): on CYGWIN, it is _sys_nerr.
@


1.12.2.6
log
@19991129
@
text
@a0 28
Mon Nov 29 15:28:52 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_path2class): evaluated value from path should be
	  module or class.

Fri Nov 26 18:12:49 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_exec_end_proc): should remove only end_procs defined
	  within load wrapper.

	* eval.c (rb_load): save and restore ruby_wrapper around loading.

	* eval.c (rb_mark_end_proc): mark end procs registered by END{} or
	  at_exit{}. 

	* eval.c (rb_set_end_proc): should not call rb_global_variable()
	  on heap address;  it crashed mod_ruby.

Fri Nov 26 18:12:49 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* enum.c (enum_grep): does not return nil.

	* eval.c (rb_mark_end_proc): mark end procs registered by END{} or
	  at_exit{}. 

	* eval.c (rb_set_end_proc): should not call rb_global_variable()
	  on heap address;  it crashed mod_ruby.

@


1.12.2.7
log
@19991201
@
text
@a0 14
Wed Dec  1 09:47:33 1999  Kazunori NISHI  <kazunori@@swlab.csce.kyushu-u.ac.jp>

	* string.c (rb_str_split_method): should increment end too.

Tue Nov 30 01:46:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (rb_reg_source): generated source string must be tainted if
	  regex is tainted.

	* file.c (rb_file_s_basename): basename should not be tainted
	  unless the original path is tainted.

	* file.c (rb_file_s_dirname): ditto.

@


1.12.2.8
log
@19991202
@
text
@a0 4
Thu Dec  2 10:21:43 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_loading_done): wrong parameter to st_delete().

@


1.12.2.9
log
@19991206
@
text
@a0 27
Mon Dec  6 15:55:30 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* numeric.c (fix_rshift): Fix -1 >> 32 returned 0. (-1 is true)

	* numeric.c (fix_rshift): Fix  1 >> -1 returned 0. (2 is true)

Mon Dec  6 11:47:23 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (rb_f_sprintf): formatted string must be tainted if
	  any of parameters is tainted.

	* file.c (rb_file_s_expand_path): expanded file path need not to
	  be tainted always.

Sat Dec  4 01:40:22 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (rb_big_rand): should not use rand/random where drand48
	  may be available.  RANDOM_NUMBER should be provided from outside.

Fri Dec  3 09:54:59 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_f_require): should check require 'feature.o' too.

Thu Dec  2 11:58:15 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* eval.c (rb_thread_loading): should maintain loading_tbl.

@


1.12.2.10
log
@991207
@
text
@a0 4
Tue Dec  7 18:25:26 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* stable version 1.4.3 released.

@


1.12.2.11
log
@19991208
@
text
@d7 1
a7 1
	* numeric.c (fix_rshift): Fix -1 >> 32 returned 0 (should be -1).
d9 1
a9 1
	* numeric.c (fix_rshift): Fix  1 >> -1 returned 0 (should be 2).
@


1.12.2.12
log
@19991214
@
text
@a0 10
Sat Dec 11 03:34:38 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (mark_hashentry): key should be VALUE, not ID.

	* io.c (argf_eof): should check next_p too.

Thu Dec  9 18:09:13 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* error.c (exc_set_backtrace): forgot to declare a VALUE argument.

@


1.12.2.13
log
@20000105
@
text
@a0 63
Wed Jan  5 02:14:46 2000  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* parse.y: Fix SEGV on empty parens with UMINUS or UPLUS.

Tue Jan  4 22:25:54 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (stmt): `() while cond' dumped core.

Mon Dec 27 12:35:47 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/socket.c (sock_finalize): mswin32: fix socket handle leak.

	* win32/win32.c (myfdclose): ditto.

Sun Dec 26 23:15:13 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/win32.c (mypopen): raise catchable error instead of rb_fatal.
	* win32/win32.c (mypclose): fix process handle laek.

Sun Dec 26 16:17:11 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/Win32API/Win32API.c (Win32API_initialize): use UINT2NUM
	  instead of INT2NUM to set __dll__ and __proc__.

Sat Dec 25 00:08:59 1999  KANEKO Naoshi  <wbs01621@@mail.wbs.ne.jp>

	* ext/Win32API/Win32API.c (Win32API_Call): remove 'dword ptr'
	  from _asm.

Fri Dec 24 10:26:47 1999  Koji Oda  <oda@@bsd1.qnes.nec.co.jp>

	* win32/win32.h: use "C++" linkage.

Fri Dec 24 02:00:57 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (THREAD_ALLOC): should initialize th->trace.

Fri Dec 24 00:43:39 1999  KANEKO Naoshi  <wbs01621@@mail.wbs.ne.jp>

	* io.c (pipe_open): check for `fptr->f == NULL'.
	* win32/win32.c (mypopen): STDERR does not work during ` function.

Tue Dec 21 17:21:28 1999  Koji Oda  <oda@@bsd1.qnes.nec.co.jp>

	* ext/socket/socket.c (sock_finalize): mswin32: fix FILE* leak.

Sun Dec 19 22:56:31 1999  KANEKO Naoshi  <wbs01621@@mail.wbs.ne.jp>

	* lib/find.rb: support dosish root directory.
	* win32/Makefile: ditto.
	* win32/config.status: ditto.
	* win32/win32.c (opendir): ditto.
	* win32/win32.c (opendir): use CharPrev() to get last character
	  of the directory name.

Fri Dec 17 19:27:43 1999  IWAMURO Motonori  <iwa@@mmp.fujitsu.co.jp>

	* eval.c (rb_load): should initialize ruby_frame->last_class.

Wed Dec 15 01:35:29 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (proc_options): argv boundary check for `-X'.

@


1.12.2.14
log
@2000-01-17
@
text
@a0 13
Sat Jan 15 22:21:08 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (search_method): argument klass may be 0.

Fri Jan 14 12:22:04 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_replace): use memmove instead of memcpy for
	  overwrapping strings (e.g. a[1] = a).

Fri Jan  7 00:59:29 2000  Masahiro Tomita  <tommy@@tmtm.org>

	* io.c (io_fread): TRAP_BEG/TRAP_END added around getc().

a45 4

Mon Dec 20 19:08:12 1999  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* file.c (rb_file_s_expand_path): handle dir separetor correctly.
@


1.12.2.15
log
@2000-01-24
@
text
@a0 4
Sun Jan 16 20:12:13 2000  Koji Arai  <JCA02266@@nifty.ne.jp>

	* eval.c (dvar_asgn): may need to push dvar.

@


1.12.2.16
log
@2000-02-01
@
text
@a0 13
Mon Jan 31 15:24:58 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_sub): no bang method returns original string if
	  no change is made.

Wed Jan 26 22:30:47 2000  Shigeo Kobayashi  <shigeo@@tinyforest.gr.jp>

	* numeric.c (flo_modulo): wrong result for negative modulo.

Wed Jan 26 11:43:41 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (test_c): should use S_ISCHR.

@


1.12.2.17
log
@2000-02-02
@
text
@d1 5
@


1.12.2.18
log
@2000-02-08
@
text
@a0 8
Fri Feb  4 10:20:25 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_close): should not check closed IO.

Fri Feb  4 05:44:01 2000  Kentaro Inagaki  <inagaki@@tg.rim.or.jp>

	* ext/socket/socket.c (s_recv): TRAP_BEG after retry entry.

@


1.12.2.19
log
@2000-02-17
@
text
@a0 38
Wed Feb 16 00:32:49 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (method_arity): nd_rest is -1 for no rest argument.

	* process.c (rb_f_waitpid): returns nil when waitpid(2) returns 0.

Tue Feb 15 01:47:00 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* process.c (rb_f_waitpid): pid_t should be signed.

Mon Feb 14 13:59:01 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (load_file): exit if reading file is empty.

Mon Feb 14 03:34:52 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): `foo.bar=' should be <foo><.><bar><=>.

	* eval.c (rb_thread_restore_context): process according to
	  RESTORE_* is moved after longjmp().

	* eval.c (thread_switch): new function to process RESTORE_*.

Thu Feb 10 02:12:04 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_index_m): did not support negative offset.

Wed Feb  9 21:54:26 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/getaddrinfo.c: gcc --traditional support.
	  Rearrange headers to work AC_C_CONST.
	* ext/socket/getnameinfo.c: ditto.
	* ext/socket/socket.c: mswin32: use double instead of long long.

Wed Feb  9 16:30:41 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (num_coerce): should return [y, x].

a7 4

Thu Jan 27 01:27:10 2000  GOTO Kentaro  <gotoken@@math.sci.hokudai.ac.jp>

	* dir.c (glob): glob pattern "/*" did not match.
@


1.12.2.20
log
@2000-02-18
@
text
@a0 9
Thu Feb 17 19:09:05 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/win32.c (mypopen): don't close handle if it is not assigned.
	* win32/win32.c (my_open_osfhandle): support O_NOINHERIT flag.
	* win32/win32.c (win32_getcwd): rename getcwd to win32_getcwd
	  in order to avoid using the C/C++ runtime DLL's getcwd.
	  Use CharNext() to process directory name.
	* win32/win32.h: map getcwd to win32_getcwd.

@


1.12.2.21
log
@2000-03-02
@
text
@a0 18
Sat Feb 26 22:39:31 2000  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* Fix String#* with huge string.

Fri Feb 25 06:42:26 2000  GOTOU YUUZOU  <gotoyuzo@@notwork.org>

	* ext/socket/socket.c (ip_addrsetup): hostp should remain NULL if
	  host is nil.

Thu Feb 24 16:53:47 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_schedule): priority was too high for sleep
	  expired threads.

Sat Feb 19 23:58:51 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): pop_loop should not pop at forward jump.

@


1.12.2.22
log
@2000-03-08
@
text
@a0 19
Wed Mar  8 02:08:43 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y: escape expansion too early.

	* regex.c (re_compile_pattern): support \cX et al.

Mon Mar  6 12:28:37 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (ip_addrsetup): should check length of hostname.

	* ext/socket/socket.c (ip_addrsetup): check newline at the end of
	  hostname.  These fixes suggested by Muvaw Pnazte <bugathlon@@yahoo.com>.

Sun Mar  5 20:35:45 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/Win32API/Win32API.c (Win32API_initialize): should call
	  LoadLibrary() everytime and should assign the hdll to Win32API
	  object(protect the hdll from GC).

@


1.12.2.23
log
@2000-03-09
@
text
@a0 8
Thu Mar  9 11:13:32 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_fastmap): fixed embarrassing brace bug.

Thu Mar  9 01:36:32 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* missing/flock.c: emulate missing flock() with fcntl().

@


1.12.2.24
log
@2000-03-13
@
text
@a0 28
Mon Mar 13 18:14:52 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* stable version 1.4.4 released.

Mon Mar 13 16:12:13 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (block_pass): distinguish real orphan block and still
	  on-stack block passed by block argument.

Mon Mar 13 00:20:25 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (f_norm_arg): proper error message when constant comes
	  in formal argument list.  this message is suggested by Muvaw
	  Pnazte <bugathlon@@yahoo.com>.

	* eval.c (rb_f_raise): proper error message when the first
	  argument is not an exception class/object.

Sat Mar 11 22:03:03 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_f_missing): check if argv[0] is ID.

Sat Mar 11 05:07:11 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* process.c (proc_setpriority): should return 0, not nil.

	* process.c (proc_setpgid): ditto.

@


1.12.2.25
log
@2000-03-23
@
text
@a0 35
Wed Mar 22 21:49:36 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* st.c (st_delete_safe): skip already deleted entry.

	* hash.c (rb_hash_delete): modify brace miss.

Wed Mar 22 08:53:58 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (exec_under): do not push cbase if ruby_cbase == under.

	* node.h (NEW_CREF0): preserve cbase nesting.

Tue Mar 21 12:57:50 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (rb_class_s_new): Class::new should call `inherited'.

Fri Mar 17 15:02:45 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_autoload_id): defining new autoload should be
	  prohibited for $SAFE > 4.

	* variable.c (rb_const_get): autoload should be possible for 
	  $SAFE > 4.

	* eval.c (call_trace_func): should handle T_ICLASS properly.

Wed Mar 15 21:25:04 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* array.c (rb_ary_join): 'result' is always duplicated
	  before concat string.

Wed Mar 15 13:12:39 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_chomp_bang): forgot to call rb_str_modify().

@


1.12.2.26
log
@2000-03-24
@
text
@a0 4
Fri Mar 24 18:26:51 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (test_check): should have checked exact number of arguments.

@


1.12.2.27
log
@2000-04-10
@
text
@a0 32
Thu Apr  6 20:10:47 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/extmk.rb.in (create_makefile): BeOS --program-suffix support.
	* lib/mkmf.rb (create_makefile): ditto.

Thu Apr  6 09:55:26 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* error.c (rb_sys_fail): need rb_exc_new2() call on BeOS.

Mon Apr  3 17:22:27 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (catch_i): should supply argument.

Sat Apr  1 21:30:53 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* io.c(rb_io_printf, rb_f_printf): should use rb_io_write.

Sat Apr  1 00:16:05 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (rb_gc_call_finalizer_at_exit): should be clear flags
	  before calling finalizers.

Thu Mar 30 12:19:44 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* enum.c (enum_find): rb_eval_cmd() should be called with array.

Tue Mar 28 13:57:05 2000  Clemens Hintze  <c.hintze@@gmx.net>

	* ext/dbm/dbm.c (fdbm_invert): should return new hash.

	* ext/gdbm/gdbm.c (fgdbm_invert): ditto.

@


1.12.2.28
log
@000414
@
text
@a0 20
Fri Apr 14 23:29:45 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* stable version 1.4.4 released.

Tue Apr 11 21:14:42 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* config_s.dj: add @@sitedir@@.
	* configure.in: add --with-sitedir=DIR option.
	* instruby.rb: use CONFIG["sitedir"].
	* lib/mkmf.rb: support 'make site-install'.
	* win32/config.status: add @@sitedir@@.

Tue Apr 11 16:25:15 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (rb_big_2comp): unnecessary lvalue cast removed.

Tue Apr 11 02:25:53 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (marshal_dump): accepts depth = nil for unlimited depth.

d71 4
@


1.12.2.29
log
@2000-04-17
@
text
@a0 5
Mon Apr 17 15:16:31 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_close): to detect some exceptional status, writable
	  IO should be flushed before close;

@


1.12.2.30
log
@2000-05-01
@
text
@a0 22
Wed Apr 26 15:23:02 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_succ): insert carrying character just before
	  the leftmost alpha numeric character.

	* string.c (rb_str_succ): proper behavior for "".succ and "\377".succ.

	* string.c (rb_str_succ): use realloc and memmove.

Sat Apr 22 23:14:41 2000  SHIROYAMA Takayuki  <psi@@fortune.nest.or.jp>

	* configure.in: MacOS X support.

Fri Apr 21 21:44:34 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* io.c (rb_io_s_pipe): should set FMODE_SYNC.

Thu Apr 20 16:59:22 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* eval.c (massign): `*lvalue = false' should assign `[false]' to
	  lvalue.

@


1.12.2.31
log
@2000-05-09
@
text
@a0 25
Mon May  8 23:17:36 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* dln.c (dln_init): remove possible buffer overrun.  This is
	  suggested by Aleksi Niemela <aleksi.niemela@@cinnober.com>

	* dln.c (init_funcname): ditto.

Sat May  6 23:35:47 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (lhs): should allow `obj.Attr = 5' type expression.

Sat May  6 15:46:08 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/socket/extconf.rb: add a new configure option to force use
	  of the WIDE Project's getaddrinfo(): --enbale-wide-getaddrinfo.

Fri May  5 21:19:22 2000  MOROHOSHI Akihiko  <moro@@remus.dti.ne.jp>

	* parse.y (yylex): allow '$1foo' and such.

Fri May  5 03:25:15 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_fastmap): charset_not for multibyte
	  characters excluded too many characters.

@


1.12.2.32
log
@2000-05-12
@
text
@a0 23
Fri May 12 17:33:44 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): charset_not should not exclude
	  newline from matching set.

Thu May 11 22:29:25 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/md5/depend: add $(topdir)/config.h dependency to md5c.o.

	* ext/md5/extconf.rb: new file to add -DHAVE_CONFIG_H flag for Alpha.

Thu May 11 00:37:55 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (parse_regx): remove in_brack.

Wed May 10 12:51:18 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (proc_options): move adding RUBYLIB and "." to the load
	  path after #! line parsing.

	* parse.y (parse_regx): should parse backslash escape like `\c['
	  here to avoid causing `unterminated regexp' error.

@


1.12.2.33
log
@Wed May 24 16:03:06 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

        * lib/cgi.rb bug fix: CGI::escape(), CGI::Cookie::new()
        * lib/net/telnet.rb improve: binmode(), telnetmode() interface
@
text
@a0 5
Wed May 24 16:03:06 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

	* lib/cgi.rb bug fix: CGI::escape(), CGI::Cookie::new()
	* lib/net/telnet.rb improve: binmode(), telnetmode() interface

@


1.12.2.34
log
@2000-05-30
@
text
@a5 17
Tue May 23 08:36:24 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): forgot to restore old option
	  status by (?ix-ix).

Mon May 22 15:10:39 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (find_file): should check if the file really exists.

Sun May 21 20:58:08 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* pack.c: fix OFF16 and OFF32 definitions for Alpha and IRIX64.

Wed May 17 02:22:03 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (expr): avoid calling value_expr() twice.

@


1.12.2.35
log
@Wed May 31 04:06:41 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

        * lib/cgi.rb: change: CGI#out()
          if "HEAD" == REQUEST_METHOD then output only HTTP header.
@
text
@a0 5
Wed May 31 04:06:41 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

	* lib/cgi.rb: change: CGI#out()
	  if "HEAD" == REQUEST_METHOD then output only HTTP header.

d3 2
a4 3
	* lib/cgi.rb: bug fix: CGI::escape(), CGI::Cookie::new()

	* lib/net/telnet.rb: improve: binmode(), telnetmode() interface
@


1.12.2.36
log
@2000-06-01
@
text
@a0 4
Thu Jun  1 00:58:11 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (mcall): args == nil if no argument given.

@


1.12.2.37
log
@see ChangeLog.
@
text
@a0 8
Sat Jun  3 16:42:27 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* cygwin/GNUmakefile: remove unused import.h

	* instruby.rb: ditto.

	* ext/tcltklib/tcltklib.c: remove declaration of rb_argv0.

@


1.12.2.38
log
@see ChangeLog
@
text
@a0 5
Sun Jun  4 01:02:00 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/Win32API/Win32API.c: directly "call" in asm statement for
	  gcc 2.95.x or newer.

@


1.12.2.39
log
@see ChangeLog
@
text
@a0 4
Sun Jun  4 02:01:10 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* lib/mkmf.rb: do not need to add -L$(topdir) in --enable-shared case.

@


1.12.2.40
log
@Sun Jun  4 03:17:36 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

        * lib/cig.rb: improve: CGI::pretty()
@
text
@a0 4
Sun Jun  4 03:17:36 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

	* lib/cig.rb: improve: CGI::pretty()

d24 2
a25 2
	* lib/cgi.rb: change: CGI#out() if "HEAD" == REQUEST_METHOD
	  then output only HTTP header.
@


1.12.2.41
log
@2000-06-05
@
text
@a30 26
Tue May 30 23:33:41 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* lib/mkmf.rb (create_makefile): add $(TARGET).ilk and *.pdb
	  to cleanup files for mswin32.

Mon May 29 21:48:24 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/config.status: set LDFLAGS and LIBRUBYARG for eruby.

Thu May 25 22:01:32 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* re.h: mswin32: use EXTERN instead of extern.

	* regex.h: mswin32: export re_mbctab properly.

	* win32/win32.def: add ruby_ignorecase and regex.c's exports.

Wed May 24 23:17:50 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/Makefile: remove unnecessary mv and rm command call.

Wed May 24 21:01:04 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/pty/pty.c: use "" instead of <> to include ruby.h and rubyio.h
	  for BeOS (PowerPC).

a49 23
Thu May 18 23:55:26 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* dln.c (search_undef): st_lookup()'s 3rd parameter should be
	  a pointer of the variable which has the same size and alignment
	  as `char *'.

	* marshal.c (w_symbol, w_object): ditto.

	* parse.y (rb_intern): ditto.

Thu May 18 09:01:25 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* io.c: fix READ_DATA_PENDING definition for BeOS (PowerPC).

Wed May 17 23:17:38 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* intern.h: use EXTERN instead of extern.

	* win32/ruby.def: add rb_defout, rb_stdout, ruby_errinfo,
	  ruby_sourceline, ruby_sourcefile to work with eruby
	  reported by Hiroshi Saito <HiroshiSaito@@pob.org>.
	  Export both ruby_xmalloc and xmalloc etc.

a75 8

Wed May 10 00:19:53 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* MANIFEST, beos/GNUmakefile.in, configure.in: no longer need
	  beos/GNUmakefile.in to support BeOS R4.5.2 (Intel) as a result
	  of eban's Makefile.in change.

	* io.c: NOFILE is already defined on BeOS R4.5 (Intel) or later.
@


1.12.2.42
log
@ext/md5/extconf.rb added
@
text
@a0 4
Tue Jun  6 03:29:12 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (bigdivmod): modulo by small numbers was wrong.

a101 9

Mon May 15 15:38:09 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.h: exported symbols should be for xmalloc etc. are now
	  prefixed by 'ruby_', e.g. ruby_xmalloc().

Sun May 14 18:05:59 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* win32/config.h: undef HAVE_SYS_FILE_H.
@


1.12.2.43
log
@2000-06-09
@
text
@a0 4
Fri Jun  9 01:05:55 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* regex.h: export re_mbctab properly on cygwin.

@


1.12.2.44
log
@2000-06-13
@
text
@a0 4
Fri Jun  9 15:11:35 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (make_time_t): supports daylight saving time.

@


1.12.2.45
log
@Wed Jun 14 00:50:14 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

        * lib/cig.rb: read_multipart(): if no content body then raise EOFError.
@
text
@a0 4
Wed Jun 14 00:50:14 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

	* lib/cig.rb: read_multipart(): if no content body then raise EOFError.

@


1.12.2.46
log
@2000-06-14
@
text
@a0 6
Wed Jun 14 13:17:02 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* io.c: typo(ig/if).

	* re.c: typo(re/reg). add rb_reg_check().

d3 1
a3 1
	* lib/cgi.rb: read_multipart(): if no content body then raise EOFError.
@


1.12.2.47
log
@Tue Jun 20 06:14:43 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

        * lib/cgi.rb: change: version syntax. old: x.yz, now: x.y.z

        * lib/net/telnet.rb: ditto.
@
text
@a0 6
Tue Jun 20 06:14:43 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

	* lib/cgi.rb: change: version syntax. old: x.yz, now: x.y.z

	* lib/net/telnet.rb: ditto.

@


1.12.2.48
log
@2000-06-20
@
text
@a0 4
Tue Jun 20 15:07:39 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/parsedate.rb: don't seek year too greedy.

a5 29

Fri Jun 16 05:18:45 2000  Yasuhiro Fukuma  <yasuf@@bsdclub.org>

	* configure.in: FreeBSD: do not link dummy libxpg4 which was
	  merged into libc.

Fri Jun 16 03:17:36 2000  Satoshi Nojo  <nojo@@t-samukawa.or.jp>

	* ext/dbm/dbm.c (fdbm_length): use GetDBM. empty?, [] too.

	* ext/gdbm/gdbm.c (fgdbm_length): ditto.

	* ext/sdbm/init.c (fsdbm_length): ditto.

Wed Jun 14 17:01:41 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* rubytest.rb: add CONFIG['EXEEXT'] to the executable file name.

Wed Jun 14 14:50:00 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (method_arity): wrong arity number for the methods with
	  optional arguments.

	* time.c (make_time_t): opposite timezone shift (should be negative).

Wed 14 Jun 04:58:53 2000  Dave Thomas  <dave@@thomases.com>

	* io.c (rb_io_set_lineno): should have returned VALUE, not
	  integer.
@


1.12.2.49
log
@2000-06-21
@
text
@a0 5
Wed Jun 21 22:20:34 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in: support for gcc version 2.95.2 19991024 (release-2)
	  on cygwin 1.1.2 or later.

@


1.12.2.50
log
@2000-06-23
@
text
@a0 4
Fri Jun 23 01:11:27 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (new_super): should tweak block_pass node for super too.

@


1.12.2.51
log
@000623
@
text
@a0 4
Fri Jun 23 17:36:03 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* stable version 1.4.5 released.

@


1.12.2.52
log
@2000-06-24
@
text
@a0 5
Fri Jun 23 22:34:51 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* bignum.c (rb_big_lshift): reorder xds assignment to avoid
	  reusing `x' as `len' by VC++ 6.0 SP3 compiler with -Ox switch.

@


1.12.2.53
log
@000624-repack
@
text
@a0 4
Sat Jun 24 19:02:34 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* stable version 1.4.5 released.

d5 4
@


1.12.2.54
log
@000626
@
text
@a0 5
Sun Jun 25 00:55:03 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/socket.c (sock_s_getnameinfo): `res' would not
	  be assigned if TYPE(sa) == T_STRING.

@


1.12.2.55
log
@win32 fix
@
text
@a0 15
Tue Jun 27 12:05:10 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32.c (myfdclr): new function.

	* win32.h: add FD_CLR.

Mon Jun 26 22:20:03 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/win32.c (is_socket, extract_file_fd): New function.

	* win32/win32.c (myfdopen): use is_socket().

	* win32/win32.c (myselect): return non socket files immediately
	  if file and socket handles are mixed.

@


1.12.2.56
log
@update ChangeLog
@
text
@a0 16
Tue Jun 27 22:38:15 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.24.

	* lib/net/protocol.rb: modified each_crlf_line again.

	* lib/net/protocol.rb: do_write_beg,do_write_end -> writing{}
	  do_write_do -> do_write

	* lib/net/http.rb: can make proxy connection by passing
	  addresses to HTTP.new, start.

	* lib/net/http.rb: HTTP.new_implementation, old_implementation:
	  can use 1.2 implementation of head, get, post, put.
	  (see document)

@


1.12.2.57
log
@2000-06-28
@
text
@a0 4
Wed Jun 28 09:30:09 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* cygwin/GNUmakefile: add $(LIBS).

@


1.12.2.58
log
@mktemp() vulnerability removed.
@
text
@a0 8
Thu Jun 29 18:57:05 2000  Koga Youichirou <y-koga@@mms.mt.nec.co.jp>

	* ruby.c (proc_options): mktemp() vulnerability removed.

Wed Jun 28 14:52:28 2000  Koga Youichirou <y-koga@@mms.mt.nec.co.jp>

	* config.sub: NetBSD/hpcmips support.

@


1.12.2.59
log
@matz
@
text
@a0 8
Sat Jul  1 03:25:56 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (call_args): command_call can be the last argument of
	  call_args.  It had to be the only argument.

	* re.c (rb_reg_s_quote): should not dump core even for unsane mbc
	  string.

@


1.12.2.60
log
@update ChangeLog
@
text
@a0 8
Sun Jul  2 03:37:02 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.25.

	* lib/net/protocol.rb (each_crlf_line): beg = 0 is needed in adding{}

	* lib/net/smtp.rb: allow String for to_addr of SMTP#sendmail

@


1.12.2.61
log
@update ChangeLog
@
text
@a0 8
Mon Jul  3 18:19:05 2000  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/net/protocol.rb, smtp.rb, pop.rb, http.rb: 1.1.26.

	* lib/net/protocol.rb (finish): do nothing unless active.

	* lib/net/http.rb: HTTP#{get,post}2 again (for new impl).

@


1.12.2.62
log
@matz
@
text
@a0 11
Fri Jul  7 03:30:00 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (fix_aref): convert index by NUM2INT, not FIX2INT. 
	  (ruby-bugs:#PR37)

Mon Jul  3 23:46:56 2000  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* win32/win32.c (myselect, myaccept): disable interrupt while
	  executing accept() or select() to avoid Ctrl-C causes
	  "unknown software exception (0xc0000029)".

@


1.12.2.63
log
@matz
@
text
@a0 5
Fri Jul 14 12:49:50 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): should preserve errinfo even if return, break,
	  etc. is called in rescue clause.

@


1.12.2.64
log
@matz
@
text
@a0 15
Sun Jul 23 12:55:04 2000  Dave Thomas  <Dave@@Thomases.com>

       * string.c (rb_str_rindex): Support negative end position.

Fri Jul 21 17:35:01 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* process.c (proc_getpriority): getpriority(2) may return valid
	  negative number.  use errno to detect error.

Sat Jul 15 01:32:34 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (Init_eval): should prohibit `include' and
	  `module_function' for class Class.  The latter was very
	  dangerous.

a1 9

	* io.c (argf_eof): need to check stdin, when next_p == -1.

	* io.c (read_all): use io_fread() instead of fread(3).

	* io.c (io_reopen): should clearerr FILE if fd < 3.

	* re.c (rb_reg_match_m): the result is exported, so it should be
	  declared as busy.
@


1.12.2.65
log
@eban
@
text
@a0 6
Mon Jul 24 18:52:55 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* win32/win32.c (win32_getenv): should remove `static'.

	* ruby.c (rubylib_mangle): support "/hoge;/foo"

d3 1
a3 1
	* string.c (rb_str_rindex): Support negative end position.
@


1.12.2.66
log
@matz - irb (PR#46)
@
text
@a6 5
Mon Jul 24 10:28:55 2000  GOTO Kentaro  <gotoken@@math.sci.hokudai.ac.jp>

	* string.c (rb_str_count): raise exception if no argument is
	  given.

@


1.12.2.67
log
@1.4.6 preview2
@
text
@a0 5
Wed Jul 26 15:07:00 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (eval): disable interrupts and thread context switching
	  during compilation and execution.

@


1.12.2.68
log
@eban
@
text
@a0 4
Sat Jul 29 21:57:30 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ruby.c (rubylib_mangle): provide another buffer for the result.

@


1.12.2.69
log
@matz
@
text
@a0 5
Sat Jul 29 23:42:04 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* dir.c (dir_each): should check whether dir is closed during the
	  block execution. (ruby-bugs:#PR47)

@


1.12.2.70
log
@eban
@
text
@a0 6
Sat Aug  5 16:43:43 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* lib/ftools.rb (compare, safe_unlink, chmod): avoid warnings.

	* lib/ftools.rb (move): typo. not `tpath', but `to'.

@


1.12.2.71
log
@matz
@
text
@a0 4
Mon Aug  7 13:59:12 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): check for stack depth was needed.

a5 5

Wed Aug  2 18:27:47 2000  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_continuation_call): prohibit Continuation#call across
	  threads.
@


1.12.2.72
log
@eban
@
text
@a0 4
Wed Aug  9 13:24:25 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* win32/win32.[ch]: emulate rename(2).

@


1.12.2.73
log
@matz
@
text
@a6 3
	* ruby.h (CLONESETUP): should copy flags before any potential
	  object allocation.

@


1.12.2.74
log
@matz
@
text
@a0 18
Tue Aug 15 17:30:59 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (frame_dup): should set flag FRAME_MALLOC after
	  argv allocation.

	* eval.c (blk_free): should not free argv if GC was called before
	  frame_dup.

Tue Aug 15 01:45:28 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* io.c (argf_eof): should return true at the end of ARGF without
	  checking stdout if arguments are given.

Mon Aug 14 10:34:32 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (rb_thread_status): status should return false for normal
	  termination, nil for termination by exception.

@


1.12.2.75
log
@matz
@
text
@a0 4
Wed Aug 16 15:30:58 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* stable version 1.4.6 released.

@


1.12.2.76
log
@eban
@
text
@a0 7
Sat Aug 19 01:34:02 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/sdbm/_sdbm.c (sdbm_prep): flags should be or-ed by O_BINARY on
	  Win32 too.

	* ext/sdbm/_sdbm.c (makroom): fill hole with 0 on Win32 too.

@


1.12.2.77
log
@eban
@
text
@a0 4
Thu Aug 24 15:27:39 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/socket/socketport.h: use `extern int h_errno' if needed.

@


1.12.2.78
log
@matz
@
text
@a11 8
Fri Aug 18 11:06:19 2000  Shugo Maeda  <shugo@@ruby-lang.org>

	* ext/socket/socket.c (s_accept): start GC on EMFILE/ENFILE.

Thu Aug 17 16:04:48 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (is_defined): should clear ruby_errinfo.

@


1.12.2.79
log
@eban
@
text
@a0 7
Sat Aug 26 01:37:09 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* configure.in: check _mktemp.

	* ruby.h: use _mktemp instead of mktemp if available.
	  quiet ld warning.

@


1.12.2.80
log
@matz
@
text
@a0 4
Tue Aug 29 15:18:20 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* ruby.c (proc_options): the value of -K may be empty.

@


1.12.2.81
log
@eban
@
text
@a0 5
Wed Aug 30 11:31:47 2000  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* ext/Win32API/Win32API.c (Win32API_initialize): add the
	  arguments checking.

@


1.12.2.82
log
@eban
@
text
@a0 10
Wed Aug 30 14:23:48 2000  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/tcltklib/tcltklib.c: support --enable-tcltk_stubs

	* ext/tcltklib/extconf.rb: ditto.

	* ext/tcltklib/stubs.c: created. examine candidate shared libraries.

	* ext/tcltklib/depend: add stubs.o.

@


1.12.2.83
log
@eban
@
text
@a15 3
	* ext/Win32API/Win32API.c (Win32API_initialize): add taint
	  checking. allow String object in the third argument.

@


1.12.2.84
log
@wakou
@
text
@a0 4
Tue Sep 12 07:05:24 2000  Wakou Aoyama <wakou@@fsinet.or.jp>

	* lib/net/telnet.rb: version 1.6.0

@


1.12.2.85
log
@matz
@
text
@a4 18
Mon Sep 11 14:24:47 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* hash.c (ruby_setenv): should not free the element of
	  origenvironment.

Mon Sep 11 01:27:54 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* eval.c (massign): precise check for argument number.

Thu Sep  7 14:17:51 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* string.c (rb_str_cat): should work even for concatenating same
	  string.

Tue Sep  5 00:26:06 2000  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* regex.c (re_search): range worked wrongly on bm_search().

a19 6
Wed Aug 30 10:29:40 2000  Masahiro Tomita  <tommy@@tmtm.org>

<<<<<<< ChangeLog
	* io.c (rb_f_p): flush output buffer.

=======
a22 1
>>>>>>> 1.12.2.84
d1167 1
a1167 1
Thu Sep  2 05:23:05 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>
d1202 1
a1202 1
	  value is omitted for return statement.
d1227 1
a1227 1
	* gc.c (rb_gc): add volatile to avoid GCC optimize bug(?).
d1242 1
a1242 1
	  not guaranteed to be IO.  check and forwarding added to every ARGF
d1382 1
a1382 1
	* eval.c (yield_under_i): cbase context should be maintained for
d1421 1
a1421 1
	* eval.c (rb_thread_join): get_backtrace() may return Qnil.
d1472 1
a1472 1
	* many files: clean up unused variables found by gcc -Wall.
d1804 1
a1804 1
	* gc.c (rb_gc_mark_locations): add safety margin 1.
d1813 1
a1813 1
	  variables happened to be higher (or lower) than stack_start.
d1918 1
a1918 1
	* version.h (RUBY_RELEASE_CODE): integer macro constant for source
d1971 1
a1971 1
	* ext/socket/socket.c (ip_addrsetup): decode symbolic address
d2160 1
a2160 1
	* ext/socket/socket.c (tcp_s_gethostbyname): avoid using struct
d2169 1
a2169 1
	* parse.y (parse_string): there should be newline escape by
d2289 1
a2289 1
	* io.c (rb_file_s_open): initialize was called twice.
d2416 1
a2416 1
	* eval.c (blk_copy_prev): need to preserve outer scope as well as
d2534 1
a2534 1
	* ext/socket/socket.c (Init_socket): UDPsocket was omitted.
d2613 2
a2614 2
	  without arguments emit superclass method with the value from
	  optional arguments.  enabled as experiment.
d2702 1
a2702 1
	* eval.c (rb_load): tilde expansion moved to find_file.
d2704 1
a2704 1
	* eval.c (find_file): tilde expansion added.
d2751 1
a2751 1
	* string.c (rb_str_substr): negative length raises exception now.
d2755 1
a2755 1
	* array.c (rb_ary_subseq): negative length raises exception now.
d2761 2
a2762 2
	* time.c (time_strftime): `\0' within format string should not be
	  omitted in the result.
d2830 1
a2830 1
	* sprintf.c (rb_f_sprintf): `%G' was omitted.
d2839 1
a2839 1
	  isinf, isnan, and finite.
d2913 1
a2913 1
	* re.c (match_getter): accessing $~ without matching caused SEGV.
d2945 1
a2945 1
	* numeric.c (rb_num2long): missing/vsnprintf.c does not support
d2985 1
a2985 1
	* string.c (rb_str_gsub_bang): too small realloc condition.
d3002 1
a3002 1
	  within character class.  Was matching with \W.
d3078 1
a3078 1
	* ruby.c (load_file): define DATA if __END__ appeared in script.
d3215 1
a3215 1
	* variable.c (classname): check __classpath__ if it is defined.
d3299 1
a3299 1
	* ruby.c (set_arg0): $0 support for HP-UX.
d3462 1
a3462 1
	* configure.in: elf support for FreeBSD 3.x
d3593 1
a3593 1
	* parse.y (arg): local variables can be accessed within right side
d3707 1
a3707 1
	* string.c (scan_once): consume at least on character.
d4035 1
a4035 1
	* marshal.c (r_bytes): remove weird casting between pointer and int.
d4494 1
a4494 1
	  consuming CPU too much.
d4835 1
a4835 1
	* file.c (f_test): raises exception for unknown command.
d4952 1
a4952 1
	* regex.c (re_match): forwarding failure point popped too much. 
d5067 1
a5067 1
	  interpreter termination.
d5111 1
a5111 1
	* struct.c (struct_alloc): incomplete struct initialization made
d5281 1
a5281 1
 	* sprintf.c (f_sprintf): use base 10 for conversion from string to
d5482 1
a5482 1
	* file.c (file_s_basename): removes any extension by ".*".
d5620 1
a5620 1
	* parse.y (yycompile): do not clear eval_tree. thus enable multiple 
d5701 1
a5701 1
	* lib/mkmf.rb: generate Makefile for extension modules out of ruby 
d5899 1
a5899 1
	* eval.c (rb_provide): module extensions should always be `.o'.
d6095 1
a6095 1
	* eval.c (rb_call): alias occurred in the module body caused SEGV.
d6114 1
a6114 1
 	  is initialized.
d6148 1
a6148 1
	* variable.c (find_class_path): avoid infinite loop.
d6165 1
a6165 1
	* class.c (mod_ancestors): list superclasses and included modules 
d6180 1
a6180 1
	* parse.y (assignable): remove unnecessary local variable
d6245 1
a6245 1
	* eval.c (rb_eval): clear method cache at class extension.
@


1.11
log
@19991004
@
text
@d1 14
@


1.10
log
@19990922
@
text
@d1 22
@


1.9
log
@19990920
@
text
@d1 29
d35 1
a35 1
	  not call setbuf(NULL) any more.
d3804 1
a3804 1
	* io.c (io_closed): should not cause exception fot closed IO.
d4558 1
a4558 1
	  command line script by optn `-e'.
d5043 1
a5043 1
 	  appear more than twice.
@


1.8
log
@990918-repack
@
text
@d1 7
@


1.7
log
@990917
@
text
@d1 1
a1 1
Fri Sep 17 01:04:25 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4 9
@


1.6
log
@1.4.1
@
text
@d1 12
d19 1
a19 1
	* string.c (rb_str_match): should return false.
@


1.5
log
@regexp literal (e.g. \202) match, etc.
@
text
@d1 53
@


1.4
log
@1.4.1 to be
@
text
@d1 43
@


1.3
log
@*** empty log message ***
@
text
@d1 18
@


1.2
log
@1.4.0
@
text
@d1 4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
Thu Dec 25 17:06:30 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3 3
a5 1
	* version 1.0-971225
d7 1
a7 1
	* some minor bug fixes.
d9 1
a9 1
Tue Dec  9 17:54:56 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d11 1
a11 1
	* version 1.0-971209
d13 204
a216 1
	* sample/ruby-mode.el (ruby-expr-beg): forgot to handle modifiers.
d218 1
a218 1
	* parse.y (tokadd): token buffer overrun.
d220 1
a220 1
Thu Dec  4 14:29:59 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d222 1
a222 1
	* version 1.0-971204
d224 1
a224 1
Mon Dec  1 15:24:41 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d226 1
a226 1
	* compar.c (cmp_between): wrong comparison made.
d228 1
a228 1
Wed Nov 26 18:18:05 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d230 1
a230 2
	* numeric.c (fix2str): enlarge buffer to prevent overflow on some
	  machines.
d232 1
a232 1
Tue Nov 25 15:03:28 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d234 1
a234 1
	* version 1.0-971125
d236 1
a236 1
Fri Nov 21 13:17:12 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d238 1
a238 1
	* parse.y (yylex): skip multibyte characters in comments.
d240 1
a240 1
Wed Nov 19 17:19:20 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d242 1
a242 1
	* parse.y (call_args): wrong node generation.
d244 2
a245 1
Tue Nov 18 13:59:59 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d247 1
a247 1
	* version 1.0-971118
d249 1
a249 1
Tue Nov 18 10:13:08 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d251 1
a251 2
	* regex.c (re_compile_pattern): insert initialize code for jump_n, 
	  before entering loops.
d253 1
a253 1
Sat Nov 15 00:11:36 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d255 2
a256 1
	* io.c (io_s_popen): "rb" detection
d258 2
a259 1
Wed Nov 12 13:44:47 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d261 1
a261 1
	* time.c: remove coerce from Time class.
d263 1
a263 1
Wed Nov  2 16:00:00 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d265 2
a266 1
	* string.c (str_sub_s): "".sub! "", "" => "\000"
d268 1
a268 1
Thu Oct 30 16:54:01 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d270 1
a270 1
	* string.c (str_chop_bang): "".chop caused SEGV.
d272 1
a272 1
Mon Oct 27 13:49:13 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d274 1
a274 1
	* ext/extmk.rb.in: library may have pathname contains `.'
d276 1
a276 1
	* eval.c (rb_rescue): should not protect SystemError.
d278 1
a278 1
Thu Oct 23 11:17:44 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d280 1
a280 1
	* range.c (range_eqq): fixnum check for last needed too.
d282 2
a283 1
Wed Oct 22 12:52:30 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d285 1
a285 2
	* array.c (ary_join): call ary_join() recursively for the 1st
 	  array element.
d287 1
a287 1
Tue Oct 21 13:31:29 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d289 1
a289 1
	* version 1.0-971021
d291 1
a291 1
Mon Oct 20 12:18:29 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d293 1
a293 1
	* ruby.c (load_file): wrong condition for #! check with -x.
d295 1
a295 1
	* file.c (file_s_dirname): did return "" for "/a".
d297 1
a297 1
Fri Oct 17 14:29:09 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d299 1
a299 1
	* bignum.c (bigadd): some undefined side effect order assumed.
d301 1
a301 1
Wed Oct 15 18:08:37 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d303 1
a303 1
	* version 1.0-971015
d305 1
a305 1
Fri Oct  3 10:51:10 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d307 1
a307 1
	* version 1.0-971003
d309 1
a309 1
	* eval.c (ruby_options): f_require() called too early.
d311 1
a311 1
	* eval.c (rb_provide): module extentions should always be `.o'.
d313 1
a313 1
Thu Oct  2 17:59:18 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d315 1
a315 2
	* ext/marshal/marshal.c (r_object): remove temporal regist for
 	  structs. (caused problem if structs form cycles.)
d317 1
a317 1
	* version 1.0-971002
d319 1
a319 1
Wed Oct  1 14:01:49 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d321 1
a321 1
	* ext/marshal/marshal.c (w_byte): argument must be char.
d323 1
a323 1
Wed Oct  1 10:30:22 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d325 1
a325 1
	* ext/marshal/marshal.c (marshal_dump): try to set binmode.
d327 1
a327 2
	* ext/marshal/marshal.c (r_object): forgot to re-regist structs in 
	  the object table.
d329 1
a329 2
	* eval.c (ruby_options): call Init_ext() before any require()
 	  calls by `-r'.
d331 3
a333 1
Tue Sep 30 14:51:07 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d335 1
a335 1
	* version 1.0-970930
d337 2
a338 1
Fri Sep 30 14:29:22 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d340 1
a340 1
	* ext/marshal/marshal.c (w_object): marshal dumped core.
d342 1
a342 1
Tue Sep 30 10:27:39 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d344 1
a344 1
	* sample/test.rb: bignum test suits added.
d346 1
a346 1
Mon Sep 29 13:37:58 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d348 1
a348 1
	* ruby.c (forbid_setid): forbid some options in suid mode.
d350 1
a350 1
Mon Sep 27 09:53:48 1997  EGUCHI Matsumoto  <eguchi@@shizuokanet.or.jp>
d352 1
a352 1
	* bignum.c: modified for speeding.
d354 1
a354 1
Fri Sep 26 18:27:59 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d356 1
a356 1
	* sample/from.rb: some extensions.
d358 1
a358 1
Mon Sep 29 13:15:56 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d360 1
a360 1
	* parse.y (lhs): no more syntax error on `obj.CONSTANT = value'.
d362 1
a362 1
Fri Sep 26 14:41:46 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d364 1
a364 1
	* eval.c (ruby_run): deferred calling Init_ext() just before eval_node.
d366 1
a366 1
Fri Sep 26 13:27:24 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d368 2
a369 1
	* io.c (io_isatty): forgot to return TRUE value.
d371 1
a371 1
Fri Sep 25 11:10:58 1997  EGUCHI Osamu  <eguchi@@shizuokanet.or.jp>
d373 2
a374 2
	* eval.c: use _setjmp/_longjmp instead of setjmp/longjmp on some
	  platforms.
d376 1
a376 1
Wed Sep 24 17:43:13 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d378 1
a378 1
	* string.c (Init_String): String#taint and String#taint? added.
d380 1
a380 1
Wed Sep 24 00:57:00 1997  Katsuyuki Okabe  <HGC02147@@niftyserve.or.jp>
d382 1
a382 1
	* X68000 patch.
d384 1
a384 1
Tue Sep 23 20:42:30 1997  EGUCHI Osamu  <eguchi@@shizuokanet.or.jp>
d386 1
a386 1
	* parse.y (node_newnode): SEGV on null node setup.
d388 1
a388 1
Mon Sep 22 11:22:46 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d390 2
a391 1
	* ruby.c (ruby_prog_init): wrong safe condition check.
d393 1
a393 1
Sun Sep 21 14:46:02 1997  MAEDA shugo  <shugo@@po.aianet.ne.jp>
d395 1
a395 1
	* error.c (exc_inspect): garbage added to classpath.
d397 1
a397 1
Fri Sep 19 11:49:23 1997    <matz@@netlab.co.jp>
d399 1
a399 1
	* version 1.0-970919
d401 2
a402 2
	* parse.y (newtok): forgot to adjust buffer size when shrinking
	  the token buffer.
d404 1
a404 1
	* enum.c (enum_find): rb_eval_cmd() does not return value.
d406 1
a406 2
	* io.c (pipe_open): close fds on pipe exec. fcntl(fd, F_SETFD, 1)
	  no longer used.
d408 1
a408 1
Tue Sep 16 17:54:25 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d410 2
a411 1
	* file.c (f_test): problem if wrong command specified.
d413 1
a413 1
	* ruby.c (ruby_prog_init): close stdaux and stdprn for MSDOS.
d415 1
a415 2
	* ruby.c (ruby_prog_init): should not add path from environment
	  variable, if ruby is running under seuid.
d417 1
a417 1
	* process.c (init_ids): check suid check for setuid/seteuid etc.
d419 1
a419 1
Mon Sep 15 00:42:04 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d421 1
a421 1
	* regex.c (re_compile_pattern): \w{3} and \W{3} did not work.
d423 1
a423 1
Thu Sep 11 10:31:48 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d425 1
a425 1
	* version 1.0-970911
d427 1
a427 1
	* ext/socket/socket.c (sock_new): no setbuf() for NT.
d429 2
a430 1
	* io.c (rb_fopen,rb_fdopen): set close-on-exec for every fd.
d432 1
a432 1
Wed Sep 10 15:55:31 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d434 1
a434 1
	* version 1.0-970910
d436 1
a436 1
	* ext/marshal/marshal.c (r_bytes0): extra big length check.
d438 1
a438 1
Tue Sep  9 16:27:14 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d440 2
a441 1
	* io.c (pipe_fptr_atexit): clean up popen()'ed fptr.
d443 1
a443 2
	* error.c (set_syserr): some system has error code that is bigger
	  than sys_nerr. grrr.
d445 1
a445 1
Tue Sep  9 16:27:14 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d447 1
a447 1
	* version 1.0-970909
d449 1
a449 2
	* error.c (set_syserr): some system has error code that is bigger
	  than sys_nerr. grrr.
d451 1
a451 1
Wed Sep  3 18:11:00 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d453 1
a453 1
	* version 1.0-970903
d455 2
a456 1
	* eval.c (f_load): expand path if fname begins with `~'.
d458 1
a458 1
Mon Sep  1 13:42:48 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d460 1
a460 1
	* eval.c (rb_call): alias occured in the module body caused SEGV.
d462 1
a462 1
Fri Aug 29 11:10:21 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d464 1
a464 1
	* parse.y (yylex): spaces can follow =begin/=end.
d466 1
a466 2
	* variable.c (find_class_path): look for class_tbl also for
	  unnamed fundamental classes, such as Object, String, etc.
d468 1
a468 2
	* variable.c (rb_name_class): can't name class before String class
 	  is initilialized.
d470 1
a470 2
	* inits.c (rb_call_inits): unrecognized dependency from GC to
	  Array.
d472 1
a472 2
	* variable.c (find_class_path): could not find class if Object's
 	  iv_tbl is NULL.
d474 1
a474 1
Thu Aug 28 13:12:05 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d476 1
a476 1
	* parse.y (yylex): revised `=begin' skip code.
d478 1
a478 1
	* eval.c (is_defined): separated from rb_eval().
d480 2
a481 1
Wed Aug 27 11:32:42 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d483 2
a484 1
	* variable.c (fc_i): some classes/modules does not have iv_tbl.
d486 1
a486 1
	* variable.c (find_class_path): avoid inifinite loop.
d488 1
a488 1
Tue Aug 26 13:43:47 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d490 1
a490 2
	* eval.c (rb_eval): undef'ing non-existing method will raise
	  NameError exception.
d492 1
a492 1
	* object.c (class_s_new): needed to create metaclass too.
d494 1
a494 1
	* eval.c (error_print): no class name print for anonymous class.
d496 2
a497 2
	* eval.c (rb_longjmp): proper exception raised if raise() called
 	  without arguments, with $! or $@@ set.
d499 1
a499 2
	* object.c (Init_Object): superclass()'s method argument setting
 	  was wrong again.
d501 1
a501 1
Mon Aug 25 11:53:11 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d503 1
a503 2
	* sample/ruby-mode.el (ruby-parse-region): auto-indent now
 	  supports "\\" in the strings.
d505 2
a506 2
	* struct.c (struct_getmember): new API to get member value from C
	  language side.
d508 1
a508 1
Fri Aug 22 14:26:40 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d510 2
a511 1
	* eval.c (error_print): modified exception print format.
d513 2
a514 1
Thu Aug 21 16:10:58 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d516 1
a516 2
	* sample/ruby-mode.el (ruby-calculate-indent): wrong indent level
	  calculated with keyword operators.
d518 1
a518 1
Thu Aug 21 11:55:41 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d520 1
a520 1
	* version 1.0-970821
d522 1
a522 1
Thu Aug 21 11:36:58 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d524 1
a524 1
	* parse.y (arg): ary[0] += 1 cause SEGV
d526 2
a527 1
Wed Aug 20 14:24:42 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d529 1
a529 1
	* version 1.0-970820
d531 1
a531 1
	* eval.c (rb_call): infinite loop bug
d533 1
a533 1
Tue Aug 19 00:15:38 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d535 1
a535 1
	* version 1.0-970819
d537 2
a538 2
	* eval.c (rb_call): did not raise ArgumentError if too many
 	  arguments more than optional arguments (without rest arg).
d540 1
a540 2
	* eval.c (rb_eval): did not work well for op_asgn2 (attribute
	  self assignment).
d542 1
a542 1
Mon Aug 18 09:25:56 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d544 1
a544 1
	* object.c (inspect_i): did not display T_DATA instance variables.
d546 1
a546 1
	* parse.y: provides more accurate line number information.
d548 1
a548 2
	* eval.c (thread_value): include value's backtrace information in
	  the variable `$@@'. 
d550 1
a550 1
	* eval.c (f_abort): print backtrace and exit.
d552 2
a553 1
Sat Aug 16 00:17:44 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d555 1
a555 1
	* object.c (class_s_new): do not make subclass of singleton class.
d557 1
a557 1
Fri Aug 15 15:49:46 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d559 1
a559 2
	* eval.c (call_trace_func): block context switch in the trace
          function.
d561 2
a562 1
	* eval.c (rb_eval): clear method cache at class extention.
d564 1
a564 1
Fri Aug 15 19:40:43 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d566 1
a566 1
	* ext/socket/socket.c (Init_socket): small typo caused SEGV.
d568 1
a568 1
Tue Aug 12 16:02:18 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d570 1
a570 2
	* variable.c: option variables: $-0, $-p(readonly), $-v,
	  $-I(load_path), $-a(readonly), $-K, $-d, $-F, $-i, $-l. 
d572 1
a572 1
	* parse.y (yylex): ignore rd (ruby document) in the code.
d574 2
a575 1
Mon Aug 11 12:37:58 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d577 1
a577 1
	* re.c (Init_Regexp): $-K as alias to the $KCODE.
d579 5
a583 2
	* io.c (Init_IO): new virtual variable $-i for the value of -i
 	  option.
d585 1
a585 1
	* enum.c (Init_Enumerable): include? as alias of member?
d587 2
a588 1
Fri Aug  8 11:16:50 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d590 1
a590 1
	* io.c (io_foreach): now the record separator can be specified.
d592 2
a593 2
	* io.c (io_s_readlines): new method to read in whole file (or
 	  command output) from path.
d595 2
a596 1
	* ext/socket/socket.c (Init_socket): recvfrom did not work.
d598 1
a598 2
	* ext/socket/socket.c (sock_send): forgot to check nil for false
	  value.
d600 1
a600 1
Thu Aug  7 11:40:01 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d602 1
a602 1
	* object.c (Init_Object): remove private_attr/public_attr.
d604 2
a605 1
Wed Aug  6 14:21:36 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d607 2
a608 1
	* object.c (mod_attr): forgot to check nil for false value.
d610 2
a611 1
Mon Aug  4 11:50:28 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d613 1
a613 2
	* variable.c (rb_class_path): scan class constants for anonymous
	  classes/modules to make up pathes.
d615 1
a615 1
Wed Jul 30 08:45:12 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d617 1
a617 1
	* eval.c (rb_eval): stop to cache const value in nodes.
d619 1
a619 1
Sat Jul 26 03:17:22 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d621 2
a622 1
	* numeric.c (flo_to_s): wrong .0 at end.
d624 1
a624 1
Sat Jul 26 00:36:36 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d626 1
a626 2
	* eval.c (error_print): always print exception type in the
 	  toplevel exception handler.
d628 1
a628 1
	* string.c (str_hash): wrong hash value.
d630 1
a630 1
Thu Jul 24 11:05:51 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d632 2
a633 1
	* string.c (uscore_get): proper error message for unset $_.
d635 1
a635 1
Wed Jul 23 09:56:55 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d637 1
a637 2
	* object.c (obj_methods): returns list of method names of the
	  specified object.
d639 1
a639 2
	* class.c (mod_instance_methods): returns list of method names of 
	  the class instnace.
d641 1
a641 1
Fri Jul 11 22:38:55 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d643 1
a643 2
	* object.c (class_superclass): returns class's superclass
 	  itself. (1.1)
d645 1
a645 1
	* object.c (obj_type): returns object's class itself. (1.1)
d647 1
a647 1
	* class.c (mod_included_modules): list included modules.
d649 2
a650 1
	* object.c (class_superclass): raises error for Object.
d652 1
a652 1
Thu Jul  3 09:54:02 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d654 1
a654 1
	* eval.c (SETUP_ARGS): save source position, remove nd_line().
d656 1
a656 1
	* eval.c (rb_call): replace modulo by bit-masking.
d658 1
a658 1
	* eval.c (POP_SCOPE): force recycle scope object to reduce gc rate.
d660 1
a660 1
	* gc.c (obj_free): aboid calling run_final() when no finalizer is set.
d662 1
a662 2
	* eval.c (PUSH_VARS): do not allocate the dynamic scope's end-mark
	  object.
d664 2
a665 1
Wed Jul  2 14:25:07 1997  KIMURA Koichi  <kkimura@@pure.cpdc.canon.co.jp>
d667 2
a668 1
	* Native mswin32 support.
d670 1
a670 1
Tue Jul  1 09:59:00 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d672 2
a673 1
	* version 1.0-970701
d675 1
a675 1
	* parse.y (mrhs): allow rest-star(*) in right hand side.
d677 2
a678 1
Tue Jun 24 19:04:31 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d680 2
a681 1
	* version 1.0-970624
d683 1
a683 1
Sat Jun 20 22:22:51 1997  Michio "Karl" Jinbo  <karl@@marcer.nagaokaut.ac.jp>
d685 2
a686 1
	* eval.c: freebsd 3.0 <sys/select.h> support.
d688 1
a688 1
Fri Jun 20 01:24:45 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d690 1
a690 1
	* version 1.0-970620
d692 1
a692 2
	* gc.c: eliminate uninitilalized field of Hash, Array etc., to
	  avoid dumping core.
d694 1
a694 1
Thu Jun 19 01:29:44 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d696 1
a696 1
	* version 1.0-970619
d698 4
a701 1
	* string.c (str_split_method): wrong limit.
d703 1
a703 1
Sat Jun 14 01:54:16 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d705 1
a705 2
	* class.c (rb_singleton_class): no singleton for special
	  constants (now raises exception).
d707 1
a707 2
	* eval.c (ruby_init): cbase in TOPLEVEL_BINDING need to be
	  initialized.
d709 2
a710 1
Sat Jun 14 01:01:16 1997  maeda shugo  <shugo@@po.aianet.ne.jp>
d712 3
a714 1
	* array.c (sort_2): wrong comparison.
d716 1
a716 1
Sat Jun 14 00:53:44 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d718 2
a719 1
	* hash.c (hash_foreach): safe iteration.
d721 1
a721 1
Fri Jun 13 14:04:56 1997  Michio "Karl" Jinbo  <karl@@marcer.nagaokaut.ac.jp>
d723 2
a724 1
	* configure.in: -Bshareable option for netbsd.
d726 1
a726 1
Fri Jun 13 01:16:22 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d728 2
a729 1
	* io.c (pipe_open): call io_unbuffered() only for writable pipes.
d731 1
a731 1
Thu Jun 12 01:14:15 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d733 2
a734 1
	* version 1.0-970612
d736 1
a736 1
	* ext/socket/socket.c (sock_new): use io_unbuffered().
d738 1
a738 2
	* ext/marshal/marshal.c (w_long): compact long format, which
	  supports 64 bit architectures (unless longs are >32 bit size).
d740 1
a740 1
	* ext/marshal/marshal.c: allows recursive data for marshaling.
d742 2
a743 1
	* parse.y (rb_intern): raise exception for non-internable string.
d745 1
a745 2
	* ext/marshal/marshal.c (marshal_load): allows direct loading from
 	  strings.
d747 2
a748 1
	* ext/marshal/marshal.c (marshal_dump): allows direct dump to strings.
d750 2
a751 1
	* ext/marshal/marshal.c (marshal_dump): interface changed.
d753 2
a754 1
Wed Jun 11 18:26:00 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d756 1
a756 1
	* gc.c (rb_newobj): remove needless memset().
d758 1
a758 1
Mon Jun  9 13:03:43 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d760 1
a760 1
	* eval.c (rb_eval): reduce condition checks from while/until loop.
d762 1
a762 1
	* eval.c (rb_eval): wrong jump point for `next'.
d764 1
a764 1
Fri Jun  6 11:47:39 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d766 1
a766 1
	* ruby.c (ruby_set_argv): initialize dln_argv0 for dln_a_out.
d768 1
a768 1
	* ext/socket/socket.c (open_unix): display path name for exceptions.
d770 2
a771 1
	* ruby.c (proc_options): option -S did not work well.
d773 2
a774 1
Fri May 30 02:14:44 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d776 1
a776 1
	* version 1.0-970530
d778 1
a778 1
	* eval.c (eval): set $! properly if exception raised in eval().
d780 1
a780 1
	* io.c (io_write): now handles non T_FILE object.
d782 1
a782 1
	* io.c (io_defset): $< can be anything which has `write' method.
d784 1
a784 1
Thu May 29 15:40:22 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d786 1
a786 1
	* eval.c (eval): $@@ is always an array (not string).
d788 1
a788 2
	* pack.c (pack_unpack): avoid corrupting memory for unexpected
	  input strings.
d790 1
a790 1
Wed May 28 12:46:13 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d792 1
a792 1
	* version 1.0-970528
d794 1
a794 1
	* process.c (rb_waitpid): do not block other threads.
d796 1
a796 1
Tue May 27 12:02:31 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d798 1
a798 2
	* eval.c (ruby_init): split initialize and processing command line
	  options.
d800 1
a800 1
	* ruby.c (ruby_options): ruby_init(0, 0, envp) dumps core.
d802 1
a802 1
Tue May 20 18:59:45 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d804 1
a804 2
	* variable.c (rb_ivar_set): invalid instance variable access for
	  built-in object raises TypeError.
d806 1
a806 1
Fri May 16 17:32:21 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d808 1
a808 1
	* version 1.0-970516
d810 1
a810 1
	* dir.c (push_globs): was freeing non heap pointer.
d812 1
a812 1
	* gc.c: remove some duplicated prototypes.
d814 1
a814 1
	* ext/kconv/kconv.c: fix prototypes.
d816 1
a816 1
Fri May  9 11:38:59 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d818 1
a818 1
	* version 1.0-970509
d820 2
a821 1
	* gc.c (obj_free): avoid free(NULL).
d823 2
a824 1
	* eval.c (rb_check_safe_str): argument missing for TypeError().
d826 1
a826 1
Thu May  8 01:14:28 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d828 2
a829 2
	* file.c (file_s_dirname): need to return "." for path without
	  slashes.
d831 2
a832 1
Wed May  7 19:18:48 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d834 1
a834 3
	* process.c (f_fork): child processe does not inherit parent's
 	  itimer setting on linux.  call setitimer() again in the child
	  process.
d836 1
a836 1
Sat May  3 02:49:43 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d838 1
a838 2
	* ext/curses/curses.c: modified for portability and add to the
 	  standard distribution.
d840 1
a840 1
Wed Apr 30 00:34:00 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d842 1
a842 1
	* file.c (file_s_size): returns 0 for empty files (not FALSE).
d844 1
a844 1
Fri Apr 25 02:17:50 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d846 1
a846 1
	* version 1.0-970425
d848 1
a848 1
	* eval.c (f_load): free unused name-table.
d850 1
a850 1
	* eval.c (f_load): copy local variable name-table.
d852 1
a852 1
	* gc.c (obj_free): avoid free(NULL).
d854 1
a854 2
	* eval.c (rb_eval): forgot to make link from the scope object to
	  NODE_SCOPE.  It may crash the interpreter.
d856 2
a857 1
Thu Apr 24 00:35:09 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d859 1
a859 2
	* random.c (f_srand): save old seed anyway.  srand() returns no
 	  value on some systems.
d861 1
a861 2
	* gc.c (obj_free): avoid double free of the local variable name
	  table.
d863 3
a865 1
	* parse.y (top_local_setup): modify realloc to handle offset.
d867 3
a869 1
Tue Apr 22 12:58:26 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d871 1
a871 1
	* version 1.0-970422
d873 1
a873 1
Thu Apr 17 00:40:51 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d875 1
a875 2
	* configure.in (rb_cv_bsdpgrp): proper check for BSD
	  setpgrp/setpgrp. 
d877 1
a877 1
Wed Apr 16 16:14:02 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d879 2
a880 1
	* eval.c (proc_call): proc called in other thread must be orphan.
d882 1
a882 1
Tue Apr 15 10:46:31 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d884 4
a887 1
	* version 1.0-970415
d889 1
a889 1
	* gc.c (obj_free): NODE_SCOPE marked from SCOPE object.
d891 2
a892 1
	* gc.c (gc_mark): some nodes marked wrong.
d894 1
a894 1
	* process.c (proc_getpgrp): wrong argument
d896 1
a896 1
Fri Apr 14 18:32:42 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d898 1
a898 1
	* version 1.0-970414
d900 1
a900 1
Fri Apr 12 01:20:12 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d902 2
a903 1
	* ruby.h: String pointer changed to unsigned char.
d905 1
a905 1
Fri Apr 11 10:27:29 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d907 2
a908 1
	* version 1.0-970411
d910 1
a910 1
	* Makefile.in: create libruby.a before linking ruby.
d912 1
a912 1
	* string.c (str_strip_bang): >0x80 characters for isspace().
d914 1
a914 1
	* eval.c (proc_call): set safe-level temporally
d916 1
a916 1
	* eval.c (proc_s_new): save safe-level in the proc context.
d918 1
a918 1
	* eval.c (rb_eval): no class/module extention in safe mode.
d920 1
a920 1
Thu Apr 10 02:10:41 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d922 2
a923 1
	* gc.c (gc_mark): remove some pointer checks for speeding up.
d925 1
a925 1
	* ruby.c (ruby_options): set $0 temporally for -r option.
d927 1
a927 1
	* eval.c: built-in security feature.
d929 1
a929 1
	* gc.c (gc_sweep): do not free nodes during compile.
d931 2
a932 1
	* parse.y (yycompile): set flag when compiling.
d934 1
a934 1
Wed Apr  9 10:19:02 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d936 1
a936 1
	* ruby.c: forgot to include <ctype.h> for isspace().
d938 1
a938 1
	* file.c: provide S_ISREG for some platforms.
d940 1
a940 1
	* io.c (Init_IO): added some $< operations.
d942 1
a942 1
	* lib/ping.rb: check host upness using TCP echo.
d944 1
a944 1
Tue Apr  8 00:10:15 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d946 1
a946 1
	* io.c (arg_read): bug with 0 length input.
d948 1
a948 1
Mon Apr  7 11:36:16 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d950 2
a951 1
	* ext/fcntl/fcntl.c: module for fcntl constants.
d953 1
a953 1
	* eval.c (rb_alias): bug when original was an alias.
d955 2
a956 1
	* parse.y (primary): syntax to access singleton class.
d958 1
a958 2
	* eval.c (mod_public_method): method's to specify visibitily of
	  the class methods.  make_method_{public,private} removed.
d960 1
a960 1
Fri Apr  4 21:43:57 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d962 1
a962 1
	* version 1.0-970404
d964 1
a964 1
	* gc.c (obj_free): finalizer added for experiment.
d966 1
a966 1
Thu Apr  3 02:12:31 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d968 2
a969 2
	* eval.c (thread_schedule): make Fatal rise on main_thread on
	  deadlocks.
d971 1
a971 2
	* eval.c (thread_join): raise ThreadError instead of Fatal, in
	  case of deadlock.
d973 2
a974 1
	* regex.c (re_compile_fastmap): uninitialized local variable.
d976 1
a976 2
	* parse.y (parse_regx): new option //[nes] to specify character
	  code for regexp literals.  Last specified code option is valid.
d978 1
a978 2
	* re.c (reg_s_new): addtional 3rd argument to specify compiled
 	  regexp's character code.
d980 1
a980 2
	* re.c (reg_new_1): regexp character code can be specified for
	  each regexp object.
d982 2
a983 1
Wed Apr  2 14:51:06 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d985 1
a985 1
	* eval.c (thread_create): handle uncaught throw.
d987 1
a987 1
	* eval.c (thread_create): halt on some deadlock conditions.
d989 1
a989 2
	* regex.c (is_in_list): wrong result for non-mbc higher-byte
	  characters. 
d991 1
a991 1
	* regex.c (re_match): wrong skip for multi-byte characters.
d993 1
a993 1
	* regex.c (re_compile_fastmap): wrong fastmap in non-mbc mode.
d995 1
a995 1
	* hash.c (Init_Hash): hash compatible features added to ENV.
d997 1
a997 1
Tue Apr  1 15:24:06 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d999 1
a999 3
	* eval.c (obj_extend): remove Object#extend as an iterator which
 	  is in experimental state, since it unveils internal singleton
 	  classes.
d1001 1
a1001 1
Mon Mar 31 14:29:39 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1003 1
a1003 1
	* version 1.0-970331
d1005 1
a1005 1
Sun Mar 30 19:40:57 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d1007 1
a1007 1
	* parse.y (terms): avoided win32 gcc's optimization bug.
d1009 2
a1010 1
Sat Mar 29 11:21:58 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1012 1
a1012 1
	* struct.c (make_struct): St[val,..] creates new structure.
d1014 1
a1014 1
Fri Mar 28 11:24:51 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1016 1
a1016 2
	* eval.c (obj_make_private): new method make_method_{public,private}
	  to change visibility of singleton methods.
d1018 1
a1018 2
	* regex.c (re_compile_pattern): enables numeric literal >= 0x80 in 
	  the character class.
d1020 2
a1021 2
	* regex.c (re_compile_pattern): enabled numeric literal >= 0x80,
	  in multibyte mode.
d1023 1
a1023 2
	* regex.c (re_compile_fastmap): modified exantn and charset(_not)
	  to set fastmap for higher bytes properly.
d1025 1
a1025 1
	* regex.c (is_in_list): now matches numeric literals.
d1027 1
a1027 1
Thu Mar 27 13:34:20 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d1029 1
a1029 1
	* pack.c (pack_unpack): extra null byte after unpacked string.
d1031 1
a1031 1
Wed Mar 26 15:20:34 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1033 2
a1034 2
	* regex.c (re_compile_pattern): register numbers must be fit in a
 	  byte (0 <= regnum <= 0xff).
d1036 1
a1036 2
	* regex.c (re_compile_fastmap): forgot to set mbchar map for
 	  charset_not if RE_MBCTYPE is on.
d1038 2
a1039 2
	* regex.c (re_compile_pattern): set list bits for multi-byte
	  characters for \W, \S, \D in range expression.
d1041 1
a1041 3
	* object.c (obj_is_kind_of): defined that nil itself is kind of
 	  nil.  TRUE is kind of TRUE, FALSE is kind of FALSE likewise.
  	  This change makes `obj.kind_of?(eval(obj.type))' always true.
d1043 1
a1043 1
Tue Mar 25 14:08:43 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1045 1
a1045 1
	* lib/English.rb: provides nicer English alias for the variables.
d1047 1
a1047 2
	* parse.y (expr): alias $var1 $var2 makes alias of the global
	  variable. 
d1049 1
a1049 1
Mon Mar 24 18:23:20 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1051 1
a1051 1
	* version 1.0-970324
d1053 1
a1053 1
Thu Mar 20 22:04:59 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1055 2
a1056 1
	* eval.c (mod_modfunc): forget to clear method cache.
d1058 2
a1059 1
Wed Mar 19 17:06:55 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1061 1
a1061 2
	* parse.y (program): set methods' default private/public status
	  correctly under eval().
d1063 1
a1063 1
	* eval.c (eval): set the_class correctly while evaluating string.
d1065 1
a1065 1
Tue Mar 18 12:23:53 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1067 1
a1067 1
	* eval.c (eval): yield can be called from eval().
d1069 1
a1069 1
	* version 1.0-970318
d1071 1
a1071 2
	* parse.y (program): regexp in condition expression should do
	  matching operation with $_.
d1073 1
a1073 1
	* re.c (reg_regsub): wrong substitution.
d1075 1
a1075 1
Fri Mar 14 14:36:28 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1077 1
a1077 2
	* hash.c (hash_invert): returns value to key mapping of the
	  associative array.
d1079 1
a1079 2
	* ext/socket/extconf.rb: set environment variable SOCKS_SERVER to
	  compile with libsocks.a.
d1081 1
a1081 2
	* ext/socket/socket.c (socks_s_open): SOCKSsocket class to access
	  internet via SOCKS library.
d1083 1
a1083 2
	* sprintf.c (f_sprintf): unsigned formats display leading double
 	  dots for imaginary sequence of signed bit to the left.
d1085 1
a1085 2
	* sprintf.c (f_sprintf): correct width and precision formatting
	  for big integers.
d1087 1
a1087 2
	* parse.y (yylex): enables negative hex/octal numbers and `_' in
	  non-decimal numbers.
d1089 1
a1089 1
	* sprintf.c (f_sprintf): %u added for unsigned decimal format.
d1091 1
a1091 1
Thu Mar 13 10:24:27 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1093 1
a1093 1
	* sprintf.c (f_sprintf): wrong output for bignums.
d1095 1
a1095 1
	* array.c (ary_reverse_each): iterates in reverse order.
d1097 1
a1097 1
	* pack.c (pack_unpack): L unpacked signed long.
d1099 1
a1099 1
	* io.c (f_backquote): now returns an empty string for no output.
d1101 1
a1101 1
Wed Mar 12 10:20:30 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1103 1
a1103 1
	* ext/socks/socks.c: socket module with socks library.
d1105 1
a1105 1
Mon Mar 10 20:44:22 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1107 1
a1107 2
	* re.c (reg_regsub): \& for substitution.  \`, \', and \+ are
	  avaiable also.
d1109 1
a1109 1
Thu Mar  6 01:47:03 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1111 2
a1112 1
	* version 1.0-970306
d1114 1
a1114 1
	* sample/rubydb.el (gud): ruby debugger emacs interface
d1116 1
a1116 1
	* lib/debug.rb: ruby debugger
d1118 1
a1118 1
	* parse.y (exprs): more accurate line number display.
d1120 1
a1120 1
Wed Mar  5 21:31:46 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1122 2
a1123 1
	* version 1.0-970305
d1125 1
a1125 1
Tue Mar  4 12:28:32 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1127 1
a1127 2
	* ruby.c (proc_options): search through RUBYPATH and PATH for
	  option -S.
d1129 1
a1129 1
Mon Mar  3 22:44:55 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1131 1
a1131 2
	* eval.c (thread_status): returns nil for exception terminated
	  threads. 
d1133 1
a1133 1
	* eval.c (thread_value): re-raise exceptions.
d1135 1
a1135 1
Sat Mar  1 00:59:47 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1137 1
a1137 2
	* eval.c (rb_eval): restore $! value after rescue clause, to 
	  re-raise exceptions correctly.
d1139 1
a1139 1
Fri Feb 28 16:43:38 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1141 1
a1141 1
	* version 1.0-970228
d1143 1
a1143 1
Thu Feb 27 11:23:41 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1145 1
a1145 1
	* eval.c (rb_yield_0): redo raises exception
d1147 1
a1147 1
	* eval.c (thread_schedule): bug in interrupt handling by rescue.
d1149 1
a1149 1
Wed Feb 26 00:55:36 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1151 1
a1151 2
	* eval.c (eval): forgot to restore dynamic local variable
	  bindings.
d1153 1
a1153 1
Tue Feb 25 11:22:08 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1155 2
a1156 1
	* ext/aix_ld.rb: AIX dynamic load support (not tested).
d1158 1
a1158 1
	* eval.c (rb_eval): wrong return value for defined? super.
d1160 2
a1161 1
	* error.c (exception): more error check.
d1163 1
a1163 2
	* re.c (reg_regsub): wrong substitution when sub expanded to null
 	  string.
d1165 1
a1165 1
Fri Feb 21 13:01:47 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1167 2
a1168 1
	* version 1.0-970221
d1170 1
a1170 2
	* eval.c (f_require): volatile added.  register variable was
 	  recycled, so that GC did not mark that variable.
d1172 1
a1172 2
	* object.c (Init_Object): forget to mark main object (was mostly
	  ok, but made trouble with early GC.)
d1174 1
a1174 1
Thu Feb 20 11:50:50 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1176 1
a1176 1
	* version 1.0-970220
d1178 2
a1179 1
Thu Feb 20 11:25:50 1997  Yasuo OHBA  <jammy@@shljapan.co.jp>
d1181 1
a1181 1
	* lib/date.rb: update
d1183 1
a1183 1
Thu Feb 20 08:25:57 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1185 1
a1185 1
	* parse.y (yylex): forgot tokfix() before rb_intern().
d1187 1
a1187 1
	* lib/tk.rb (TkVariable): give up using trace_var.
d1189 1
a1189 1
Wed Feb 19 00:24:35 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1191 1
a1191 1
	* version 1.0-970219
d1193 2
a1194 2
	* pack.c (pack_pack): packed by null for A specifier. must be
	  space filled.
d1196 1
a1196 1
	* pack.c (pack_unpack): bug in skipping spaces
d1198 1
a1198 1
	* gc.c (xmalloc): garbage collect for every 4 Meg. allocation.
d1200 1
a1200 1
	* string.c (str_split_method): limit worked wrong way.
d1202 1
a1202 2
	* io.c (io_gets_method): misunderstand 0xff in binary files when
	  $/ == nil.
d1204 1
a1204 1
	* re.c (reg_regsub): re-implement.
d1206 1
a1206 2
	* ext/socket/socket.c (thread_connect): remove O_NONBLOCK, which
	  is not defined on some platform like NeXT.
d1208 1
a1208 1
Mon Feb 17 13:08:30 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1210 1
a1210 1
	* version 1.0-970217
d1212 2
a1213 2
	* object.c (mod_eqq): === extended for subclass check (to use case
	  as typecase).
d1215 1
a1215 1
Sat Feb 15 02:07:22 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1217 1
a1217 1
	* regex.c (re_compile_pattern): wrong match backref at end of pattern.
d1219 1
a1219 1
	* io.c (arg_read): now works beyond end of file.
d1221 2
a1222 1
Thu Feb 13 16:21:24 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1224 1
a1224 1
	* parse.y (expr): return/yield now accept normal argument format.
d1226 1
a1226 2
	* parse.y (yylex): a star in `yield *x' must not be multiplication 
	  operator.
d1228 1
a1228 1
Wed Feb 12 15:06:44 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1230 2
a1231 1
	* time.c (time_plus): bug in simple addition.
d1233 1
a1233 1
	* eval.c (thread_raise): raise exceptions from outside.
d1235 1
a1235 1
	* eval.c (Init_Thread): Thread#alive? -- alias for Thread#status.
d1237 1
a1237 1
Mon Feb 10 00:38:55 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1239 1
a1239 1
	* ruby.h (Data_Make_Struct): rename macros.
d1241 1
a1241 1
Sun Feb  8 11:48:13 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1243 1
a1243 1
	* io.c (f_syscall): argument offset was wrong.
d1245 1
a1245 1
Fri Feb  7 18:01:17 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1247 1
a1247 1
	* version 1.0-970207
d1249 1
a1249 1
	* eval.c: add volatiles to avoid variable crobbering by longjmp().
d1251 1
a1251 1
	* eval.c (f_raise): 1st argument can be the GlobalExit object now.
d1253 1
a1253 1
	* array.c (ary_unshift): no longer accept more than 2 args.
d1255 1
a1255 1
	* eval.c (f_raise): bug if 2nd argument is the exception.
d1257 1
a1257 1
Tue Feb  4 00:37:29 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1259 1
a1259 1
	* version 1.0-970204
d1261 1
a1261 1
	* eval.c (eval): check compile errors by nerrs.
d1263 2
a1264 2
	* eval.c (rb_eval): check syntax error by nerrs, not by the return
 	  value, which may be NULL.
d1266 1
a1266 1
	* eval.c (compile): Do not clear errinfo.
d1268 2
a1269 1
Mon Feb  3 10:13:06 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1271 1
a1271 2
	* eval.c (obj_extend): move real inclusion to Module#extend_object 
	  to allow redfinition.
d1273 1
a1273 2
	* object.c (Init_Object): Kernel class is now Module. Object class 
	  became the true root class.
d1275 2
a1276 1
	* object.c (obj_inspect): remove useless buffer.
d1278 1
a1278 1
	* hash.c (any_cmp): disable interrupts and context switching.
d1280 2
a1281 1
	* st.c: remove ALLOW_INTS to disable interrupt during operations.
d1283 1
a1283 1
Fri Jan 31 22:10:08 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1285 1
a1285 1
	* hash.c (hash_rehash): re-register all key-value.
d1287 2
a1288 1
Thu Jan 30 02:14:49 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1290 1
a1290 1
	* io.c (io_reopen): re-implement according to clone() way.
d1292 1
a1292 1
	* io.c (io_clone): copy IO object.
d1294 1
a1294 1
	* struct.c (struct_eql): compare elements by eql?.
d1296 1
a1296 1
	* io.c (io_mode_flags): detect "rb", "wb" etc.
d1298 1
a1298 1
	* io.h (FMODE_BINMODE): added.
d1300 2
a1301 1
	* ext/socket/socket.c (Init_socket): undef BasicSocket.new
d1303 1
a1303 1
	* file.c (Init_File): File.new(path[,mode])
d1305 1
a1305 1
	* io.c (Init_IO): IO.new(fd[,mode])
d1307 1
a1307 1
	* eval.c (rb_method_boundp): forgot to enable priv argument.
d1309 1
a1309 1
	* object.c (Init_Object): remove `=~' from Kernel class.
d1311 2
a1312 2
	* ext/socket/socket.c (open_inet): initialize sockaddr before
	  calling bind(2).
d1314 1
a1314 1
	* sample/ruby-mode.el (ruby-calculate-indent): skip comment lines
d1316 1
a1316 1
Wed Jan 29 18:43:22 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1318 1
a1318 1
	* eval.c (Init_Thread): DEFER_INTS during initializing threads.
d1320 1
a1320 1
	* hash.c (Init_Hash): Hash#eql? checks for object identity.
d1322 1
a1322 1
	* eval.c (thread_set_critical): wrong value assigned.
d1324 1
a1324 1
Mon Jan 27 16:10:51 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1326 2
a1327 1
	* io.c (io_print): remove print_on().
d1329 1
a1329 2
	* eval.c (f_missing): proper error message for undefined method
	  without argument
d1331 1
a1331 1
Sat Jan 25 23:32:32 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1333 1
a1333 1
	* string.c (str_sub_s): false alert - sub() does not modify string.
d1335 1
a1335 1
	* array.c (ary_times): negative multiplication detected
d1337 1
a1337 1
	* string.c (str_times): negative multiplication detected
d1339 1
a1339 1
Fri Jan 24 10:51:39 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1341 1
a1341 2
	* time.c (time_arg): month -> 0 == "jan" == "1" == "01", little bit
	  confusing but wanted to conform japanese style.
d1343 1
a1343 1
	* version 1.0-970124
d1345 1
a1345 1
Fri Jan 24 09:52:49 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d1347 1
a1347 1
	* util.c (_fixpath): supports SJIS filenames on DJGPP.
d1349 1
a1349 1
Thu Jan 23 16:52:06 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1351 2
a1352 1
	* README.EXT: update. partially translated into English.
d1354 1
a1354 1
	* ext/extmk.rb.in: inherit $LDFLAGS to the final link.
d1356 1
a1356 1
	* ext/socket/socket.c (Init_socket): add various constants.
d1358 1
a1358 1
Mon Jan 23 11:40:59 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d1360 2
a1361 1
	* eval.c (Init_Thread): allocate main_thread first to avoid crash.
d1363 1
a1363 1
Thu Jan 23 02:09:26 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1365 1
a1365 2
	* gc.c (ObjectSpace): API modified. each_object method will do all
 	  the iteration.
d1367 1
a1367 1
	* eval.c (proc_call): wrong return from nested lambda.
d1369 2
a1370 1
	* ext/GD/GD.c: debugged.
d1372 1
a1372 1
Wed Jan 22 16:12:25 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1374 3
a1376 1
	* version 1.0-970122
d1378 1
a1378 1
	* gc.c (gc_mark): forgot to mark match->str.
d1380 1
a1380 1
	* ext/GD/GD.c: GD interface module.
d1382 1
a1382 1
	* eval.c (PUSH_BLOCK): wrong value pushed as the block level.
d1384 1
a1384 1
Mon Jan 20 14:01:31 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1386 1
a1386 1
	* eval.c (thread_run): no context switch in the critical section.
d1388 1
a1388 1
Mon Jan 20 09:40:59 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d1390 1
a1390 1
	* utils.c: supports 8+3 filenames
d1392 1
a1392 1
Sat Jan 18 01:23:03 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1394 1
a1394 1
	* version 1.0-970118
d1396 1
a1396 1
	* regex.c (PATFETCH): need cast to unsigned char.
d1398 2
a1399 1
	* io.c (io_ctl): bug in case when arg is not a string.
d1401 1
a1401 1
	* lib/tk.rb: forgot that Kernel#type returns the class name now.
d1403 1
a1403 1
	* regex.c (re_search): "abc\n" =~ "^$" should not match.
d1405 1
a1405 1
Fri Jan 17 12:31:37 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1407 1
a1407 1
	* version 1.0-970117
d1409 1
a1409 2
	* ruby.c (ruby_options): constant PLATFORM, which is in the {cpu}-{os} 
	  form, defined.
d1411 1
a1411 1
	* configure.in: platform infomation embedded in the interpreter.
d1413 1
a1413 1
	* regex.c (re_search): /^$/ did not match to "" by wrong exit condition.
d1415 1
a1415 1
	* lib/thread.rb: re-write Mutex/Queue based on Thread.critical.
d1417 1
a1417 2
	* eval.c (thread_set_critical): remove Thread.exclusive, add
	  Thread.critical = TRUE/FALSE instead.
d1419 1
a1419 1
	* re.c (reg_search): re-compile pattern if needed
d1421 1
a1421 1
	* regex.c (PATFETCH): do translate at compile time
d1423 1
a1423 1
Thu Jan 16 00:49:10 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1425 1
a1425 1
	* gc.c (gc_mark_frame): forgot to mark frame->cbase.
d1427 2
a1428 1
	* regex.c (re_compile_pattern): /a$|b)/ causes error.
d1430 1
a1430 1
	* regex.c (re_compile_pattern): /(^|b)/ causes error.
d1432 1
a1432 1
	* version 1.0-970116
d1434 1
a1434 1
	* re.c (Init_Regexp): set RE_CONTEXTUAL_INVALID_OPS flag.
d1436 1
a1436 1
Tue Jan 14 02:09:06 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1438 1
a1438 1
	* eval.c (proc_call): Proc#call
d1440 1
a1440 1
	* configure.in: nextstep
d1442 1
a1442 1
	* eval.c (rb_eval): a[b]=c
d1444 2
a1445 2
	* eval.c (f_send): 
	  
d1447 1
a1447 1
	* string.c (str_new4): match
d1449 1
a1449 2
	* re.c (reg_search): match()
	  copy-on-write
d1451 2
a1452 1
	* string.c (str_hash): toupper
d1454 1
a1454 1
	* array.c (sort_2): FixnumString
d1456 1
a1456 1
Mon Jan 13 11:03:53 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1458 1
a1458 1
	* eval.c (thread_create): thread
d1460 1
a1460 1
	* eval.c (Init_Thread): 100msec
d1462 1
a1462 1
Sat Jan 11 00:17:05 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1464 1
a1464 1
	* regex.c (re_search): ()
d1466 1
a1466 1
	* io.c (io_ioctl,io_fcntl): 2
d1468 1
a1468 2
	* io.c (io_ioctl,io_fcntl): IO(
	  )
d1470 1
a1470 1
	* io.c (io_ctl): 
d1472 1
a1472 1
	* io.c (io_fcntl): file.c
d1474 1
a1474 1
Fri Jan 10 17:01:47 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1476 2
a1477 1
	* version 1.0-970110
d1479 2
a1480 2
	* ext/socket/socket.c (thread_connect): open(connect(2))
	  thread
d1482 1
a1482 1
	* eval.c (thread_create): exitexit
d1484 1
a1484 1
Mon Jan  6 17:42:22 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1486 1
a1486 1
	* string.c (str_sub_s): offset
d1488 1
a1488 1
	* regex.c (re_search): $
d1490 1
a1490 1
Thu Jan  2 16:36:23 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1492 1
a1492 1
	* file.c (file_reopen): Filereopen(pathIO)
d1494 1
a1494 1
	* io.c (io_reopen): IOreopen(IO) -- change class
d1496 1
a1496 1
Wed Jan  1 11:09:01 1997  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1498 1
a1498 1
	* io.c (f_select): timeoutnil
d1500 1
a1500 1
Fri Dec 27 13:06:44 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1502 1
a1502 2
	* file.c (file_s_open): 
	  
d1504 1
a1504 1
Fri Dec 27 08:58:27 1996  ono@@isl.nara.sharp.co.jp
d1506 1
a1506 1
	* numeric.c (flo_to_s): index()strstr()
d1508 1
a1508 1
Thu Dec 26 01:34:17 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1510 2
a1511 1
	* lib/tk.rb: place
d1513 1
a1513 2
	* pack.c (endian): DYNAMIC_ENDIANendian
	  
d1515 1
a1515 1
	* eval.c (thread_alloc): 
d1517 1
a1517 1
Wed Dec 25 00:33:19 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1519 1
a1519 1
	* version 1.0-961225
d1521 1
a1521 1
	* io.c (Init_IO): new
d1523 2
a1524 1
	* lib/tkthcore.rb: tk_call "global $foo; set foo 5"
d1526 1
a1526 1
	* eval.c (thread_restore_context): $~, $_
d1528 1
a1528 1
	* process.c (rb_waitpid): thread
d1530 1
a1530 1
Tue Dec 24 15:20:58 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1532 1
a1532 1
	* version 0.99.4-961224
d1534 1
a1534 1
	* configure.in: charunsigned
d1536 2
a1537 1
	* regex.c (SIGN_EXTEND_CHAR): __CHAR_UNSIGNED__
d1539 1
a1539 1
	* pack.c (pack_unpack): signed char
d1541 1
a1541 1
Mon Dec 23 14:41:23 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1543 1
a1543 2
	* ruby.c (load_file): 
	  
d1545 2
a1546 1
	* object.c (f_integer): `0x', `0'base
d1548 1
a1548 1
Fri Dec 20 01:44:39 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1550 1
a1550 1
	* Makefile.in (flock.o): flock
d1552 1
a1552 1
Thu Dec 19 20:13:32 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1554 2
a1555 1
	* version 0.99.4-961219
d1557 1
a1557 1
Wed Dec 18 00:06:48 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1559 1
a1559 1
	* glob.c (glob_filename): strrchr
d1561 1
a1561 1
	* configure.in: <sys/select.h>
d1563 1
a1563 1
	* ext/kconv/kconv.c: 1.62
d1565 2
a1566 1
	* ext/kconv/kconv.c: Kconv
d1568 2
a1569 1
	* string.c (str_substr): len
d1571 1
a1571 1
	* parse.y (iterator): $bar do .. end
d1573 1
a1573 1
	* parse.y (iterator): FID(foo!,foo?)do
d1575 1
a1575 1
	* missing/flock.c (flock): lockf()
d1577 1
a1577 1
	* file.c (file_flock): flock
d1579 2
a1580 1
Tue Dec 17 12:13:38 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1582 1
a1582 1
	* version 0.99.4-961217
d1584 1
a1584 1
Fri Dec 13 02:05:03 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1586 1
a1586 1
	* configure.in: RUBYLIB(@@mix/awk offline)
d1588 1
a1588 1
	* dln.c: AIX(@@mix/awk offline)
d1590 1
a1590 2
	* eval.c (thread_schedule): critical section
	  
d1592 1
a1592 1
	* re.c (reg_search): match$~nil
d1594 1
a1594 1
	* re.c (reg_search): match
d1596 1
a1596 1
Thu Dec 12 17:03:30 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1598 1
a1598 1
	* numeric.c (flo_to_s): 2.0.to_s -> 2.0
d1600 2
a1601 1
	* eval.c (thread_save_context): $_, $~thread
d1603 1
a1603 1
	* eval.c (thread_kill): main threadexit(0)
d1605 1
a1605 1
	* string.c (str_split_method): 
d1607 1
a1607 1
Thu Dec 12 15:32:48 1996  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d1609 1
a1609 1
	* dir.c: CYGWIN32
d1611 1
a1611 1
	* ext/socket/socket.c: CYGWIN32
d1613 1
a1613 1
	* io.c: CYGWIN32
d1615 1
a1615 1
Thu Dec 12 14:43:51 1996  Jun Kuroda  <j_kuro@@pluto.ai.kutech.ac.jp>
d1617 1
a1617 1
	* lib/tk.rb: wish4.2
d1619 1
a1619 1
	* config.guess: JCC
d1621 2
a1622 1
Thu Dec 12 00:41:17 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1624 1
a1624 1
	* version 0.99.4-961212
d1626 2
a1627 1
	* parse.y (parse_string): """..."""
d1629 1
a1629 2
	* parse.y (parse_regx): %r|...|terminator \ 
	  
d1631 1
a1631 1
	* signal.c (posix_signal): sigactionsignal
d1633 1
a1633 1
	* configure.in: posix signal/bsd signal
d1635 1
a1635 1
Wed Dec 11 17:47:35 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1637 1
a1637 2
	* eval.c (thread_schedule): critical section
	  
d1639 1
a1639 1
	* lib/thread.rb: SharedMutex
d1641 2
a1642 1
	* lib/jcode.rb: String#scan
d1644 2
a1645 1
Tue Dec 10 12:21:28 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1647 1
a1647 1
	* version 0.99.3-961210
d1649 1
a1649 1
	* string.c (str_split_method): ()
d1651 1
a1651 1
	* lib/jcode.rb: 
d1653 1
a1653 1
	* string.c (tr_setup_table): (2)
d1655 1
a1655 1
Mon Dec  9 11:38:04 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1657 1
a1657 2
	* string.c (str_scan): 
	  
d1659 2
a1660 1
	* regex.c (re_copy_registers): allocated
d1662 1
a1662 1
	* re.c (match_to_s): $~
d1664 1
a1664 1
	* re.c (match_to_a): $~
d1666 1
a1666 1
	* re.c (match_getter): 
d1668 2
a1669 1
Thu Dec  5 11:06:10 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1671 1
a1671 2
	* string.c (str_split_method): 
	  push
d1673 1
a1673 1
	* string.c (str_succ): 
d1675 1
a1675 1
Wed Dec  4 10:48:09 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1677 1
a1677 1
	* version 0.99.3-961204
d1679 1
a1679 1
	* io.c (io_binmode): DJGPPbinmode
d1681 1
a1681 1
	* sprintf.c (f_sprintf): intsprintf
d1683 2
a1684 1
	* sprintf.c (f_sprintf): "%02s"
d1686 2
a1687 1
	* re.c (reg_search): indexSEGV
d1689 1
a1689 1
Tue Dec  3 10:09:36 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1691 1
a1691 1
	* version 0.99.3-961203
d1693 1
a1693 1
	* ext/extmk.rb.in (install): INSTALL_DATAINSTALL
d1695 1
a1695 1
	* dln.c: hpux
d1697 1
a1697 1
	* string.c (str_aset_method): 
d1699 1
a1699 1
	* array.c (ary_replace): 
d1701 1
a1701 1
	* array.c (beg_len): beg==end0
d1703 1
a1703 1
Mon Dec  2 14:07:12 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1705 1
a1705 1
	* configure.in: HP shl
d1707 2
a1708 1
	* string.c (str_upto): beg > end
d1710 1
a1710 1
	* range.c (range_each): String#upto
d1712 1
a1712 1
	* string.c (str_split_method): "ABC".split(/(B)/)
d1714 1
a1714 1
Sat Nov 30 01:43:52 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1716 1
a1716 1
	* eval.c (rb_eval): undefSEGV
d1718 1
a1718 1
Fri Nov 29 12:17:59 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1720 1
a1720 2
	* sample/ruby-mode.el (ruby-parse-region): %Q#..#
	  
d1722 1
a1722 1
	* re.c (reg_raise): 
d1724 1
a1724 1
	* re.c (reg_inspect): 
d1726 1
a1726 2
	* parse.y (parse_string): `%[QqXxRr](.)..\1'(
	  )
d1728 1
a1728 1
	* parse.y (parse_qstring): '''...'''
d1730 1
a1730 1
	* ext/dbm/dbm.c (Init_dbm): key?,value?
d1732 1
a1732 1
	* ext/dbm/dbm.c (Init_dbm): includes->include?
d1734 1
a1734 1
	* hash.c (Init_Hash): key?,value?,include?
d1736 1
a1736 1
	* eval.c (rb_eval): unlesselse()
d1738 2
a1739 2
	* string.c (str_sub_iter_s): 
	  ()
d1741 1
a1741 1
	* string.c (str_resize): len0size
d1743 1
a1743 1
Thu Nov 28 00:59:54 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1745 1
a1745 1
	* version 0.99.3-961128
d1747 1
a1747 1
	* parse.y (parse_string): 3-quote style(:"""abc"d"e""")
d1749 1
a1749 2
	* configure.in (EXTSTATIC): extrubydll
	  
d1751 1
a1751 1
	* io.c (Init_IO): gets
d1753 1
a1753 1
	* string.c (str_each_line): RS
d1755 1
a1755 1
Wed Nov 27 12:37:46 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1757 1
a1757 1
	* version 0.99.3-961127
d1759 1
a1759 1
	* eval.c (rb_eval): iver defined? self
d1761 1
a1761 1
	* io.c: getsRS
d1763 2
a1764 1
	* ext/extmk.rb.in (install): static link
d1766 2
a1767 1
Tue Nov 26 10:33:04 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1769 1
a1769 1
	* version 0.99.3-961126
d1771 1
a1771 1
	* string.c (str_sub_s): 
d1773 1
a1773 1
Mon Nov 25 09:11:22 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1775 1
a1775 2
	* numeric.c (fix_rshift): 320(C
	  rshift(x>>(y%32)))
d1777 1
a1777 1
	* string.c (str_gsub): 
d1779 1
a1779 1
	* string.c (str_resize): realloc
d1781 2
a1782 1
Thu Nov 21 04:13:21 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1784 1
a1784 2
	* configure.in (EXTSTATIC): --with-static-linked-ext
	  
d1786 1
a1786 2
	* pack.c (pack_unpack): 
	   
d1788 1
a1788 1
Wed Nov 20 96 21:42:51 1996  Yasuo OHBA  <jammy@@shljapan.co.jp>xc
d1790 2
a1791 1
	* configure.in: freebsd
d1793 1
a1793 1
Wed Nov 20 10:24:24 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1795 1
a1795 2
	* ext/extmk.rb.in (install): LDFLAGS
	  DLDFALGS
d1797 1
a1797 2
	* ext/extmk.rb.in (install): 
	  
d1799 1
a1799 2
	* eval.c (f_missing): 
	  
d1801 1
a1801 1
	* process.c (proc_exec_v): fork
d1803 1
a1803 1
Tue Nov 19 13:28:15 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1805 1
a1805 1
	* version 0.99.3-961119
d1807 1
a1807 1
	* eval.c (mod_method_defined): Module#method_defined? 
d1809 1
a1809 2
	* parse.y (call_args): (
	  )
d1811 1
a1811 1
Mon Nov 18 13:28:18 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1813 1
a1813 1
	* string.c (str_sub): nil
d1815 2
a1816 1
	* string.c (str_split_method): 
d1818 1
a1818 1
	* ext/socket/socket.c (sock_s_getservbyaname): 
d1820 2
a1821 1
	* version 0.99.3-961118
d1823 2
a1824 1
	* string.c (str_sub_s): 
d1826 1
a1826 1
	* pack.c (encodes): 
d1828 1
a1828 1
Fri Nov 15 17:10:35 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1830 1
a1830 1
	* bignum.c (big_divmod): Bignum
d1832 1
a1832 1
	* sample/ruby-mode.el (ruby-expr-beg): word?
d1834 1
a1834 1
Wed Nov 13 15:42:40 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1836 1
a1836 1
	* string.c (str_tr_s_bang): tr_str
d1838 1
a1838 1
	* eval.c (rb_eval): autoload
d1840 1
a1840 1
	* string.c (f_sub): subsub!
d1842 1
a1842 1
	* eval.c (thread_sleep): stopsleep
d1844 1
a1844 1
Mon Nov 11 13:53:19 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1846 1
a1846 1
	* version 0.99.3-961111
d1848 1
a1848 1
	* numeric.c (fix_step): to, step
d1850 1
a1850 2
	* eval.c (rb_call): dynamic vardynamic scoping(
	  )
d1852 1
a1852 2
	* string.c (str_chop_bang): 0chop
	  
d1854 1
a1854 1
	* parse.y (yyerror): 
d1856 1
a1856 1
Fri Nov  8 11:54:46 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1858 1
a1858 1
	* eval.c (thread_yield): scopeheap
d1860 1
a1860 1
Thu Nov  7 09:56:53 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1862 1
a1862 1
	* numeric.c (num_coerce): Float
d1864 1
a1864 1
Wed Nov  6 10:45:13 1996  Yasuo OHBA  <jammy@@shljapan.co.jp>
d1866 1
a1866 1
	* lib/parsearg.rb: 2
d1868 1
a1868 1
Tue Nov  5 14:21:09 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1870 1
a1870 1
	* version 0.99.3-961105
d1872 2
a1873 1
Sat Nov  2 01:11:40 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1875 1
a1875 1
	* bignum.c (big_pow): typo (dy -> dx)
d1877 1
a1877 1
	* bignum.c (big_divmod): float
d1879 1
a1879 1
	* numeric.c (fix_lshift): ()
d1881 1
a1881 1
	* bignum.c (big_pow): float
d1883 1
a1883 1
	* math.c (math_atan2): typo(x -> y)
d1885 1
a1885 1
Fri Nov  1 15:30:59 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1887 1
a1887 2
	* ext/socket/socket.c (sock_gethostname): gethostname
	  uname
d1889 1
a1889 2
	* ext/etc/etc.c (etc_getlogin): getloginNULL
	  
d1891 1
a1891 1
	* object.c (krn_clone): 
d1893 1
a1893 1
	* hash.c (rb_cmp): `=='`eql?'
d1895 1
a1895 1
	* math.c (Need_Float): Float()
d1897 1
a1897 1
	* compar.c (cmp_gt): 
d1899 2
a1900 1
Thu Oct 31 12:55:51 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1902 1
a1902 1
	* version 0.99.3-961031
d1904 1
a1904 1
	* numeric.c (Init_Numeric): typo
d1906 1
a1906 1
	* eval.c (error_print): trace back
d1908 1
a1908 1
	* regex.c (re_compile_pattern): range
d1910 1
a1910 1
Wed Oct 30 03:03:18 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1912 2
a1913 1
	* version 0.99.3-961030
d1915 2
a1916 1
	* io.c (f_ungetc): 
d1918 1
a1918 1
	* eval.c (dyna_var_asgn): return
d1920 1
a1920 1
Tue Oct 29 10:05:28 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1922 1
a1922 1
	* string.c (f_split): split
d1924 2
a1925 2
	* eval.c (rb_call): /
	  
d1927 1
a1927 1
Mon Oct 28 09:51:03 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1929 1
a1929 1
	* string.c (str_sub): offset
d1931 2
a1932 1
	* regex.c (re_match): 1
d1934 1
a1934 2
	* io.c (io_gets): $/ = ""perl(awk
	  )
d1936 1
a1936 1
	* io.c (io_gets): $/ = nil
d1938 1
a1938 2
	* string.c (str_split_method): null
	  
d1940 1
a1940 2
	* string.c (str_split_method): limit
	  
d1942 1
a1942 2
	* numeric.c (num_coerce_bin): coerce2
	  [x,y]
d1944 1
a1944 2
	* sample/ruby-mode.el (ruby-calculate-indent): "do |aa|"
	  
d1946 1
a1946 1
Sat Oct 26 01:43:51 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1948 2
a1949 2
	* ext/marshal/marshal.c (w_object): 
	  
d1951 1
a1951 1
	* ext/marshal/marshal.c (w_object): dump
d1953 1
a1953 1
	* numeric.c (flo_coerce): Float()
d1955 1
a1955 1
	* numeric.c (Init_Numeric): Numericnewundef
d1957 1
a1957 2
	* ext/marshal/marshal.c (w_symbol): ()
	  
d1959 1
a1959 2
	* sample/ruby-mode.el (ruby-parse-region): if/while
	  
d1961 1
a1961 1
	* bignum.c (Init_Bignum): Bignum.new
d1963 1
a1963 1
	* eval.c (rb_eval): 
d1965 1
a1965 1
	* numeric.c (flo_div): typo
d1967 1
a1967 1
	* sample/ruby-mode.el (ruby-parse-region): def /, def `
d1969 1
a1969 1
Fri Oct 25 09:26:29 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1971 1
a1971 1
	* sample/ruby-mode.el (ruby-calculate-indent): "do |aa|"
d1973 1
a1973 1
	* array.c (ary_aset): indexfixnum
d1975 1
a1975 1
	* eval.c (thread_fd_writable): select
d1977 1
a1977 1
	* array.c (ary_assoc): 
d1979 2
a1980 2
	* eval.c (thread_wait_for): selectlinux
	  
d1982 1
a1982 1
Thu Oct 24 08:26:48 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1984 2
a1985 1
	* eval.c (backtrace): `$@@'
d1987 2
a1988 1
	* eval.c (eval): eval
d1990 1
a1990 1
	* bignum.c (bigsub): 
d1992 1
a1992 1
	* re.c (reg_search): `$~'
d1994 1
a1994 1
Wed Oct 23 10:40:10 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d1996 1
a1996 1
	* version 0.99.2-961023
d1998 1
a1998 1
	* ext/marshal/marshal.c (r_bytes): mallocalloca
d2000 1
a2000 2
	* sample/ruby-mode.el (ruby-calculate-indent): 
	  ()
d2002 1
a2002 1
Tue Oct 22 12:59:11 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2004 1
a2004 1
	* hash.c (hash_s_new): size
d2006 2
a2007 2
	* ext/marshal/marshal.c (w_object): dump
	  
d2009 1
a2009 1
	* array.c (ary_s_new): size
d2011 1
a2011 1
	* object.c (f_float): big2dbl
d2013 2
a2014 2
	* bignum.c (bigsub): Bignum
	  
d2016 1
a2016 2
	* array.c (ary_aset): 
	  shift(memmove)
d2018 2
a2019 2
	* ext/marshal/marshal.c (marshal_dump): 
	  
d2021 1
a2021 1
	* ext/marshal/marshal.c (tmpnam): linux-aout-dln
d2023 1
a2023 1
Mon Oct 21 08:40:20 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2025 1
a2025 4
	* ext/socket/socket.c (sock_s_gethostbyname): hostent
	  
	  (sock_s_gethostbyaddr): IPhostent
	  (sock_s_getservbyaname): getservbyname(3)
d2027 1
a2027 1
Fri Oct 18 10:37:36 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2029 1
a2029 1
	* sample/ruby-mode.el (ruby-indent-to): 
d2031 1
a2031 1
	* eval.c (compile): eval
d2033 1
a2033 1
Thu Oct 17 09:52:28 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2035 1
a2035 1
	* eval.c (eval): evalSEGV
d2037 1
a2037 1
	* lib/safe.rb: Restricted.eval
d2039 1
a2039 2
	* eval.c (error_print): caller
	  ()
d2041 1
a2041 1
	* eval.c (make_backtrace): 
d2043 1
a2043 1
Wed Oct 16 12:56:22 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2045 1
a2045 1
	* ruby-man-0.99.2-jp/index.html: ()
d2047 2
a2048 1
	* re.c (reg_regcomp): $=nil
d2050 2
a2051 1
	* string.c (f_chop): $_chop
d2053 1
a2053 1
Tue Oct 15 11:04:23 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2055 1
a2055 1
	* version 0.99.2-961015
d2057 1
a2057 1
Mon Oct 14 18:22:38 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2059 1
a2059 3
	* eval.c (thread_schedule): BOWselect-1(
	  do .. whilecontinue
	   ^^);;;;;
d2061 1
a2061 2
	* sample/ruby-mode.el (ruby-mode-syntax-table): ?syntax"/"
	  
d2063 1
a2063 1
	* hash.c (rb_hash): name conflict
d2065 1
a2065 1
Fri Oct 11 00:23:05 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2067 1
a2067 1
	* version 0.99.2-961011
d2069 2
a2070 2
	* ext/marshal/marshal.c (w_object): 
	  
d2072 1
a2072 1
	* hash.c (rb_hash): Fixnum
d2074 1
a2074 2
	* ext/marshal/marshal.c (w_object): (
	  )
d2076 1
a2076 1
	* io.c (io_readline): 
d2078 1
a2078 1
	* ext/marshal/marshal.c (marshal_dumps): MSDOS
d2080 1
a2080 1
	* ruby.c (load_file): MSDOS
d2082 1
a2082 1
Wed Oct  9 17:46:27 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2084 1
a2084 1
	* ext/extmk.rb.in (install): 
d2086 1
a2086 2
	* string.c (str_sub_method): String#sub
	  
d2088 1
a2088 1
	* eval.c (obj_extend): extendobject_extended
d2090 1
a2090 1
Tue Oct  8 00:55:38 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2092 1
a2092 1
	* eval.c (thread_alloc): 
d2094 1
a2094 1
	* eval.c (thread_schedule): join
d2096 1
a2096 1
	* eval.c (thread_wait_for): select
d2098 1
a2098 2
	* eval.c (thread_select): linuxselect(timeout
	  )
d2100 2
a2101 1
Mon Oct  7 09:47:19 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2103 2
a2104 1
	* version 0.99.2-961007
d2106 1
a2106 1
	* eval.c (PUSH_BLOCK): the_class
d2108 1
a2108 1
	* ext/dbm/dbm.c (fdbm_store): size
d2110 1
a2110 1
	* ext/socket/socket.c (s_accept): thread
d2112 1
a2112 1
Sat Oct  5 01:32:27 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2114 1
a2114 1
	* io.c (io_readchar): EOF
d2116 1
a2116 1
Fri Oct  4 11:59:54 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2118 1
a2118 2
	* ext/marshal/marshal.c (w_object): HashObject
	  
d2120 1
a2120 1
	* variable.c (rb_path2class): 
d2122 1
a2122 2
	* variable.c (rb_path2class): Fatal
	  NameError
d2124 2
a2125 2
	* range.c (range_s_new): first,lastNumeric
	  
d2127 2
a2128 1
	* range.c: start->first, end->last
d2130 1
a2130 1
Wed Oct  2 02:02:46 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2132 1
a2132 1
	* file.c: DJGPPchmod,chown(DOSchown?)
d2134 2
a2135 2
	* class.c (rb_singleton_class): extend
	  
d2137 1
a2137 2
	* variable.c (rb_set_class_path): 
	  path
d2139 1
a2139 1
	* eval.c (eval): RuntimeError
d2141 1
a2141 1
	* eval.c (eval): eval
d2143 1
a2143 1
	* eval.c (eval): eval_with_binding
d2145 1
a2145 2
	* eval.c (rb_eval): //
	  
d2147 2
a2148 1
Tue Oct  1 01:40:09 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2150 1
a2150 1
	* version 0.99.2-961001
d2152 1
a2152 1
	* parse.y: cur_cref2
d2154 2
a2155 1
	* signal.c (trap): SIGSEGVSIGBUS
d2157 1
a2157 1
	* io.c (Init_IO): 
d2159 1
a2159 1
Mon Sep 30 15:28:00 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2161 1
a2161 1
	* version 0.99.2-960930
d2163 2
a2164 1
	* config.guess,config.sub: $host_os
d2166 1
a2166 1
	* eval.c (rb_eval): yieldself
d2168 2
a2169 3
	* eval.c (ruby_run): toplevel
	
Mon Sep 30 09:13:26 1996  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d2171 1
a2171 1
	* djgpp
d2173 1
a2173 1
Sat Sep 28 02:45:10 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2175 1
a2175 1
	* version 0.99.2-960928
d2177 1
a2177 3
	* sample/ruby-mode.el (ruby-beginning-of-block): 
	  ()
	  (ruby-end-of-block): 
d2179 1
a2179 2
	* eval.c (class_s_new): Class#new
	  initialize
d2181 5
a2185 1
	* signal.c (sigsegv): SEGVbacktrace
d2187 6
a2192 1
Fri Sep 27 09:51:07 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2194 5
a2198 1
	* version 0.99.2-960927
d2200 1
a2200 2
	* eval.c (error_print): raise
	  
d2202 1
a2202 1
	* eval.c (rb_longjmp): mesgnilRuntimeError
d2204 1
a2204 1
	* eval.c (f_raise): 
d2206 1
a2206 2
	* eval.c (thread_mark): stack
	  
d2208 1
a2208 1
	* eval.c (Init_Thread): 1
d2210 1
a2210 1
Thu Sep 26 16:02:45 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2212 1
a2212 2
	* eval.c (thread_schedule): 
	  
d2214 2
a2215 2
	* process.c (rb_proc_exec): system/exec
	  
d2217 1
a2217 1
	* config.sub/config.guess: 
d2219 2
a2220 1
Thu Sep 26 15:41:35 1996  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d2222 1
a2222 1
	* io.c (next_argv): -i.bakBOWDOS
d2224 1
a2224 1
Thu Sep 26 01:31:43 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2226 1
a2226 1
	* io.c (io_sysread): EOF
d2228 1
a2228 2
	* io.c (f_readline): EOFgets
	  nil
d2230 1
a2230 2
	* eval.c (proc_call): lambdareturnIN_BLOCK
	  
d2232 1
a2232 1
	* eval.c (PUSH_BLOCK2): threadBlockstack
d2234 1
a2234 1
Wed Sep 25 11:54:11 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2236 1
a2236 2
	* parse.y (method_call): Const::method()
	  
d2238 1
a2238 1
	* sample/test.rb: Process.kill
d2240 1
a2240 2
	* eval.c (eval_with_binding): 2binding(lambda)
	  eval
d2242 1
a2242 1
	* eval.c (f_binding): binding
d2244 1
a2244 1
	* eval.c: blockthe_class
d2246 1
a2246 1
	* process.c (Init_process): kill,wait,waitpidProcess
d2248 1
a2248 1
Tue Sep 24 02:44:43 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2250 2
a2251 2
	* sample/ruby-mode.el: 
	  
d2253 1
a2253 1
	* lib/tk.rb (Tk.pack): pack
d2255 1
a2255 1
Sat Sep 21 11:08:09 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2257 1
a2257 2
	* parse.y (exprs): 
	  
d2259 1
a2259 1
Fri Sep 20 11:39:18 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2261 1
a2261 1
	* Fail
d2263 1
a2263 1
	* re.c (Init_Regexp): 
d2265 1
a2265 1
	* eval.c (f_missing): Objectinspect
d2267 2
a2268 1
	* object.c (inspect_i): Object#inspectloop
d2270 2
a2271 1
	* regex.c (re_search): /^$/""
d2273 1
a2273 1
Thu Sep 19 19:25:12 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2275 1
a2275 1
	* regex.c (re_search): /^$/
d2277 1
a2277 1
Tue Sep 17 10:28:11 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2279 1
a2279 1
	* version 0.99.2-960917
d2281 1
a2281 1
Mon Sep 16 10:47:56 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2283 1
a2283 2
	* sample/ruby-mode.el (ruby-calculate-indent): 
	  
d2285 1
a2285 2
	* sample/ruby-mode.el (ruby-calculate-indent): else
	  
d2287 1
a2287 1
Sat Sep 14 08:37:19 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2289 1
a2289 1
	* version 0.99.2-960914
d2291 1
a2291 1
Fri Sep 13 08:06:03 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2293 1
a2293 1
	* ext/socket/socket.c (tcpaddr): portntohs
d2295 1
a2295 1
	* dln.c (link_undef): 
d2297 1
a2297 1
	* bignum.c (bigadd): 
d2299 1
a2299 1
	* parse.y (iter_do_block): do..enddynamic variable
d2301 2
a2302 2
	* bignum.c (big_pow): (float
	  )
d2304 1
a2304 1
Thu Sep 12 13:11:55 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2306 1
a2306 2
	* variable.c (rb_set_class_path): String
	  Stringpath
d2308 2
a2309 1
	* parse.y (yylex): 0.10
d2311 1
a2311 1
	* parse.y (yylex): 
d2313 1
a2313 3
	* gc.c (oblist_live_obj): 
	  ()
	  each_object_of
d2315 1
a2315 2
	* class.c (rb_define_class_id): 
	  
d2317 2
a2318 1
Wed Sep 11 00:56:23 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2320 2
a2321 1
	* parse.y (yylex): octal(090)
d2323 1
a2323 1
	* bignum.c (big_minus): yx
d2325 1
a2325 1
	* parse.y (yylex): 
d2327 1
a2327 2
	* sample/ruby-mode.el (ruby-expr-beg): 1
	  
d2329 1
a2329 2
	* sample/ruby-mode.el (ruby-calculate-indent): ?/
	  
d2331 13
a2343 2
	* enum.c (enum_min,enum_max): sort
	  
d2345 1
a2345 1
	* enum.c (enum_find_all): typo
d2347 1
a2347 1
Tue Sep 10 12:07:12 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2349 1
a2349 3
	* node.h (nd_line): NODElineflags
	  :32bit int
	  32767
d2351 1
a2351 2
	* st.c: hashcompare
	  1 table4 byte
d2353 1
a2353 1
Mon Sep  9 16:35:54 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2355 2
a2356 2
	* file.c (file_truncate): 
	  
d2358 1
a2358 1
	* eval.c (Init_Proc): local-jump
d2360 2
a2361 1
Sat Sep  7 17:06:15 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2363 2
a2364 3
	* eval.c (proc_call): 
	  proccall
	  yield
d2366 1
a2366 1
Fri Sep  6 13:30:59 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2368 1
a2368 9
	* sample/ruby-mode.el (ruby-indent-to): 
	  
	  (ruby-calculate-indent): 
	  defun
	  (ruby-in-string-p): (
	  parse)
	  (ruby-parse-region): 
	  (ruby-beginning-of-block): 
	  (ruby-end-of-block): ()
d2370 1
a2370 1
Thu Sep  5 14:23:07 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2372 1
a2372 1
	* file.c (file_s_split): [dirname,basename]split
d2374 1
a2374 2
	* eval.c (rb_eval): eval
	  
d2376 1
a2376 2
	* st.c (rehash): 21.79
	  
d2378 1
a2378 1
Thu Sep  5 00:32:07 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2380 1
a2380 1
	* eval.c (class_superclass)  
d2382 1
a2382 1
Wed Sep  4 16:54:56 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2384 1
a2384 2
	* random.c (f_rand): BignumlongFloat
	  
d2386 1
a2386 2
	* struct.c (struct_alloc): Fatal(
	  )
d2388 1
a2388 2
	* struct.c (struct_s_members): Struct
	  Struct
d2390 1
a2390 2
	* st.c (st_init_table): ruby(
	  )
d2392 1
a2392 1
Mon Sep  2 11:37:59 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2394 1
a2394 2
	* array.c (ary_shift): capaREALLOC
	(ary_pop): 
d2396 1
a2396 2
	* string.c (str_inspect): multibyte character 
	(str_inspect): unsigned char
d2398 1
a2398 4
	* parse.y (primary): `::'primary Foo::Bar.Baz
	  
	
	* parse.y (primary): 
d2400 1
a2400 1
	* random.c (f_rand): max0
d2402 1
a2402 2
	* io.c (io_printf): 
	  
d2404 2
a2405 1
	* file.c (file_s_basename): 2
d2407 1
a2407 1
Thu Aug 29 10:49:40 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2409 1
a2409 2
	* parse.y (expr): method do .. end
	  
d2411 1
a2411 2
	* sample/ruby-mode.el (ruby-calculate-indent): end
	  
d2413 1
a2413 1
Wed Aug 28 09:41:36 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2415 2
a2416 2
	* numeric.c (upto,downto,step,times): fixnum
	  
d2418 1
a2418 1
Mon Aug 26 10:04:37 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2420 1
a2420 1
	* missing/setenv.c (envix): typo(missing `== 0' for memcmp)
d2422 1
a2422 1
	* dir.c (dir_foreach): foreach(dir open -> read loop -> close)
d2424 1
a2424 1
	* io.c (io_foreach): foreach(file open -> read loop -> close)
d2426 1
a2426 1
	* Fatal
d2428 2
a2429 1
Sat Aug 24 23:56:37 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2431 1
a2431 1
	* bignum.c (bigdivmod): FIX2INT -> INT2FIX 
d2433 1
a2433 1
Fri Aug 23 18:13:03 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2435 1
a2435 2
	* regex.c (re_free_registers): allocate free 
	  
d2437 1
a2437 1
Thu Aug 22 01:20:35 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2439 1
a2439 2
	* eval.c (thread_create): thread
	  cleanup
d2441 1
a2441 1
Wed Aug 21 09:57:28 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2443 1
a2443 2
	* eval.c (thread_create): thread
	  main_thread
d2445 1
a2445 2
	* parse.y (call_args): 
	  (: print foo bar, baz == print(foo(bar,baz)))
d2447 1
a2447 1
Tue Aug 20 13:37:16 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2449 2
a2450 2
	* eval.c (masign): rest
	  
d2452 1
a2452 1
	* parse.y (arg): defined?
d2454 2
a2455 1
	* eval.c (error_print): -w
d2457 2
a2458 2
	* eval.c (rb_eval): 
	(handle_rescue):  kind_of? 
d2460 1
a2460 1
	* parse.y (primary): rescue(rescue)
d2462 1
a2462 1
	* Fail()
d2464 1
a2464 2
	* eval.c (thread_interrupt): Interrupt(non-local jump)
	  main-thread
d2466 2
a2467 4
	* eval.c (rb_longjmp): $! 
	(rb_raise): rb_fail 
	(rb_interrupt): 
	(rb_exit): 
d2469 1
a2469 1
	* error.c (Init_Exception): ()
d2471 1
a2471 1
Mon Aug 19 19:40:52 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2473 1
a2473 1
	* signal.c (trap): 
d2475 1
a2475 1
Wed Aug 14 00:07:18 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2477 1
a2477 2
	* eval.c (rb_trap_eval): threadfork
	  
d2479 1
a2479 1
	* eval.c (thread_mark): thread $!, $@@ 
d2481 1
a2481 2
	* ext/dbm/dbm.c (fdbm_delete): 
	  
d2483 1
a2483 2
	* hash.c (hash_delete): 
	  
d2485 1
a2485 2
	* array.c (ary_delete): 
	  
d2487 2
a2488 2
	* eval.c (rb_interrupt): SIGINTexit
	  
d2490 1
a2490 1
Tue Aug 13 01:34:00 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2492 1
a2492 2
	* eval.c (rb_exit): sub-threadexitstatus
	(thread_create): threadexit
d2494 1
a2494 2
	* signal.c (sighandle): SIGINTexit
	  ()
d2496 1
a2496 1
	* Fatal
d2498 1
a2498 2
	* string.c (str_aset): 
	  
d2500 1
a2500 2
	* eval.c (proc_call): Procbreak/next
	  
d2502 1
a2502 1
Mon Aug 12 14:15:09 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2504 1
a2504 1
	* object.c (krn_type): 
d2506 2
a2507 1
	* eval.c (thread_create): sub-threadexit
d2509 1
a2509 1
	* numeric.c (fix_type): 
d2511 1
a2511 1
	* io.c (f_p): 
d2513 1
a2513 1
	* eval.c (f_missing): nil/TRUE/FALSE
d2515 2
a2516 3
	* string.c (str_inspect): inspect
	  human readable string(re-generatable string 
	  )
d2518 1
a2518 1
Sat Aug 10 16:54:21 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2520 2
a2521 2
	* object.c (Init_Object): kernel/nil/false/true(
	  )ruby
d2523 1
a2523 1
	* eval.c (rb_eval): CONSTANTcref
d2525 1
a2525 1
	* eval.c (f_eval): 
d2527 2
a2528 1
Fri Aug  9 12:23:17 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2530 1
a2530 1
	* array.c (ary_concat): append -> concat String
d2532 1
a2532 1
	* parse.y (yylex): `$;'
d2534 1
a2534 2
	* array.c (ary_push_method): 
	(ary_unshift): 
d2536 1
a2536 1
	* io.c (io_popen): IO.popencommand pipe
d2538 1
a2538 2
	* object.c (Init_Object): KernelNilruby script
	  
d2540 1
a2540 1
Thu Aug  8 01:21:47 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2542 1
a2542 4
	* object.c (f_integer): 
	(f_float): 
	(f_string): 
	(f_array): 
d2544 1
a2544 2
	* bignum.c (big_to_i): FIXNUMBignum
	  
d2546 1
a2546 1
Wed Aug  7 09:28:38 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2548 1
a2548 1
	* version 0.99.1-960807
d2550 1
a2550 1
	* parse.y (mlhs): *foo = 1,2,3
d2552 1
a2552 2
	* object.c (Init_Object): True/Falseruby script
	  
d2554 1
a2554 1
	* object.c (nil_inspect): inspect"nil"
d2556 2
a2557 1
	* io.c (io_print): nilprintnil
d2559 2
a2560 1
	* object.c (nil_to_s): nil""
d2562 2
a2563 1
Tue Aug  6 01:12:32 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2565 1
a2565 2
	* dir.c (dir_s_open): file descriptergc
	  open
d2567 1
a2567 2
	* io.c (rb_fopen): fopen()file descripter
	  gcopen
d2569 1
a2569 1
	* ext/socket/socket.c (Init_socket): 
d2571 1
a2571 2
	* sample/ruby-mode.el (ruby-indent-to): 
	  
d2573 1
a2573 2
	* gc.c (gc): (C
	  malloc())
d2575 1
a2575 1
	* st.c (call_hash_func): signalthread
d2577 1
a2577 1
	* sig.h (DEFER_INTS): 
d2579 1
a2579 2
	* eval.c (f_require): threadrequire(
	  requirethread)
d2581 1
a2581 1
	* bignum.c (str2inum): 0x80000000
d2583 1
a2583 1
	* sprintf.c (f_sprintf): `%'
d2585 1
a2585 1
	* bignum.c (big_cmp): 
d2587 1
a2587 1
Mon Aug  5 10:58:13 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2589 2
a2590 1
	* process.c (proc_exec_v): 
d2592 2
a2593 1
	* ext/dbm/dbm.c (fdbm_store): nil
d2595 3
a2597 1
	* ext/dbm/dbm.c: 
d2599 2
a2600 1
Sat Aug  3 01:52:52 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2602 1
a2602 2
	* eval.c (rb_fail): `fail'`$@@'
	  
d2604 1
a2604 1
	* eval.c (f_fail): frame
d2606 1
a2606 1
Fri Aug  2 11:26:21 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2608 3
a2610 2
	* ext/socket/socket.c (bsock_setopt): valTRUE/FALSE/Fixnum
	  
d2612 1
a2612 1
	* ext/socket/socket.c (Init_socket): SO_REUSEADDR
d2614 1
a2614 2
	* ext/md5/md5init.c: md5(
	  )
d2616 1
a2616 2
	* ruby.h (Make_Data_Struct): Data: objectinstance ->
	  DataObject(Dir,Time,Proc,Thread,DBM)
d2618 1
a2618 1
Thu Aug  1 11:38:44 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2620 1
a2620 1
	* ext/dbm/dbm.c (fdbm_store): value
d2622 1
a2622 1
Wed Jul 31 10:53:42 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2624 1
a2624 2
	* ext/socket/socket.c (open_inet): htons
	(tcpaddr): ntohl
d2626 3
a2628 1
	* process.c (rb_proc_exec): execvp -> execv
d2630 1
a2630 1
Tue Jul 30 17:48:33 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2632 1
a2632 1
	* eval.c: `$?'thread local
d2634 1
a2634 1
	* Makefile.in (install): installstrip
d2636 1
a2636 1
	* configure.in: installstrip
d2638 1
a2638 1
	* configure.in: NEXTSTEP
d2640 1
a2640 1
	* version 0.99.1-960730
d2642 1
a2642 1
Tue Jul 30 16:40:35 1996  SHIROYAMA Takayuki  <psi@@fortune.nest.or.jp>
d2644 1
a2644 1
	* dln.c (dln_load): NeXT dln(mach-o)configure
d2646 1
a2646 1
Tue Jul 30 09:46:51 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2648 1
a2648 1
	* process.c (f_system): 
d2650 1
a2650 1
	* process.c (f_exec): 
d2652 1
a2652 1
	* array.c (ary_append): (Enum)
d2654 1
a2654 1
	* array.c (ary_plus): Enum
d2656 1
a2656 1
	* file.c (file_s_open): File.open
d2658 2
a2659 1
	* struct.c (struct_new): FIX2INT
d2661 1
a2661 1
	* file.c (Init_File): exists? -> exist?
d2663 1
a2663 1
	* object.c (obj_is_kind_of): is_kind_of? -> kind_of?, is_a?
d2665 1
a2665 1
	* object.c (obj_is_instance_of): is_instance_of? -> instance_of?
d2667 1
a2667 1
Mon Jul 29 16:40:02 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2669 1
a2669 2
	* parse.y (parse_regx): casefold
	  
d2671 1
a2671 1
	* object.c (true_type): TRUE/FALSEtype
d2673 1
a2673 1
	* parse.y (read_escape): 3octal(\0)
d2675 1
a2675 1
Fri Jul 26 00:31:45 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2677 1
a2677 4
	* array.c (ary_reverse_bang): in-place
	(ary_sort_bang): in-placesort
	(ary_sort): sort
	(ary_delete_at): 
d2679 1
a2679 1
	* eval.c (rb_call): stack
d2681 1
a2681 1
	* error.c (Warning): warning
d2683 1
a2683 1
	* eval.c (compile): 
d2685 1
a2685 1
	* eval.c (f_eval): rb_in_eval
d2687 1
a2687 1
	* ext/dbm/dbm.c (fdbm_store): key
d2689 1
a2689 2
	* eval.c (rb_call): C method
	  threadstack
d2691 1
a2691 1
	* parse.y (yylex): 1unary -/+
d2693 1
a2693 1
	* parse.y (yylex): unary +(ex. +5 -> 55)
d2695 1
a2695 1
Thu Jul 25 12:15:04 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2697 1
a2697 1
	* parse.y (yylex): 
d2699 1
a2699 1
	* eval.c (iterator_p): 
d2701 1
a2701 1
	* parse.y: break/next/redo/retry
d2703 1
a2703 1
	* sample/ruby-mode.el (ruby-calculate-indent): nest
d2705 1
a2705 1
	* sample/ruby-mode.el (ruby-parse-region): 
d2707 1
a2707 1
	* parse.y (primary): unless/until
d2709 1
a2709 1
Tue Jul 23 18:50:10 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2711 1
a2711 2
	* array.c (Array#empty?), Hash.c (Hash#empty?), ext/dbm/dbm.c (DBM#empty?):
	  
d2713 1
a2713 1
	* eval.c (f_unless): if
d2715 1
a2715 1
	* eval.c (f_until): while
d2717 1
a2717 1
	* parse.y: notand/or
d2719 1
a2719 1
	* parse.y (expr): `!'call
d2721 2
a2722 1
Mon Jul 22 10:15:38 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2724 1
a2724 1
	* version 0.99-960722
d2726 1
a2726 1
	* array.c (ary_print_on): OFSNIL
d2728 1
a2728 1
	* ruby.c  (load_file): 
d2730 2
a2731 2
	* ruby.c (proc_options): -w
	  (-v)
d2733 1
a2733 1
	* array.c (ary_compact): nil
d2735 1
a2735 1
	* array.c (ary_nitems): nil
d2737 1
a2737 1
Sun Jul 20 00:51:53 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2739 2
a2740 1
	* ruby.c (proc_options): -w option
d2742 1
a2742 1
	* parse.y: {}
d2744 2
a2745 1
Fri Jul 19 16:16:05 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2747 1
a2747 1
	* version 0.99-960719
d2749 1
a2749 1
	* lib/find.rb: (prune)
d2751 1
a2751 1
	* file.c (test_l): lstat
d2753 1
a2753 1
	* eval.c (f_throw): 2
d2755 1
a2755 1
	* parse.y (str_extend): {}
d2757 1
a2757 1
Thu Jul 18 18:25:46 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2759 1
a2759 1
	* version 0.99-960718
d2761 1
a2761 2
	* parse.y (str_extend):  \" ' ` / 
	  
d2763 1
a2763 1
Tue Jul 16 15:55:31 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2765 1
a2765 2
	* sample/ruby-mode.el (ruby-parse-region): 
	  
d2767 1
a2767 1
	* version 0.99-960716
d2769 1
a2769 1
Fri Jul 12 10:06:19 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2771 2
a2772 1
	* io.c (f_select): close check.
d2774 1
a2774 2
	* ruby.c (load_file): #!1(
	  DOS)
d2776 1
a2776 1
Wed Jul 10 17:18:35 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2778 1
a2778 1
	* version 0.99-960710
d2780 1
a2780 1
	* time.c (time_s_timegm/time_s_timelocal): 
d2782 1
a2782 1
Mon Jun 17 15:59:20 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2784 1
a2784 1
	* version 0.99-960617
d2786 1
a2786 1
	* parse.y (yyerror): 
d2788 1
a2788 1
Wed Jun 12 14:11:01 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2790 1
a2790 1
	* signal.c (rb_trap_exit): trap 0thread
d2792 1
a2792 1
Fri Jun  7 10:17:01 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2794 2
a2795 2
	* array.c/hash.c (indexes): 1
	  `*ary'
d2797 1
a2797 4
	* eval.c (thread_wait_threads): main_thread
	  thread()
	  (ruby_run): threadthread
	  
d2799 1
a2799 1
	* eval.c (rb_fail): `$!'
d2801 1
a2801 2
	* eval.c (thread_create): main_thread
	  
d2803 2
a2804 2
	* process.c (f_sleep): thread
	  
d2806 1
a2806 2
	* eval.c (thread_create): createfncontext switch
	  contextfn
d2808 1
a2808 1
Mon Jun  3 08:03:17 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2810 1
a2810 2
	* struct.c (struct_s_def): (FIXNUM)
	  
d2812 1
a2812 1
	* ext/etc/etc.c (Init_etc): GC
d2814 1
a2814 1
	* error.c (rb_sys_fail): nil/FALSE
d2816 1
a2816 1
Thu May 30 16:19:08 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2818 1
a2818 1
	* eval.c (thread_select): EINTR
d2820 2
a2821 1
Wed May 29 11:04:51 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2823 1
a2823 1
	* eval.c (f_catch): catch/throw
d2825 2
a2826 1
Tue May 28 13:30:52 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2828 1
a2828 1
	* version 0.99-960528
d2830 1
a2830 2
	* eval.c (thread_cleanup): main threadthread
	  
d2832 1
a2832 2
	* signal.c (trap): SIGINT(SIG_DFL
	  )ruby
d2834 1
a2834 2
	* eval.c (thread_interrupt): SIGINTmain_thread
	  
d2836 1
a2836 1
Mon May 27 15:13:31 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2838 2
a2839 2
	* eval.c (thread_status): threadthread
	  
d2841 2
a2842 1
	* eval.c (thread_value): promise
d2844 2
a2845 2
	* eval.c (thread_join): thread
	  join
d2847 1
a2847 1
	* eval.c (thread_create): threadpropagate
d2849 1
a2849 1
Fri May 24 10:47:53 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2851 1
a2851 1
	* enum.c (Init_Enumerable): `size' as alias to the `length'
d2853 1
a2853 1
	* eval.c (thread_save_context): `$@@', `$!'
d2855 1
a2855 1
	* eval.c (superclass): 
d2857 1
a2857 1
Thu May 23 10:38:41 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2859 1
a2859 1
	* version 0.99-960523
d2861 1
a2861 2
	* eval.c (superclass): ()
	  
d2863 1
a2863 1
Wed May 22 19:48:42 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2865 2
a2866 1
	* parse.y (superclass): `:'`<'
d2868 1
a2868 1
Tue May 21 09:27:59 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2870 1
a2870 1
	* lib/thread.rb: thread(Mutex, Queue)
d2872 1
a2872 1
Mon May 20 09:39:49 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2874 1
a2874 2
	* time.c (time_cmp): 
	(time_minus): Time - Time
d2876 1
a2876 1
Fri May 17 15:40:10 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2878 1
a2878 2
	* process.c (rb_proc_exec): Threadexec
	  ITIMER_VIRTUAL
d2880 1
a2880 1
Tue May 14 02:12:44 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2882 1
a2882 2
	* signal.c (sighandle): SIGINT
	  status 130exit
d2884 1
a2884 1
	* eval.c (thread_schedule): Thread
d2886 1
a2886 1
Fri May 10 11:21:08 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2888 1
a2888 2
	* eval.c (thread_schedule): Thread
	  thread
d2890 1
a2890 1
Thu May  2 21:22:31 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2892 2
a2893 2
	* time.c (time_timeval): struct timeval(static
	  )
d2895 1
a2895 1
Wed May  1 17:27:32 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2897 1
a2897 1
	* process.c (f_sleep): time
d2899 2
a2900 1
Thu Apr 25 08:19:15 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2902 1
a2902 2
	* file.c (file_s_dirname): "/""."
	  (GNU dirname)
d2904 1
a2904 2
	* file.c (file_s_basename): nil0
	  
d2906 2
a2907 1
	* parse.y (exprs): 
d2909 1
a2909 1
Wed Apr 24 15:51:05 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2911 2
a2912 1
	* string.c (str_chop_bang): CRLF2 byteschop!
d2914 1
a2914 2
	* ext/socket/socket.c (tcp_svr_s_open): nil0
	  
d2916 1
a2916 1
Tue Apr 23 18:14:25 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2918 1
a2918 1
	* pack.c (pack_pack): "A/a"padding
d2920 1
a2920 1
Thu Apr 18 13:02:11 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2922 1
a2922 2
	* configure.in: 
	  
d2924 1
a2924 2
	* parse.y (yyerror): 
	  
d2926 1
a2926 1
Wed Apr 17 14:22:42 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2928 1
a2928 1
	* defines.h: SAFE_SIGHANDLE
d2930 1
a2930 1
	* io.c (io_ungetc): 
d2932 1
a2932 1
	* ruby.c (load_file): 
d2934 1
a2934 2
	* parse.y (compile_file): 
	  gets
d2936 2
a2937 1
Wed Apr 10 17:40:11 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2939 1
a2939 1
	* version 0.98
d2941 1
a2941 1
Tue Apr  9 09:54:30 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2943 1
a2943 2
	* parse.y (iter_block): 
	  
d2945 1
a2945 1
	* eval.c (rb_eval): inline
d2947 1
a2947 1
	* eval.c (rb_eval): defined?  ()
d2949 1
a2949 1
	* node.h: NODE_BEGIN -> NODE_RESCUE, NODE_ENSURE
d2951 1
a2951 1
	* eval.c (rb_eval): option -n/-pinline
d2953 1
a2953 1
	* parse.y (cond0): 
d2955 1
a2955 1
Wed Mar 27 12:33:54 1996  Tairo Nomura <tairo@@hucom.tp.titech.ac.jp>
d2957 2
a2958 1
	* defines.h: NeXT
d2960 1
a2960 1
Wed Mar 27 10:02:44 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2962 2
a2963 1
	* parse.y:  continue -> next
d2965 2
a2966 1
Mon Mar 25 07:34:37 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2968 1
a2968 1
	* parse.y (parse_regx): o(once)
d2970 1
a2970 1
Fri Mar 22 14:25:35 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2972 1
a2972 1
	* version 0.97d
d2974 1
a2974 2
	* eval.c (dyna_var_defined): 
	  
d2976 1
a2976 2
	* parse.y (gettable): eval()(
	  )
d2978 2
a2979 1
Tue Mar 19 10:46:47 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2981 3
a2983 1
	* version 0.97c
d2985 1
a2985 1
	* re.c (reg_s_new): compilesegmentation fault
d2987 1
a2987 1
	* parse.y (str_extend): eval
d2989 1
a2989 1
Wed Mar 13 11:00:42 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2991 1
a2991 1
	* parse.y (str_extend): 
d2993 1
a2993 1
	* parse.y: 
d2995 1
a2995 1
Tue Mar 12 12:30:20 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d2997 1
a2997 1
	* eval.c (rescue): ensure
d2999 1
a2999 1
Wed Mar  6 12:11:03 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3001 2
a3002 2
	* parse.y (var_extend): "#{}"
	  
d3004 1
a3004 1
	* regex.c (init_syntax_once): `_'word
d3006 2
a3007 2
	* regex.c (re_compile_pattern): `\w',`\W'syntax table
	  
d3009 1
a3009 1
Tue Feb 27 10:15:32 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3011 1
a3011 2
	* object.c (obj_inspect): 
	  to_s
d3013 1
a3013 1
	* configure.in: dln
d3015 1
a3015 1
Mon Feb 26 19:55:33 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3017 1
a3017 1
	* ruby.c (readin): read(2)
d3019 1
a3019 1
Sat Feb 24 14:47:18 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3021 1
a3021 1
	* version 0.97b
d3023 2
a3024 1
Fri Feb 23 11:26:02 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3026 1
a3026 2
	* class.c (rb_define_module): CPATH
	  core dump
d3028 2
a3029 1
	* eval.c (mod_include): nil
d3031 1
a3031 1
	* version 0.97a
d3033 1
a3033 1
Thu Feb 22 21:03:42 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3035 1
a3035 1
	* array.c (ary_times): *join
d3037 1
a3037 1
Wed Feb 21 11:18:09 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3039 1
a3039 1
	* configure.in : fileCountcache
d3041 1
a3041 1
	* configure.in : LinuxELF
d3043 1
a3043 1
Tue Feb 20 11:18:09 1996  Mitsuhide Satou  <mit-sato@@aries.bekkoame.or.jp>
d3045 1
a3045 1
	* FreeBSD dynamic link
d3047 2
a3048 1
Fri Feb 16 08:50:01 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3050 1
a3050 2
	* object.c (obj_inspect): 
	  
d3052 1
a3052 1
Wed Feb 14 16:56:44 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3054 1
a3054 2
	* eval.c (rb_eval): `2..2'
	  
d3056 1
a3056 1
Tue Feb 13 18:22:22 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3058 1
a3058 1
	* version 0.97
d3060 1
a3060 1
Fri Feb  9 21:32:55 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3062 1
a3062 2
	* lib/tkscrollbox.rb: tclruby<->wish
	  
d3064 1
a3064 1
Wed Feb  7 10:26:52 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3066 1
a3066 1
	* string.c (str_aref): indexunsigned int
d3068 1
a3068 1
	* string.c (str_aref): indexnil
d3070 2
a3071 2
	* parse.y (special_local_set): `$_'
	  variable.c
d3073 2
a3074 1
	* string.c (str_sub): 
d3076 1
a3076 1
Tue Feb  6 16:17:31 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3078 1
a3078 2
	* sample/ruby-mode.el (ruby-parse-region): 
	  
d3080 1
a3080 1
Fri Feb  2 18:35:28 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3082 1
a3082 2
	* variable.c (lastline_get): `$_'`$~'SCOPE
	  
d3084 1
a3084 1
Thu Feb  1 14:14:07 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3086 1
a3086 1
	* file.c: statcache
d3088 1
a3088 1
Wed Jan 31 07:13:08 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3090 1
a3090 2
	* eval.c (proc_s_new): procyieldcore dump
	  
d3092 1
a3092 1
	* variable.c (rb_class2path): singleton class
d3094 3
a3096 2
	* ext/etc/etc.c (Init_etc): struct_definenil
	  (0)
d3098 1
a3098 1
	* ext/marshal/marshal.c: TRUE/FALSE
d3100 2
a3101 2
	* eval.c (rb_get_method_body): alias
	  alias
d3103 1
a3103 1
Tue Jan 30 09:55:13 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3105 1
a3105 2
	* eval.c (rb_eval): NODE_BLOCK - tail recursive(
	  )
d3107 1
a3107 1
	* io.c (io_pipe): pipe(2)
d3109 1
a3109 2
	* eval.c (rb_eval): Qselfthread
	  
d3111 1
a3111 2
	* eval.c (proc_call): procreturnproc
	  procyieldreturn
d3113 1
a3113 1
Wed Jan 24 11:33:48 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3115 1
a3115 1
	* version 0.96a
d3117 2
a3118 1
	* dir.c (dir_each): `$_'
d3120 1
a3120 2
	* io.c (f_readlines): nilFALSE
	  
d3122 1
a3122 1
	* ruby.c (ruby_options): $0
d3124 1
a3124 1
Tue Jan 23 15:28:21 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3126 1
a3126 2
	* eval.c (rb_eval): ``(`)
	  
d3128 1
a3128 2
	* ruby.c (addpath): `-I'
	  
d3130 1
a3130 1
Fri Jan 19 11:23:12 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3132 1
a3132 1
	* dln.c (load_1): N_INDR()
d3134 1
a3134 1
Thu Jan 18 18:14:20 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3136 1
a3136 1
	* ruby.texi: FALSEnil
d3138 1
a3138 1
Tue Jan 16 17:39:23 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3140 1
a3140 1
	* version 0.96 - nilFALSE
d3142 1
a3142 1
Wed Jan 10 15:31:48 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3144 1
a3144 1
	* re.c (reg_match): FALSE
d3146 1
a3146 1
	* object.c (rb_equal): `0 == nil'TRUE
d3148 1
a3148 1
Tue Jan  9 00:44:58 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3150 1
a3150 1
	* nilFALSE
d3152 2
a3153 1
	* nilFALSE0
d3155 1
a3155 1
	* struct.c (struct_new): 0
d3157 1
a3157 2
	* object.c (inspect_i): (Fixnumcore
	  dump)
d3159 1
a3159 1
	* range.c (range_to_s): Range
d3161 1
a3161 1
	* object.c (true_inspect): TRUE`TRUE'
d3163 1
a3163 1
Mon Jan  8 15:02:33 1996  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3165 1
a3165 2
	* numeric.c (fix_mul): divide by zero error(
	  )
d3167 1
a3167 1
	* texinfo.tex
d3169 1
a3169 1
Sun Dec 31 00:08:49 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3171 1
a3171 2
	* eval.c (rb_eval): `::'
	  
d3173 1
a3173 1
	* string.c (Init_String): eacheach_line
d3175 1
a3175 1
Thu Dec 28 12:31:55 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3177 1
a3177 1
	* eval.c (rb_eval): case`=~'`==='
d3179 1
a3179 2
	* variable.c (rb_const_set): (
	  )
d3181 1
a3181 1
Wed Dec 27 13:27:52 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3183 1
a3183 1
	* version 0.95c
d3185 1
a3185 2
	* ext/tkutil/tkutil.c: wish
	  
d3187 2
a3188 1
	* lib/tk.rb: PATH{wish|wish4.0}
d3190 1
a3190 1
Tue Dec 26 01:03:42 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3192 1
a3192 1
	* sample/ruby-mode.el (ruby-parse-region): 
d3194 1
a3194 1
	* numeric.c (fix_mul): 
d3196 1
a3196 1
	* ext/extmk.rb.in: ./install-shPATH
d3198 1
a3198 1
	* Makefile.in (install): lib/*.rb
d3200 2
a3201 1
	* io.c (io_each_line): nil
d3203 1
a3203 1
Fri Dec 22 10:34:32 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3205 1
a3205 1
	* version 0.95b
d3207 2
a3208 2
	* variable.c (f_untrace_var): 2trace
	  
d3210 1
a3210 1
	* variable.c (f_trace_var): 2niltrace
d3212 1
a3212 2
	* lib/tk.rb (file_readable/file_writable): 2nil
	  event handler
d3214 2
a3215 2
	* parse.y (variable): `__FILE__'`__LINE__'
	  `caller(0)'
d3217 2
a3218 1
	* eval.c (f_eval): $!
d3220 1
a3220 1
	* error.c (err_sprintf): "\n"
d3222 1
a3222 2
	* parse.y (f_arglist): if/while
	  lex_state
d3224 1
a3224 1
Thu Dec 21 00:56:57 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3226 2
a3227 1
	* version 0.95a - ^^;;;
d3229 1
a3229 1
	* lib/tkscrollbox.rb: 
d3231 1
a3231 1
	* configure.in: FILE structure
d3233 2
a3234 1
	* Makefile.in (clean): extinstall
d3236 2
a3237 1
	* ext/socket/extconf.rb: Solaris-lnls
d3239 1
a3239 1
	* array.c (beg_len): 
d3241 1
a3241 1
	* version 0.95 - fj.sources
d3243 1
a3243 1
	* eval.c (rb_eval): rescuerb_rescue()
d3245 1
a3245 1
Wed Dec 20 19:30:58 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3247 1
a3247 1
	* Makefile.in: ()
d3249 1
a3249 1
	* class.c (singleton_class_new): `single'->`singleton'
d3251 1
a3251 1
Tue Dec 19 07:14:33 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3253 1
a3253 1
	* io.c (closed?): IOclose
d3255 2
a3256 1
	* parse.y (primary): lex_state
d3258 1
a3258 1
	* lib/tk.rb: tcl->ruby
d3260 1
a3260 1
	* ext/extmk.rb.in (install): install2
d3262 1
a3262 1
	* array.c (range_beg_len): range
d3264 1
a3264 1
	* string.c (str_aref): range
d3266 2
a3267 1
	* lib/tk.rb (tk_split_list): Tcl
d3269 1
a3269 1
Mon Dec 18 09:58:12 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3271 1
a3271 1
	* version 0.94
d3273 1
a3273 1
	* dln.c (dln_load): HP()
d3275 1
a3275 1
	* eval.c (Init_Proc): BlockProc
d3277 2
a3278 1
Sat Dec 16 13:46:14 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3280 1
a3280 1
	* eval.c (rb_eval): retry
d3282 1
a3282 1
Fri Dec 15 17:14:30 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3284 2
a3285 1
	* eval.c: proc:lambda
d3287 1
a3287 1
Thu Dec 14 17:21:55 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3289 1
a3289 3
	* eval.c (dyna_var_asgn): 
	  lambda
	  
d3291 1
a3291 1
Wed Dec 13 02:30:58 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3293 2
a3294 1
	* gc.c: autoload
d3296 1
a3296 1
	* lib/tk.rb: wish
d3298 1
a3298 1
	* lib/tkcomposite.rb: widget
d3300 1
a3300 1
	* variable.c (rb_class2path): ICLASS
d3302 1
a3302 1
	* eval.c (ruby_run): exit(0)
d3304 1
a3304 1
Sat Dec  9 01:21:24 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3306 1
a3306 2
	* ext/marshal/marshal.c (dumps|load): 
	  ()
d3308 1
a3308 1
Fri Dec  8 18:29:11 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3310 1
a3310 1
	* ext/marshal/marshal.c: 
d3312 1
a3312 1
Thu Dec  7 07:58:50 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3314 1
a3314 2
	* parse.y (yylex): 1
	  
d3316 1
a3316 1
	* string.c (str_sub): 
d3318 1
a3318 1
Wed Dec  6 15:14:23 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3320 1
a3320 2
	* string.c (str_sub_method): sub/gsub(!)
	  
d3322 2
a3323 1
Tue Dec  5 00:55:15 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3325 1
a3325 1
	* parse.y (yylex): `*'
d3327 1
a3327 1
	* eval.c (ruby_run): EXIT
d3329 1
a3329 1
	* bignum.c (big_cmp): BignumFixnum
d3331 2
a3332 1
Mon Dec  4 14:21:18 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3334 1
a3334 2
	* parse.y (call_op): 
	  
d3336 1
a3336 1
Thu Nov 30 01:35:15 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3338 1
a3338 1
	* lib/tk.rb: {Radio,Check}Buttonvariable
d3340 1
a3340 1
	* eval.c (rb_yield_0): Block.call
d3342 2
a3343 1
	* io.c (f_select): 3
d3345 2
a3346 1
	* lib/tk.rb: fileeventruby
d3348 1
a3348 1
Wed Nov 29 17:53:23 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3350 1
a3350 1
	* variable.c (rb_ivar_get): self
d3352 1
a3352 1
Tue Nov 14 00:07:29 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3354 1
a3354 1
	* lib/tk.rb: Tk4.0
d3356 1
a3356 1
Mon Nov 13 16:23:32 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3358 1
a3358 1
	* version 0.93
d3360 1
a3360 1
Thu Nov  9 23:26:01 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3362 1
a3362 1
	* gc.c (gc_mark): Mixin
d3364 1
a3364 2
	* parse.y (f_arglist): 
	  
d3366 1
a3366 1
Wed Nov  8 00:17:51 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3368 1
a3368 1
	* eval.c (rb_yield_0): 
d3370 1
a3370 2
	* eval.c (rb_eval): pendig signaleval
	  
d3372 1
a3372 1
	* parse.y: classsuperclass
d3374 1
a3374 2
	* lib/tk.rb: Tk
	  
d3376 1
a3376 1
Tue Nov  7 08:18:37 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3378 2
a3379 1
	* signal.c (trap): 
d3381 1
a3381 1
Mon Nov  6 16:44:00 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3383 1
a3383 1
	* eval.c (f_caller): 
d3385 1
a3385 2
	* ext/tkutil/tkutil.c: wishstderr
	  
d3387 1
a3387 1
	* ext/tkutil/tkutil.c: wishC
d3389 1
a3389 1
Sat Nov  4 01:12:59 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3391 1
a3391 2
	* sample/ruby-mode.el (ruby-calculate-indent): 
	  ()
d3393 1
a3393 2
	* eval.c (rb_call): 
	  
d3395 3
a3397 1
	* lib/tk.rb: Tk
d3399 1
a3399 1
	* eval.c (rb_yield_0): Block
d3401 1
a3401 2
	* sample/ruby-mode.el (ruby-calculate-indent): 
	  
d3403 1
a3403 1
Fri Nov  3 12:56:21 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3405 1
a3405 1
	* eval.c (rb_call): 
d3407 1
a3407 1
	* parse.y (var_extend): 
d3409 1
a3409 1
	* variable.c (rb_gvar_set): trace
d3411 1
a3411 1
	* eval.c (f_require): ruby scriptrequirebug
d3413 1
a3413 1
	* variable.c (rb_const_get): include
d3415 2
a3416 1
Thu Oct 19 13:56:06 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3418 2
a3419 1
	* dln.c (dln_load): HPtypo.
d3421 1
a3421 1
Wed Oct 18 17:39:39 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3423 1
a3423 1
	* version 0.92
d3425 1
a3425 1
	* object.c (krn_type): 
d3427 1
a3427 1
Tue Oct 17 00:48:18 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3429 1
a3429 1
	* ruby.c (proc_options): -X chdir
d3431 1
a3431 3
	* re.c (reg_search): 
	  
	  KCODE$KCODE
d3433 1
a3433 1
	* parse.y: ()compexpr
d3435 1
a3435 1
	* re.c (reg_search): 
d3437 1
a3437 1
Fri Oct 13 13:19:19 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3439 1
a3439 1
	* string.c (str_sub): 
d3441 1
a3441 2
	* string.c (str_strip_bang): 
	  
d3443 1
a3443 4
	* re.c (reg_search): $&, $1...
	  $&
	  $~
	  
d3445 1
a3445 1
Thu Oct 12 00:33:33 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3447 1
a3447 2
	* re.c (reg_search): String:split, String:index$&, $1...
	  
d3449 1
a3449 1
	* io.c (rb_str_setter): setter
d3451 1
a3451 2
	* variable.c (f_trace_var): 2
	  
d3453 1
a3453 1
Wed Oct 11 11:50:59 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3455 1
a3455 1
	* version 0.91
d3457 1
a3457 1
	* variable.c (var_setter): 
d3459 1
a3459 2
	* io.c (pipe_open): $stderr
	  stderr
d3461 1
a3461 1
Mon Oct  9 13:06:33 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3463 1
a3463 2
	* object.c (mod_to_s): `::'
	  
d3465 1
a3465 2
	* variable.c (rb_gvar_set): 
	  tracetrace
d3467 1
a3467 1
	* struct.c (struct_equal): structequal
d3469 1
a3469 1
Sat Oct  7 00:18:32 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3471 1
a3471 2
	* eval.c (rb_eval): defined?(yieldsuper
	  )
d3473 1
a3473 1
Fri Oct  6 12:06:47 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3475 1
a3475 1
	* version 0.90
d3477 1
a3477 1
	* st.c (st_foreach): 
d3479 1
a3479 1
	* hash.c (hash_values): keys
d3481 1
a3481 2
	* parse.y (call_op): defined? 
	  ()
d3483 2
a3484 1
	* 
d3486 1
a3486 1
Thu Oct  5 00:29:43 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3488 1
a3488 1
	* 
d3490 2
a3491 1
	* gc.c (looks_pointerp): 
d3493 1
a3493 2
	* struct.c (Fstruct_aset): `[]='
	(struct_set): 
d3495 2
a3496 1
Wed Oct  4 09:54:07 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3498 2
a3499 1
	* version 0.89
d3501 1
a3501 1
	* eval.c (Frequire): 
d3503 1
a3503 3
	* struct.c: struct
	  id->value
	  
d3505 1
a3505 2
	* parse.y: `::'Assoc()
	  
d3507 1
a3507 1
	* assoc.c: 
d3509 1
a3509 1
Tue Oct  3 13:31:08 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3511 1
a3511 2
	* variable.c (Ftrace_var): trace_var, hook
	  
d3513 1
a3513 2
	* variable.c: global_entrytrace_var
	  
d3515 1
a3515 1
	* file.c (Ffile_stat): "&"fstat
d3517 1
a3517 1
Fri Sep 29 14:15:13 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3519 1
a3519 1
	* version 0.88
d3521 1
a3521 1
	* dln.c (dln_load): AIXHP()
d3523 1
a3523 1
	* ext/extmk.rb.in: EXTLIB
d3525 1
a3525 3
	* dln.c (dln_load): dln
	(load_1): dln_a_out
	
d3527 1
a3527 1
Thu Sep 28 13:31:37 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3529 1
a3529 1
	* sample/ruby-mode.el: hilit19()
d3531 2
a3532 1
Wed Sep 27 04:12:44 1995  Takahasi Mamoru <taka@@soum.co.jp>
d3534 1
a3534 1
	* sample/test.rb: echo-n(SysV)
d3536 2
a3537 1
	* ext/extmk.rb.in: sub -> sub!
d3539 1
a3539 1
Tue Sep 26 19:12:42 1995  Yasuo OHBA  <jammy@@csg.mes.co.jp>
d3541 1
a3541 1
	* dln.c (dln_find_1): `.', `..'. 
d3543 1
a3543 1
Mon Sep 25 12:33:03 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3545 2
a3546 1
	* version 0.87
d3548 2
a3549 1
Sat Sep 23 10:00:18 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3551 1
a3551 2
	* eval.c (Fmod_modfunc): private
	  
d3553 1
a3553 1
Fri Sep 22 11:02:44 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3555 1
a3555 1
	* lib/find.rb: find
d3557 1
a3557 2
	* variable.c (rb_define_variable): hook
	(add_hook): 1hook
d3559 2
a3560 1
Thu Sep 21 00:22:11 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3562 2
a3563 2
	* string.c (Fstr_frozen): 
	  
d3565 1
a3565 2
	* hash.c (Fhash_aset): key
	  dupfreeze
d3567 1
a3567 1
Wed Sep 20 16:12:44 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3569 1
a3569 1
	* version 0.86
d3571 1
a3571 1
	* ext/extmk.rb.in (have_header): 
d3573 1
a3573 1
	* ext/extmk.rb.in (have_library): 
d3575 1
a3575 1
Thu Sep 14 18:00:59 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3577 1
a3577 1
	* object.c (obj_is_instance_of): is_member_of
d3579 1
a3579 1
	Wed Sep 13 15:44:35 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3581 2
a3582 1
	* string.c (Fstr_tr_bang): 
d3584 1
a3584 1
Tue Sep 12 14:27:58 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3586 1
a3586 2
	* file.c (Sfile_expand_path): expand_file_name -> expand_path
	  
d3588 2
a3589 1
	* enum.c (Fenum_member): includes? -> member? 
d3591 1
a3591 3
	* string.c (Fstr_each_byte): StringByteArray
	  eacheach_byteeacheach_line
	  
d3593 1
a3593 1
Mon Sep 11 18:31:17 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3595 1
a3595 2
	* file.c (cache_stat): "&"
	  stat(2)
d3597 1
a3597 1
Fri Sep  8 14:18:51 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3599 1
a3599 1
	* ruby.texi: `!', `?'
d3601 1
a3601 1
	* parse.y: defined -> defined?
d3603 1
a3603 2
	* file.c: FileOptest
	  
d3605 1
a3605 2
	* parse.y (yylex): `?'
	  `?'
d3607 1
a3607 1
Thu Sep  7 20:01:33 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3609 1
a3609 2
	* string.c: `!'
	  `!'
d3611 2
a3612 1
	* parse.y: `!'
d3614 1
a3614 1
Wed Sep  6 14:12:19 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3616 2
a3617 1
	* version 0.85
d3619 1
a3619 3
	* string.c (Fstr_dup): 
	(Fstr_freeze): 
	(Fsub/Fgsub): $_dup
d3621 1
a3621 1
	* ruby.h (CLONESETUP): flags
d3623 1
a3623 1
Tue Sep  5 01:27:50 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3625 1
a3625 1
	* sample/test.rb: 
d3627 1
a3627 1
Fri Aug 25 14:31:02 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3629 1
a3629 1
	* process.c (Ffork): 
d3631 1
a3631 1
	* version 0.84
d3633 1
a3633 1
	* signal.c (sig_beg): 
d3635 2
a3636 2
	* ext/extmk.rb.in (create_makefile): shared object
	  `-l'
d3638 2
a3639 1
	* signal.c (trap): `EXIT'
d3641 2
a3642 1
Wed Aug 16 00:13:22 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3644 1
a3644 2
	* signal.c (sig_beg): beginSIGINT
	  
d3646 1
a3646 1
	* io.c (io_ctl): fcntl
d3648 1
a3648 2
	* MANIFEST
	  
d3650 3
a3652 2
	* string.c (Sstr_new,str_sub,Fstr_crypt): 
	  
d3654 1
a3654 1
Sat Aug 12 00:44:02 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3656 1
a3656 1
	* string.c (Fstr_crypt): PD crypt
d3658 1
a3658 1
Fri Aug 11 14:37:03 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3660 2
a3661 1
	* assoc.c (Fassoc_clone): assocclone
d3663 1
a3663 1
	* io.c: READ_DATA_PENDING(Linux)
d3665 1
a3665 1
	* io.c (io_fptr_finalize): fptr
d3667 1
a3667 1
Wed Aug  9 16:52:41 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3669 2
a3670 2
	* eval.c (rb_provided): feature
	  ()
d3672 2
a3673 2
	* ext/extmk.rb.in (install): dlopendln
	  
d3675 1
a3675 1
Tue Aug  8 14:17:06 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3677 2
a3678 1
	* version 0.83
d3680 2
a3681 1
Mon Aug  7 12:47:41 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3683 1
a3683 2
	* parse.y: resque -> rescuetypo
	  
d3685 1
a3685 1
Thu Aug  3 18:18:05 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3687 1
a3687 1
	* missing/nt.c: NT
d3689 1
a3689 3
	* variable.c (rb_const_get): defined
	  (
	  )
d3691 1
a3691 1
	* variable.c (Fautoload): autoload
d3693 1
a3693 1
Mon Jul 31 15:44:21 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3695 1
a3695 2
	* parse.y (arg_ambiguous): 1(-v
	  )
d3697 2
a3698 2
	* eval.c (rb_eval): `-v'`def'
	  
d3700 2
a3701 1
	* parse.y (yylex): 1
d3703 1
a3703 1
Fri Jul 28 19:04:43 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3705 1
a3705 2
	* parse.y (yylex): `+/-/['
	  (?)
d3707 1
a3707 1
Wed Jul 26 09:21:23 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3709 1
a3709 1
	* version 0.82a
d3711 2
a3712 1
	* sprintf.c (Fsprintf): `%s''\0'
d3714 1
a3714 1
	* pack.c (Fpck_pack): pack
d3716 1
a3716 1
	* eval.c (Floop): 
d3718 1
a3718 2
	* io.c (next_argv): 
	  
d3720 1
a3720 1
Mon Jul 24 17:37:34 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3722 1
a3722 1
	* version 0.82
d3724 2
a3725 4
	* ext/extmk.rb.in (install): static link
	  requirefeature
	  (static link
	  )require
d3727 1
a3727 4
	* eval.c (Frequire): `$"'
	  ruby`.rb'
	  `.o'lisprequire
	  provide()
d3729 1
a3729 1
Thu Jul 20 12:50:05 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3731 1
a3731 1
	* Makefile.in (test): make test
d3733 1
a3733 1
	* struct.c (struct_new): typo.
d3735 1
a3735 2
	* eval.c (rb_eval): `defined'//
	  
d3737 2
a3738 1
Wed Jul 19 18:04:01 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3740 1
a3740 1
	* version 0.81
d3742 1
a3742 1
Mon Jul 17 14:53:51 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3744 1
a3744 5
	* variable.c (rb_const_get): CONSTANTnil
	  optional/
	  
	  
	* st.c (int): grow_factor()
d3746 1
a3746 1
Fri Jul 14 00:48:40 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3748 1
a3748 1
	* ext/extmk.rb.in: 
d3750 1
a3750 1
	* parse.y (var_extend): #{$}
d3752 1
a3752 2
	* dln.c (dln_load_1): `Init_FILENAME'`init_*'
	  
d3754 2
a3755 2
	* ext/etc/etc.c : EtcNT
	  
d3757 2
a3758 1
Tue Jul 11 17:12:48 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3760 1
a3760 1
	* gcc -Wallwarning
d3762 1
a3762 1
	* signal.c (trap): typo.
d3764 2
a3765 1
Fri Jul  7 10:08:51 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3767 1
a3767 1
	* version 0.80
d3769 2
a3770 1
	* ruby.texi: texinfo documentspecruby.1
d3772 1
a3772 1
	* signal.c (Ftrap): 
d3774 1
a3774 1
	* eval.c (Flambda): BlockBlock.new
d3776 1
a3776 1
Thu Jul  6 00:35:03 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3778 1
a3778 2
	* signal.c (Ftrap): SIG_DFLSIGINT
	()
d3780 1
a3780 3
	* file.c (Sfile_expand_fname): 
	(Sfile_basename): basename
	(Sfile_dirname): basename
d3782 2
a3783 1
	* eval.c (rb_call): argument
d3785 1
a3785 1
	* file.c (Ftest): `M', `A', `C'.
d3787 1
a3787 1
Tue Jul  4 12:36:33 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3789 2
a3790 1
	* file.c (Ftest): 
d3792 2
a3793 1
	* ruby.c (proc_options): `-r'
d3795 2
a3796 1
	* parse.y (f_args): 
d3798 1
a3798 1
	* eval.c (rb_call): restnil
d3800 1
a3800 2
	* numeric.c (num_equal): 
	  FALSE
d3802 1
a3802 1
	* eval.c (masign): rest
d3804 1
a3804 1
Sat Jun 17 01:03:16 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3806 1
a3806 2
	* parse.y (gettable): ()
	  
d3808 1
a3808 3
	* parse.y (read_escape): tokenbuf
	  `\C-x',`\M-x'
	  
d3810 1
a3810 1
Thu Jun 15 15:42:00 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3812 2
a3813 1
	* re.c (re_regcomp): cache
d3815 1
a3815 1
Mon Jun 12 18:50:51 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3817 1
a3817 1
	* version 0.79
d3819 1
a3819 1
Sat Jun 10 00:25:01 1995  Yukihiro Matsumoto  <matz@@caelum.co.jp>
d3821 1
a3821 1
	* re.c (re_regcomp): cache`$='
d3823 1
a3823 1
	* sample/test.rb: test suite
d3825 2
a3826 1
Fri Jun  9 15:58:34 1995  Yukihiro Matsumoto  <matz@@ix-02>
d3828 2
a3829 1
	* re.c (re_regcomp): cache
d3831 2
a3832 1
Fri Jun  9 00:01:35 1995  Yukihiro Matsumoto  (matz@@dyna)
d3834 1
a3834 2
	* eval.c (rb_yield): block(iter)
	  
d3836 1
a3836 1
Thu Jun  8 00:59:03 1995  Yukihiro Matsumoto  (matz@@dyna)
d3838 1
a3838 2
	* re.c (=~): StringFALSE(
	  )
d3840 1
a3840 1
	* extmk.rb.in: 
d3842 2
a3843 9
	* assoc.c (to_a): to_a
					 
	* eval.c (rb_eval): 
	  ()
	  waring
	  nilruby -pe print
	  -- 
	  ()
	  ()
d3845 1
a3845 3
	* eval.c (rb_eval): 
	  (eval)
	  
d3847 1
a3847 1
Wed Jun  7 11:58:12 1995  Yukihiro Matsumoto  <matz@@ix-02>
d3849 2
a3850 2
	* eval.c (rb_fail): `$!'
	  (rb_fail): `$!'
d3852 1
a3852 4
	* io.c (Fprint): private
	  (`$_')
	  (Fio_print): print
	  (Fio_printf): printf
d3854 1
a3854 1
	* parse.y: not`!'
d3856 1
a3856 1
Mon Jun  5 19:00:55 1995  Yukihiro Matsumoto  <matz@@ix-02>
d3858 1
a3858 1
	* version 0.78
d3860 1
a3860 1
Fri Jun  2 17:52:03 1995  Yukihiro Matsumoto  <matz@@ix-02>
d3862 1
a3862 2
	* ruby.c (proc_options): -I`$:'
	  
d3864 1
a3864 1
Fri Jun  2 00:36:34 1995  Yukihiro Matsumoto  (matz@@dyna)
d3866 1
a3866 2
	* parse.y: whilewhile
	  beginwhiledo..while
d3868 2
a3869 1
Wed May 31 18:36:30 1995  Yukihiro Matsumoto  <matz@@ix-02>
d3871 1
a3871 1
	* version 0.77
d3873 2
a3874 1
Mon May 29 18:39:37 1995  Yukihiro Matsumoto  <matz@@ix-02>
d3876 1
a3876 2
	* ext/extmk.rb.in (install): 
	  
d3878 1
a3878 1
Fri May 26 14:43:01 1995  Yukihiro Matsumoto  <matz@@ix-02>
d3880 1
a3880 2
	* process.c (Fsystem): /
	  `$?'
d3882 1
a3882 1
Tue May 23 10:58:11 1995  Yukihiro Matsumoto  <matz@@ix-02>
d3884 1
a3884 1
	* string.c (Fstr_upto): 
d3886 2
a3887 2
	* parse.y (cond): `||'
	  
d3889 1
a3889 3
	* ext/marshal/marshal.c: 
	  `_dump_to'
	  
d3891 1
a3891 3
	* ext/extmk.rb.in: static link
	  ext/Setup
	  static link()
d3893 1
a3893 2
	* eval.c (rb_eval): `..'`..'`...'perl
	  
d3895 1
a3895 1
Sat May 20 01:22:48 1995  Yukihiro Matsumoto  (matz@@dyna)
d3897 2
a3898 1
	* io.c (select): timeout
d3900 1
a3900 1
Fri May 19 15:33:23 1995  Yukihiro Matsumoto  <matz@@ix-02>
d3902 1
a3902 1
	* version 0.76
d3904 2
a3905 1
Fri May 19 00:48:08 1995  Yukihiro Matsumoto  (matz@@dyna)
d3907 2
a3908 2
	* string.c (Fstr_each): 
	  
d3910 2
a3911 1
	* ruby-mode.el: ruby-electric-brace
d3913 1
a3913 1
Thu May 18 12:27:23 1995  Yukihiro Matsumoto  <matz@@ix-02>
d3915 2
a3916 4
	* string.c (Fstr_tr): tr`\0'
	  ASCII
	  trcopyright
	  ()
d3918 2
a3919 2
	* gc.c (gc): the_scope
	  
d3921 1
a3921 1
	* gc.c (mark_locations_array): 
d3923 1
a3923 1
Mon May 15 11:43:49 1995  Yukihiro Matsumoto  <matz@@ix-02>
d3925 1
a3925 7
	* ext/extmk.rb.in: Dynamic Load
	  ruby scriptautoconf
	  ext
	  `MANIFEST'
	  `depend'( gcc -MM
	  )`extconf.rb'(
	  )
d3927 2
a3928 2
	* eval.c (rb_call): ruby
	  jmp_buf
d3930 2
a3931 1
	* parse.y: `or'`and'
d3933 1
a3933 1
Wed May  3 18:21:36 1995  Yukihiro Matsumoto  (matz@@dyna)
d3935 1
a3935 1
	* dln.c: Linux`__.SYMDEF/'
d3937 1
a3937 1
	* dln.c: system call
d3939 1
a3939 1
Wed Apr 26 09:50:56 1995  Yukihiro Matsumoto  (matz@@ix-02)
d3941 1
a3941 3
	* parse.y: `|'
	  
	  
d3943 1
a3943 1
Tue Apr 25 12:04:17 1995  Yukihiro Matsumoto  (matz@@ix-02)
d3945 1
a3945 3
	* eval.c(require): load
	  dln/dlopen
	  
d3947 1
a3947 1
	* string.c(sub,sub): 
d3949 1
a3949 1
	* object.c: init_object -> initialize.
d3951 1
a3951 1
Mon Apr 24 14:22:39 1995  Yukihiro Matsumoto  (matz@@ix-02)
d3953 2
a3954 1
	* NEWS-OS 3.4
d3956 1
a3956 2
	* io.c: SolarisstdiosignalEOF
	  perl
d3958 2
a3959 1
Fri Apr 21 20:04:39 1995  Yukihiro Matsumoto  (matz@@ix-02)
d3961 1
a3961 1
	* version 0.75
d3963 2
a3964 1
	* signal.c: trap
d3966 1
a3966 1
	* configure: Solaris 2.3
d3968 2
a3969 1
	* io.c: #elifcpp
d3971 1
a3971 1
	* dir.c: autoconf 2.x
d3973 1
a3973 1
Thu Apr 20 12:31:24 1995  Yukihiro Matsumoto  (matz@@ix-02)
d3975 1
a3975 1
	* version 0.74
d3977 1
a3977 1
	* env.h, gc.c, regex.c: IRIX
d3979 1
a3979 2
	* configure: dlopenpicoption
	  
d3981 2
a3982 1
Tue Apr 18 19:08:17 1995  Yukihiro Matsumoto  (matz@@ix-02)
d3984 2
a3985 1
	* gc.c(xrealloc): ptr=nilmalloc()
d3987 1
a3987 2
	* array.c(astore): 0size=0
	  realloc()
d3989 2
a3990 1
	* configure, glob.c: Solaris 2.x
d3992 1
a3992 1
Mon Apr 10 18:36:06 1995  Yukihiro Matsumoto  (matz@@ix-02)
d3994 2
a3995 1
	* version 0.73
d3997 1
a3997 1
Fri Apr  7 13:51:08 1995  Yukihiro Matsumoto  (matz@@ix-02)
d3999 1
a3999 2
	* cons.c->assoc.c: conspair
	  Enumerableinclude
d4001 1
a4001 1
	* string.c(esub): perls///e
d4003 1
a4003 1
Wed Apr  5 11:35:21 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4005 1
a4005 1
	* version 0.72
d4007 1
a4007 1
	* EWS4800
d4009 1
a4009 1
	* file.c: utimesutime
d4011 2
a4012 1
Mon Apr  3 15:19:41 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4014 1
a4014 1
	* version 0.71
d4016 1
a4016 2
	* regexp.c(re_match): match_2enbug
	  
d4018 1
a4018 1
Mon Mar 27 15:41:43 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4020 1
a4020 1
	* dict.c: Dict->Hash
d4022 2
a4023 1
Thu Mar 23 20:30:00 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4025 1
a4025 1
	* dbm.c,socket.c: ext
d4027 1
a4027 1
	* configure: dln
d4029 1
a4029 1
	* dln.c: initdlopen()
d4031 1
a4031 1
Mon Mar 20 17:45:08 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4033 1
a4033 1
	* configure: autoconf 2.2()
d4035 1
a4035 1
Fri Mar 17 15:56:44 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4037 1
a4037 2
	* dln.c: dlopen
	  
d4039 1
a4039 1
	* regex.c: virtual concatination
d4041 1
a4041 1
Thu Mar 16 11:32:57 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4043 2
a4044 1
	* version 0.70
d4046 1
a4046 1
	* eval.c,regex.c: gcc
d4048 1
a4048 2
	* io.c: inplace-edit
	  
d4050 1
a4050 1
Wed Mar 15 14:59:18 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4052 1
a4052 1
	* version 0.69
d4054 1
a4054 1
	* eval.c(method_missing): unknown
d4056 1
a4056 2
	* eval.c(single_method_added): 
	  hook
d4058 1
a4058 1
Tue Mar 14 14:46:44 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4060 1
a4060 2
	* ruby.c(proc_options): 
	  perlgetopt_long
d4062 1
a4062 1
	* dir.c(glob): `{}'
d4064 1
a4064 1
Mon Mar 13 17:56:25 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4066 1
a4066 3
	* glob.c: Glob()
	  Dir.glob()
	  
d4068 1
a4068 1
Fri Mar 10 18:35:46 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4070 2
a4071 1
	* eval.c: Mathextend
d4073 1
a4073 2
	* eval.c: 
	  super
d4075 1
a4075 1
	* regex.c: debug.
d4077 1
a4077 1
	* math.c: PIE
d4079 1
a4079 1
Thu Mar  9 21:35:12 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4081 1
a4081 1
	* regex.c: EUC,SJIS0x80816
d4083 1
a4083 1
	* regex.c: 
d4085 1
a4085 1
Wed Mar  8 17:39:05 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4087 1
a4087 2
	* regex.c: \2008
	  \1\9
d4089 1
a4089 1
	* regex.c: \9
d4091 1
a4091 1
Tue Mar  7 14:26:01 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4093 1
a4093 2
	* eval.c(public/private): 
	  
d4095 1
a4095 1
Mon Mar  6 19:34:32 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4097 1
a4097 3
	* eval.c(inlcude): 
	  
	   `extend'
d4099 1
a4099 1
	* parse.y: include
d4101 1
a4101 1
Tue Feb 28 15:35:10 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4103 1
a4103 1
	* parse.y: `,'
d4105 1
a4105 1
Fri Feb 24 13:15:43 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4107 1
a4107 1
	* version 0.68
d4109 1
a4109 1
Thu Feb 23 11:19:19 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4111 2
a4112 1
	* eval.c: resqueself
d4114 1
a4114 1
	* eval.c(rb_clear_cache): 
d4116 1
a4116 3
	* eval.c: 
	  
	  
d4118 1
a4118 1
Wed Feb 22 00:51:38 1995  Yukihiro Matsumoto  (matz@@dyna)
d4120 1
a4120 2
	* regex.c: ignorecase
	  
d4122 1
a4122 1
	* string.c(toupper,tolower): bug fix.
d4124 1
a4124 1
	* ENV,VERSION: readonly
d4126 1
a4126 1
Tue Feb 21 18:56:56 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4128 1
a4128 1
	* io.c(STDIN, STDOUT, STDERR): 
d4130 1
a4130 1
	* io.c(select): bug fix.
d4132 1
a4132 1
	* version 0.67
d4134 1
a4134 1
Mon Feb 20 16:10:14 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4136 1
a4136 2
	* parse.y(yylex): `%'1
	  
d4138 1
a4138 1
	* eval.c: selfthe_class
d4140 1
a4140 1
	* variable.c(rb_name_class): 
d4142 2
a4143 1
Thu Feb 16 15:36:17 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4145 1
a4145 2
	* parse.y: BLOCKbrace
	  ML
d4147 1
a4147 1
	* object.c(do,forever): 
d4149 1
a4149 1
Wed Feb 15 13:20:49 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4151 2
a4152 2
	* re.c(new): 2nil
	  (nil)
d4154 1
a4154 2
	* parse.y(parse_regexp): 
	  
d4156 2
a4157 1
Tue Feb 14 00:55:33 1995  Yukihiro Matsumoto  (matz@@dyna)
d4159 2
a4160 1
	* parse.y: (compexpr) -> (expr).
d4162 2
a4163 1
Fri Feb 10 16:30:00 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4165 1
a4165 1
	* ruby.c(load_file): script"#!"
d4167 1
a4167 3
	* ruby.c(readin): "#!"
	  "ruby"ruby
	  
d4169 1
a4169 2
	* parse.y(yylex): `\'
	  
d4171 2
a4172 1
Thu Feb  9 16:18:37 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4174 1
a4174 1
	* version 0.66
d4176 1
a4176 2
	* parse.y: protectbeginbegin..end
	  
d4178 2
a4179 1
Wed Feb  1 19:48:24 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4181 1
a4181 1
	* version 0.65
d4183 1
a4183 2
	* string.c(str_replace): 
	  
d4185 1
a4185 1
	* string.c(rindex): 
d4187 1
a4187 1
Mon Jan 30 11:23:05 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4189 1
a4189 1
	* parse.y(value_expr): if
d4191 2
a4192 1
	* gc.c(gc_mark): free cell
d4194 2
a4195 1
	* parse.y: ()
d4197 1
a4197 1
Thu Jan 26 00:52:55 1995  Yukihiro Matsumoto  (matz@@dyna)
d4199 1
a4199 2
	* parse.y: 
	  
d4201 1
a4201 1
	* parse.y: `[]'
d4203 2
a4204 1
Tue Jan 24 14:45:15 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4206 1
a4206 2
	* class.c(rb_include_module): `-v'include
	  
d4208 1
a4208 1
Mon Jan 23 10:42:09 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4210 1
a4210 1
	* parse.y(rb_class2name): bug fix.
d4212 1
a4212 1
	* dict.c: Dict[..]
d4214 1
a4214 1
	* array.c: Array[..]
d4216 1
a4216 1
	* parse.y: {a,b,..}
d4218 1
a4218 1
Fri Jan 20 10:28:38 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4220 1
a4220 1
	* re.c(Regexp.quote): 
d4222 2
a4223 1
	* rb_intern()
d4225 1
a4225 2
	* parse.y: `!', `!=', `!~'
	  
d4227 1
a4227 1
Wed Jan 18 13:20:41 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4229 1
a4229 1
	* parse.y: (unless,until)
d4231 1
a4231 1
Tue Jan 17 11:11:27 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4233 1
a4233 3
	* eval.c: def
	  (
	  )
d4235 1
a4235 2
	* object.c(Class#new): 
	  init_object
d4237 1
a4237 2
	* eval.c: unknown
	  env
d4239 2
a4240 1
Fri Jan 13 14:40:30 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4242 1
a4242 1
	* gc.c: gc
d4244 1
a4244 1
	* parse.y(yylex): symbol\sym:sym
d4246 1
a4246 1
Thu Jan 12 01:39:28 1995  Yukihiro Matsumoto  (matz@@dyna)
d4248 1
a4248 1
	* eval.c:  rb_eval_string()
d4250 1
a4250 1
	* gc.c: gc_mark()
d4252 1
a4252 2
	* variable.c(rb_ivar_{get,set}): 
	  
d4254 1
a4254 2
	* variable.c: 
	  
d4256 2
a4257 3
	* ruby.h: iv_tblRBasicRObjectRClass
	  ObjectClass,Module
	  
d4259 1
a4259 1
Tue Jan 10 00:58:20 1995  Yukihiro Matsumoto  (matz@@dyna)
d4261 1
a4261 1
	* 0.64 released
d4263 1
a4263 1
	* eval.c: iter
d4265 1
a4265 1
	* cons.c(aref,aset): negative offset
d4267 1
a4267 1
Mon Jan  9 14:40:39 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4269 1
a4269 2
	* parse.y: foo{..}foo
	  
d4271 2
a4272 1
	* list.c -> cons.c: ()
d4274 2
a4275 3
	* list.c: a::b::c::nil(a b c)lispa::b::c
	  (a b c)ruby[], []=, each
	  
d4277 1
a4277 1
	* list.c: cons
d4279 2
a4280 1
Sat Jan  7 01:26:26 1995  Yukihiro Matsumoto  (matz@@dyna)
d4282 2
a4283 1
	* eval.c: 
d4285 1
a4285 1
	* eval.c(masign): 
d4287 1
a4287 1
	* list.c: assoc2List(CONS)
d4289 1
a4289 1
Fri Jan  6 13:42:12 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4291 1
a4291 2
	* parse.y: a[b]+=ca.b+=cab2
	  
d4293 2
a4294 1
	* eval.c: iterator
d4296 2
a4297 1
	* list.c: List
d4299 2
a4300 1
Thu Jan  5 13:55:00 1995  Yukihiro Matsumoto  (matz@@ix-02)
d4302 1
a4302 1
	* parse.y: SCOPE
d4304 2
a4305 2
	* eval.c: built-in
	  
d4307 1
a4307 2
	* re.c: match-data`$~'
	  on-demand
d4309 1
a4309 1
	* string.c etc: memmovememcpy
d4311 1
a4311 1
	* parse.y: =~, !~
d4313 1
a4313 1
Tue Jan  3 02:04:36 1995  Yukihiro Matsumoto  (matz@@dyna)
d4315 2
a4316 1
	* eval.c: restbug fix.
d4318 2
a4319 1
	* eval.c,gc.c: scope
d4321 1
a4321 1
	* eval.c: envscope
d4323 1
a4323 1
Wed Dec 28 09:46:57 1994  Yukihiro Matsumoto  (matz@@ix-02)
d4325 1
a4325 1
	* parse.y: eval
d4327 1
a4327 1
	* parse.y: aliasbug fix.
d4329 1
a4329 1
Tue Dec 27 16:45:20 1994  Yukihiro Matsumoto  (matz@@ix-02)
d4331 1
a4331 1
	* parse.y: def A Balias A B
d4333 1
a4333 2
	* eval.c: aliasbugnodeenbug
	  
d4335 1
a4335 1
	* signal.c: 
d4337 2
a4338 1
	* io.c(select): write/except
d4340 2
a4341 1
	* Makefile.in: static linkMake
d4343 1
a4343 1
Tue Dec 20 00:46:19 1994  Yukihiro Matsumoto  (matz@@dyna)
d4345 2
a4346 1
	* 0.63 released
d4348 2
a4349 2
	* eval.c(rb_call): superargc, argv
	  
d4351 1
a4351 1
	* parse.y(read_escape): 
d4353 2
a4354 1
	* variable.c: hook
d4356 1
a4356 1
Mon Dec 19 12:01:10 1994  Yukihiro Matsumoto  (matz@@ix-02)
d4358 1
a4358 2
	* parse.y(cond): `-v'
	  
d4360 1
a4360 1
	* parse.y(**): `**'
d4362 1
a4362 1
	* parse.y(and,or): `and', `or'.
d4364 2
a4365 1
	* 0.62 released.
d4367 2
a4368 1
	* eval.c: PUSH_ENV, POP_ENV
d4370 1
a4370 2
	* env.h: ENVIONselfPUSH_ENVsuper
	  
d4372 2
a4373 1
	* eval.c: 
d4375 1
a4375 1
Mon Dec 17 23:01:10 1994  Yukihiro Matsumoto  (matz@@ix-02)
d4377 2
a4378 1
	* eval.c: env.{argv,argc}scope.local_vars
d4380 1
a4380 1
	* eval.c: 1Block
d4382 2
a4383 1
Fri Dec 16 15:52:06 1994  Yukihiro Matsumoto  (matz@@ix-02)
d4385 1
a4385 1
	* parse.y: `&&'`||'
d4387 1
a4387 1
Thu Dec 15 00:16:04 1994  Yukihiro Matsumoto  (matz@@dyna)
d4389 1
a4389 1
	* eval.c(Block): Block
d4391 1
a4391 1
	* node.h: NODE_QLIST
d4393 2
a4394 2
	* eval.c(rb_call): 
	  
d4396 3
a4398 1
	* eval.c(rb_call): rubyinline
d4400 1
a4400 3
	* eval.c: 
	  [foo(),bar()]{i|baz(i)}foobar
	  **
d4402 1
a4402 2
	* eval.c(rb_call): SCOPEinline
	  
d4404 611
a5014 1
Wed Dec 14 18:09:33 1994  Yukihiro Matsumoto  (matz@@ix-02)
d5016 1
a5016 1
	* node.h: nodeGC
d5018 1
a5018 1
Thu Dec  8 14:17:29 1994  Yukihiro Matsumoto  (matz@@ix-02)
a5019 1
	* 0.60 released - alpha test baseline.
@


1.1.1.1
log
@
@
text
@@


1.1.1.2
log
@*** empty log message ***
@
text
@d1 1
a1 1
Fri Jan 16 00:43:43 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3 1
a3 1
	* ruby.h (CLONESETUP): copies its singleton classes too.
d5 1
a5 2
	* class.c (singleton_class_attached): saves binded object in the
	  singleton classes.
d7 1
a7 2
	* eval.c (rb_eval): calls singleton_method_added even in the
	  singleton class clauses.
d9 1
a9 1
Fri Jan 15 23:22:43 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d11 3209
a3219 1
	* ruby.c (proc_options): -S does not recognize PATH.
d3221 2
a3222 1
Thu Jan 15 02:03:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3224 1
a3224 2
	* eval.c (rb_clear_cache_by_id): clear only affected cache
	  entries.
d3226 1
a3226 1
Wed Jan 14 02:14:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3228 2
a3229 1
	* ext/socket/socket.c: new UDP/IP socket classes.
d3231 2
a3232 1
Tue Jan 13 10:00:18 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3234 1
a3234 1
	* string.c (str_cmp): ignorecase($=) works wrong.
d3236 1
a3236 1
Fri Jan  9 13:19:55 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3238 2
a3239 1
	* eval.c (f_missing): class name omitted from the error message.
d3241 1
a3241 1
	* error.c (exc_inspect): description changed.
d3243 1
a3243 2
	* string.c (Init_String): GlobalExit's superclass did not filled,
	  since GlobalExit created earlier than String.
d3245 1
a3245 1
Thu Jan  8 12:10:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3247 1
a3247 1
	* parse.y (aryset): expr in the brackets can be null.
d3249 1
a3249 1
Wed Jan  7 21:13:56 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3251 1
a3251 1
	* io.c (io_reopen): keep stderr unclosed.
d3253 1
a3253 1
	* io.c (io_errset): keep stderr unclosed.
d3255 1
a3255 1
Tue Jan  6 00:27:43 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3257 1
a3257 1
	* parse.y: syntax modified for `while expr do .. end' etc.
d3259 1
a3259 2
	* process.c (f_exec,f_system): can supply arbitrary name for the
 	  new process.
d3261 1
a3261 1
Mon Jan  5 16:59:13 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d3263 1
a3263 1
	* file.c (file_s_basename): removes any extention by ".*".
d3265 1
a3265 1
Sun Jan  4 19:36:22 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d3267 3
a3269 1
	* parse.y (yylex): needed to update lex_p (reading point).
d3271 1
a3271 1
Sat Jan  3 19:14:14 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d3273 1
a3273 1
	* class.c,object.c: duplicate defines mKernel and cFinxnum.
d3275 1
a3275 1
Fri Jan  2 20:38:59 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3277 1
a3277 2
	* ext/curses/curses.c (NUM2CHAR): uses the first character for
 	  string arguments.
d3279 2
a3280 1
	* array.c (ary_fill): did not extend array for ranges.
d3282 4
a3285 1
	* array.c (beg_len): did not return end pos bigger than size.
d3287 1
a3287 1
Fri Jan  2 02:09:16 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d3289 2
a3290 1
	* dir.c (dir_s_chdir): bug in nil check.
d3292 1
a3292 1
	* array.c (ary_fill): bug in nil check.
d3294 2
a3295 1
Tue Dec 30 11:46:23 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3297 1
a3297 2
	* hash.c (env_path_tainted): checks directories in PATH
	  environment variable are not world writable.
d3299 1
a3299 2
	* ruby.c (load_file): invoke specified interpreter if the #! line
 	  does not contain the word `ruby'.
d3301 1
a3301 1
Fri Dec 26 03:26:41 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3303 2
a3304 2
	* string.c (uscore_get): type information included in the error
 	  message.
d3306 1
a3306 2
	* variable.c (f_untrace_var): does not free trace-data within
 	  trace procedure.
d3308 2
a3309 1
Thu Dec 25 02:50:29 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3311 2
a3312 1
	* version 1.1b3 released.
d3314 1
a3314 1
	* ruby.h: inlining some functions on gcc 2.x
d3316 1
a3316 1
Tue Dec 23 02:47:33 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3318 2
a3319 2
	* eval.c (rb_eval): public/private information kept in the current 
	  scope, to remove undesired state from the class/module.
d3321 1
a3321 2
	* time.c (time_strftime): remove hidden limit of 100 bytes of
	  result string, using malloc'ed buffer. 
d3323 1
a3323 2
	* hash.c (hash_update): merges the contents of another hash,
	  overriding existing keys.
d3325 1
a3325 1
	* regex.c (must_instr): totally re-written.
d3327 1
a3327 2
	* io.c (read_all): try to allocate proper sized buffer using
	  fstat(2) for speedup.
d3329 2
a3330 1
Sat Dec 20 00:27:28 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3332 1
a3332 1
	* regex.c (must_instr): need to skip 2 bytes for mbchars.
d3334 1
a3334 1
Fri Dec 19 01:18:29 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3336 1
a3336 1
	* version 1.1b2 released.
d3338 1
a3338 2
	* eval.c (check_errat): check and convert (if necessary) traceback 
	  information before assigning to the variable $@@.
d3340 2
a3341 2
	* eval.c (f_raise): optional third argument to specify traceback
	  information.
d3343 1
a3343 1
	* io.c (f_open): prevent infinite recursive call.
d3345 1
a3345 1
Thu Dec 18 19:33:47 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3347 1
a3347 1
	* string.c (str_rindex): now accepts regexp as index.
d3349 3
a3351 1
Thu Dec 18 18:42:50 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d3353 2
a3354 1
	* ext/socket/extconf.rb: modified to detect win32 socket lib.
d3356 1
a3356 1
Thu Dec 18 00:25:03 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3358 1
a3358 1
	* re.c (reg_equal): checks for source and casefold and kcode matching.
d3360 2
a3361 1
	* marshal.c: became built-in module.
d3363 2
a3364 2
	* ext/marshal/marshal.c (r_object): displays struct name for
	  non-compatible struct.
d3366 1
a3366 2
	* string.c (str_index_method): now searches character (fixnum) in
	  the string.
d3368 1
a3368 1
	* string.c (str_include): redefine `include?'.
d3370 1
a3370 2
	* regex.c (re_match): start_nowidth saves current stack position
	  to stop_nowidth.
d3372 1
a3372 2
	* regex.c (re_compile_pattern): add space to stop_nowidth to save
	  runtime stack position.
d3374 1
a3374 1
Tue Dec 16 14:57:43 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3376 3
a3378 2
	* string.c (scan_once): wrong exception for regexp that match with 
	  null string (use substr instead of subseq).
d3380 1
a3380 1
Sat Dec 13 00:13:32 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3382 1
a3382 1
	* parse.y (expr): remove bare assocs from expr rule.
d3384 1
a3384 1
	* rbconfig.rb: renamed from config.rb (it was too generic name).
d3386 1
a3386 1
Fri Dec 12 00:50:25 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3388 1
a3388 2
	* parse.y (expr): warns if BEGIN or END appear in the method
 	  bodies.
d3390 1
a3390 2
	* string.c (str_match): calls y =~ x if y is neither String nor
	  Regexp so that eregex.rb works.  
d3392 1
a3392 1
	* eval.c (f_at_exit): to register end proc.
d3394 1
a3394 2
	* class.c (rb_define_module_function): define 'function' method
	  for the Module, not private method.
d3396 1
a3396 1
	* class.c (rb_define_function): function to define `function' method.
d3398 1
a3398 2
	* eval.c (rb_eval): inherit visibility from superclass's method
	  except when it is set to `function'
d3400 2
a3401 1
	* eval.c (rb_eval): new visibility status `function'.
d3403 1
a3403 2
	* parse.y (yycompile): do not clear eval_tree. thus enable multipe 
	  command line script by optn `-e'.
d3405 1
a3405 1
	* eval.c (rb_eval): END execute just once.
d3407 2
a3408 1
	* parse.y (expr): BEGIN/END built in the syntax.
d3410 1
a3410 1
Thu Dec 11 13:14:35 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3412 2
a3413 1
	* object.c (mod_le): Module (or Class) comparison.
d3415 2
a3416 2
	* eval.c (rb_remove_method): raises NameError if named method does 
	  not exist.
d3418 233
a3650 3
	* ext/curses/curses.c: remove CHECK macro for BSD curses.
	
Thu Dec 11 12:44:01 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d3652 1
a3652 1
	* pack.c: sun4 cc patch
d3654 1
a3654 1
Wed Dec 10 15:21:36 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3656 1
a3656 2
	* ext/marshal/marshal.c (marshal_load): can supply evolution proc
	  object as optional second argument.
d3658 1
a3658 1
	* re.c (reg_source): get source string of the regular expression.
d3660 1
a3660 1
Tue Dec  9 10:05:17 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3662 2
a3663 1
	* version 1.1b1 released.
d3665 1
a3665 1
	* parse.y (tokadd): token buffer overrun.
d3667 1
a3667 1
	* ruby.c (ruby_prog_init): forgot to protect rb_argv0 from gc.
d3669 2
a3670 1
	* eval.c (ruby_run): call finalizers at process termination.
d3672 3
a3674 2
	* gc.c (gc_call_finalizer_at_exit): call free proc for every Data
 	  Wrapper, and finalizer for specified objects at termination.
d3676 1
a3676 1
	* version.c (show_version): version format changed.
d3678 1
a3678 2
	* regex.c (re_match): wrong match with non-greedy if they appear
	  more than once in regular expressions.
d3680 1
a3680 1
	* sample/ruby-mode.el (ruby-expr-beg): forgot to handle modifiers.
d3682 1
a3682 1
Mon Dec  8 19:00:15 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3684 1
a3684 1
	* io.c (io_puts): just put a newline if no argument given.
d3686 1
a3686 2
	* ext/tcltklib/tcltklib.c (lib_mainloop): thread-aware tk handle
 	  when $tk_thread_safe is set.
d3688 1
a3688 2
	* ext/tcltklib/tcltklib.c (lib_mainloop): use Tcl_DoOneEvent()
	  instead of Tk_MainLoop().
d3690 1
a3690 1
Mon Dec  6 07:11:16 1997  MAEDA shugo  <shugo@@po.aianet.ne.jp>
d3692 1
a3692 1
	* io.c (io_puts): core dumped without any argument.
d3694 1
a3694 1
Fri Dec  5 18:17:17 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3696 2
a3697 2
	* eval.c (mod_remove_method): remove (not undef) a method from the 
	  class/module.
d3699 1
a3699 2
	* variable.c (obj_remove_instance_variable): method to remove
	  instance variables.
d3701 2
a3702 1
Thu Dec  4 13:50:29 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3704 1
a3704 1
	* version 1.1b0 released.
d3706 9
a3714 1
	* string.c (str_aref): called str_index for regexp.
d3716 3
a3718 1
Mon Dec  1 15:24:41 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3720 1
a3720 1
	* compar.c (cmp_between): wrong comparison made.
d3722 2
a3723 1
Wed Nov 26 18:18:05 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3725 4
a3728 2
	* lib/mkmf.rb: generate Makefile for extention modules out of ruby 
	  source tree. use like `ruby -r mkmf extconf.rb'.
d3730 1
a3730 2
	* numeric.c (fix2str): enlarge buffer to prevent overflow on some
	  machines.
d3732 1
a3732 1
	* parse.y (here_document): wrong line number generated after here-doc.
d3734 1
a3734 1
Fri Nov 21 13:17:12 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3736 1
a3736 1
	* parse.y (yylex): skip multibyte characters in comments.
d3738 2
a3739 1
Wed Nov 19 17:19:20 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3741 1
a3741 1
	* object.c (nil_to_a): nil.to_a => [].
d3743 2
a3744 1
	* parse.y (call_args): wrong node generation.
d3746 1
a3746 1
Tue Nov 18 10:13:08 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3748 1
a3748 1
	* array.c (Init_Array): Array#=== works as Array#include?
d3750 1
a3750 2
	* regex.c (re_compile_pattern): insert initialize code for jump_n, 
	  before entering loops.
d3752 2
a3753 2
	* re.c (reg_search): does not save registers unless $& etc appear
	  in the script.
d3755 1
a3755 1
Mon Nov 17 13:01:43 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3757 2
a3758 2
	* eval.c (is_defined): add defined? check for receivers and
 	  arguments for calls.
d3760 1
a3760 1
	* re.c (reg_search): cache last match object.
d3762 1
a3762 1
	* re.c (match_aref): $[0] etc. are available.
d3764 2
a3765 1
Sat Nov 15 00:11:36 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d3767 3
a3769 1
	* io.c (io_s_popen): "rb" detection
d3771 3
a3773 1
Fri Nov 14 18:28:40 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3775 2
a3776 2
	* string.c (scan_once): returns whole match if the pattern does
	  not contain any parentheses.
d3778 1
a3778 1
Thu Nov 13 14:39:06 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3780 1
a3780 2
	* string.c (str_sub): returns copy of the receiver string, even if 
	  any substitution occurred.
d3782 1
a3782 1
	* regex.c (re_compile_pattern): no-width match by (?=..), (?!..).
d3784 1
a3784 1
Wed Nov 12 13:44:47 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3786 1
a3786 1
	* time.c: remove coerce from Time class.
d3788 2
a3789 1
	* regex.c (re_match): non-greedy match by ??, *? +?, {n,m}?.
d3791 1
a3791 1
Mon Nov 10 11:24:51 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3793 1
a3793 1
	* regex.c (re_compile_pattern): non-resitering parens (?:..).
d3795 4
a3798 2
	* regex.c (re_compile_pattern): new meta character \< (wordbeg)
	  and \> (wordend).
d3800 2
a3801 2
	* regex.c (re_compile_pattern): embedded comment for regular
	  expression by (?#...).
d3803 1
a3803 1
Fri Nov  7 16:58:24 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3805 1
a3805 1
	* regex.c (re_compile_pattern): perl5 regxp \A and \Z available.
d3807 7
a3813 1
	* regex.c (re_compile_pattern): can expand compile stack dynamically.
d3815 2
a3816 1
	* regex.c (PUSH_FAILURE_POINT): wrong compare condition.
d3818 1
a3818 1
Wed Nov  2 16:00:00 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d3820 1
a3820 1
	* string.c (str_sub_s): "".sub! "", "" => "\000"
d3822 1
a3822 1
Fri Oct 31 15:52:10 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3824 1
a3824 1
	* parse.y (assoc): keyword assoc like {fg->"black"}.
d3826 1
a3826 1
Thu Oct 30 17:33:38 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3828 3
a3830 2
	* io.c (io_println): print with newline, which is not affected by
	  the values of $/ and $\.
d3832 1
a3832 1
Thu Oct 30 16:54:01 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d3834 3
a3836 1
	* string.c (str_chop_bang): "".chop caused SEGV.
d3838 1
a3838 1
	* string.c (str_chomp_bang): method to chop out last newline.
d3840 1
a3840 1
Mon Oct 27 13:49:13 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3842 1
a3842 1
	* ext/extmk.rb.in: library may have pathname contains `.'
d3844 1
a3844 1
	* eval.c (rb_rescue): should not protect SystemError.
d3846 2
a3847 1
Fri Oct 24 10:58:53 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3849 1
a3849 1
	* io.c (io_s_with_open_stream): ensures to close stream.
d3851 1
a3851 1
Thu Oct 23 11:17:44 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3853 1
a3853 2
	* io.c (io_errset): value of $stderr can be changed (to any IO
 	  object).
d3855 1
a3855 1
	* io.c (next_argv): $< can be anything that responds to `write'.
d3857 1
a3857 1
	* file.c (file_s_with_open_file): ensures to close file.
d3859 1
a3859 1
	* error.c (exception): create error under the current class/module.
d3861 1
a3861 1
	* range.c (range_eqq): fixnum check for last needed too.
d3863 1
a3863 1
Wed Oct 22 12:52:30 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3865 1
a3865 1
	* ext/socket/socket.c: Socket::Constants added.
d3867 2
a3868 1
	* file.c: File::Constants added for inclusion.
d3870 1
a3870 2
	* array.c (ary_join): call ary_join() recursively for the 1st
 	  array element.
d3872 1
a3872 1
Mon Oct 20 12:18:29 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d3874 2
a3875 1
	* ruby.c (load_file): wrong condition for #! check with -x.
d3877 1
a3877 1
	* file.c (file_s_dirname): did return "" for "/a".
d3879 1
a3879 1
Fri Oct 17 14:29:09 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3881 1
a3881 1
	* ruby.c: now works on alpha-linux.
d3883 1
a3883 1
	* bignum.c (bigadd): some undefined side effect order assumed.
d3885 2
a3886 1
Wed Oct 15 17:49:24 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3888 1
a3888 1
	* intern.h: function prototypes added.
d3890 1
a3890 1
Mon Oct 13 16:54:18 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3892 1
a3892 2
	* class.c (rb_define_class_id): call superclass's `inherited'
 	  method when making subclasses.
d3894 1
a3894 1
	* parse.y (nextc): clear lex_lastline at the end of file.
d3896 1
a3896 1
	* object.c (Init_Object): need to undef Class#append_features.
d3898 1
a3898 1
	* eval.c (rb_eval): no warning on extending classes or modules.
d3900 1
a3900 1
Thu Oct  9 11:17:50 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3902 2
a3903 2
	* eval.c (error_print): the exception name follows after the error 
	  message.
d3905 1
a3905 1
	* eval.c (compile_error): error message slightly changed.
d3907 1
a3907 2
	* parse.y (nextc): script parsing will be terminated by __END__ at
 	  beginning of line.
d3909 1
a3909 1
	* eval.c (compile_error): `__END__' is no longer a keyword.
d3911 1
a3911 1
	* parse.y (nextc): protect lastline read from script stream.
d3913 1
a3913 1
Tue Oct  7 14:06:06 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3915 1
a3915 1
	* version 1.1 alpha9 released.
d3917 1
a3917 1
	* eval.c (mod_append_features): renamed from extend_class.
d3919 1
a3919 1
	* eval.c (rb_eval): defining method calls `method_added'.
d3921 1
a3921 2
	* eval.c (ruby_options): exception while processing options must
	  terminate the interpreter.
d3923 2
a3924 2
	* error.c (Init_Exception): wrong method configuration.  `new'
	  should have been a singleton method.
d3926 1
a3926 1
Mon Oct  6 18:55:38 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3928 1
a3928 2
	* ext/kconv/kconv.c (kconv_guess): code to guess character code
	  from string.
d3930 1
a3930 1
Mon Oct  6 18:38:17 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d3932 1
a3932 1
	* pack.c: now encode/decode base64 by `m' template.
d3934 2
a3935 1
Fri Oct  3 10:51:10 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3937 1
a3937 1
	* MANIFEST: needed to include lex.c in the distribution.
d3939 1
a3939 1
	* eval.c (ruby_options): f_require() called too early.
d3941 1
a3941 1
	* eval.c (rb_provide): module extentions should always be `.o'.
d3943 2
a3944 1
Thu Oct  2 11:38:31 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3946 1
a3946 1
	* version 1.1 alpha8 released.
d3948 2
a3949 2
	* ext/marshal/marshal.c (r_object): remove temporal regist for
 	  structs. (caused problem if structs form cycles.)
d3951 1
a3951 2
	* parse.y (match_gen): static binding for match(=~) calls
	  with regexp literals.
d3953 1
a3953 1
Wed Oct  1 15:26:55 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3955 3
a3957 1
	* eval.c: protect retval in struct tag from GC for C_ALLOCA.
d3959 1
a3959 1
	* eval.c: no more pointer value from setjmp/longjmp.
d3961 1
a3961 1
Wed Oct  1 14:01:49 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d3963 2
a3964 1
	* ext/marshal/marshal.c (w_byte): argument must be char.
d3966 1
a3966 1
Wed Oct  1 10:30:22 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3968 1
a3968 2
	* variable.c (mod_const_at): global constants now belongs to the
	  class Object.
d3970 1
a3970 1
	* object.c (Init_Object): new global constant NIL.
d3972 1
a3972 1
	* ext/marshal/marshal.c (marshal_dump): try to set binmode.
d3974 1
a3974 2
	* ext/marshal/marshal.c (r_object): forgot to re-regist structs in 
	  the object table.
d3976 1
a3976 2
	* eval.c (ruby_options): call Init_ext() before any require()
 	  calls by `-r'.
d3978 2
a3979 1
Fri Sep 30 14:29:22 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d3981 1
a3981 1
	* ext/marshal/marshal.c (w_object): marshal dumped core.
d3983 1
a3983 1
Tue Sep 30 10:27:39 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3985 2
a3986 1
	* sample/test.rb: bignum test suits added.
d3988 1
a3988 1
	* eval.c (rb_eval): new pseudo variable `true' and `false'.
d3990 3
a3992 1
	* parse.y: new keywords `true' and `false' added.
d3994 1
a3994 1
Mon Sep 29 13:37:58 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3996 1
a3996 1
	* ruby.c (forbid_setid): forbid some options in suid mode.
d3998 1
a3998 1
	* ruby.h (NUM2DBL): new macro to convert into doubles.
d4000 1
a4000 1
Mon Sep 27 09:53:48 1997  EGUCHI Osamu  <eguchi@@shizuokanet.or.jp>
d4002 1
a4002 1
	* bignum.c: modified for speeding.
d4004 1
a4004 1
Fri Sep 26 18:27:59 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d4006 1
a4006 1
	* sample/from.rb: some extensions.
d4008 1
a4008 1
Mon Sep 29 13:15:56 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4010 3
a4012 1
	* parse.y (lhs): no more syntax error on `obj.CONSTANT = value'.
d4014 1
a4014 1
Fri Sep 26 14:41:46 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4016 2
a4017 1
	* eval.c (ruby_run): deferred calling Init_ext() just before eval_node.
d4019 1
a4019 1
Fri Sep 26 13:27:24 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d4021 1
a4021 1
	* io.c (io_isatty): forgot to return TRUE value.
d4023 1
a4023 1
Fri Sep 25 11:10:58 1997  EGUCHI Osamu  <eguchi@@shizuokanet.or.jp>
d4025 1
a4025 2
	* eval.c: use _setjmp/_longjmp instead of setjmp/longjmp on some
	  platforms.
d4027 1
a4027 1
Wed Sep 24 17:43:13 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4029 1
a4029 1
	* string.c (Init_String): String#taint and String#taint? added.
d4031 1
a4031 1
	* class.c (mod_ancestors): ancestors include the class itself.
d4033 2
a4034 1
Wed Sep 24 00:57:00 1997  Katsuyuki Okabe  <HGC02147@@niftyserve.or.jp>
d4036 1
a4036 1
	* X68000 patch.
d4038 1
a4038 1
Tue Sep 23 20:42:30 1997  EGUCHI Osamu  <eguchi@@shizuokanet.or.jp>
d4040 1
a4040 1
	* parse.y (node_newnode): SEGV on null node setup.
d4042 2
a4043 1
Mon Sep 22 11:22:46 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4045 1
a4045 1
	* ruby.c (ruby_prog_init): wrong safe condition check.
d4047 1
a4047 1
Sun Sep 21 14:46:02 1997  MAEDA shugo  <shugo@@po.aianet.ne.jp>
d4049 2
a4050 1
	* error.c (exc_inspect): garbage added to classpath.
d4052 2
a4053 1
Fri Sep 19 11:49:23 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4055 1
a4055 2
	* parse.y (newtok): forgot to adjust buffer size when shrinking
	  the token buffer.
d4057 1
a4057 1
	* enum.c (enum_find): rb_eval_cmd() does not return value.
d4059 1
a4059 2
	* io.c (pipe_open): close fds on pipe exec. fcntl(fd, F_SETFD, 1)
	  no longer used.
d4061 1
a4061 1
Tue Sep 16 17:54:25 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4063 3
a4065 1
	* file.c (f_test): problem if wrong command specified.
d4067 2
a4068 1
	* ruby.c (ruby_prog_init): close stdaux and stdprn for MSDOS.
d4070 1
a4070 2
	* ruby.c (ruby_prog_init): should not add path from environment
	  variable, if ruby is running under seuid.
d4072 1
a4072 1
	* process.c (init_ids): check suid check for setuid/seteuid etc.
d4074 2
a4075 1
Mon Sep 15 00:42:04 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d4077 1
a4077 1
	* regex.c (re_compile_pattern): \w{3} and \W{3} did not work.
d4079 1
a4079 1
Thu Sep 11 10:31:48 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4081 2
a4082 1
	* version 1.1 alpha7 released.
d4084 1
a4084 1
	* ext/socket/socket.c (sock_new): no setbuf() for NT.
d4086 1
a4086 1
	* io.c (rb_fopen,rb_fdopen): set close-on-exec for every fd.
d4088 1
a4088 1
Wed Sep 10 15:55:31 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4090 1
a4090 1
	* ext/marshal/marshal.c (r_bytes0): extra big length check.
d4092 1
a4092 1
Tue Sep  9 16:27:14 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4094 1
a4094 1
	* io.c (pipe_fptr_atexit): clean up popen()'ed fptr.
d4096 2
a4097 2
	* error.c (set_syserr): some system has error code that is bigger
	  than sys_nerr. grrr.
d4099 1
a4099 1
Mon Sep  8 18:33:33 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4101 1
a4101 1
	* io.c (io_s_new): dereferenced nil for optional mode.
d4103 2
a4104 1
Fri Sep  5 10:26:03 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4106 1
a4106 2
	* class.c (class_instance_methods): do not include methods which
	  are changed to private in subclasses.
d4108 1
a4108 1
Thu Sep  4 12:38:53 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4110 1
a4110 2
	* variable.c (f_global_variables): list name of the global
	  variables.
d4112 1
a4112 1
	* object.c (obj_id): returns unique integer.
d4114 1
a4114 1
Wed Sep  3 14:05:16 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4116 1
a4116 1
	* version 1.1 alpha6 released.
d4118 1
a4118 1
	* eval.c (mod_s_constants): context sensitive constant list.
d4120 1
a4120 1
	* variable.c (mod_constants): no more `all' option.
d4122 2
a4123 2
	* variable.c (mod_const_of): the values for autoload classes are
	  their name strings.
d4125 1
a4125 2
	* class.c (class_instance_methods): no special treatment for
	  singleton classes.
d4127 1
a4127 2
	* object.c (obj_singleton_methods): returns list of singleton
	  method names.
d4129 1
a4129 1
	* parse.y (yylex): no here document after `class' keyword.
d4131 3
a4133 1
	* eval.c (f_load): expand path if fname begins with `~'.
d4135 2
a4136 1
Tue Sep  2 13:19:48 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4138 2
a4139 1
	* class.c (ins_methods_i): do not list undef'ed methods.
d4141 1
a4141 1
Mon Sep  1 13:42:48 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4143 1
a4143 1
	* version 1.1 alpha5 released.
d4145 1
a4145 2
	* object.c (mod_attr_reader): create methods to define attribute
 	  reader/write/accessor.
d4147 1
a4147 1
	* class.c (rb_define_attr): always defines accessors.
d4149 1
a4149 1
	* eval.c (rb_call): alias occured in the module body caused SEGV.
d4151 1
a4151 1
	* parse.y: did not generate here document strings properly.
d4153 2
a4154 3
Mon Sep  1 11:43:57 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
	
	* parse.y (yylex): heredoc dropped an extra character.
d4156 2
a4157 1
Fri Aug 29 11:10:21 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4159 3
a4161 2
	* class.c (class_instance_methods): same method names should not
 	  appear more than twice.
d4163 1
a4163 1
	* parse.y (yylex): spaces can follow =begin/=end.
d4165 1
a4165 2
	* variable.c (find_class_path): look for class_tbl also for
	  unnamed fundamental classes, such as Object, String, etc.
d4167 1
a4167 2
	* variable.c (rb_name_class): can't name class before String class
 	  is initilialized.
d4169 1
a4169 2
	* inits.c (rb_call_inits): unrecognized dependency from GC to
	  Array.
d4171 1
a4171 2
	* variable.c (find_class_path): could not find class if Object's
 	  iv_tbl is NULL.
d4173 2
a4174 1
Thu Aug 28 13:12:05 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4176 1
a4176 1
	* version 1.1 alpha4 released.
d4178 3
a4180 2
	* variable.c (mod_constants): wrong condition for singleton
	  class. 
d4182 1
a4182 1
	* parse.y (yylex): revised `=begin' skip code.
d4184 1
a4184 1
	* parse.y (here_document): forgot to free(eos).
d4186 1
a4186 2
	* parse.y (yylex): spaces after `<<' prohibited for here
 	  documents to avoid confusing with operator `<<'.
d4188 1
a4188 1
	* eval.c (is_defined): separated from rb_eval().
d4190 1
a4190 1
Wed Aug 27 11:32:42 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4192 1
a4192 1
	* version 1.1 alpha3 released.
d4194 2
a4195 1
	* variable.c (mod_name): returns name of the class/module.
d4197 1
a4197 1
	* parse.y (here_document): finally here document available now.
d4199 1
a4199 1
	* variable.c (fc_i): some classes/modules does not have iv_tbl.
d4201 1
a4201 1
	* variable.c (find_class_path): avoid inifinite loop.
d4203 1
a4203 1
Tue Aug 26 13:43:47 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4205 2
a4206 2
	* eval.c (rb_eval): undef'ing non-existing method will raise
	  NameError exception.
d4208 2
a4209 1
	* object.c (class_s_new): needed to create metaclass too.
d4211 1
a4211 1
	* eval.c (error_print): no class name print for anonymous class.
d4213 1
a4213 2
	* eval.c (rb_longjmp): proper exception raised if raise() called
 	  without arguments, with $! or $@@ set.
d4215 1
a4215 2
	* object.c (Init_Object): superclass()'s method argument setting
 	  was wrong again.
d4217 1
a4217 2
	* class.c (mod_anscestors): list superclasses and included modules 
	  in priority order.
d4219 1
a4219 1
Mon Aug 25 11:53:11 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4221 1
a4221 1
	* version 1.1 alpha2 released.
d4223 1
a4223 2
	* sample/ruby-mode.el (ruby-parse-region): auto-indent now
 	  supports "\\" in the strings.
d4225 1
a4225 2
	* struct.c (struct_getmember): new API to get member value from C
	  language side.
d4227 1
a4227 1
Sat Aug 23 21:39:05 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4229 1
a4229 2
	* parse.y (asignable): remove unnecessary local variable
	  initialize by nil.
d4231 1
a4231 1
Fri Aug 22 14:26:40 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4233 2
a4234 1
	* eval.c (error_print): modified exception print format.
d4236 1
a4236 1
Thu Aug 21 16:10:58 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4238 1
a4238 2
	* sample/ruby-mode.el (ruby-calculate-indent): wrong indent level
	  calculated with keyword operators.
d4240 1
a4240 1
Thu Aug 21 11:36:58 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d4242 1
a4242 1
	* parse.y (arg): ary[0] += 1 cause SEGV
d4244 1
a4244 1
Wed Aug 20 17:28:50 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4246 2
a4247 2
	* ruby.c (ruby_process_options): require() all modules after
 	  processing all options
d4249 1
a4249 1
	* process.c (rb_proc_exec): more security checks added.
d4251 1
a4251 1
	* process.c (rb_proc_exec): insecure path on exec.
d4253 1
a4253 1
	* hash.c (f_getenv): PATH modification security check.
d4255 2
a4256 1
Tue Aug 19 00:15:38 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4258 1
a4258 1
	* version 1.1 alpha1 released.
d4260 1
a4260 2
	* eval.c (mod_eval): work as normal eval() if second binding
 	  argument given.
d4262 1
a4262 2
	* eval.c (rb_call): did not raise ArgumentError if too many
 	  arguments more than optional arguments (without rest arg).
d4264 1
a4264 2
	* eval.c (rb_eval): did not work well for op_asgn2 (attribute
	  self assignment).
d4266 2
a4267 1
	* eval.c (Init_Thread): returns main thread.
d4269 1
a4269 1
Mon Aug 18 09:25:56 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4271 1
a4271 1
	* object.c (inspect_i): did not display T_DATA instance variables.
d4273 1
a4273 1
	* parse.y: provides more accurate line number information.
d4275 1
a4275 2
	* eval.c (thread_value): include value's backtrace information in
	  the variable `$@@'. 
d4277 1
a4277 1
	* eval.c (f_abort): print backtrace and exit.
d4279 1
a4279 1
Sat Aug 16 00:17:44 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4281 1
a4281 2
	* eval.c (class_new_instance): do not make instance from virtual
	  classes. 
d4283 1
a4283 1
	* object.c (class_s_new): do not make subclass of singleton class.
d4285 1
a4285 1
Fri Aug 15 15:49:46 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4287 2
a4288 2
	* eval.c (call_trace_func): block context switch in the trace
          function.
d4290 1
a4290 1
	* eval.c (rb_eval): clear method cache at class extention.
d4292 3
a4294 2
	* object.c (obj_type): returns object's class even if it defines
	  singleton methods.
d4296 2
a4297 1
Fri Aug 15 19:40:43 1997  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d4299 1
a4299 1
	* ext/socket/socket.c (Init_socket): small typo caused SEGV.
d4301 1
a4301 1
Wed Aug 13 17:51:46 1997  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d4303 1
a4303 1
	* version 1.1 alpha0 released.
d4305 1
@


1.1.1.3
log
@ruby 1.3 cycle
@
text
@a0 2352
Wed Jan 20 03:39:48 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yycompile): rb_in_compile renamed to ruby_in_compile.

	* ruby.c (load_file): define DATA iff __END__ appeared in script.

Tue Jan 19 14:57:51 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (here_document): need to protect lex_lastline.

	* parse.y (yylex): disable %//, %'', %``.

Tue Jan 19 05:01:16 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* array.c (beg_len): round range value too much.

Mon Jan 18 13:02:27 1999  Kuroda Jun  <jkuro@@dwe.co.j>

	* hash.c (env_keys): strchr() may return NULL.

Mon Jan 18 17:51:47 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* instruby.rb (wdir): install libruby.a in archdir.

	* lib/ftools.rb (install): removes file before installing.

Mon Jan 18 16:55:31 1999  MAEDA shugo  <shugo@@aianet.ne.jp>

	* eval.c (rb_callcc): experimental continuation support.

Sun Jan 17 19:45:37 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* pack.c (pack_pack): nil packing caused SEGV.

Sat Jan 16 13:18:03 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_concat): character (fixnum) can be append to
	  strings

	* array.c (rb_ary_unshift): unshift returns array.

Sat Jan 16 01:39:19 1999  Yoshida Masato  <yoshidam@@tau.bekkoame.ne.jp>

	* string.c (rb_str_split_method): UTF-8 support.

	* regex.c: UTF-8 support.

Thu Jan 14 00:42:55 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_gsub_bang): forget to add offset for null match.

	* eval.c (rb_thread_local_aset): can't modify in tainted mode.

	* hash.c (env_each_key): avoid generating temporary array.

Wed Jan 13 23:58:50 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (rb_f_setenv): name and value can be tainted.

Wed Jan  6 02:42:08 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (Init_Bignum): forgot to define Bignum#===.

	* gc.c (gc_sweep): if add_heap() is called during GC, objects on
	  allocated heap page(s) are not marked, should not be recycled.

	* gc.c (gc_sweep): should refer latest freelist.

	* gc.c (id2ref): modified to support performance patch.

	* object.c (rb_obj_id): performance patch (no bignum for id).

Tue Jan  5 01:56:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* config.guess: merge up-to-date from autoconf 2.12.

	* array.c (rb_ary_join): avoid calling rb_protect_inspect() till
	  it is really needed.

	* object.c (rb_obj_inspect): show detailed information for the
	  instance variables (infinite loop can avoid now).

	* struct.c (rb_struct_inspect): avoid infinite loop.

Sun Jan  3 01:37:58 1999  Takao KAWAMURA  <kawamura@@ike.tottori-u.ac.jp>

	* misc/ruby-mode.el (ruby-end-of-defun): moved too much.

	* misc/ruby-mode.el (ruby-mode-variables): set paragraph-separator
	  for the mode.

	* misc/ruby-mode.el: proper font-lock for `def' and `nil' etc.

Sat Jan  2 17:09:06 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_jump_tag): new api to invoke JUMP_TAG.  tag values
	  can obtained from rb_eval_string_protect()/rb_load_protect().

	* eval.c (rb_rescue): now catches all exceptions but SystemExit.

	* eval.c (rb_eval_string_protect): eval string with protection.

	* eval.c (rb_load_protect): load file with protection.

	* io.c (rb_io_puts): avoid infinite loop for cyclic arrays.

	* eval.c (rb_thread_local_aref): thread local hash tables.

	* object.c (rb_equal): check exact equal before calling `=='.

Thu Dec 31 22:28:53 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* eval.c (rb_f_require): feature names should be provided with
	  DLEXT extension.

	* marshal.c (Init_marshal): need to provide `marshal.so'.

Wed Dec 30 02:29:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (classname): do not call rb_ivar_set().

	* eval.c (ruby_run): finalizers were called too early.

Fri Dec 25 12:19:30 1998  Fukuda Masaki  <fukuda@@wni.co.jp>

	* gc.c (rb_gc_mark): should not return on FL_EXIVAR.

Fri Dec 25 11:56:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (gc_mark): proper scanning for temporary region.

	* eval.c (TMP_ALLOC): protection for C_ALLOCA was broken.

Thu Dec 24 18:26:04 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* development version 1.3 released.

Thu Dec 24 00:17:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_load): top self should be set properly.

	* variable.c (classname): check __classpath__ iff it is defined.

	* variable.c (classname): invalid warning at -v with static linked
	  ruby interpreter.

	* eval.c (is_defined): modified for expr::Const support.

	* eval.c (rb_eval): invoke method expr::Const if expr is not class
	  nor module.

	* parse.y (primary): enable expr::identifier as method
	  invocation.

Wed Dec 23 03:04:36 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): avoid too many loop pops for (?:..).

Tue Dec 22 18:01:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental version 1.1d1 released.

Mon Dec 21 01:33:03 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (TMP_PROTECT): add volatile to ensure GC protection.

	* string.c (rb_str_gsub_bang): calculate buffer size properly.

	* parse.y (lex_get_str): needed to return Qnil at EOS.

	* eval.c (find_file): check policy modified, raise exception
	  immediately for tainted load_path.

	* hash.c (rb_f_setenv): do not depend on setenv() nor putenv().

Thu Dec 17 06:29:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/tk/tkutil.c (tk_s_new): use rb_obj_instance_eval(), instead
	  of rb_yield_0().

	* eval.c (rb_f_require): forgot to call find_file in some cases.

	* eval.c (rb_f_require): `require "feature.so"' to load dynamic
	  libraries.  old `require "feature.o"' is still OK.

	* eval.c (rb_eval): yield without value dumped core.

Wed Dec 16 16:28:31 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental version 1.1d0 (pre1.2) released.

Wed Dec 16 10:43:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): bound check before calling re_match().

Tue Dec 15 13:59:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* error.c (exc_to_s): returns class name for unset mesg.

	* error.c (exc_initialize): do not initialize @@mesg by "".

	* parse.y (nextc): __END__ should handle CR+LF newlines.

Wed Dec  9 13:37:12 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* pack.c (encodes): use buffering for B-encoding.

	* pack.c (pack_pack): Q-encoding by 'M'.

Tue Dec  8 14:10:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (generic_ivar_get): any object can have instance
	  variables now.  great improvement.

	* variable.c (rb_name_class): do not set __classpath__ by default,
	  use __classid__ instead.

Mon Dec  7 22:08:22 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.h (struct RFile): IO objects can have instance variables now.

	* parse.y (primary): allows `def obj::foo; .. end'.

Mon Dec  7 18:24:50 1998  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* ruby.c (set_arg0): $0 supprt for HP-UX.

Mon Dec  7 01:30:28 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* dln.c (dln_strerror): better error messages on win32.

Sat Dec  5 23:27:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (here_document): indentable here-doc delimiter by
	  `<<-'.  Proposed by Clemens <c.hintze@@gmx.net>.  Thanks.

Thu Dec  3 16:50:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/extmk.rb.in (realclean): trouble on install.

Sun Nov 29 22:25:39 1998  Takaaki Tateishi  <ttate@@jaist.ac.jp>

	* process.c (f_exec): check number of argument.

Thu Nov 26 17:27:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c9 released.

Wed Nov 25 13:07:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_dup): do not copy additional data (STR_NO_ORIG).

	* parse.y (yycompile): reduce known memory leak (hard to remove).

Wed Nov 25 03:41:21 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* st.c (st_init_table_with_size): round size up to prime number.

Sat Nov 21 23:27:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (rb_hash_aset): reduce copying key strings.

	* gc.c (looks_pointerp): declare as inline function if possible.

	* st.c (PTR_NOT_EQUAL): compare hash values first before calling
	  comparing function.

	* st.c (ADD_DIRECT): save hash value in entries to reduce hash
	  calculation.

	* string.c (rb_str_gsub_bang): avoid rb_scan_args() to speed-up.

	* string.c (rb_str_sub_bang): ditto.

Sat Nov 21 18:44:06 1998  Masaki Fukushima  <fukusima@@goto.info.waseda.ac.jp>

	* time.c (time_s_now): had memory leak.

	* ext/md5/md5init.c (md5_new): had memory leak.

	* ext/md5/md5init.c (md5_clone): ditto.

Fri Nov 20 23:23:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/delegate.rb: do not propagate hash and eql?.

Thu Nov 19 01:40:52 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sample/ruby-mode.el (ruby-expr-beg): failed to find reserved
	  word boundary.

	* eval.c (rb_eval): avoid calling `concat' method.  calls
	  rb_ary_concat() directly for efficiency.

	* eval.c (rb_eval): actual rest arguments extended arrays too much.

Wed Nov 18 14:30:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (rb_define_global_function): global functions now be
	  module function of the Kernel.

Wed Nov 18 10:48:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (read_all): SEGV on large files.

Tue Nov 17 18:11:20 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c8 released.

Tue Nov 17 16:58:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (arg): assignment to attribute name start with capital
	  should be allowed.

	* eval.c (thread_alloc): needed to mark terminated threads too.

Tue Nov 17 12:33:48 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* ext/extmk.rb.in (create_makefile): Set `libdir' to `@@libdir@@',
	  Set `pkglibdir' to `$libdir/$(RUBY_INSTALL_NAME)'.

Tue Nov 17 10:30:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (f_sprintf): %l%%c -> %%l%c

Tue Nov 17 01:08:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (ret_args): distinguish `a' and `*a' for the arguments
	  of yield and return.

	* eval.c (rb_eval): flip3 should work like sed.

	* eval.c (rb_eval): flip{2,3} now have independent state for each
	  scope to work fine with thread.

Mon Nov 16 23:26:29 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (primary): exec else clause if no exception raised.

Sun Nov 15 15:44:07 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* ext/extmk.rb.in (install): bug in target.

Sat Nov 14 11:02:05 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* Makefile.in (install): Give the argument `$(DESTDIR)' to
	`instruby.rb'.
	* instruby.rb: Recognize ARG[0] as `destdir'.
	* instruby.rb: Give the argument `destdir' to `extmk.rb'.
	* ext/extmk.rb.in: Recognize ARG[1] as `$destdir'.

	* instruby.rb: Create the installation directories (bindir, libdir,
	archdir, pkglibdir, archdir, and mandir) under `destdir', and
	install all files under there.
	* ext/extmk.rb.in: Likewise.
	
Sat Nov 14 10:56:55 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* instruby.rb: Add the variable `pkglibdir'.
	* instruby.rb: Set the variable `libdir' to `$(libdir)', not
	`$(libdir)/$(ruby_install_name)'. `libruby.so' and `libruby.so.LIB'
	are installed at `libdir'.
	* instruby.rb: Set the variable `archdir' to `$(pkglibdir)/$(arch)'.

Fri Nov 13 19:43:29 1998  KIMURA Koichi  <kbk@@kt.rim.or.jp>

	* missing/nt.c (SafeFree): wrong free offset.

Thu Nov 12 20:11:53 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* sample/ruby-mode.el: wrong highlight.

	* parse.y (parse_regx): newline in regexp was ignored.

Wed Nov 11 10:54:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (here_document): <<'FOO' should not escape anything.

	* parse.y (here_document): bare << here-doc available, even though
	  it's deprecated.

	* file.c (rb_file_s_readlink): return value should be tainted.

	* ext/etc/etc.c (setup_passwd): information (eg. GCOS name) should
	  be tainted (modified at Perl Conference).

Tue Nov 10 00:22:11 1998  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* configure.in: elf supprt for FreeBSD 3.x

Tue Nov 10 00:05:43 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): here document available in eval.

Mon Nov  9 17:55:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c7 released.

Fri Nov  6 19:25:27 1998  Takao KAWAMURA  <kawamura@@ike.tottori-u.ac.jp>

	* sample/ruby-mode.el: font-lock patch.

Thu Nov  5 15:42:22 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sample/README, lib/README: simple description for each file.

Wed Nov  4 18:14:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (assign): attribute assignment should be called as public.

Tue Nov  3 23:36:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_dump): dumps core for negative char value.

	* regex.c (re_compile_pattern): out of boundary access for empty
	  regexp.

Mon Nov  2 22:54:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_aset): `str[str]' replaces first match.

Mon Nov  2 18:24:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_create): was accessing modified status.

Sun Nov  1 01:18:52 1998  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* gc.c (xrealloc): size 0 needs round up to 1.

Sat Oct 31 23:18:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_split_method): negative LIMIT means number of
	  splitted fields are unlimited, as in perl.

	* string.c (rb_str_split_method): if LIMIT is unspecified,
	  trailing null fields are stripped.

Sat Oct 31 04:16:14 1998  Inaba Hiroto   <inaba@@st.rim.or.jp>

	* string.c (str_aref): regexp index SEGVed.

Fri Oct 30 14:33:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_match): returns nil for unmatch.

	* dir.c (dir_entries): new method.

	* eval.c (block_pass): do not push block, substitute it.

Fri Oct 30 01:28:52 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* range.c (range_check): avoid <=> check for Fixnums.

	* array.c (rb_ary_aset): accept negative index.

Wed Oct 28 22:00:54 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): access out of boundary fixed.

Wed Oct 28 11:37:42 1998  TAMITO  <tommy@@valley.ne.jp>

	* io.c (f_select): fd number comparison bug.

Tue Oct 27 23:07:11 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sample/ruby-mode.el (ruby-parse-region): forgot to support %w()
	  style array literal.

	* eval.c (rb_eval): unused block raises warning.

Mon Oct 26 09:37:53 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (dvar_asgn_push): dvar pushed too many times if
	  variable-in-block first appear in loops.

Sun Oct 25 22:59:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (set_list_bits): was using wrong offset.

Thu Oct 22 00:07:11 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_obj_method): method retrieved from tainted object
	  should be tainted too.

	* eval.c (method_call): safe_level should be restored during
	  Method#call.

Wed Oct 21 14:21:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (Init_IO): new constants IO::SEEK_{SET,CUR,END}.

	* io.c (rb_f_ungetc): ungetc pushes a char back into STDIN.

Mon Oct 19 11:50:00 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* ext/extmk.rb: Load '@@top_srcdir@@/lib/find.rb', not
	'../lib/find.rb'.
	* ext/extmk.rb: Distinguish between `top_srcdir' and `topdir'.
	* Makefile.in (CFLAGS): Add `-I.'.
	* Makefile.in (lex.c): Give `@@srcdir@@/keywords' to gperf, not
	`keywords'.
	* instruby.rb: Use `CONFIG["bindir"]', instead of `prefix + "/bin"'.
	* instruby.rb: Use `CONFIG["libdir"]', instead of `prefix + "/lib"'.
	* instruby.rb Use `CONFIG["mandir"]', instead of `prefix + "/man"'.
	* instruby.rb (wdir): Add the variable to preserve the current
	working directory.
	* instruby.rb: Chdir to wdir before install `config.h' and
	`rbconfig.rb'.

Mon Oct 19 10:07:01 1998  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* eval.c (rb_eval): reduce recursive calls to rb_eval().

Fri Oct 16 15:31:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_new_internal): timeval must be positive.

Thu Oct 15 13:54:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (arg): local variabls can be accessed within right side
 	  expression in assignment, notably in blocks.

Wed Oct 14 00:18:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (Init_Array): Array#=== is now for equal check, not
	  inclusion check.

	* parse.y (when_args): `when a, *b' style new syntax for array
	  expansion in `case'.

Tue Oct 13 14:30:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (rb_obj_untaint): taint marks can be unset.

	* eval.c (rb_eval): taint propagation for embedded strings.

Mon Oct 12 13:27:15 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_call0): check stack depth more frequently.

Mon Oct 12 08:08:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_p): can print even in secure mode.

Sun Oct 11 22:50:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_const_set): taint check for modification.

	* variable.c (rb_ivar_set): taint check for modification.

	* string.c (rb_str_modify): taint check for modification.

	* hash.c (rb_hash_modify): taint check for modification.

	* array.c (rb_ary_modify): taint check for modification.

	* ruby.h (FL_TAINT): taint for all objects, not only strings.

Fri Oct  9 17:01:14 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (read_all): read() returns "" at immediate EOF.

	* io.c (io_read): read(nil) read all until EOF.

Thu Oct  8 13:32:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_dump): marshal can dump Time object now.

	* marshal.c (Init_marshal): rename marshal methods `_dump_to' to
 	  `_dump', `_load_from' to `_load'.

	* parse.y (rb_intern): "+=".intern generates proper symbol.

Mon Oct  5 18:31:53 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c6 released.

Fri Oct  2 14:22:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): `/\s*(--)$/ =~ "- --"' did not match,
	  because of wrong optimize condition.

Mon Oct  1 01:55:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (rb_intern): should not raise exceptions.

	* parse.y (yylex): symbol like `:foo?=' should not be allowed.

	* ext/extmk.rb.in: makes *.a for static link modules.

Wed Sep 30 14:13:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_start): supports making a subclass of the
	  Thread class.

Tue Sep 29 17:46:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_join): join is now an instance method.

Fri Sep 25 12:01:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): `@@foo!' should be an error.

Thu Sep 24 14:55:06 1998  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* ext/etc/etc.c (Init_etc): wrong field definition.

Thu Sep 17 17:09:05 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_reopen): was creating FILE* for wrong fd.

Tue Sep 15 05:28:11 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* regex.c (re_compile_pattern): forgot to fixup for the pattern
 	  like (?=(A)|(B)).

Tue Sep 15 01:06:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_gets_internal): do not set $_ by default, only
	  gets/readline set the variable.

	* eval.c (rb_f_load): load toplevel class is set to anonymous
	  module if safe_level >= 5, to encapsulate modification.

	* eval.c (rb_f_load): set frame properly.

	* string.c (rb_str_each_line): do not set $_.

Mon Sep 14 14:42:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): beginning and end of the string, do not
	  automatically match `\b'.

	* string.c (scan_once): comsume at leaset on character.

	* regex.c (re_search): wrong behavior for negative range.

Sat Sep 12 21:21:26 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* regex.c (re_search): range value should be maintained.

Thu Sep 10 10:55:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (backref_error): yyerror does not understand formats.

Tue Sep  8 18:05:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c5 released.

Tue Sep  8 10:03:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_each_line): wrong line splitting with newline at
 	  top of the string.

	* string.c: non bang methods return copied string.

	* eval.c (f_END): needed to initialize frame->argc;

Fri Sep  4 11:27:40 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (bigadd): proper sign combination.

	* regex.c (re_search): wrong return value for \A.

>>>>>>> 1.1.1.2.2.154
Thu Sep  3 14:08:14 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c4 released.

Tue Sep  1 10:47:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (slow_search): do not compare llen and blen.  llen may
	  be longer than blen, if little contains 0xff.

	* regex.c (mbctab_euc): set 0x8e as multibyte character.

	* string.c (str_inspect): mask character for octal output.

Mon Aug 31 15:32:41 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): use calculated offset if exactn is the
	  first opcode in the compiled regexp.

	* regex.c (bm_search): use Boyer-Moore search for simple search.

	* regex.c (must_instr): wrong length check if pattern includes
	  byte escape by 0xff.

	* regex.c (re_compile_pattern): need not to check current_mbctype.

Sat Aug 29 16:31:40 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_check_safe_str): avoid calling rb_id2name() in normal 
	  cases to speed-up.

	* eval.c (thread_raise): do not save context of terminated thread.

	* regex.c (re_compile_pattern): mask \nnn over 256.

Sat Aug 29 02:09:46 1998 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* sprintf.c (f_sprintf): wrong buffer size check.

Fri Aug 28 01:57:04 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): accepts (?ix-ix) and (?ix-ix:...).

Fri Aug 28 12:25:33 1998  Hiroshi Igarashi  <igarashi@@ueda.info.waseda.ac.jp>

	* ruby.c (ruby_require_modules): load modules in appearing order.

Fri Aug 28 01:57:04 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): accepts (?ix-ix) and (?ix-ix:...).

Thu Aug 27 12:54:28 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c3 released.

Wed Aug 26 14:40:56 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): check whether ruby_class is properly set,
	  before accessing it.

	* eval.c (rb_obj_instance_eval): ruby_class should be Qnil for
	  special objects like Fixnums.

	* ext/tkutil/tkutil.c (Init_tkutil): removes calls to
	  rb_yield_0().  used instance_eval() instead in the tk.rb.

Wed Aug 26 11:47:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): pop non-greedy stack elements on success.

Wed Aug 26 09:25:35 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ruby.h: add #define environ for cygwin32.

Tue Aug 25 08:57:41 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_sort_bang): temporarily freeze sorting array.

Mon Aug 24 18:46:44 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* dln.c (dln_find_1): path check was too strict.

Mon Aug 24 15:28:11 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* parse.y (f_arglist): opt_nl added after f_args.

Fri Aug 21 01:06:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c: grand renaming on socket.c.

	* ext/socket/socket.c (inet_aton): supply inet_aton for those
	  systems that do not have it.

	* ext/socket/socket.c (setipaddr): use inet_aton instead of
	  inet_addr.

	* ext/socket/socket.c (tcp_s_gethostbyname): new method: works
	  like Socket.gethostbyname but returning array contains ip-addrs
	  as octet decimal string format like "127.0.0.1".

	* ext/socket/socket.c (mkhostent): return format changed to
	  [host, aliases, type, ipaddr..]  as documented.

Wed Aug 19 00:31:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_ctl): forgot to place TRAP_END at right position.

Fri Aug 14 11:01:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (call_trace_func): save __FILE__, __LINE__ before
 	  executing trace_func, since trace function should not corrupt
 	  line number information.

Thu Aug 13 15:09:02 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_s_new): was marking unallocated region on GC.

Tue Aug 11 11:57:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c2 released.

Mon Aug 10 14:05:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* process.c (f_system): removed fflush(stdin).

Fri Aug  7 17:44:44 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* error.c (err_snprintf): replace sprintf for fixed sized buffer,
 	  with snprintf to avoid buffer over-run.  For systems which does
	  dot provide snprintf, missing/snprintf.c added.

Wed Aug  5 00:47:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (rb_reg_search): recycle match object.

Mon Aug  3 09:17:55 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_gsub_bang): do not allocate temporary string.

	* string.c (rb_str_sub_bang): use inline replace.

Wed Jul 29 00:36:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (hash_s_new): the default value can be specified.

	* hash.c (hash_default): method to set the default value.

	* hash.c (hash_aref): now returns the default value.

Tue Jul 28 13:03:25 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_s_new): argument to specify initial value is added.

	* array.c (ary_s_new): specifies size, not capacity.

Mon Jul 27 12:39:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_replace): zero fill for expansion gap.

	* regex.c (mbctab_euc): set flags on for 0xA1-0xFE.  suggested by
	  <inaba@@st.rim.or.jp>.

	* string.c (str_inspect): consider current_mbctype.

Sun Jul 26 15:37:11 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* array.c (ary_s_new): Array.new(1<<30) dumps core.

Fri Jul 24 13:40:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c1 released.

Fri Jul 24 02:10:22 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (r_bytes2): allocated buffer size was too short.

	* marshal.c (w_object): saves all options, not only casefold flag.

	* re.c (reg_clone): now copies options properly.

	* re.c (reg_get_kcode): code number was wrong.

Thu Jul 23 13:11:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_attr): argument should be symbol or string.

Wed Jul 22 11:59:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (calculate_must_string): wrong offset added.

Wed Jul 22 11:59:59 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* st.c (rehash): still had a GC problem.  fixed.

Tue Jul 21 13:19:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (gc_mark_threads): crashed on GC before thread allocation.

	* st.c (rehash): GC during rehash caused SEGV.

Tue Jul 21 01:25:10 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (f_sprintf): integer formatter totally re-written.

	* sprintf.c (remove_sign_bits): support uppercase hexadecimal.

Sat Jul 18 00:14:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (f_sprintf): proper sign position for %X and %O.

Fri Jul 17 14:10:20 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c0 released.

Fri Jul 17 08:01:49 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* process.c (f_exec): Check_SafeStr() added.

	* process.c (f_system): Check_SafeStr() moved before fork().

Thu Jul 16 22:58:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (scan_once): substrings to the block should not be
 	  tainted.  use reg_nth_match(), not str_substr().

	* string.c (str_substr): needed to transfer taint.

Thu Jul 16 16:15:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (xmalloc): object allocation count added to GC trigger.

	* eval.c (thread_save_context): avoid marking uninitialized stack
	  in thread_mark.  GC may be triggered by REALLOC_N().

Wed Jul 15 15:11:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_31.

Wed Jul 15 15:05:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_create): exit() and abort() in threads now
 	  forwarded to main_thread.

Tue Jul 14 14:03:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (obj_instance_variables): list names that is not
	  instance variables.

	* gc.c (GC_MALLOC_LIMIT): choose smaller limit value.

Mon Jul 13 12:39:38 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (str2cstr): should not return NULL.

Fri Jul 10 11:51:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (gettable): needed to add dyna_in_block() check.

Thu Jul  9 17:38:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_30.

Thu Jul  9 16:01:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (fmt_setup): format specifier for long needed.

	* sprintf.c (f_sprintf): ditto.

	* numeric.c (fix2str): ditto.

	* eval.c (thread_create): no more ITIMER_REAL.

	* eval.c (thread_create): thread finalization needed before
	  aborting thread if thread_abort is set.

Wed Jul  8 18:17:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (big_pow): abandon power by bignum (too big).

Tue Jul  7 13:58:43 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_catch): add C level catch/throw feature.

Mon Jul  6 15:18:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (arg): proper return values for `||=' and `&&='.

Fri Jul  3 16:05:11 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_29.

Fri Jul  3 11:20:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (r_byte): byte should not extend sign bit.

	* numeric.c (fix_mul): use FIX2LONG() instead of FIX2INT() for
	  64bit architectures.

	* marshal.c (r_bytes): remove weird casting bwetween pointer and int.

	* process.c (proc_setsid): new method Process#setsid().

Thu Jul  2 12:49:21 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (w_object): remove `write_bignum' label for 64bit
 	  architectures.

	* marshal.c (r_bytes): needs int, not long.

Wed Jul  1 14:21:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (flo_plus): should not allow addition with strings.

Wed Jul  1 13:09:01 1998  Keiju ISHITSUKA  <keiju@@rational.com>

	* numeric.c (num_uminus): wrong coerce direction.

Tue Jun 30 10:13:44 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (f_p): accepts arbitrary number of arguments.

	* eval.c (rb_yield_0): there's some case that iterator_p() returns 
	  true even if the_block was not set.  check added.

Tue Jun 30 01:05:20 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (BEGIN_CALLARGS): adjust the_block before evaluating the
	  receiver's value and the arguments.

Fri Jun 26 18:02:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_28.

Fri Jun 26 11:01:26 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* string.c (str_aset_method): needed to convert to string.

Thu Jun 25 02:05:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): optimize for `.*' at beginning of the
	  pattern.

	* regex.c (re_search): optimize for character class repeat at
	  beginning of the pattern.

	* regex.c (re_compile_pattern): detect optimization potential for
	  the compiled patterns.

Thu Jun 25 00:02:26 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* re.c (reg_s_new): flag value was wrong.

Wed Jun 24 23:45:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): wrong anchor handling for reverse search.

Wed Jun 24 02:18:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (mlhs): `((a,b)),c = [[1,2]],3' assigns a=1,b=2,c=3.

Tue Jun 23 11:46:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): `&&=' and `||=' added.

Sat Jun 20 02:53:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (assignable): nesting local variables should have higher
 	  priority than normal local variables for assignment too.

Fri Jun 19 18:28:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_27.

Fri Jun 19 14:34:49 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (assign): support hack for nested multiple assignment.

	* parse.y (mlhs): nested multiple assignment.

	* eval.c (rb_eval): in-block variables now honors static scope.

	* configure.in: RSHIFT check moved to configure.

Thu Jun 18 16:46:04 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_26.

Thu Jun 18 13:37:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (file_s_ftype): uses lstat(2) instead of stat(2).

	* dir.c (dir_s_glob): there can be buffer overrun, check added.

	* eval.c (f_binding): handles in-block variables declared after
	  binding's generation.

	* numeric.c (flo_floor): floor, ceil, round added to Float.

Wed Jun 17 11:20:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (gettable): nesting local variables should have higher
 	  priority than normal local variables.

Tue Jun 16 12:30:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (str2inum): handles `+ddd'.

	* struct.c (make_struct): name parameter can be nil for unnamed
	  structures.

Mon Jun 15 16:30:10 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (class_s_inherited): prohibiting to make subclass of
	  class Class.

	* object.c (module_s_new): support for making subclass of Module.

	* parse.y (yycompile): clear eval_tree before compiling.

Fri Jun 12 17:58:18 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (eval): write back the_dyna_var into the block.

Thu Jun 11 18:19:18 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_25.

	* eval.c (dvar_add_compiling): register dyna_var at compile time.

	* regex.c (re_compile_pattern): RE_DUP_MAX iteration is too big.

Wed Jun 10 15:12:04 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_eof): do not block other threads.

	* signal.c (trap): reserve SIGALRM for thread.

	* eval.c (thread_create): use ITIMER_REAL also to avoid system
	  call blocking.

	* io.c (f_syscall): add TRAP_BEG, TRAP_END around system calls.

	* io.c (io_ctl): add TRAP_BEG, TRAP_END around system calls.

	* enum.c (enum_collect): did not collect false values.

	* array.c (ary_new2): forgot to initialize capa field.

Tue Jun  9 18:36:15 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* string.c (str_split_method): split dumped core for "\xff".

Tue Jun  9 16:22:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_24.

Tue Jun  9 16:04:07 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/kconv/kconv.c (kconv_guess): more precise decision for EUC,
	  using jless algorithm (3 sequential EUC hiragana characters).

Tue Jun  9 15:12:44 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/kconv/kconv.c (kconv_guess): wrong guess for EUC as SJIS in
	  some cases (0xe0 - 0xef).

	* gc.c (xmalloc): insert size check for big (negative in signed)
	  allocation size.

Tue Jun  9 02:54:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/parsedate.rb: wday moved to the last in the return values.

Mon Jun  8 10:40:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_split_method): split dumped core for "\0".

Sat Jun  6 22:50:52 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (calculate_must_string): wrong condition for
	  {start,stop}_nowidth.

	* regex.c (re_match): various features imported from GNU regex.c
 	  0.12, such as nested grouping, avoiding infinite loop with empty
 	  match, etc.

	* regex.c (register_info_type): now use union.

	* regex.c (re_search): more precise anchor(^) check.

Wed Jun  3 18:07:54 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_raise): check rb_in_compile, not rb_in_eval.

Mon Jun  1 05:26:06 1998  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* string.c (trnext): casting to signed char* needed.

Tue Jun  2 16:00:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (udp_addrsetup): error check enhanced.

	* ext/socket/socket.c (sock_s_getservbyaname): use strtoul(), if
	  possible.

Sat May 30 07:10:02 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_prepare_re): no more needless regular expression
 	  recompile on casefold conditions.

Thu May 28 18:02:55 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (nil_plus): no more `+' method for nil.

Wed May 27 17:33:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (hash_fetch): new method.

	* regex.c (re_search): check whether translate table is set.

Tue May 26 11:39:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_23.

	* parse.y (yylex): no UPLUS/UMINUS for 1st argument if
	  parenthesises are omitted.

Tue May 26 01:09:55 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): (?XI) for turns off the
	  corresponding option.

Mon May 25 12:38:56 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): inline i option (?i).

	* regex.c (re_compile_pattern): inline x option (?x).

	* regex.c (re_compile_pattern): x option for regexp.

	* dir.c (dir_s_open): returns block's evaluated value.

	* io.c (f_open): returns block's evaluated value.

	* ext/curses/curses.c (curses_addstr): nil argument caused SEGV.

Fri May 22 11:52:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): push mark on (?:), so that
	  laststart check for {a,b} can be done.

Thu May 21 17:31:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): wrong match (too non-greedy) for `{a,b}?'.

	* io.c (io_lineno): new method IO#lineno, IO#lineno=.

Wed May 20 06:04:43 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* BeOS patch.

Wed May 20 16:32:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (BIGDN): use RSHIFT(), instead of mere `>>'.

Tue May 19 16:36:26 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_22.

Tue May 19 16:31:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (assignable): specification changed for in-block
 	  variable definition.

	* eval.c (dyna_var_asgn): error in in-block variables' compile
 	  time definition.

	* parse.y (str_extend): wrong nesting detection.

Tue May 19 09:47:55 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* numeric.c (num2int): re-defined (extensions may use this).

Mon May 18 16:40:50 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* error.c (get_syserr): BeOS support.

	* configure.in: modified for BeOS.

	* string.c (str_dump): do not call isascii().

	* sprintf.c (remove_sign_bits): forgot to initialize end pointer.

	* glob.c: #include <alloca.h> added.

Mon May 18 14:52:21 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
	
	* experimental release 1.1b9_21.

Mon May 18 03:27:57 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* file.c (file_s_expand_path): optional second argument
	  `default_directory' added.

Sat May 16 22:06:52 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* error.c (RAISE_ERROR): wrong error message

Fri May 15 14:43:25 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_20.

Thu May 14 14:44:21 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* sun4 cc patches for intern.h and regex.h.

Thu May 14 14:03:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* random.c (RANDOM_MAX): guessing proper maximum value for random
 	  numbers.

	* random.c (f_rand): use drand48 if possible.

Wed May 13 19:05:20 1998 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* BeOS patches for io.c, error.c and config.guess.

Wed May 13 14:56:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_19.

	* most of the Mac and BeOS patches merged, except path separators.

	* error.c (err_append): generated SyntaxError was String.

	* ruby.h: xxx2INT, xxx2UINT checks values as int, not long.

	* ruby.h: remove typedef's. INT, UINT, UCHAR, USHORT.

Tue May 12 17:38:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_18.

Tue May 12 11:38:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* error.c (syserr_errno): returns errno of the SystemCallError.

	* error.c (rb_sys_fail): saves errno in the Exception.

	* error.c (set_syserr): no need to protect syserr_list.

	* error.c (rb_sys_fail): no more bufsize limit.

	* error.c (set_syserr): integer value of errno can be accessed by
	  Errno::EXXX::Errno.

Sun May 10 03:10:33 1998  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* io.c (io_tell etc.): moved from File class to IO class.

Fri May  8 12:26:37 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (pack_unpack): should be unsigned int (was signed int).

Thu May  7 16:34:10 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (pack_pack): `V', `N' uses newly created NUM2UINT().

	* ruby.h (NUM2UINT): new macro.

	* bignum.c (big2uint): try to convert bignum into UINT.

	* re.c (reg_match): needed to return false for match with nil.

	* gc.c (obj_free): wrong condition to free string.

Wed May  6 21:08:08 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ruby.c (ruby_process_options): modified for DJGPP.

Wed May  6 15:48:03 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_17.

Wed May  6 01:37:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c: remove global variable `errat'.

	* eval.c (rb_longjmp): embed error position information in the
 	  exception object.

Sat May  2 12:20:02 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_search): supports reverse search.

	* string.c (str_index_method): does update $~ etc.

	* eval.c (f_load): needed to clear the_dyna_vars.

	* eval.c (dyna_var_asgn): do not push dyna_var, which is id == 0.

	* error.c (Init_Exception): NotImplementError is no longer
	  StandardError, which is not handled by default rescue.

Fri May  1 00:35:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (proc_options): `-d' turns on verbose flag too.

	* error.c (exception): last argument may be the superclass of the
	  defining exception(s).

	* io.c (Init_IO): EOFError is now subclass of the IOError.

	* io.c (Init_IO): forgot to define IOError.

	* error.c (Init_Exception): old Exception class renamed to
	  StandardError.  Exception now replaces old GlobalExit.

	* error.c (Init_Exception): Exception is now the root of the
	  Global Exits.  There's no longer GlobalExit class.

	* util.c (ruby_mktemp): check TMP, TMPDIR first.

Thu Apr 30 01:08:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/tk.rb: call 'unknown', if proc not defined.

	* eval.c (handle_rescue): default rescue handles `Exceptional' not 
	  only the instance of the `Exception's.

	* eval.c (f_raise): exception can be any object.

	* time.c (time_gm_or_local): call time_gmtime or time_localtime.

	* eval.c (f_raise): raises TypeError if the class which is not a
	  subclass of String is specified (checked in exc_new()).

	* error.c (exc_new): need to check whether invalid class (not a
	  subclass of String) is specified.

Wed Apr 29 21:05:44 1998  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ruby.c (proc_options): option '-e' via tempfile.

Tue Apr 28 15:27:58 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_16.

Tue Apr 28 00:07:38 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (obj_is_proc): type check predicate.

	* eval.c (obj_is_block): ditto.

Mon Apr 27 16:59:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/gtk/gtk.c (Init_gtk): use timeout, not idle to avoid
	  comsuming CPU too much.

	* lib/tk.rb: use tcltklib#_invoke instead of `_eval'.

Mon Apr 27 16:59:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_sort): use dup, not clone.

Mon Apr 27 13:46:27 1998  Tadahiro Maebashi  <maebashi@@iij.ad.jp>

	* ext/tcltklib/tcltklib.c (ip_invoke): invoke tcl command
	  directly.  need not worry about escaping tcl characters.

Mon Apr 27 12:04:43 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* random.c (f_rand): do not call srand() implicitly.

Fri Apr 24 14:35:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_15.

	* parse.y (assignable): dyna_var_asgn actually defines nested
	  local variables in outer context.

	* random.c (f_rand): call srand(), if it has not called yet.

	* random.c (f_srand): use tv_usec as the default seed.

	* eval.c (rb_eval): values of nested local variables should be
 	  independent.

	* eval.c (rb_yield_0): local variables wrong nested conditions.

Wed Apr 22 23:27:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (select_get_io): get IO object by `to_io'.

	* io.c (io_to_io): method to retrieve IO object, from delegating
 	  object for example.

Wed Apr 22 16:52:37 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_14.

	* string.c (str_modify): check for embedded pointer reference.

	* gc.c (obj_free): ditto.

	* pack.c (pack_pack): p/P template to embed pointers.

Wed Apr 22 00:07:10 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* array.c (ary_rindex): embarrassing typo.

Tue Apr 21 12:31:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_13.

	* configure.in (RUBY_LIB): supports --program-{prefix,suffix}.

	* array.c (ary_rindex): new method.

	* io.c (io_binmode): should return self.

Tue Apr 21 08:23:04 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* parse.y (here_document): calling parse_string with wrong
	  arguments.

	* struct.c (struct_aset): problem member assignment with name.

Mon Apr 20 14:47:49 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_12.

	* time.c (time_arg): args may be string (support for reduced
	  implicit type conversion).

	* lib/base64.rb: changed to use pack/unpack with `m' template.

Mon Apr 20 06:23:20 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (mod_remove_const): new method.

Sat Apr 18 03:53:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (hash_each_with_index): removed.  use Enumerable's
	  each_with_index instead.

	* class.c (rb_include_module): check for super modules, since
 	  module's included modules may be changed.

Fri Apr 17 21:50:47 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* marshal.c (r_long): r_byte() may return signed byte.

Fri Apr 17 11:58:30 1998  NAGAI Hidetoshi  <nagai@@dumbo.ai.kyutech.ac.jp>

	* ext/tcltklib/tcltklib.c (lib_mainloop): thread and interrupt check.

Fri Apr 17 11:06:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (find_file): try to fopen() to check whether file exists.

	* ruby.c (load_file): ditto.

	* struct.c (struct_aset): struct member can be set by member name.

Fri Apr 17 00:47:19 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/extmk.rb.in: added m68k-human support

	* file.c (LOCK_SH): defines moved.

	* array.c (ary_flatten_bang): simplified loop.

Thu Apr 16 16:52:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_11.

	* lib/tk.rb: thread support (experimental - maybe slow).

	* eval.c (rb_longjmp): trace event on exception in raising
 	  context, just before raising exception.

	* struct.c (struct_s_members): forgot to check singletons.

	* struct.c (struct_aref): members can be accessed by names too.

	* array.c (ary_flatten): new method.

	* eval.c (rb_longjmp): prints exception information with `-d'.

	* object.c (any_to_s): remove class name restriction.

Thu Apr 16 01:38:02 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (thread_flock): do not block other threads.

	* eval.c (thread_trap_eval): signals are now delivered to the
 	  current thread again.  In case that the current thread is dead,
 	  signals are forwarded to the main thread.

	* string.c (str_new4): need not to duplicate frozen strings.

Wed Apr 15 08:33:47 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* struct.c (struct_inspect): remove restriction for struct names.

Wed Apr 15 02:55:02 1998  Kazuya 'Sharl' Masuda  <sharl@@www.ufo.co.jp>

	* x68 patches to config.sub, ext/extmk.rb.in

Wed Apr 15 01:22:56 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_dup_frozen): do not duplicate frozen strings.

	* parse.y (yylex): allow nested parenthesises.

	* io.c (obj_displayln): prints newline after `display'ing the
	  receiver.

	* io.c (io_puts): avoid generating "\n" each time.  use RS_default
 	  instead.

	* io.c (f_p): ditto.

Tue Apr 14 22:18:17 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* struct.c (struct_aref): should not subtract negative index.

Tue Apr 14 11:34:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_10.

	* parse.y: token names prefixed by `t'.

	* struct.c (struct_s_def): supports subclassing of Struct.

	* io.c (io_s_new): supports subclassing of IO.

Mon Apr 13 11:07:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (f_binding): need to restore method name.

	* eval.c (rb_call0): raises SystemStackError, not Fatal.

	* io.c (obj_display): same as `print self'.

	* io.c (f_p): can now be called in the method form.

	* re.c (reg_regsub): needed to be mbchar aware.

Mon Apr 13 13:18:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_trap_eval): all signals delivered to main_thread.

Mon Apr 13 12:47:03 1998  TAKAHASHI Masayoshi  <maki@@inac.co.jp>

	* re.c (kcode_set_option): did not set SJIS on SJIS condition.

Sun Apr 12 22:14:07 1998  Kazunori NISHI  <kazunori@@swlab.csce.kyushu-u.ac.jp>

	* array.c (ary_uniq_bang): should be `==', not `='. embarrassing.

Sat Apr 11 02:13:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_subseq): SEGVed for `[][1,1]'.

Fri Apr 10 21:29:06 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* array.c (ary_subseq): add check for beg larger than array length.

Wed Apr  8 17:24:11 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* dir.c (dir_s_open): can be called with block (like IO#open).

	* dir.c (dir_s_chdir): print directory path on error.

	* dir.c (dir_s_chroot): ditto

	* dir.c (Init_Dir): needed to override `new'.

Thu Apr  9 18:24:58 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_09.

	* string.c (str_cmp): do not depend on sentinel at the end of the
	  strings. 

	* string.c (str_chomp_bang): forgot to set the sentinel.

Wed Apr  8 00:59:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (big2int): converted int may be too big to fit in
	  signed int.

	* parse.y (arg): `foo += 1' should not cause an error.

	* variable.c (rb_const_defined): returned false even if the
	  constant is defined at the top level.

	* eval.c (f_local_variables): dyna_var->id may be null.  should
	  have checked before calling str_new2().

Tue Apr  7 01:15:15 1998  Kaneko Naoshi  <wbs01621@@mail.wbs.or.jp>

	* re.c (reg_regsub): need to check string boundary.

Tue Apr  7 19:19:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_cmp): returns either 1, 0, -1.

	* array.c (ary_cmp): should check array length, too

Tue Apr  7 18:50:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_08.

Tue Apr  7 18:31:27 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* instruby.rb (mandir): dll installation for cygwin32

Tue Apr  7 01:16:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* config.sub (maybe_os): TOWNS support?

	* config.guess: too strict check for libc versions on linuxes.

	* experimental release 1.1b9_07.

	* array.c (ary_cmp): compare each element using `<=>'.

	* hash.c (hash_each_with_index): yields [value, key] pair.

	* class.c (class_protected_instance_methods): list protected
	  method names.

	* class.c (ins_methods_i): exclude protected methods.

	* eval.c (PUSH_BLOCK): dynamic variables can be accessed from
 	  eval() with bindings.

Mon Apr  6 14:49:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_yield): must return evaluated value.

Fri Apr  3 13:07:29 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_schedule): context switch bypassed on wrong
	  conditions.

	* variable.c (rb_name_class): set classname by id before String
 	  class is initialized (1.0 behavior restored).

Fri Apr  3 11:25:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (num2int): no implicit conversion from string.

	* numeric.c (num2int): check whether `to_i' returns an Integer.

	* numeric.c (num_zero_p): new method.

	* numeric.c (num_nonzero_p): new method.  returns the receiver if
 	  it's not zero.

	* eval.c (obj_instance_eval): the_class should be the object's
	  singleton class.

	* error.c (exc_s_new): message is converted into a string.

Thu Apr  2 18:31:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (obj_call_init): every object call `initialize'.

Wed Apr  1 08:51:53 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* parse.y (stmt): UNTIL_MOD should be for stmt, not only for expr.

Wed Apr  1 01:20:31 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (true_and): boolean operators &, | and ^.

Tue Mar 31 13:23:58 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_compact_bang): returns nil, if it does not modify
	  the array like String's bang methods.

	* array.c (ary_uniq_bang): new method to remove duplicate items.

	* eval.c (bind_s_new): new method.

	* numeric.c (num2int): raise exception if Fixnums too big to
 	  convert into `int' in case that sizeof(int) < sizeof(INT).

	* string.c (str_center): SEGV on negative width.

	* eval.c (eval): forgot to set sourcefile.

Mon Mar 30 11:12:29 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (f_test): raises exception for unkown command.

	* eval.c (Init_eval): `class_eval': alias to the module_eval.

Mon Mar 30 18:50:42 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* string.c (str_capitalize_bang): did not check string modification.

	* string.c (str_delete_bang): wrong conversion.

	* string.c (str_intern): typo in error message.

Mon Mar 30 01:44:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (obj_instance_eval): accepts block as evaluation body.
	  No compilation needed each time.

	* eval.c (mod_module_eval): ditto

	* file.c (file_s_umask): umask did not return old values, if no
 	  argument given.

Sun Mar 29 00:54:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (f_throw): nil returned always.

Sat Mar 28 20:40:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_06.

Sat Mar 28 16:07:11 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* io.c (io_closed): should not cause exception fot closed IO.

	* string.c (str_tr): returned nil for success.

Sat Mar 28 00:47:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (f_local_variables): new method to return an array of
 	  local variable names.

	* variable.c (obj_instance_variables): now returns an array of
	  variable names, as described in the reference.

	* eval.c (rb_attr): honors default method visibility of the
	  current scope.

Fri Mar 27 13:49:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_05.

	* ruby.c (ruby_prog_init): `site_ruby' added to load_path.

	* ruby.c (ruby_prog_init): load-path order changed.  Paths in
 	  the RUBYLIB environment variable comes first in non-tainted
 	  mode.

Thu Mar 26 11:51:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_call): new feature: `protected' methods.

	* string.c (str_dump): new method.

	* eval.c (block_pass): block argument can be nil, which means no
	  block is supplied for the method.

Wed Mar 25 21:20:13 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* string.c (str_reverse_bang): string copied to wrong place.

Wed Mar 25 08:12:07 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (flo_modulo): caused SEGV if left operand is not a
 	  float value.

	* eval.c (f_eval): optional third and fourth argument to specify
	  file-name and line-number.

	* eval.c (eval): file-name and line-number set properly.

	* parse.y (assign_in_cond): literal assignment is now warning, not 
	  compile error.

	* error.c (Warn): Warn() always print message, OTOH Waring()
	  prints when verbose flag is set.

Tue Mar 24 12:50:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (ruby_prog_init): `.' should come last in the load-path.

	* eval.c (Init_eval): `__send__', alias for `send'.

Mon Mar 23 12:44:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_chomp_bang): now takes `rs' as an argument.

	* eval.c (thread_free): main_thread should not be freed.

Fri Mar 20 16:40:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_chomp_bang): chomp! (and other ! methods) returns
 	  nil if it does not modify the string.

	* string.c (str_sub_iter_s): should check last pattern since it
 	  may be matched to null.

Thu Mar 19 13:48:55 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_04.

	* parse.y (yylex): `10e0.9' should cause syntax error.

Wed Mar 18 17:46:31 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (load_file): new file object constant DATA.  Only
	  available for the script from the file.

	* regex.c (re_match): forwading failure point popped too much. 

Tue Mar 17 18:23:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* math.c (math_frexp): newly added.

	* math.c (math_ldexp): ditto.

	* bignum.c (bigdivmod): calculates modulo.

	* numeric.c (fix_remainder): returns reminder, formerly introduced
 	  as modulo.

	* numeric.c (fix_modulo): calculates proper `modulo'.

	* bignum.c (bigdivmod): wrong sign for reminder.

Mon Mar 16 17:07:28 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_03.

Mon Mar 16 16:33:53 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* io.c (pipe_finalize): needed to add pipe_finalize to pipes on
	  cygwin32.

Mon Mar 16 14:11:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (ins_methods_i): needed to consider NOEX_UNDEF.

Mon Mar 16 13:23:53 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* io.c (io_check_closed): check for `fptr->f2 == NULL'.

	* io.c (io_fptr_close): ditto.

Mon Mar 16 11:49:25 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (pipe_atexit): free()ing referencing pipe_list.

	* range.c (range_length): returns zero, if the first is greater
	  than the last.

	* signal.c (trap_restore_mask): restore signal mask before raising 
	  exceptions and throws.

Fri Mar 13 13:49:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_02.

	* object.c (mod_clone): need to dups constants and instance
	  variables.

	* eval.c (rb_eval): forgot to initialize body for NODE_DEFS.

	* eval.c (rb_eval): retrieve self from calling frame, since self
	  changes sometimes.

	* env.h (FRAME): need to save self in the calling frame.

	* io.c (f_gets_method): rs should be initialized by RS.

Thu Mar 12 15:33:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_01.

	* range.c (range_s_new): check values by `first <= last'.

	* parse.y (lastline_set): fixed offset for $_ and $~ in the local
	  variable space.

Wed Mar 11 02:14:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_gets): handle normal case specially for speed.

	* eval.c (rb_disable_super): function to disable superclass's
	  method explicitly.

	* eval.c (rb_eval): inherits previous method definition's
	  NOEX_UNDEF-ness, if exists.

	* class.c (rb_define_method): disables superclass's overriding
 	  method by default.

Wed Mar 11 01:40:48 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* numeric.c (flo_gt,etc.): do not depend on `<=>', to handle NaN.

Tue Mar 10 00:03:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (load_file): understands multiple options in #! line.

	* regex.c (re_compile_pattern): support for [:alpha:] etc.

Mon Mar  9 16:53:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.h (GetOpenFile): embed io_check_closed in GetOpenFile.

	* sprintf.c (f_sprintf): zero padding failed for negative
	  integers.

	* sprintf.c (remove_sign_bits): failed to remove some bits.

Sat Mar  7 21:51:46 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* class.c (ins_methods_i): body may be NULL for some case.

Fri Mar  6 17:23:07 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (mbcinit): table driven mbchar detection.

	* object.c (obj_alloc): check for allocating instance for the
	  primitive classes (mostly perfect).

	* ext/curses/curses.c (curses_finalize): restore original state at 
	  interpreter temination.

	* ext/curses/curses.c (curses_addstr): forgot to check argument
	  type (caused SEGV).  now uses STR2CSTR() macro.

Thu Mar  5 13:47:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (block_pass): accepts method object as block args.

	* eval.c (f_missing): use any_to_s() for stringify.

Wed Mar  4 01:39:52 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (block_arg): new syntax - block argument in the
	  calling arglist.

	* eval.c (rb_call): no module search. simplified a lot.

	* eval.c (rb_eval): block arg support.

	* parse.y (f_block_arg): new syntax - block argument in the
 	  formal arglist.

Tue Mar  3 14:20:15 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (obj_method): returns bound method object.

	* eval.c (rb_call): argument check for empty methods.

	* ruby.h (NUM2CHR): new macro, originally from curses module.

Tue Mar  3 13:03:35 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* io.c (io_putc): new method.

Tue Mar  3 11:21:28 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_inspect): more strict charcode detection.

	* eval.c (thread_stop): stopping only thread raises ThreadError
	  exception.

Tue Mar  3 08:04:56 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* struct.c (struct_alloc): imcomplete struct initialization made
 	  GC to access unallocated addresses.

Mon Mar  2 16:28:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_stop_method): remove Thread#stop.

Fri Feb 27 18:16:26 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b9 released.

Fri Feb 27 09:36:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (hash_delete_nil): needed to compare value to nil, since
	  nil is the valid key for hashes.

	* hash.c (hash_foreach_iter): rehashing causes IndexError.

	* hash.c (hash_foreach_iter): rehash check by pointer comparison.

Thu Feb 26 17:22:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (fname): convert reswords into symbols.

	* parse.y (reswords): reserved words are now embedded in the
 	  syntax (sigh).

	* parse.y: now reserved words can be method names safely.

Wed Feb 25 15:50:07 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (mod_module_eval): clear the_scope's PRIVATE flag before
	  calling eval().

	* gc.c (gc_call_finalizer_at_exit): run finalizers before any data 
	  object being freed.

	* eval.c (rb_eval): needed to keep prot_tag->retval before
	  evaluating the ensure clause.

Tue Feb 24 11:16:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): reserved words can be appear as method names at
 	  right after 'def' and `.'(dot), like foo.next.

	* eval.c (return_check): checks for return out of thread (formerly
 	  done in return_value).

	* eval.c (POP_TAG): copy retval to outer level.

	* eval.c (return_value): just set retval, no check, no unwinding.

	* parse.y (nextc): line continuation by backslash at end of line.

	* regex.c (re_compile_pattern): forgot to clear pending_exact on
	  closing parentheses.

	* parse.y (assignable): should not assign dyna_var to true, if it
 	  is already defined.

Mon Feb 23 14:35:03 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (obj_is_kind_of): no longer accepts true/false/nil.

	* object.c ({true,false,nil}_to_i): can be converted into integers.

Mon Feb 23 12:11:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_s_quote): needed to be mbchar aware.

	* eval.c (proc_s_new): wrong iter mark.

Sat Feb 21 22:59:30 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* io.c (f_syscall): no argument check.

Fri Feb 20 10:17:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b8 released.

	* ext/kconv/kconv.c (kconv_kconv): default output code now be
	  determined according to the value of $KCODE.

	* re.c (rb_get_kcode): can retrieve $KCODE from C code. 

	* parse.y (stmt): if/unless modifiers returns nil, if condition is 
	  not established.

Thu Feb 19 11:06:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/kconv/kconv.c (kconv_kconv): charcode can be specified by
	  code name (JIS, SJIS, EUC like value of $KCODE).

	* regex.c (re_compile_pattern): forgot to fixup_jump for (?:..).

	* regex.c (re_compile_pattern): needed to clear pending_exact on
	  non-registering grouping (?:...).

Wed Feb 18 19:54:21 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (here_document): needed to set lex_state to EXPR_END.

Wed Feb 18 18:45:10 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* patches for cygwin32 applied.

Wed Feb 18 00:41:31 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_sub_s): needed to be mbchar aware to increment one
 	  character.

	* regex.c (re_match): \Z matches newline just before the end of
	  the string.

Tue Feb 17 00:04:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_arg): Time.gm and Time.local now understands
 	  Time#to_a format.

	* string.c (str_sub_s): replace happened twice for null pattern.

	* regex.c (re_search): null pattern should not match after newline 
	  at the end of string.

	* time.c (time_isdst): now returns boolean value.

	* error.c (rb_check_type): treat special constants in messages.

	* parse.y (yylex): new form `::Const' to see toplevel constants.

	* parse.y (cond): SEGV on `if ()'.

	* gc.c (obj_free): some data needed explicit free().

Mon Feb 16 23:55:40 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (blk_free): release duplicated block informations.

	* eval.c (blk_copy_prev): duplicate outer block information into
 	  the heap, when proc/binding created.

Mon Feb 16 14:38:25 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_mon): now 1 for January and so on.

	* time.c (time_year): year in 19xx (no + 1900 needed anymore).

Mon Feb 16 13:28:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): need to fetch mbchar's second byte
 	  without translation.

Mon Feb 16 12:29:27 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* eval.c (f_pass_block): pass iterator block to other method.

Fri Feb 13 08:16:11 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (parse_regx): handle \s before read_escape().

	* parse.y (read_escape): `\s' in strings as space.

Tue Feb 10 17:29:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b7 released.

	* string.c (str_aset): string insertion by `str[n] = str2'.

	* string.c (str_oct): does recognize `0x'.

 	* sprintf.c (f_sprintf): use baes 10 for conversion from string to
 	  integer.

Mon Feb  9 14:51:56 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (do_coerce): proper error message.

	* string.c (str_sum): bug - masked by wrong value. (sigh..)

Sat Feb  7 15:11:14 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_empty): new method

Fri Feb  6 01:42:15 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_asctime): use asctime(3), not strftime(3).

Thu Feb  5 18:58:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_fptr_close): do not free path on close().

	* array.c (ary_filter): new method.

	* enum.c (enum_each_with_index): new method.

Thu Feb  5 14:10:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (primary): singleton class def can be appeared inside
 	  method bodies.

	* hash.c (hash_replace): replace content.

	* string.c (str_replace_method): replace content.

	* array.c (ary_replace_method): replace elements.

	* string.c (str_succ_bang): String#succ!

Thu Feb  5 18:20:30 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* string.c (str_upcase_bang): multi byte character support.

Wed Feb  4 13:55:26 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_reverse): SEGV on empty array reverse.

Tue Feb  3 12:24:07 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (match_to_a): non matching element should be nil.

	* ruby.c (ruby_load_script): load script after all initialization.

	* bignum.c (str2inum): need to interpret prefix `0' of `0x'.

Tue Feb  3 10:00:18 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* numeric.c (fix_rshift): use `sizeof(INT)*8' instead of 32.

Mon Feb  2 14:09:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (set_arg0): grab environment region too.

Thu Jan 29 18:36:25 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* process.c (rb_proc_exec): check `sh' to be exist.

Thu Jan 29 18:18:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_stdio_set): assignment to $stdin or $stdout does
	  reopen() as well as $stderr.

Thu Jan 29 14:18:40 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (mod_ancestors): should not include singleton classes.

	* object.c (obj_type): should not return internal class.

	* io.c (io_reopen): unwillingly closes stdio streams.

Thu Jan 29 11:50:35 1998  Toshihiko SHIMOKAWA  <toshi@@csce.kyushu-u.ac.jp>

	* ext/socket/socket.c (udp_addrsetup): forgot to use htons().

Tue Jan 27 23:15:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* keywords: __FILE__, __LINE__ are available again.

Fri Jan 23 14:19:28 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b6 released.

	* object.c (mod_to_s): need to duplicate classpath.

	* error.c (exc_inspect): need to duplicate classpath.

Thu Jan 22 00:37:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.h (STR2CSTR): new macro to retrieve char*.

	* class.c (rb_define_method): `initialize' should always be
	  private, even if it defined by C extensions.

	* eval.c (rb_eval): `initialize' should always be private.

Thu Jan 22 16:21:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): some singleton class def cause SEGV.

	* eval.c (TMP_ALLOC): replace ALLOCA_N, where thread context
 	  switch may happen.

Wed Jan 21 01:43:42 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (PUSH_FRAME): do not use ALLOCA_N().  crash on some
	  platforms that use missing/alloca.c.

	* regex.c (re_compile_pattern): too many pops for non register
	  subexpr.

	* parse.y (yylex): open parentheses after identifiers are argument 
	  list, even if whitespaces have seen.

Tue Jan 20 15:19:59 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (terms): quoted word list by %w(a b c).

	* ext/tcltklib/extconf.rb: more accurate check for tcl/tk libs.

	* file.c (rb_stat): most of the FileTest methods (and function
 	  `test') accept File objects as the argument.

Tue Jan 19 18:19:24 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/extmk.rb.in (install): there should be no newline after install:

	* re.c (MIN): renamed from min().  there's a local variable named
 	  min in the file, so that some cpp will raise an error.

Mon Jan 19 16:30:05 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b5 released.

	* process.c (rb_syswait): no exception raised.

a28 2

	* version 1.1b4 released.
@


1.1.1.3.2.1
log
@990126
@
text
@a0 10
Tue Jan 26 02:40:41 1999  GOTO Kentaro  <gotoken@@math.sci.hokudai.ac.jp>

	* prec.c: Precision support for numbers.

Thu Jan 21 19:08:14 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_f_raise): calls `exception' method, not `new'.

	* error.c (exc_exception): renamed from `new'.

@


1.1.1.3.2.2
log
@990127
@
text
@a0 8
Wed Jan 27 03:16:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_mod_const_at): can't list constants of the
	  untainted objects in safe mode.

	* class.c (method_list): can't list methods of untainted objects
	  in safe mode.

@


1.1.1.3.2.3
log
@990128
@
text
@a0 5
Wed Jan 27 17:50:02 1999  Kazuhiro HIWADA  <hiwada@@kuee.kyoto-u.ac.jp>

	* bignum.c (dbl2big): raised error if double is too big to cast
	  into long.  check added.

@


1.1.1.3.2.4
log
@990201
@
text
@a0 64
Mon Feb  1 10:01:17 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* parse.y (yylex): range check for the float literal.

Sat Jan 30 18:34:16 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (usage): -h option to show brief command description.

Sat Jan 30 08:45:16 1999  IKARASHI Akira  <ikarashi@@itlb.te.noda.sut.ac.jp>

	* lib/cgi-lib.rb: cookie support added.

Sat Jan 30 13:38:24 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): mbchars should match with \w
	  within character classs.  Was matching with \W.

	* regex.c (re_match): \w should match with multi byte characters,
	  not its first byte.

Sat Jan 30 10:06:41 1999  Yoshida Masato  <yoshidam@@yoshidam.net>

	* re.c (rb_reg_s_new): UTF-8 flag handle (/u, /U).

	* re.c (rb_kcode): $KCODE handle for UTF-8.

Sat Jan 30 01:51:16 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_delete_if): RTEST() missing.

	* hash.c (delete_if_i): ditto.

	* enum.c (Init_Enumerable): select (=find_all), detect (=find)
	  added as aliases.

Fri Jan 29 21:32:19 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* hash.c (rb_f_setenv): SEGV caused by small typo.

Fri Jan 29 00:15:58 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/parsedate.rb (parsedate): support date format like
	  23-Feb-93, which is required by HTTP/1.1.

	* variable.c (find_class_path): avoid calling rb_iv_set().

	* eval.c (backtrace): do not need to modify $SAFE internally.

	* variable.c (classname): inline __classid__ access.

	* eval.c (THREAD_ALLOC): needed to initialize wrapper.

	* lib/ftools.rb (makedirs): allows slash at the end of the path.

	* numeric.c (rb_fix_induced_from): ensure result to be Fixnum.

Thu Jan 28 17:31:43 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (flo_to_s): float format changed to "%16.10g".

Thu Jan 28 02:13:11 1999  Yoshinori Toki  <toki@@freedom.ne.jp>

	* array.c (rb_ary_store): expand allocated buffer by 3/2.

@


1.1.1.3.2.5
log
@990203
@
text
@a0 23
Tue Feb  2 23:41:42 1999  Yoshida Masato  <yoshidam@@yoshidam.net>

	* regex.c (re_match): wrong boundary.

	* regex.c (IS_A_LETTER): re_mbctab[c] may not be 1 for mbc.

	* regex.c (re_search): mbchar support for shifting ranges.

	* regex.c (MBC2WC): wrong conversion.

Wed Feb  3 15:03:16 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (parse_regx): need to escape parens if terminators are
	  not any kind of parenthesis.

	* parse.y (parse_qstring): ditto.

	* parse.y (parse_string): ditto.

Tue Feb  2 17:11:26 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* string.c (rb_str_gsub_bang): too small realoc condition.

@


1.1.1.3.2.6
log
@990205
@
text
@a0 35
Fri Feb  5 03:26:56 1999  Yasuhiro Fukuma  <yasuf@@big.or.jp>

	* ruby.c (proc_options): -e without program prints error.

Fri Feb  5 00:01:50 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (terms): needed to clear heredoc_end.

	* numeric.c (flo_div): allow float division by zero.

Thu Feb  4 11:56:24 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* missing/strtod.c: for compatibility.

	* configure.in (strtod): add strtod compatible check.

	* numeric.c (rb_num2long): missing/vsnprintf.c does not supprt
	  floating points.

	* numeric.c (flo_to_s): ditto.

Wed Feb  3 23:02:12 1999  Yoshida Masato  <yoshidam@@yoshidam.net>

	* regex.c (re_compile_pattern): use ismbchar() to get next char.

	* regex.c (re_search): wrong mbchar shift.

	* re.c (rb_reg_search): needed to reset $KCODE after match.

	* regex.c (re_compile_fastmap): mbchars should match with \w.

Wed Feb  3 22:35:12 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* parse.y (yylex): too big float raise warning, not error.

@


1.1.1.3.2.7
log
@990209
@
text
@a0 36
Tue Feb  9 01:22:49 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): do not ignore newlines in mbchars.

	* io.c (rb_file_s_open): mode can be specified by flags like
	  open(2), e.g. File::open(path, File::CREAT|File::WRONLY).

	* io.c (rb_f_open): bit-wise mode flags for pipes

	* io.c (Init_IO): bit flags for open.

Sat Feb  6 22:56:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_sub_bang): should not overwrite match data by
	  regexp match within the block.

	* string.c (rb_str_gsub_bang): ditto.

Sat Feb  6 03:06:17 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (match_getter): accessng $~ without matching caused SEGV.

Fri Feb  5 22:11:08 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* parse.y (yylex): binary literal support, like 0b01001.

	* parse.y (yylex): octal numbers can contain `_'s.

	* parse.y (yylex): warns if non-octal number follows immediately
	  after octal literal.

	* parse.y (yylex): now need at least one digit after prefix such
	  as 0x, or 0b.

	* bignum.c (rb_str2inum): recognize binary numbers like 0b0101.

@


1.1.1.3.2.8
log
@*** empty log message ***
@
text
@a0 16
Wed Feb 10 15:20:03 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): empty pattern should not cause infinite
	  pattern match loop.

	* regex.c (re_compile_pattern): RE_OPTIMIZE_ANCHOR for /.*/, not
	  for /(.|\n)/.

	* numeric.c (fix_pow): `fixnum**nil' should raise TypeError.

	* bignum.c (rb_big_pow): need to normalize results.

Wed Feb 10 01:42:41 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* numeric.c (fix_pow): `(5**1).type' should be Integer.

@


1.1.1.3.2.9
log
@990212
@
text
@a0 32
Fri Feb 12 16:16:47 1999  Yasuhiro Fukuma  <yasuf@@big.or.jp>

	* string.c (rb_str_inspect): wrong mbc position.

Fri Feb 12 16:21:17 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_fd_close): 

	* io.c (rb_io_fptr_close): tell scheduler that fd is closed.

	* io.c (rb_io_reopen): ditto.

	* io.c (READ_CHECK): check if closed after thread context switch.

	* ext/socket/socket.c (bsock_close_read): do not check
	  the return value from shutdown(2).

	* ext/socket/socket.c (bsock_close_write): ditto.

	* ext/socket/socket.c (sock_new): need to dup(fd) for close_read
	  and close_write.

	* parse.y (here_document): handle newlines within #{}.

	* regex.h: should replace symbols for ruby.

Fri Feb 12 00:46:28 1999  Shugo Maeda  <shugo@@netlab.co.jp>

	* marshal.c (r_object): should update the method name in message.

	* marshal.c (w_object): limit should be converted into Fixnum.

@


1.1.1.3.2.10
log
@990215
@
text
@a0 16
Mon Feb 15 15:48:30 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* configure.in: specify `-Wl,-E' only for GNU ld.

Mon Feb 15 11:43:22 1999  GOTO Kentaro  <gotoken@@math.sci.hokudai.ac.jp>

	* array.c (rb_inspecting_p): should return Qfalse.

Sun Feb 14 22:36:40 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* sprintf.c (rb_f_sprintf): `%G' was ommited.

Sat Feb 13 01:24:16 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_create_0): should protect th->thread.

@


1.1.1.3.2.11
log
@990224
@
text
@a0 124
Tue Feb 23 14:21:41 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): warn if identifier! immediately followed by `='.

Tue Feb 23 12:32:41 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* eval.c (rb_load): tilde expandion moved to find_file.

	* eval.c (find_file): tilde expandion added.

Tue Feb 23 10:50:20 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (require_method): require can handle multiple fnames.

	* hash.c (rb_hash_foreach_iter): hash key may be nil.

Mon Feb 22 17:44:02 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): should not pop failure point on success for
	  non-greedy matches.

	* io.c (Init_IO): remove global_functions getc, readchar, ungetc,
	  seek, tell, rewind.

Sat Feb 20 22:54:26 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (rb_num2long): no implicit conversion from boolean.

Sat Feb 20 09:58:42 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* numeric.c (flo_to_s): portable Infinity and NaN support.

Sat Feb 20 07:13:31 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* io.c (rb_file_sysopen): forgot to initialize a local variable.

Fri Feb 19 23:05:07 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_subseq): range check changed.

	* marshal.c: increment MARSHAL_MINOR for Time format change.

	* time.c (time_old_load): support old marshal format.

	* time.c (time_load): changed for new format Y/M/D/h/m/s/usec.

	* time.c (time_dump): marshal dump format has changed.

Fri Feb 19 00:25:57 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_arg): should reject "sep\0" and such.

	* time.c (time_plus): Time#+ should not receive Time object
	  operand.

	* string.c (rb_str_substr): nagative length raises exception now.

	* array.c (beg_len): if end == -1, it points end of the array.

	* array.c (rb_ary_subseq): nagative length raises exception now.

Thu Feb 18 20:57:04 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* time.c (rb_strftime): strftime() may return 0 on success too.

	* time.c (time_strftime): `\0' within format string shoule not be
	  ommited in the result.

	* time.c (rb_strftime): zero length format.

	* time.c (time_to_a): yday start with 1 now.

	* time.c (time_zone): support for long timezone name.

	* time.c (time_yday): yday start with 1 now.

	* time.c (time_minus): minus calculation was wrong.

	* time.c (time_minus): sec, usec should be at least `long', maybe
	  they should be `time_t'.

	* time.c (time_plus): addition with float was wrong.

	* time.c (time_to_s): support for long timezone name.

	* time.c (time_gm_or_local): too far future check moved.

	* time.c (time_arg): treat 2 digit year as 69-99 => 1969-1999,
	  00-68 => 2000-2068

Thu Feb 18 03:56:47 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* missing/fnmatch.c: moved to missing directory.

Wed Feb 17 16:22:26 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* struct.c (rb_struct_alloc): actual initialization now be done in
	  `initialize'.

Wed Feb 17 09:47:15 1999  okabe katsuyuki  <hgc02147@@nifty.ne.jp>

	* regex.c (re_search): use mbclen() instead of ismbchar().

	* re.c (rb_reg_s_quote): should handle mbchars properly.

Wed Feb 17 01:25:26 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): stop comment concatenation by backslash follows
	  after >= 0x80 char.  may cause problem with Latin chars.

	* eval.c (error_print): exception in rb_obj_as_string() caused
	  SEGV. protect it by PUSH_TAG/POP_TAG.

	* error.c (exc_exception): `Exception#exception' should return self.

Wed Feb 17 01:12:22 1999  Hirotaka Ichikawa  <hirotaka.ichikawa@@tosmec.toshiba.co.jp>

	* configure.in: BeOS patch.

Tue Feb 16 14:25:00 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): should reallocate mbc space for
	  character class unless current_mbctype is ASCII.

a11 9

Sun Feb 14 12:47:48 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* numeric.c (Init_Numeric): allow divide by zero on FreeBSD.

	* numeric.c (Init_Numeric): FloatDomainError added.

	* configure.in (AC_REPLACE_FUNCS): add checks for functions
	  insinf, isnan, and finite.
@


1.1.1.3.2.12
log
@990225
@
text
@a0 35
Thu Feb 25 12:50:25 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (make_time_t): add `future check' in loops.

	* object.c (rb_num2dbl): forbid implicit conversion from nil, or
	  strings.  thus `Time.now + str' should raise error.

	* object.c (rb_Float): convert nil into 0.0.

	* object.c (rb_Integer): conversion method improved.

Thu Feb 25 03:27:50 1999  Shugo Maeda  <shugo@@netlab.co.jp>

	* eval.c (rb_call): should handle T_ICLASS properly.

Thu Feb 25 00:04:00 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* error.c (Init_Exception): global function Exception() removed.

	* variable.c (rb_class2name): returns "nil"/"true"/"false" for them.

	* time.c (time_dump): time marshaling format compressed size from
	  11 bytes to 8 bytes.  thanx to tadf@@kt.rim.or.jp.

	* eval.c (rb_obj_call_init): should specify arguments explicitly.

Wed Feb 24 15:43:28 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): comment concatenation requires preceding space
	  before backslash at the end of line.

	* io.c (rb_f_pipe): global pipe is obsolete now.

	* object.c (Init_Object): remove true.to_i, false.to_i.

@


1.1.1.3.2.13
log
@990324
@
text
@a0 247
Wed Mar 24 13:06:43 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (next_argv): need to check type for ARGV.shift.

	* eval.c (blk_copy_prev): need to preverse outer scope as well as
	  outer frames.

	* parse.y (rb_compile_string): return can appear within eval().

Tue Mar 23 10:15:07 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* configure.in: AC_C_CONST check added.

Tue Mar 23 02:07:35 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_plus): preserve gmt-mode for result.

Mon Mar 22 01:32:37 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): adjust line numbers before expression
	  interpolation within strings.

	* eval.c (rb_eval): defined? returns nil for false condition.

	* numeric.c (num_nonzero_p): returns nil for false condition.

Sat Mar 20 13:07:43 1999  Keiju Ishitsuka  <keiju@@rational.com>

	* lib/weakref.rb: avoid leak for two weakrefs for one object.

Fri Mar 19 11:26:45 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* eval.c (ruby_run): needed to eval END{} on exit.

	* eval.c (rb_exit): ditto.

Fri Mar 19 02:17:27 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* signal.c (Init_signal): handles terminating signals HUP, TERM,
	  QUIT, PIPE, etc.

Thu Mar 18 15:47:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (rb_big_and): bug in sign calculation.

	* bignum.c (rb_big_or): ditto.

	* io.c (rb_f_select): forgot to use to_io to retrieve IO, after
	  calling select(2).

Tue Mar 16 19:54:31 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/extmk.rb.in: static linking cause infinite make loop.

Tue Mar 16 18:50:04 1999  Yoshida Masato  <yoshidam@@yoshidam.net>

	* ext/socket/socket.c (tcp_s_gethostbyname): typo, not NUM2INT(),
	  but INT2NUM().

	* ext/socket/socket.c (mkhostent): ditto.

Tue Mar 16 12:31:44 1999  Ryo HAYASAKA  <hayasaka@@cheer.u-aizu.ac.jp>

	* file.c (utime_internal): suppress warning by const.

	* time.c (time_gmtime): ditto.

Tue Mar 16 10:23:05 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_clone): Time object can be cloned.

Tue Mar 16 03:13:10 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* ruby.c (load_file): argv[argc] should be NULL.

Mon Mar 15 22:12:08 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* sprintf.c (rb_f_sprintf): typo in arg_num check at exit.

Mon Mar 15 16:42:22 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_dup): dup2 should copy class too.

Mon Mar 15 15:12:53 1999  Yasuhiro Fukuma  <yasuf@@big.or.jp>

	* lib/mkmf.rb: install program relative path check.

Mon Mar 15 14:05:25 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (rb_reg_s_new): 2nd argument is now option.
	  Regexp::EXTENDED can be specified.

Fri Mar 12 10:47:49 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_index): str.index("") should always match at
	  offset point.

	* string.c (rb_str_upto): can specify end point exclusion.

	* string.c (rb_str_index): negative offset.

	* regex.c (re_match): begline should not match at the point
	  between a newline and end-of-string.  endline neither.

	* regex.c (re_compile_pattern): context_indep_anchors .

	* parse.y (parse_regx): need not to push backslashes before
	  escaped characters.

	* eval.c (rb_thread_join): re-raises exception within target.

Fri Mar 12 01:09:36 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* ext/readline/readline.c (readline_s_vi_editing_mode): wrong
	  number of arguments.

Fri Mar 12 02:12:50 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (PACK_ITEM_ADJUST): "a".unpack("C3") => [97, nil, nil]

Thu Mar 11 18:23:50 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* ext/socket/socket.c (Init_socket): UDPsocket was ommited.

Thu Mar 11 16:43:30 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (PACK_LENGTH_ADJUST): push fixed number of items per
	  template to result array.

	* pack.c (pack_unpack): I/N/C etc. push nil in the array for "".

Tue Mar  9 00:19:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (ruby_unsetenv): use ruby_setenv(name, 0).

	* hash.c (env_delete): ditto.

	* string.c (rb_str_upto): do not check `beg<end' to generate
	  strings for the pattern like "a".upto("#a").

	* range.c (range_each): treat strings as special case.

	* range.c (range_each): no longer use upto for generic cases.

Sun Mar  7 14:21:32 1999  IKARASHI Akira <ikarashi@@itlb.te.noda.sut.ac.jp>

	* string.c (rb_str_index): wrong end point calculation.

Sat Mar  6 02:19:12 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (match_index): MatchingData#index(n) added.

	* array.c (rb_ary_subseq): ary[n..-1] returns an sub-array unless
	  n is too small negative index.

	* re.c (rb_reg_match_method): Regexp#match(str) added.

	* array.c (rb_ary_indexes): understands ranges as indexes.

	* re.c (match_size): MatchingData#size added.

Fri Mar  5 01:04:57 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_fill): modified for range.

	* array.c (rb_ary_aset): a[n..m] revisited.

Thu Mar  4 14:23:29 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_subseq): a[n..m] revisited.

	* parse.y (method_call): allow Const::method{}.

	* array.c (rb_ary_replace_method): should replace original array.

Thu Mar  4 02:30:22 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* configure.in: remove --disable-thread, thread feature is no
	  longer optional.

Thu Mar  4 00:32:17 1999  Yasuhiro Fukuma  <yasuf@@big.or.jp>

	* parse.y (read_escape): wrong arguments for scan_oct,scan_hex.

Wed Mar  3 11:51:53 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (Init_socket): rename class names as
	  TCPsocket -> TCPSocket etc.

Tue Mar  2 19:46:42 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* configure.in (LDSHARED): use gcc -Wl,-G for solaris with gcc.

Tue Mar  2 17:04:19 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): backslashes do not concatenate comment lines
	  anymore.

Mon Mar  1 14:05:12 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_call0): adjust argv for optional arguments.  super
	  without arguments emit superclasse method with the value from
	  optinal arguments.  enabled as experiment.

Sun Feb 28 14:04:07 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* parse.y (nextc): backslash at the eof cause infinite loop

Sun Feb 28 11:01:26 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* time.c (make_time_t): month range check added.

Sat Feb 27 02:36:05 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (Init_Regexp): add escape as alias of quote.

	* re.c (rb_reg_s_quote): char-code can be specified now.

Fri Feb 26 18:45:36 1999  Yasuhiro Fukuma  <yasuf@@big.or.jp>

	* eval.c (error_print): bug for error message with newlines.

Fri Feb 26 12:00:04 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (make_time_t): future check modified to allow 1969-12-31
	  at certain timezone.

	* time.c (time_arg): year >= 1000 should be past.

	* version.c (Init_version): constant RELEASE_DATE added.

Fri Feb 26 01:08:30 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_substr): returns nil for out-of-range access.

	* array.c (rb_ary_subseq): returns nil for out-of-range access.

	* array.c (rb_ary_store): negative index message has changed.

	* string.c (rb_str_aset): reallocation needed.

	* string.c (rb_str_aset): allow char append to the string.

Thu Feb 25 23:30:17 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* time.c (time_load): tm_year should be packed in 17 bits, not 18.

a1 2

	* missing/dup2.c: replaced by public domain version.
@


1.1.1.3.2.14
log
@*** empty log message ***
@
text
@a0 52
Fri Apr  9 17:45:11 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): should pop non-greedy stack items on
	  failure, after best_regs are fixed.

Thu Apr  8 17:30:40 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (PACK_LENGTH_ADJUST): need to adjust for `*' length.

Tue Apr  6 23:28:44 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (void_check): add void context checks.

Mon Apr  5 12:23:42 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_s_at): should copy gmt-mode.

	* eval.c (eval_node): preserve ruby_eval_tree.

Fri Apr  2 14:00:34 1999  NAKAMURA, Hiroshi  <nakahiro@@sarion.co.jp>

	* lib/debug.rb: wrong command interpreting.

Fri Apr  2 11:46:22 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.3.2

Fri Apr  2 10:40:04 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_s_pipe): forgot to define IO::pipe.

Thu Apr  1 14:40:46 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (assign): modified for rhs change.

	* parse.y (stmt): unparenthesisized method calls can be right hand
	  side expression of the assignment.

Sat Mar 27 22:42:47 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* ext/nkf/nkf.c (rb_nkf_kconv): check size output_ctr before
	  decrement.

Thu Mar 25 09:11:03 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_s_at): preserve gmt-mode for result.

	* parse.y (rb_compile_string): do not use cur_mid, use
	  compile_for_eval instead.

	* st.c (PTR_NOT_EQUAL): wrong logical condition.

a1 2

	* parse.y (yycompile): should clear cur_mid after compilation.
@


1.1.1.3.2.15
log
@*** empty log message ***
@
text
@a2 2
	* parse.y (rb_compile_string): bug for nested eval().

@


1.1.1.3.2.16
log
@prepare to alpha
@
text
@a0 25
Thu Apr 15 23:46:20 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ruby.c (rubylib_mangle): mangle path by RUBYLIB_PREFIX.

Wed Apr 14 23:52:51 1999  SHIROYAMA Takayuki  <psi@@tokyo.stellar.co.jp>

	* node.h (NODE_LMASK): should be long to avoid overflow.

Wed Apr 14 12:19:09 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/thread.rb: Queue#{enq,deq} added.

Tue Apr 13 17:43:56 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (rb_hash_s_create): Hash::[] acts more like casting.

Tue Apr 13 00:33:52 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_stdio_set): warning for assignment to the variables
	  $std{in,out,err}.

Mon Apr 12 23:12:32 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_reopen): check for reopening same IO.

@


1.1.1.3.2.17
log
@alpha
@
text
@a0 6
Fri Apr 16 15:09:20 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* util.c (mmprepare): int is too small to cast from pointers.

	* config.guess: avoid 'linux-gnu' for alpha-unknown-linux.

@


1.1.1.3.2.18
log
@*** empty log message ***
@
text
@a2 4
	* bignum.c (rb_str2inum): strtoul() returns long, not int.

	* eval.c (rb_load): size of VALUE and ID may be different.

@


1.1.1.3.2.19
log
@to open CVS
@
text
@a0 36
Tue Apr 20 11:24:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_dump): `#' should be escaped.

Tue Apr 20 02:32:42 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (parse_regx): option /p for posix match added.

	* re.c (rb_reg_desc): did not print options properly.

	* io.c (rb_file_s_open): intialize was called twice.

Mon Apr 19 18:56:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* configure.in (DEFAULT_KCODE): can specify default code for
	  $KCODE by --with-default-kcode=(euc|sjis|utf8|none).

	* regex.c (IS_A_LETTER): a byte sequence shorter than mbc should
	  not match with \w etc.

Mon Apr 19 13:49:11 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (eval): should restore ruby_dyna_vars.

Fri Apr 16 21:40:43 1999  Nobuetsu Nokada  <gea02117@@nifty.ne.jp>

	* io.c (f_backquote): pipe_open may return nil.

	* io.c (f_open): rb_io_open may return nil.

	* io.c (io_s_foreach): ditto.

	* io.c (io_s_readlines): ditto.

	* io.c (io_defset): wrong message.

a17 6

Wed Apr 14 13:14:35 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* dln.c: AIX dynamic link.

	* ext/aix_ld.rb: ditto.
@


1.1.1.3.2.20
log
@call/cc
@
text
@a0 5
Thu Apr 22 16:50:54 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_callcc): call scope_dup() for all scopes in
	  the interpreter stack.

@


1.1.1.3.2.21
log
@aix shlib link
@
text
@a0 18
Mon Apr 26 16:46:59 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (rb_f_sprintf): should allocate proper sized buffer
	  for float numbers.

Sat Apr 24 00:00:16 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (operation): syntax like `a.[]=(1,2)' is allowed.

Fri Apr 23 23:54:09 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (argf_binmode): binmode method added to ARGF.

Fri Apr 23 13:55:22 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_f_chomp): should assign the result to $_.  or maybe
	  sub/gsub/chop/chomp should NOT assign $_ altogether.

@


1.1.1.3.2.22
log
@better AIX support
@
text
@a2 6
	* ext/extmk.rb.in: AIX shared library support modified.

	* ext/aix_mksym.rb: ditto.

	* configure.in: ditto.

@


1.1.1.3.2.23
log
@--with-xxx=yyy
@
text
@a0 9
Tue Apr 27 14:11:45 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/extmk.rb.in: `--with-xxx=yyy' argument configuration.

	* misc/ruby-mode.el: forgot to handle $`.

	* ext/extmk.rb.in: better AIX link support proposed by
	  <komatsu@@sarion.co.jp>.

@


1.1.1.3.2.24
log
@def self.foo; end
@
text
@a2 2
	* parse.y (fname): lazy workaround for keywords did not work well.

@


1.1.1.3.2.25
log
@ipv6
@
text
@a0 13
Fri Apr 30 15:24:58 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/addrinfo.h: compatibility hack for ipv4.

	* ext/socket/socket.c: itojun's ipv6 patches applied.

	* ext/socket/extconf.rb: detect ipv6 features based on itojun's
	  ipv6 patches.

	* ext/extmk.rb.in (enable_config): can handle --enable-xxx now.

	* lib/mkmf.rb (enable_config): ditto.

@


1.1.1.3.2.26
log
@glibc 2.1
@
text
@a13 6
Thu Apr 29 18:55:31 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* dln.c (conv_to_posix_path): remove const from args.

	* ruby.c (rubylib_mangle): remove Fatal(), the obsolete function.

d100 1
a100 1
	Thu Apr 15 23:46:20 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
@


1.1.1.3.2.27
log
@small fixes
@
text
@a0 49
Thu May  6 13:21:41 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_indexes): should not use rb_ary_concat().

Thu May  4 12:34:18 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* parse.y (parse_string): there shuould be newline escape by
	  backslashes in strings.

	* parse.y (parse_qstring): ditto.

Mon May  3 04:37:20 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* ext/tcltklib/extconf.rb: better search for libX11.

	* range.c (range_s_new): embarrassing =/== typo.

	* re.c (Init_Regexp): failed to set default kcode.

Mon May  3 02:39:55 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* ext/socket/socket.c (open_inet): typo (res and res0).

Tue May  4 02:07:49 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* mkconfig.rb: leave undefined $(VARIABLE) unexpanded in the
	  Config::CONFIG hash table.

Mon May  3 09:37:22 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): expand exactn{n} at compile time.
	  handles stop_paren specially.

	* regex.c (re_compile_pattern): expand x{n} at compile time.

	* regex.c (re_search): posix line match should be checked.

	* regex.c (re_search): a bug in anchor condition.

Fri Apr 30 18:57:41 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_rindex): position should be END point, not
	  START point.

	* re.c (rb_reg_search): pos means end point on reverse now.

	* array.c (rb_ary_s_create): should clear ary->ptr to avoid
	  potential gc crash.

a13 4
Fri Apr 30 05:22:23 1999  Shugo Maeda  <shugo@@netlab.co.jp>

	* string.c (rb_str_aset): last index should not append.

a24 2

	* lib/mkmf.rb: ditto.
@


1.1.1.3.2.28
log
@990507
@
text
@a0 13
Fri May  7 17:03:57 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* dir.c (glob): removed GPL'ed glob.c completely.

Fri May  7 08:17:19 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/sdbm/extconf.rb: sdbm extension added to the distribution.

Fri May  7 01:42:20 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (tcp_s_gethostbyname): aboid using struct
	  sockaddr_storage.

@


1.1.1.3.2.29
log
@regexp,range,squeeze
@
text
@a0 37
Mon May 10 00:59:33 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/jcode.rb: forgot to squeeze on reverse (complement) case.

	* string.c (tr_squeeze): should not set modify flag to be honest,
	  if the string is not modified.

	* signal.c (Init_signal): SIGTERM should not be handled.

	* regex.c (re_match): seeking for longest match is now optional,
	  which can be set using RE_OPTION_POSIXMATCH.  This satisfies
	  POSIX longest match as much as Emacs's posix-* functions, which
	  are known to be incomplete.

Sun May  9 13:04:01 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/socket.c (sock_s_getaddrinfo): conversion from
	  Fixnums to C integers needed.

Sun May  9 11:51:43 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* range.c (range_eqq): reverse condition.

	* range.c (range_s_new): default should be end inclusive.

Sat May  8 03:27:51 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (thread_connect): replace nasty
	  rb_thread_fd_writable() with rb_thread_select().

Fri May  7 20:49:00 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/getaddrinfo.c (inet_pton): wrong parameter to
	  inet_aton().

	* ext/socket/addrinfo.h (__P): silly cut and paste typo.

@


1.1.1.3.2.30
log
@.*/.+/.?
@
text
@a0 4
Tue May 11 08:29:28 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): .?, .+ did not work.

@


1.1.1.3.2.31
log
@$/, Struct subclassing
@
text
@a0 10
Wed May 12 14:19:38 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* struct.c (iv_get): in case of inheritance of generated struct
	  class, __member__ and __size__ should also be inherited.
	  Thanks for Pros Yeboah <yeboah@@tu-harburg.de>.

	* io.c (rb_f_gets_internal): should check number of arguments
	  before checking rb_rs == rb_default_rs.  Thanks for Koji Arai
	  <JCA02266@@nifty.ne.jp>.

@


1.1.1.3.2.32
log
@990513
@
text
@a0 9
Thu May 13 10:40:44 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval_string_wrap): new function.

	* regex.c (re_compile_pattern): POSIX line match should alter
	  behavior for `^' and `$' to begbuf and endbuf2 respectively.

	* ext/pty/pty.c: un-ANSI-fy function arguments.

@


1.1.1.3.2.33
log
@moving
@
text
@a0 14
Fri May 14 12:46:56 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_load): a bug in old marshal format support.

	* instruby.rb: make site_ruby directory.

Fri May 14 10:18:02 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* regex.c (re_match): a bug in inline `.*' etc.

Fri May 14 09:58:46 1999  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* ruby.c (addpath): should have specified string length.

@


1.1.1.3.2.34
log
@arity/strict yield
@
text
@a0 34
Mon May 17 12:26:31 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (read_escape): char may be unsigned.

	* string.c (rb_str_succ): ditto.

	* string.c (tr_trans): ditto.

	* object.c (Init_Object): methods `&', `|', `^' are added to nil.

	* range.c (rb_range_beg_len): it should be OK for [0..-len-1].

	* regex.c (re_search): search for byte literal within mbcs.

	* regex.c (is_in_list): parsh

	* regex.c (re_compile_fastmap): should have not alter the loop
	  variable `j' if TRASLATE_P().

	* regex.c (re_compile_pattern): escaped characters should be read
	  by PATFETCH_RAW(c).

Sat May 15 11:23:51 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): endline2 (\Z) should not match at the point
	  between a newline and end-of-line, like endline ($).

	* class.c (include_class_new): should initialize iv_tbl to share
	  between module and iclass.

Fri May 14 08:50:27 1999  Akira Endo  <akendo@@t3.rim.or.jp>

	* regex.c (re_compile_fastmap): it should be k != 0 to skip.

@


1.1.1.3.2.35
log
@arity bug
@
text
@a2 8
	* numeric.c (fix_rev): should treat Fixnum as signed long.

	* eval.c (massign): add strict number check for yield (and call).

	* eval.c (proc_arity): new method to return number of arguments.

	* eval.c (method_arity): new method to return number of arguments.

@


1.1.1.3.2.36
log
@mbc bug in regex
@
text
@a0 8
Tue May 18 15:25:45 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): a bug in range adjustment.

Tue May 18 11:35:59 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* dln.c (conv_to_posix_path): path_len argument added.

d290 1
a290 1
Thu Apr 15 23:46:20 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
@


1.1.1.3.2.37
log
@regexp null pattern
@
text
@a0 48
Tue May 25 16:45:11 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_f_syscall): syscall may return values other than zero
	  on success.

	* regex.c (re_match): handle empty loop properly (hopefully).

	* regex.c (re_match): remove empty group check, because it does
	  not help non-grouping parentheses (?:..).

	* regex.c (re_compile_fastmap): treating try_next, finalize_push
	  wrong way.

	* regex.c: remove some obsolete functions such as
	  group_match_null_string_p().

Mon May 24 14:47:54 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (read_backslash): read backslash by regex.

Sun May 23 19:44:58 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ext/pty/pty.c (getDevice): portability patch.

Fri May 21 23:01:26 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/getaddrinfo.c (GET_AI): should set error code.

Thu May 20 03:43:44 1999  Jun-ichiro itojun Hagino  <itojun@@itojun.org>

	* ext/socket/socket.c: you should use sockaddr_storage to handle
	  IPv6 addresses.

	* ext/socket/getaddrinfo.c (getaddrinfo): prevent retrieving
	  AF_INET6 address if hints.ai_flags == AI_PASSIVE.

Wed May 19 12:27:07 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (exec_end_proc): should protect exceptions.

	* gc.c (run_final): ditto.

	* parse.y (f_rest_arg): allow just * for rest arg.

	* parse.y (mlhs_basic): allow * without formal argument.

	* regex.c (re_match): the variable `part' should be initialized.

@


1.1.1.3.2.38
log
@990531
@
text
@a0 48
Mon May 31 16:06:28 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.3.4 - preliminary release for 1.4

Mon May 31 15:57:41 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_fptr_close): close on IO which main_thread is
	  waiting cause serious exception, that vanishes the actual fd
	  closing.  Invocation of rb_thread_fd_close() is deferred
	  a little.

Sat May 29 18:27:13 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* regex.c (re_match): stack boundary check needed.

Sat May 29 12:27:00 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/tcltklib/tcltklib.c (ip_invoke): proper ref count management
	  to avoid leak.

	* eval.c (ruby_run): moved ruby_require_libraries() to handle `-r'
	  from ruby_options() to avoid stack corruption for threads
	  created in libraries.

Sat May 29 02:22:12 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_yield_0): when `for' appeared in blocks, it
	  introduced new scope for local variables.

Fri May 28 17:16:49 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_squeeze_bang): squeeze AND of the arguments.
	  UNDOCUMENTED.

	* string.c (rb_str_count): new UNDOCUMENTED method.

	* string.c (rb_str_delete_bang): delete AND of the arg ranges.
	  UNDOCUMENTED FEATURE for 1.3.x.

	* ext/socket/socket.c (setipaddr): re-wrote using ip_addrsetup().

	* ext/sockt/socket.c (ip_addrsetup): decode symbolic address
	  <broadcast>.

Thu May 27 12:27:42 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (tr_trans): should handle NUL (\0) within strings.

a225 2

	* version 1.3.3
@


1.1.1.3.2.39
log
@rb_exec_end_proc, etc.
@
text
@a0 14
Tue Jun  1 15:29:33 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version.h (RUBY_RELEASE_CODE): integer macro contant for source
	  version detection.

Sun May 30 22:19:12 1999  Kenji Nagasawa  <kenn@@tcp-ip.or.jp>

	* ext/socket/socket.c: emx/gcc 0.9d now fixes things about
	  AF_UNIX.

	* process.c: OS/2 EMX kludge.

	* Makefile.in (strncasecmp.o): added dependency.

@


1.1.1.3.2.40
log
@thread bugs
@
text
@a0 67
Wed Jun  9 13:26:38 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_loading): modified to avoid nested race
	  condition of require().

	* ext/tcltklib/tcltklib.c (ip_invoke): queue invocation on non
	  main threads.

	* ext/tcltklib/tcltklib.c (lib_mainloop): flush invoke queues.

	* version.c (ruby_show_version): now print the message to stdout.

	* version.c (ruby_show_copyright): ditto.

Tue Jun  8 00:00:34 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (pack_unpack): append sentinel (NUL) to the string.

	* ext/md5/md5init.c (md5_hexdigest): new method to obtain
	  printable hash string.

	* ext/md5/md5init.c (md5_update): should return self.

	* pack.c (pack_pack): undocumented template 'U' for UTF8.

	* pack.c (pack_unpack): ditto.

	* marshal.c (r_byte): should replace getc() with rb_getc().

	* io.c (rb_getc): getc() replacement uses READ_DATA_PENDING() and
	  rb_thread_wait_fd().

Mon Jun  7 23:23:38 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (rb_mod_clone): should call CLOSESETUP().

	* eval.c (bind_clone): should call CLONESETUP() for new clone.

Sat Jun  5 10:32:40 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_oct): binary (e.g. 0b10111) support.

	* variable.c (rb_const_set): raise warning, not exception.

	* parse.y (yycompile): initialize parser internal variables.

	* parse.y (close_paren): set lex_state to EXPR_PAREN after closing
	  parenthesis.

	* parse.y (yylex): returns kDO for `do' right after method_call.

Thu Jun  3 11:05:30 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* regex.c (read_backslash): should decode \b within class.

Thu Jun  3 01:06:18 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* dln.c (dln_load): AIX improvement (aix_findmain removed).

Wed Jun  2 00:41:31 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (pack_unpack): new undocumented template Z which strips
	  stuff after first null.

	* pack.c (pack_pack): should preserve specified length of the
	  resulting string.

a1 8

	* ext/socket/socket.c (ruby_socket): retry after GC, if socket(2)
	  failed on EMFILE or ENFILE.

	* ext/socket/socket.c (sock_s_socketpair): ditto.

	* eval.c (module_setup): need to add PUSH_VAR/POP_VAR to clear
	  dyna vars link list.
@


1.1.1.3.2.41
log
@990611
@
text
@a0 34
Fri Jun 10 13:42:10 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* pack.c (pack_pack): template `Z' should be allowed.

Fri Jun 11 15:21:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/etc/etc.c (etc_group): dumps core if there's no more group.

Fri Jun 11 01:50:25 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (ruby_run): Init_stack() was called too late; local
	  variables happend to be higher (or lower) than stack_start.

Thu Jun 10 16:41:48 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c: do not call `initialize' for IO objects.  So with Array,
	  Hash, Range, and Time objects.
	
	* ext/curses/curses.c (curses_getch): made thread aware using
	  rb_read_check().

	* ext/curses/curses.c (window_getch): ditto.

	* ext/curses/curses.c (curses_getstr): made (partially) thread
	  aware using rb_read_check().

	* ext/curses/curses.c (window_getstr): ditto.

	* io.c (rb_read_check): new function to help making something
	  (like extension libraries) thread aware.

	* eval.c (is_defined): `defined? super' should be true even for
	  private superclass methods.

d9 1
a9 2
	* ext/tcltklib/tcltklib.c (lib_mainloop): flush invocation
	  queues periodically.
d108 1
a108 1
	  to avoid leak.  I HATE REF COUNTING!!
@


1.1.1.3.2.42
log
@GNUmakefile.in
@
text
@d1 4
a33 4

Fri Jun 10 13:42:10 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* pack.c (pack_pack): template `Z' should be allowed.
@


1.1.1.3.2.43
log
@990624
@
text
@a0 116
Thu Jun 24 13:00:17 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (print_mbc): wrong boundary.

	* pack.c (uv_to_utf8): raises ArgError for too big value.

Thu Jun 24 11:02:51 1999  Yoshida Masato  <yoshidam@@yoshidam.net>

	* pack.c (uv_to_utf8): mask needed.

Wed Jun 23 22:06:26 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* pack.c (utf8_to_uv): pack to 7 bytes sequence.

	* pack.c (uv_to_utf8): wrong boundary.

	* pack.c (pack_unpack): should treat as unsigned long.

Wed Jun 23 15:10:11 1999  Inaba Hiroto  <inaba@@sdd.tokyo-sc.toshiba.co.jp>

	* parse.y (parse_string): failed to parse nested braces.

	* parse.y (parse_regx): nested braces within #{} available.

Wed Jun 23 11:18:38 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (slow_search): wrong shift width for mbcs.

	* eval.c (rb_thread_save_context): should not clear th->locals.

Wed Jun 23 02:06:14 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): UMINUS binds too tight with digits. changed so
	  that -2**2 => -4.

	* parse.y (close_paren): `do' for expr termination now works it
	  used to be.

Wed Jun 22 18:26:42 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* pack.c (pack_pack): should initialize local variable `j'.

Wed Jun 22 15:24:59 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* parse.y (here_document): a bug for multiline heredoc.

Tue Jun 22 15:06:36 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/socket/socket.c (ruby_socket): forgot to return fd
	  explicitly.

Tue Jun 22 13:34:12 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* rubyio.h (MakeOpenFile): should initialize member `iv_tbl'.

Wed Jun 22 10:35:51 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* io.c (rb_io_gets_internal): getc(3) may not set errno on
	  interrupt.

Mon Jun 21 22:39:28 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (call_required_libraries): ruby_sourceline should be
	  cleared before loading libraries.

	* io.c (set_stdin): do not use reopen(), so that we don't need to
	  dup original stdin before assigning $stdin.

Mon Jun 21 18:04:27 1999  Ryo HAYASAKA  <hayasaka@@univ21.u-aizu.ac.jp>

	* ext/dbm/dbm.c: include <cdefs.h> for solaris 2.6.

Mon Jun 21 15:59:47 1999  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* ext/socket/socket.c (ip_addrsetup): forgot to put `else'.

Mon Jun 21 15:38:37 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (fptr_finalize): remove rb_syswait() invocation to avoid
	  wait4(2) within GC.  rb_syswait() moved to rb_io_fptr_close().

Mon Jun 21 12:05:59 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* dir.c (dir_s_glob): remove MAXPATHLEN restriction.

	* ext/md5/md5init.c (md5_hexdigest): should have used "%02x".

Sun Jun 20 19:50:38 1999  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* string.c (rb_str_each_line): should have checked string
	  boundary.

Sat Jun 19 22:24:12 1999  Kenji Nagasawa  <kenn@@hma.att.ne.jp>

	* OS/2 patch improved.

Fri Jun 18 08:30:17 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (r_byte): add data length check.

	* ext/tcltklib/tcltklib.c (_timer_for_tcl): was doing busy-wait.

Tue Jun 15 10:01:21 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* configure.in: remove trailing slash from interpreter embedded
	  shared library path.

	* configure.in (INSTALL_DLLIB): install shared lib with 0555.

	* instruby.rb: changed mode for shared library into 0555.

Fri Jun 11 23:27:00 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* ext/etc/etc.c (etc_passwd): should return nil, not exception for
	  call after last passwd entry.

a2 4
	* gc.c (rb_gc_mark_locations): add safty margin 1.

	* eval.c (ruby_run): should protect toplevel node tree.

d498 1
a498 1
Fri Apr 16 21:40:43 1999  Nobuyoshu Nakada  <gea02117@@nifty.ne.jp>
d751 1
a751 1
Sun Mar  7 14:21:32 1999  IKARASHI Akira  <ikarashi@@itlb.te.noda.sut.ac.jp>
d1285 1
a1285 1
Mon Jan 18 13:02:27 1999  Kuroda Jun  <jkuro@@dwe.co.jp>
d1706 1
a1706 1
Sat Oct 31 04:16:14 1998  Inaba Hiroto  <inaba@@st.rim.or.jp>
d1968 1
a1968 1
Sat Aug 29 02:09:46 1998  Koji Arai  <JCA02266@@nifty.ne.jp>
d2556 1
a2556 1
Wed May 13 19:05:20 1998  MAEDA shugo  <shugo@@aianet.ne.jp>
@


1.1.1.3.2.44
log
@990625
@
text
@a0 37
Fri Jun 25 13:07:20 1999  Koji Oda  <oda@@bsd1.qnes.nec.co.jp>

	* missing/isinf.c: include "config.h" added.

Fri Jun 25 13:09:12 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (pack_unpack): needed to initialize natint.

	* regex.c (re_compile_pattern): add start_paren to avoid too much
	  finalization on maybe_finalize_jump.

Fri Jun 25 07:25:05 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* lib/mkmf.rb: initialize $(topdir).

	* ext/extmk.rb.in (install_rb): install lib/*.rb properly.

	* configure.in (linux): specifies -rpath on --enable-shared.

	* configure.in (aix): ruby.imp must reside in $(topdir).

Thu Jun 24 19:11:29 1999  Yoshida Masato  <yoshidam@@yoshidam.net>

	* parse.y (rb_str_extend): multi-byte identifier in expression
	  interpolation in strings.

	* parse.y (yylex): support multi-byte char identifiers.

Thu Jun 24 15:27:13 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (f_arg): check duplicate argument names.

	* gc.c (rb_gc_mark): marking wrong member for NODE_ARGS.

	* string.c (rb_str_rindex): POSITION specifies start point, not
	  end point.

a10 5
Wed Jun 23 21:03:56 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* ruby.h (struct RFile): remove iv_tbl from struct. instance
	  variables are handled as generic ivs.

d618 1
a618 1
Fri Apr 16 21:40:43 1999  Nobuyoshi Nakada  <gea02117@@nifty.ne.jp>
d644 1
a644 1
Wed Apr 14 23:52:51 1999  SHIROYAMA Takayuki  <psi@@fortune.nest.or.jp>
@


1.1.1.3.2.45
log
@990715
@
text
@d1 1
a1 1
Thu Jul 15 16:54:16 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3 1
a3 131
	* version 1.3.5 - version 1.4 alpha

Wed Jul 14 23:45:33 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* eval.c (ruby_init): initialize for the first time only.

Tue Jul 13 00:15:19 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (rb_hash_index): re-defined; method to retrieve a key
	  from the value.

	* hash.c (Init_Hash): member? should be re-defined for Hash.

Tue Jul 12 13:54:51 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* io.c (rb_file_sysopen): wrong number of argument.

Mon Jul 12 11:52:35 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_f_missing): class name included in message.

	* eval.c (print_undef): better error message.

Sun Jul 11 05:36:17 1999  NAKAMURA, Hiroshi  <nakahiro@@sarion.co.jp>

	* lib/debug.rb: patch to show proper position.

Fri Jul  9 23:56:14 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* dln.c (dln_find_1): path conv. moved to conv_to_posix_path.

	* dln.c (conv_to_posix_path): path conv. should be done.

Fri Jul  9 10:26:47 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* random.c (RANDOM_NUMBER): should place parentheses.

Fri Jul  8 11:00:51 1999  Shugo Maeda  <shugo@@netlab.co.jp>

	* numeric.c (fix_div): division may be out of fixnum range.

	* bignum.c (bigdivmod): proper sign calculation to result.

Wed Jul  7 18:27:41 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* st.c (st_delete_safe): was modifying wrong slot.

Mon Jul  5 13:17:46 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (rb_gc_call_finalizer_at_exit): close all files at exit.

Fri Jul  2 18:00:21 1999  Minero Aoki  <aamine@@dp.u-netsurf.ne.jp>

	* lib/Mail/README: Mail-0.3.0 added to the distribution.

Fri Jul  2 01:45:32 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_fastmap): avoid allocation of register
	  variables for each invocation of re_match().  Suggested by
	  Zasukhin Ruslan <ruslan@@paradigmasoft.com>.  Thanks.

Tue Jun 29 20:39:24 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* ext/tk/lib/tk.rb (TkVariable): bug fix; should value type check
	  be added?

	* string.c (rb_str_each_line): a bug in paragraph mode.

	* ruby.c (load_file): shifted too much to skip #!.

Tue Jun 29 06:50:21 1999  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/CGI.rb: 0.30 - cleanup release, incompatible.

	* lib/telnet.rb: 0.22 - timeout added.

Tue Jun 29 10:49:25 1999  SHIROYAMA Takayuki  <psi@@fortune.nest.or.jp>

	* configure.in: better Rhapsody support.

	* lib/mkmf.rb: Rhapsody/NEXTSTEP support.

Tue Jun 29 01:42:13 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/pty/pty.c (chld_changed): should use POSIX.1 style wait.

Mon Jun 28 21:07:36 1999  KIMURA Koichi  <kbk@@kt.rim.or.jp>

	* ext/extmk.rb.nt: wrong result for have_library().

Mon Jun 28 15:24:05 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* missing/isinf.c: OSF/1 raises SIGFPE on one()/zero().

	* regex.c (re_search): should search til EOS, for patterns may
	  match beyond the end of range.

Mon Jun 28 12:49:12 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_f_select): should not accept Time objects as an
	  argument for it is time interval.

	* process.c (rb_f_sleep): ditto.

	* file.c (test_s): should return nil for false condition.

Mon Jun 28 12:23:52 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* bignum.c (rb_dbl2big): typo.

	* file.c (rb_f_test): ditto.

	* string.c (rb_str_crypt): wrong message.

Sun Jun 27 19:50:11 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* eval.c (rb_f_exit): should have treat signed integer status, not
	  VALUE.

	* process.c (rb_f_exit_bang): should work like exit().

Sun Jun 27 16:21:32 1999  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* string.c (rb_str_rindex): wrong position to search.

Sat Jun 26 04:05:30 1999  Takaaki Tateishi  <ttate@@jaist.ac.jp>

	* configure.in (configure_args): --with-search-path to specify
	  additional ruby search path.

	* ruby.c (ruby_prog_init): additional search path.
a10 4

Fri Jun 25 13:07:20 1999  Koji Oda  <oda@@bsd1.qnes.nec.co.jp>

	* missing/isinf.c: include "config.h" added.
@


1.1.1.3.2.46
log
@backtrace may be Qnil
@
text
@a0 77
Tue Jul 20 02:28:34 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_gets): $_ should be nil, when get returns nil.

	* io.c (rb_f_gets): ditto.

Mon Jul 19 17:13:09 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_fastmap): should continue fastmap compile
	  for anychar_repeat, for it's repeat anyway.

Mon Jul 19 01:57:28 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/mkmf.rb: no longer use install program.

	* ext/extmk.rb.in: use miniruby to install programs.

Sat Jul 17 00:06:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (ipaddr): don't do reverse lookup if
	  attribute do_not_reverse_lookup is set for socket classes.
	  Experimental.  Note this is a global attribute.

Fri Jul 16 22:18:29 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_eof): use feof() to check EOF already met.

	* io.c (read_all): should return nil at EOF.

Fri Jul 16 13:39:42 1999  Wakou Aoyama  <wakou@@fsinet.or.jp>

	* lib/telnet.rb: version 0.231.

Fri Jul 16 10:58:22 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* regex.c (re_match): debug print removed.

Fri Jul 16 09:58:15 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* many files: clean up unsed variables found by gcc -Wall.

	* lib/mkmf.rb: better cygwin support etc.

	* ext/extmk.rb.in: ditto.

	* instruby.rb: ditto.

Fri Jul 16 01:37:50 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* string.c (rb_str_squeeze_bang): the type of local variable `c'
	  should be int, not char.

	* string.c (rb_str_reverse): should always return copy.

Thu Jul 15 23:25:57 1999  NAKAMURA Hiroshi  <nakahiro@@sarion.co.jp>

	* lib/debug.rb: better display & frame treatment.

Thu Jul 15 21:16:41 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_each): returns self for normal termination;
	  returns nil for break.

	* string.c: non bang methods (e.g. String#sub) should always
	  return copy of the receiver.

Thu Jul 15 21:09:15 1999  Masaki Fukushima  <fukusima@@goto.info.waseda.ac.jp>

	* eval.c (find_file): do not add empty string to the path.

	* configure.in (with-search-path): should not add empty string if
	  the option is not supplied.

Thu Jul 15 17:49:08 1999  Ryo HAYASAKA  <hayasaka@@univ21.u-aizu.ac.jp>

	* ext/tcltklib/tcltklib.c: move `#include "ruby.h"' forward.

@


1.1.1.3.2.47
log
@990728
@
text
@a0 33
Wed Jul 28 18:24:45 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.3.6 - version 1.4 alpha

Tue Jul 27 09:38:08 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* eval.c (rb_eval): reduce recursive rb_eval() calls by
	  NODE_BLOCKs. 

Tue Jul 27 01:20:40 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* file.c (rb_file_s_expand_path): drive letter patch.

Mon Jul 26 02:36:31 1999  Shugo Maeda  <shugo@@netlab.co.jp>

	* eval.c (rb_load): should clear ruby_nerr.

	* eval.c (rb_thread_join): oldbt should not be empty to unshift.

Sun Jul 25 12:09:16 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* dir.c (push_braces): should treat nested braces.

Fri Jul 23 02:49:49 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (rb_hash_clear): dummy argument added; suggested by
	  <eguchi@@shizuokanet.ne.jp>.  thanks.

Thu Jul 22 19:37:22 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_join): get_backtrace() may retrun Qnil.
	  typecheck added.

a10 4

Mon Jul 26 13:33:45 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* lib/jcode.rb: replaced by faster code.
@


1.1.1.3.2.48
log
@990806
@
text
@a0 75
Fri Aug  6 15:01:07 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.3.7 - version 1.4 beta

	* ext/socket/socket.c (s_recv): UDPsocket#recvfrom now returns
	  IPsocket#addr information.

	* array.c (rb_ary_subary): ary[-3,3] should not return nil.

Thu Aug  5 10:58:01 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_mark): protect old ruby_frame from GC during it
	  replaced by eval().

	* eval.c (eval): do not modify frame.prev; binding should preserve
	  information about calling() too.

	* eval.c (rb_yield_0): no arity check for mere yield; but only for
	  Proc#call.

Tue Aug  3 22:07:13 1999  Kazuhiro HIWADA  <hiwada@@kuee.kyoto-u.ac.jp>

	* object.c (rb_mod_clone): should check if iv_tbl, m_tbl are
	  initialized.

Tue Aug  3 19:03:02 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (rb_any_cmp): use rb_with_disable_interrupt() to ensure
	  clearance of rb_prohibit_interrupt even on failure.

	* eval.c (rb_with_disable_interrupt): new function added.

Sat Jul 31 23:23:44 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_create_0): set THREAD_RAISED flag on thread
	  termination by exception.

	* eval.c (rb_thread_join): `$!' may not be nil for the threads
	  created in rescue clause.

	* eval.c (rb_thread_status): ditto.

	* eval.c (rb_thread_join): should re-raise exception for already
	  dead threads too.

Fri Jul 30 17:56:54 1999  GOTO Kentaro  <gotoken@@math.sci.hokudai.ac.jp>

	* object.c (rb_mod_ge): wrong comparison.

Fri Jul 30 12:15:44 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/tcltklib/extconf.rb: win32 support.

	* lib/mkmf.rb: use append_library().

	* ext/extmk.rb.in: ditto.

Fri Jul 30 02:11:48 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_delete): should return nil for deleting non
	  existing item.

	* io.c (rb_io_close): call rb_sys_wait() on explicit close.

	* io.c (rb_io_fptr_close): do not call rb_sys_wait() on finalize.

	* eval.c (yield_under_i): cbase context should be maintaind for
	  Module#module_eval().  suggested by <inaba@@st.rim.or.jp>.

Wed Jul 28 01:18:28 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* Makefile.in: add -I$(hdrdir)/lib to install using ftools.

	* util.c: use HAVE_FCNTL_H, not HAVE_FCNTL

a32 5

Tue Jul 20 14:36:43 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* range.c (range_each): do not treat String specially (for future
	  override).
@


1.1.1.3.2.49
log
@1.3.8 to be, final beta (hopefully)
@
text
@a0 45
Wed Aug 11 10:10:02 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): parse `[].length==0' as `([].length)==0', not
	  `([].length=)=0'

	* parse.y (yylex): parse `[].length!=0' as `([].length)!=0', not
	  `([].length!)=0'

	* parse.y (peek): peek-in lexical buffer.

Wed Aug 11 00:34:05 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): bug on backward jump adjustment concerning
	  stop_paren.

Tue Aug 10 14:54:25 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/nkf/nkf.c (rb_nkf_guess): binary detection was wrong.

Tue Aug 10 00:07:36 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_clone): should use CLONESETUP().

Mon Aug  9 23:57:07 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.h (CLONESETUP): should have copied generic instance
	  variables too.

Mon Aug  9 10:46:54 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* ext/socket/extconf.rb: add check for <arpa/nameser.h> and
	  <resolv.h>.

Sat Aug  7 13:19:06 1999  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* numeric.c (flo_cmp): comparing NaN should not return value.
	  raises FloatDomainError.

Sat Aug  7 03:09:08 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (blk_free): free copied frames too.

	* eval.c (frame_dup): should copy previous frames from stack to
	  heap to preserve frame information.

d2423 1
@


1.1.1.3.2.50
log
@1.3.8 to be/1999-08-12
@
text
@a0 18
Thu Aug 12 13:44:33 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (Init_load): require receives 1 argument.

	* eval.c (frame_dup): should clear tmp to avoid dangling
	  references.

Wed Aug 11 13:33:13 1999  Katsuyuki Komatsu  <komatsu@@sarion.co.jp>

	* eval.c (rb_eval): no automatic aggregate initialization.

	* eval.c (module_setup): ditto.

Wed Aug 11 18:18:41 1999  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* eval.c (yield_under_i): automatic aggregate initialization is an
	  ANSI feature.

@


1.1.1.3.2.51
log
@pre 1.4.0
@
text
@a0 14
Fri Aug 13 03:16:07 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (argf_forward): since $stdout may be non-IO, ARGF.file is
	  not granteed to be IO.  check and forwarding added to every ARGF
	  method.

	* io.c (set_outfile): $stdout/$stderr may not be IO now.

	* io.c (set_stdin): $stdin may not be IO now.

	* range.c (rb_range_beg_len): round `end' to length as documented.

	* io.c (Init_IO): preserve original stdin/stdout/stderr.

@


1.1.1.2.2.1
log
@*** empty log message ***
@
text
@a2 2
	* variable.c (rb_ivar_get): Files can have instance variables now.

@


1.1.1.2.2.2
log
@Mon Jan 19 14:06:13 JST 1998
@
text
@d3 2
@


1.1.1.2.2.3
log
@Mon Jan 19 16:33:52 JST 1998
@
text
@a0 4
Mon Jan 19 16:30:05 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* process.c (rb_syswait): no exception raised.

@


1.1.1.2.2.4
log
@*** empty log message ***
@
text
@a33 2
	* version 1.1b4 released.

@


1.1.1.2.2.5
log
@Mon Jan 19 17:40:02 JST 1998
@
text
@a2 2
	* version 1.1b5 released.

@


1.1.1.2.2.6
log
@*** empty log message ***
@
text
@a0 7
Tue Jan 19 18:19:24 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/extmk.rb.in (install): there should be no newline after install:

	* re.c (MIN): renamed from min().  there's a local variable named
 	  min in the file, so that some cpp will raise an error.

@


1.1.1.2.2.7
log
@Tue Jan 20 15:38:11 JST 1998
@
text
@a0 5
Tue Jan 20 15:19:59 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (rb_stat): most of the FileTest methods (and function
 	  `test') accept File objects as the argument.

@


1.1.1.2.2.8
log
@*** empty log message ***
@
text
@a2 2
	* ext/tcltklib/extconf.rb: more accurate check for tcl/tk libs.

@


1.1.1.2.2.9
log
@syntax changed: open paren after identifier
@
text
@a0 5
Wed Jan 21 01:43:42 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): open parentheses after identifiers are argument 
	  list, even if whitespaces have seen.

a1 2

	* parse.y (terms): quoted word list by %w(a b c).
@


1.1.1.2.2.10
log
@*** empty log message ***
@
text
@a2 2
	* regex.c (re_compile_pattern): too many pops for non register subexpr.

@


1.1.1.2.2.11
log
@tkmenubar
@
text
@a2 3
	* eval.c (PUSH_FRAME): do not use ALLOCA_N().  crash on some
	  platforms (such as HP-UX or mswin32).

@


1.1.1.2.2.12
log
@*** empty log message ***
@
text
@a0 5
Thu Jan 22 16:21:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (ALLOCTMP): replace ALLOCA_N, where thread context switch 
	  may happen.

d4 1
a4 1
	  platforms that use missing/alloca.c.
@


1.1.1.2.2.13
log
@singleton class def causes SEGV
@
text
@a2 2
	* eval.c (rb_eval): some singleton class def cause SEGV.

@


1.1.1.2.2.14
log
@initialize made private
@
text
@a0 7
Thu Jan 22 00:37:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (rb_define_method): `initialize' should always be
	  private, even if it defined by C extensions.

	* eval.c (rb_eval): `initialize' should always be private.

d13 1
a13 2
	* regex.c (re_compile_pattern): too many pops for non register
	  subexpr.
@


1.1.1.2.2.15
log
@use STR2CSTR
@
text
@a2 2
	* ruby.h (STR2CSTR): new macro to retrieve char*.

@


1.1.1.2.2.16
log
@*** empty log message ***
@
text
@a0 6
Fri Jan 23 14:19:28 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (mod_to_s): need to duplicate classpath.

	* error.c (exc_inspect): need to duplicate classpath.

@


1.1.1.2.2.17
log
@1.1b6
@
text
@a2 2
	* version 1.1b6 released.

@


1.1.1.2.2.18
log
@*** empty log message ***
@
text
@a0 12
Thu Jan 29 14:18:40 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (mod_ancestors): should not include singleton classes.

	* object.c (obj_type): should not return internal class.

	* io.c (io_reopen): unwillingly closes stdio streams.

Thu Jan 29 11:50:35 1998  Toshihiko SHIMOKAWA  <toshi@@csce.kyushu-u.ac.jp>

	* ext/socket/socket.c (udp_addrsetup): forgot to use htons().

@


1.1.1.2.2.19
log
@eban's exec patch for cygwin32
@
text
@a0 4
Thu Jan 29 18:36:25 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* process.c (rb_proc_exec): check `sh' to be exist.

@


1.1.1.2.2.20
log
@__FILE__,__LINE__
@
text
@a4 5
Thu Jan 29 18:18:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_stdio_set): assignment to $stdin or $stdout does
	  reopen() as well as $stderr.

a16 4
Tue Jan 27 23:15:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* keywords: __FILE__, __LINE__ are available again.

d38 2
a39 2
	* eval.c (TMP_ALLOC): replace ALLOCA_N, where thread context
 	  switch may happen.
@


1.1.1.2.2.21
log
@*** empty log message ***
@
text
@a0 16
Tue Feb  3 12:24:07 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (match_to_a): non matching element should be nil.

	* ruby.c (ruby_load_script): load script after all initialization.

	* bignum.c (str2inum): need to interpret prefix `0' of `0x'.

Tue Feb  3 10:00:18 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* numeric.c (fix_rshift): use `sizeof(INT)*8' instead of 32.

Mon Feb  2 14:09:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (set_arg0): grab environment region too.

@


1.1.1.2.2.22
log
@segv on empty arrays
@
text
@a0 4
Wed Feb  4 13:55:26 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_reverse): SEGV on empty array reverse.

@


1.1.1.2.2.23
log
@string mbchar support (SJIS)
@
text
@a0 4
Thu Feb  5 18:20:30 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* string.c (str_upcase_bang): multi byte character support.

@


1.1.1.2.2.24
log
@1.1b7 pre
@
text
@a0 35
Mon Feb  9 14:51:56 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (do_coerce): proper error message.

	* string.c (str_sum): bug - masked by wrong value. (sigh..)

Sat Feb  7 15:11:14 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_empty): new method

Fri Feb  6 01:42:15 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_asctime): use asctime(3), not strftime(3).

Thu Feb  5 18:58:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_fptr_close): do not free path on close().

	* array.c (ary_filter): new method.

	* enum.c (enum_each_with_index): new method.

Thu Feb  5 14:10:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (primary): singleton class def can be appeared inside
 	  method bodies.

	* hash.c (hash_replace): replace content.

	* string.c (str_replace_method): replace content.

	* array.c (ary_replace_method): replace elements.

	* string.c (str_succ_bang): String#succ!

@


1.1.1.2.2.25
log
@1.1b7 pre3
@
text
@a0 9
Tue Feb 10 17:29:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_aset): string insertion by `str[n] = str2'.

	* string.c (str_oct): does recognize `0x'.

 	* sprintf.c (f_sprintf): use baes 10 for conversion from string to
 	  integer.

@


1.1.1.2.2.26
log
@1.1b7
@
text
@a2 2
	* version 1.1b7 released.

@


1.1.1.2.2.27
log
@\s and assignment in conditional
@
text
@a0 6
Fri Feb 13 08:16:11 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (parse_regx): handle \s before read_escape().

	* parse.y (read_escape): `\s' in strings as space.

@


1.1.1.2.2.28
log
@pass_block, etc.
@
text
@a0 8
Mon Feb 16 14:38:25 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (f_pass_block): pass iterator block to other method.

	* time.c (time_mon): now 1 for January and so on.

	* time.c (time_year): year in 19xx (not + 1900 needed anymore).

@


1.1.1.2.2.29
log
@1.1b8pre1
@
text
@d1 1
a1 1
Wed Feb 18 00:41:31 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d3 1
a3 31
	* regex.c (re_match): \Z matches newline just before the end of
	  the string.

Tue Feb 17 00:04:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_arg): Time.gm and Time.local now understands
 	  Time#to_a format.

	* string.c (str_sub_s): replace happened twice for null pattern.

	* regex.c (re_search): null pattern should not match after newline 
	  at the end of string.

	* time.c (time_isdst): now returns boolean value.

	* error.c (rb_check_type): treat special constants in messages.

	* parse.y (yylex): new form `::Const' to see toplevel constants.

	* parse.y (cond): SEGV on `if ()'.

	* gc.c (obj_free): some data needed explicit free().

Mon Feb 16 23:55:40 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (blk_free): release duplicated block informations.

	* eval.c (blk_copy_prev): duplicate outer block information into
 	  the heap, when proc/binding created.

Mon Feb 16 14:38:25 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d7 1
a7 10
	* time.c (time_year): year in 19xx (no + 1900 needed anymore).

Mon Feb 16 13:28:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): need to fetch mbchar's second byte
 	  without translation.

Mon Feb 16 12:29:27 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* eval.c (f_pass_block): pass iterator block to other method.
@


1.1.1.2.2.30
log
@cygwin patches
@
text
@a0 4
Wed Feb 18 18:45:10 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* patches for cygwin32 applied.

@


1.1.1.2.2.31
log
@*** empty log message ***
@
text
@a0 15
Fri Feb 20 10:17:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (stmt): if/unless modifiers returns nil, if condition is 
	  not established.

Thu Feb 19 11:06:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/kconv/kconv.c (kconv_kconv): charcode can be specified by
	  code name (JIS, SJIS, EUC like value of $KCODE).

	* regex.c (re_compile_pattern): forgot to fixup_jump for (?:..).

	* regex.c (re_compile_pattern): needed to clear pending_exact on
	  non-registering grouping (?:...).

@


1.1.1.2.2.32
log
@1.1b8pre2
@
text
@a2 5
	* ext/kconv/kconv.c (kconv_kconv): default output code now be
	  determined according to the value of $KCODE.

	* re.c (rb_get_kcode): can retrieve $KCODE from C. 

a15 4
Wed Feb 18 19:54:21 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (here_document): needed to set lex_state to EXPR_END.

a21 2
	* string.c (str_sub_s): needed to be mbchar aware to increment one
 	  character.
@


1.1.1.2.2.33
log
@*** empty log message ***
@
text
@a2 2
	* version 1.1b8 released.

d6 1
a6 1
	* re.c (rb_get_kcode): can retrieve $KCODE from C code. 
@


1.1.1.2.2.34
log
@*** empty log message ***
@
text
@a0 10
Mon Feb 23 12:11:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_s_quote): needed to be mbchar aware.

	* eval.c (proc_s_new): wrong iter mark.

Sat Feb 21 22:59:30 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* io.c (f_syscall): no argument check.

a34 1

@


1.1.1.2.2.35
log
@dyna_var,regex,line cotinuation
@
text
@a0 10
Tue Feb 24 11:16:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (nextc): line continuation by backslash at end of line.

	* regex.c (re_compile_pattern): forgot to clear pending_exact on
	  closing parentheses.

	* parse.y (assignable): should not assign dyna_var to true, if it
 	  is already defined.

@


1.1.1.2.2.36
log
@reserved words & etc.
@
text
@a0 8
Wed Feb 25 15:50:07 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (mod_module_eval): clear the_scope's PRIVATE flag before
	  calling eval().

	* eval.c (rb_eval): needed to keep prot_tag->retval before
	  evaluating the ensure clause.

a1 10

	* parse.y (yylex): reserved words can be appear as method names at
 	  right after 'def' and `.'(dot), like foo.next.

	* eval.c (return_check): checks for return out of thread (formaly
	  done in return_value).

	* eval.c (POP_TAG): copy retval to outer level.

	* eval.c (return_value): just set retval, no check, no unwinding.
@


1.1.1.2.2.37
log
@1.1b8_00?
@
text
@a5 3
	* gc.c (gc_call_finalizer_at_exit): run finalizers before any data 
	  object being freed.

d14 2
a15 2
	* eval.c (return_check): checks for return out of thread (formerly
 	  done in return_value).
a27 6

Mon Feb 23 14:35:03 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (obj_is_kind_of): no longer accepts true/false/nil.

	* object.c ({true,false,nil}_to_i): can be converted into integers.
@


1.1.1.2.2.38
log
@*** empty log message ***
@
text
@a0 9
Thu Feb 26 17:22:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (fname): convert reswords into symbols.

	* parse.y (reswords): reserved words are now embedded in the
 	  syntax (sigh).

	* parse.y: now reserved words can be method names safely.

@


1.1.1.2.2.39
log
@*** empty log message ***
@
text
@a0 9
Fri Feb 27 09:36:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (hash_delete_nil): needed to compare value to nil, since
	  nil is the valid key for hashes.

	* hash.c (hash_foreach_iter): rehashing causes IndexError.

	* hash.c (hash_foreach_iter): rehash check by pointer comparison.

@


1.1.1.2.2.40
log
@1.1b9
@
text
@a0 4
Fri Feb 27 18:16:26 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1b9 released.

@


1.1.1.2.2.41
log
@*** empty log message ***
@
text
@a0 14
Tue Mar  3 11:21:28 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_stop): stopping only thread raises ThreadError
	  exception.

Tue Mar  3 08:04:56 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* struct.c (struct_alloc): imcomplete struct initialization made
 	  GC to access unallocated addresses.

Mon Mar  2 16:28:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_stop_method): remove Thread#stop.

@


1.1.1.2.2.42
log
@shugo's method etc.
@
text
@a0 12
Tue Mar  3 14:20:15 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (obj_method): returns bound method object.

	* eval.c (rb_call): argument check for empty methods.

	* ruby.h (NUM2CHR): new macro, originally from curses module.

Tue Mar  3 13:03:35 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* io.c (io_putc): new method.

a1 2

	* string.c (str_inspect): more strict charcode detection.
@


1.1.1.2.2.43
log
@block arg etc.
@
text
@a0 16
Thu Mar  5 13:47:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (f_missing): use any_to_s() for stringify.

Wed Mar  4 01:39:52 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (block_arg): new syntax - block argument in the
	  calling arglist.

	* eval.c (rb_call): no module search. simplified a lot.

	* eval.c (rb_eval): block arg support.

	* parse.y (f_block_arg): new syntax - block argument in the
 	  formal arglist.

@


1.1.1.2.2.44
log
@*** empty log message ***
@
text
@a0 11
Fri Mar  6 17:23:07 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (obj_alloc): check for allocating instance for the
	  primitive classes (mostly perfect).

	* ext/curses/curses.c (curses_finalize): restore original state at 
	  interpreter temination.

	* ext/curses/curses.c (curses_addstr): forgot to check argument
	  type (caused SEGV).  now uses STR2CSTR() macro.

a1 2

	* eval.c (block_pass): accepts method object as block args.
@


1.1.1.2.2.45
log
@1.1b9_00
@
text
@a0 11
Mon Mar  9 16:53:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (f_sprintf): zero padding failed for negative
	  integers.

	* sprintf.c (remove_sign_bits): failed to remove some bits.

Sat Mar  7 00:43:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (logop): short cut syntax tree.

a1 2

	* regex.c (mbcinit): table driven mbchar detection.
@


1.1.1.2.2.46
log
@1.1b9_00 picachu
@
text
@a7 4
Sat Mar  7 21:51:46 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* class.c (ins_methods_i): body may be NULL for some case.

@


1.1.1.2.2.47
log
@gets speed up patch
@
text
@a0 19
Wed Mar 11 02:14:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_gets): handle normal case specially for speed.

	* eval.c (rb_disable_super): function to disable superclass's
	  method explicitly.

	* eval.c (rb_eval): inherits previous method definition's
	  NOEX_UNDEF-ness, if exists.

	* class.c (rb_define_method): disables superclass's overriding
 	  method by default.

Tue Mar 10 00:03:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (load_file): understands multiple options in #! line.

	* regex.c (re_compile_pattern): support for [:alpha:] etc.

a1 2

	* io.h (GetOpenFile): embed io_check_closed in GetOpenFile.
@


1.1.1.2.2.48
log
@speed up patch 2
@
text
@a13 4
Wed Mar 11 01:40:48 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* numeric.c (flo_gt,etc.): do not depend on `<=>', to handle NaN.

@


1.1.1.2.2.49
log
@range check
@
text
@a0 7
Thu Mar 12 15:33:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* range.c (range_s_new): check values by `first <= last'.

	* parse.y (lastline_set): fixed offset for $_ and $~ in the local
	  variable space.

@


1.1.1.2.2.50
log
@1.1b9_01
@
text
@a2 2
	* experimental release 1.1b9_01.

d43 4
@


1.1.1.2.2.51
log
@1.1b9_02
@
text
@a0 7
Fri Mar 13 13:49:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (mod_clone): need to dups constants and instance
	  variables.

	* eval.c (rb_eval): forgot to initialize body for NODE_DEFS.

@


1.1.1.2.2.52
log
@1.1b9_03 pre
@
text
@a0 10
Mon Mar 16 13:23:53 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* io.c (io_check_closed): check for `fptr->f2 == NULL'.

	* io.c (io_fptr_close): ditto.

Mon Mar 16 14:11:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (ins_methods_i): needed to consider NOEX_UNDEF.

a2 2
	* experimental release 1.1b9_02.

a6 7

	* eval.c (rb_eval): retrieve self from calling frame, since self
	  changes sometimes.

	* env.h (FRAME): need to save self in the calling frame.

	* io.c (f_gets_method): rs should be initialized by RS.
@


1.1.1.2.2.53
log
@1.1b9_03 pre2
@
text
@a0 4
Mon Mar 16 14:11:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (ins_methods_i): needed to consider NOEX_UNDEF.

d7 1
a7 1
Mon Mar 16 11:49:25 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d9 1
a9 7
	* io.c (pipe_atexit): free()ing referencing pipe_list.

	* range.c (range_length): returns zero, if the first is greater
	  than the last.

	* signal.c (trap_restore_mask): restore signal mask before raising 
	  exceptions and throws.
@


1.1.1.2.2.54
log
@modulo, frexp, ldexp
@
text
@a0 24
Tue Mar 17 18:23:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* math.c (math_frexp): newly added.

	* math.c (math_ldexp): ditto.

	* bignum.c (bigdivmod): calculates modulo.

	* numeric.c (fix_remainder): returns reminder, formerly known as
 	  modulo.

	* numeric.c (fix_modulo): calculates proper `modulo'.

	* bignum.c (bigdivmod): wrong sign for reminder.

Mon Mar 16 17:07:28 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_03.

Mon Mar 16 16:33:53 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* io.c (pipe_finalize): needed to add pipe_finalize to pipes on
	  cygwin32.

@


1.1.1.2.2.55
log
@extended regexp bug fix
@
text
@a0 4
Wed Mar 18 17:46:31 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): forwading failure point popped too much. 

@


1.1.1.2.2.56
log
@DATA
@
text
@a2 3
	* ruby.c (load_file): new file object constant DATA.  Only
	  available for the script from the file.

@


1.1.1.2.2.57
log
@1.1b9_04
@
text
@a0 6
Thu Mar 19 13:48:55 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_04.

	* parse.y (yylex): `10e0.9' should cause syntax error.

d16 2
a17 2
	* numeric.c (fix_remainder): returns reminder, formerly introduced
 	  as modulo.
@


1.1.1.2.2.58
log
@-a -> -a- ^^;;
@
text
@a0 5
Fri Mar 20 16:40:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_sub_iter_s): should check last pattern since it
	  may be matched to null.

@


1.1.1.2.2.59
log
@thread_free
@
text
@a0 4
Mon Mar 23 18:47:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_free): main_thread should not be freed.

@


1.1.1.2.2.60
log
@String#chomp! etc.
@
text
@d1 1
a1 3
Mon Mar 23 12:44:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_chomp_bang): now takes rs as an argument.
a5 3

	* string.c (str_chomp_bang): chomp! (and other ! methods) returns
 	  nil if it does not modify the string.
@


1.1.1.2.2.61
log
@$: changed
@
text
@a0 6
Tue Mar 24 12:50:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (ruby_prog_init): `.' should come last in the load-path.

	* eval.c (Init_eval): `__send__', alias for `send'.

@


1.1.1.2.2.62
log
@heredoc etc.
@
text
@a0 16
Wed Mar 25 08:12:07 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (flo_modulo): caused SEGV if left operand is not a
 	  float value.

	* eval.c (f_eval): optional third and fourth argument to specify
	  file name and line number.

	* eval.c (eval): filename and linenumber set properly.

	* parse.y (assign_in_cond): literal assignment is now warning, not 
	  compile error.

	* error.c (Warn): Warn() always print message, OTOH Waring()
	  prints when verbose flag is set.

@


1.1.1.2.2.63
log
@String#dump
@
text
@a0 7
Thu Mar 26 11:51:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_dump): new method.

	* eval.c (block_pass): block argument can be nil, which means no
	  block is supplied for the method.

@


1.1.1.2.2.64
log
@1.1b9_05_pre1
@
text
@a7 4
Wed Mar 25 21:20:13 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* string.c (str_reverse_bang): string copied to wrong place.

d32 1
a32 1
	* string.c (str_chomp_bang): now takes `rs' as an argument.
@


1.1.1.2.2.65
log
@protected methods
@
text
@a2 2
	* eval.c (rb_call): new feature: `protected' methods.

@


1.1.1.2.2.66
log
@$:, remove top_protected
@
text
@a0 6
Fri Mar 27 13:49:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (ruby_prog_init): load-path order changed.  Paths in
 	  the RUBYLIB environment variable comes first in non-tainted
 	  mode.

d20 1
a20 1
	  file-name and line-number.
d22 1
a22 1
	* eval.c (eval): file-name and line-number set properly.
@


1.1.1.2.2.67
log
@1.1b9_05 bug fix
@
text
@a0 13
Sat Mar 28 00:47:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.c (ruby_prog_init): `site_ruby' added to load_path.

	* eval.c (f_local_variables): new method to return an array of
 	  local variable names.

	* variable.c (obj_instance_variables): now returns an array of
	  variable names, as described in the reference.

	* eval.c (rb_attr): honors default method visibility of the
	  current scope.

@


1.1.1.2.2.68
log
@1.1b9_05 patches
@
text
@d1 1
a1 1
Sat Mar 28 16:07:11 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>
d3 1
a3 5
	* io.c (io_closed): should not cause exception fot closed IO.

	* string.c (str_tr): returned nil for success.

Sat Mar 28 00:47:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
a15 4
	* experimental release 1.1b9_05.

	* ruby.c (ruby_prog_init): `site_ruby' added to load_path.

d67 1
a67 1
 	  may be matched to null.
@


1.1.1.2.2.69
log
@1.1b9_06
@
text
@a0 4
Sat Mar 28 20:40:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_06.

@


1.1.1.2.2.70
log
@gw32 b19 patch
@
text
@a0 8
Mon Mar 30 14:07:07 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_intern): typo in error message.

Mon Mar 30 14:06:19 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* string.c (str_capitalize_bang): did not check string modification.

@


1.1.1.2.2.71
log
@instance_eva/module_eval
@
text
@a0 6
Mon Mar 30 11:12:29 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (f_test): raises exception for unkown command.

	* eval.c (Init_eval): `class_eval': alias to the module_eval.

a7 16

	* string.c (str_delete_bang): wrong conversion.

Mon Mar 30 01:44:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (obj_instance_eval): accepts block as evaluation body.
	  No compilation needed each time.

	* eval.c (mod_module_eval): ditto

	* file.c (file_s_umask): umask did not return old values, if no
 	  argument given.

Sun Mar 29 00:54:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (f_throw): nil returned always.
@


1.1.1.2.2.72
log
@eval(..,file,line);String#center
@
text
@a0 9
Tue Mar 31 13:23:58 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (num2int): raise exception for too big Fixnums on
 	  platforms that sizeof(int) < sizeof(INT).

	* string.c (str_center): SEGV on negative width.

	* eval.c (eval): forgot to set sourcefile.

@


1.1.1.2.2.73
log
@call initialize
@
text
@a0 8
Thu Apr  2 18:31:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (obj_call_init): every object call `initialize'.

Wed Apr  1 01:20:31 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (true_and): boolean operators &, | and ^.

d3 2
a4 9
	* array.c (ary_compact_bang): returns nil, if it does not modify
	  the array like String's bang methods.

	* array.c (ary_uniq_bang): new method to remove duplicate items.

	* eval.c (bind_s_new): new method.

	* numeric.c (num2int): raise exception if Fixnums too big to
 	  convert into `int' in case that sizeof(int) < sizeof(INT).
@


1.1.1.2.2.74
log
@some patches
@
text
@a4 4
Wed Apr  1 08:51:53 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* parse.y (stmt): UNTIL_MOD should be for stmt, not only for expr.

d31 5
a35 1
Mon Mar 30 18:50:42 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>
a39 2

	* string.c (str_intern): typo in error message.
@


1.1.1.2.2.75
log
@dynamic (nested) local variables
@
text
@a0 34
Tue Apr  7 01:16:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_cmp): compare each element using `<=>'.

	* hash.c (hash_each_with_index): yields [value, key] pair.

	* class.c (class_protected_instance_methods): list protected
	  method names.

	* class.c (ins_methods_i): exclude protected methods.

	* eval.c (PUSH_BLOCK): dynamic variables can be accessed from
 	  eval() with bindings.

Mon Apr  6 14:49:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_yield): must return evaluated value.

Fri Apr  3 11:25:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (num2int): no implicit conversion from string.

	* numeric.c (num2int): check that `to_i' returned Integer.

	* numeric.c (num_zero_p): new method.

	* numeric.c (num_nonzero_p): new method.  returns the receiver if
 	  it's not zero.

	* eval.c (obj_instance_eval): the_class should be the object's
	  singleton class.

	* error.c (exc_s_new): message is converted into a string.

@


1.1.1.2.2.76
log
@1.1b9_07
@
text
@a2 2
	* experimental release 1.1b9_07.

a18 8
Fri Apr  3 13:07:29 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_schedule): context switch bypassed on wrong
	  conditions.

	* variable.c (rb_name_class): set classname by id before String
 	  class is initialized (1.0 behavior restored).

d23 1
a23 1
	* numeric.c (num2int): check whether `to_i' returns an Integer.
@


1.1.1.2.2.77
log
@Array#cmp
@
text
@a0 8
Tue Apr  7 18:50:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_08.

Tue Apr  7 18:31:27 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* instruby.rb (mandir): dll installation for cygwin32

a1 4

	* config.sub (maybe_os): TOWNS support?

	* config.guess: too strict check for libc versions on linuxes.
@


1.1.1.2.2.78
log
@local_variables/defined?(TOPLEVEL_CONST) in modules
@
text
@a0 8
Wed Apr  8 00:59:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_const_defined): returned false even if the
	  constant is defined at the top level.

	* eval.c (f_local_variables): dyna_var->id may be null.  should
	  have checked before calling str_new2().

@


1.1.1.2.2.79
log
@1.1b9_09 pre
@
text
@a0 7
Thu Apr  9 18:24:58 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_cmp): do not depend on sentinel at the end of the
	  strings. 

	* string.c (str_chomp_bang): forgot to set the sentinel.

a1 5

	* bignum.c (big2int): converted int may be too big to fit in
	  signed int.

	* parse.y (arg): `foo += 1' should not cause an error.
@


1.1.1.2.2.80
log
@1.1b9_09
@
text
@a20 10
Tue Apr  7 01:15:15 1998  Kaneko Naoshi  <wbs01621@@mail.wbs.or.jp>

	* re.c (reg_regsub): need to check string boundary.

Tue Apr  7 19:19:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_cmp): returns either 1, 0, -1.

	* array.c (ary_cmp): should check array length, too

@


1.1.1.2.2.81
log
@1.1b9_09
@
text
@a2 2
	* experimental release 1.1b9_09.

@


1.1.1.2.2.82
log
@1.1b9_10 pre0
@
text
@a0 10
Wed Apr  8 17:24:11 1998  MAEDA shugo  <shugo@@po.aianet.ne.jp>

	* dir.c (dir_s_open): can be called with block (like IO#open).

	* dir.c (dir_s_chdir): print directory path on error.

	* dir.c (dir_s_chroot): ditto

	* dir.c (Init_Dir): needed to override `new'.

@


1.1.1.2.2.83
log
@signal to main_thread
@
text
@a0 16
Mon Apr 13 13:18:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_trap_eval): all handlers executed under main_thread.

Mon Apr 13 12:47:03 1998  TAKAHASHI Masayoshi  <maki@@inac.co.jp>

	* re.c (kcode_set_option): did not SJIS on SJIS condition.

Sun Apr 12 22:14:07 1998  Kazunori NISHI  <kazunori@@swlab.csce.kyushu-u.ac.jp>

	* array.c (ary_uniq_bang): should be `==', not `='. embarrassing.

Fri Apr 10 21:29:06 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* array.c (ary_subseq): add check for beg larger than array length.

@


1.1.1.2.2.84
log
@signal delivered to main_thread
@
text
@a0 18
Tue Apr 14 11:34:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* struct.c (struct_s_def): supports subclassing of Struct.

	* io.c (io_s_new): supports subclassing of IO.

Mon Apr 13 11:07:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (f_binding): need to restore method name.

	* eval.c (rb_call0): raises SystemStackError, not Fatal.

	* io.c (obj_display): same as `print self'.

	* io.c (f_p): can now be called in the method form.

	* re.c (reg_regsub): needed to be mbchar aware.

a11 4

Sat Apr 11 02:13:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_subseq): SEGVed for `[][1,1]'.
@


1.1.1.2.2.85
log
@1.1b9_10 tobe
@
text
@a2 4
	* experimental release 1.1b9_10.

	* parse.y: token names prefixed by `t'.

d21 1
a21 1
	* eval.c (thread_trap_eval): all signals delivered to main_thread.
d25 1
a25 1
	* re.c (kcode_set_option): did not set SJIS on SJIS condition.
@


1.1.1.2.2.86
log
@flock,flatten,signal to main_thread
@
text
@a0 30
Thu Apr 16 01:38:02 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_flatten): new method.

	* eval.c (rb_longjmp): prints exception information with `-d'.

	* object.c (any_to_s): remove class name restriction.

	* file.c (thread_flock): do not block other threads.

	* eval.c (thread_trap_eval): signals are now delivered to the
 	  current thread again.  In case that the current thread is dead,
 	  signals are forwarded to the main thread.

	* string.c (str_new4): need not to duplicate frozen strings.

Wed Apr 15 01:22:56 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_dup_frozen): do not duplicate frozen strings.

	* parse.y (yylex): allow nested parenthesises.

	* io.c (obj_displayln): prints newline after `display'ing the
	  receiver.

	* io.c (io_puts): avoid generating "\n" each time.  use RS_default
 	  instead.

	* io.c (f_p): ditto.

@


1.1.1.2.2.87
log
@exception name on -d
@
text
@d1 1
a1 8
Thu Apr 16 16:52:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_longjmp): trace event on exception in raising
 	  context, just before raising exception.

	* struct.c (struct_s_members): forgot to check singletons.

	* struct.c (struct_aref): members can be accessed by names too.
a8 2
Thu Apr 16 01:38:02 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

a16 8
Wed Apr 15 12:24:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* config.sub: x68 condition restored.

Wed Apr 15 08:33:47 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* struct.c (struct_inspect): remove restriction for struct names.

a29 4

Tue Apr 14 22:18:17 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* struct.c (struct_aref): should not subtract negative index.
@


1.1.1.2.2.88
log
@*** empty log message ***
@
text
@a2 2
	* lib/tk.rb: thread support (experimental - maybe slow).

@


1.1.1.2.2.89
log
@1.1b9_11
@
text
@a2 2
	* experimental release 1.1b9_11.

d28 4
a34 4

Wed Apr 15 02:55:02 1998  Kazuya 'Sharl' Masuda  <sharl@@www.ufo.co.jp>

	* x68 patches to config.sub, ext/extmk.rb.in
@


1.1.1.2.2.90
log
@struct_aref by member name
@
text
@a0 4
Fri Apr 17 11:06:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* struct.c (struct_aset): struct member can be set by member name.

@


1.1.1.2.2.91
log
@*** empty log message ***
@
text
@a0 4
Fri Apr 17 11:58:30 1998  NAGAI Hidetoshi  <nagai@@dumbo.ai.kyutech.ac.jp>

	* ext/tcltklib/tcltklib.c (lib_mainloop): thread and interrupt check.

a3 8

Fri Apr 17 00:47:19 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/extmk.rb.in: added m68k-human support

	* file.c (LOCK_SH): defines moved.

	* array.c (ary_flatten_bang): simplified loop.
@


1.1.1.2.2.92
log
@*** empty log message ***
@
text
@a0 12
Mon Apr 20 06:23:20 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (mod_remove_const): new method.

Sat Apr 18 03:53:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (hash_each_with_index): removed.  use Enumerable's
	  each_with_index instead.

	* class.c (rb_include_module): check for super modules, since
 	  module's included modules may be changed.

a5 4

	* eval.c (find_file): try to fopen() to check whether file exists.

	* ruby.c (load_file): ditto.
@


1.1.1.2.2.93
log
@1.1b9_12
@
text
@a0 9
Mon Apr 20 14:47:49 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_12.

	* time.c (time_arg): args may be string (support for reduced
	  implicit type conversion).

	* lib/base64.rb: changed to use pack/unpack with `m' template.

a11 4

Fri Apr 17 21:50:47 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* marshal.c (r_long): r_byte() may return signed byte.
@


1.1.1.2.2.94
log
@ruby 1.1b9_13
@
text
@a0 17
Tue Apr 21 12:31:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_13.

	* configure.in (RUBY_LIB): supports --program-{prefix,suffix}.

	* array.c (ary_rindex): new method.

	* io.c (io_binmode): should return self.

Tue Apr 21 08:23:04 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* parse.y (here_document): calling parse_string with wrong
	  arguments.

	* struct.c (struct_aset): problem member assignment with name.

@


1.1.1.2.2.95
log
@1.1b9_14
@
text
@a0 14
Wed Apr 22 16:52:37 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_14.

	* string.c (str_modify): check for embedded pointer reference.

	* gc.c (obj_free): ditto.

	* pack.c (pack_pack): p/P template to embed pointers.

Wed Apr 22 00:07:10 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* array.c (ary_rindex): embarrassing typo.

@


1.1.1.2.2.96
log
@use to_io
@
text
@a0 7
Wed Apr 22 23:27:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (select_get_io): get IO object by `to_io'.

	* io.c (io_to_io): method to retrieve IO object, from delegating
 	  object for example.

@


1.1.1.2.2.97
log
@gtk/nested local variables
@
text
@a0 14
Fri Apr 24 14:35:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (assignable): dyna_var_asgn actually defines nested
	  local variables in outer context.

	* random.c (f_rand): call srand(), if it has not called yet.

	* random.c (f_srand): use tv_usec as the default seed.

	* eval.c (rb_eval): values of nested local variables should be
 	  independent.

	* eval.c (rb_yield_0): local variables wrong nested conditions.

@


1.1.1.2.2.98
log
@tcltklib/gtk
@
text
@a0 16
Mon Apr 27 16:59:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/gtk/gtk.c (Init_gtk): use timeout, not idle to avoid
	  comsuming CPU too much.

	* lib/tk.rb: use tcltklib#_invoke instead of `_eval'.

Mon Apr 27 13:46:27 1998  Tadahiro Maebashi  <maebashi@@iij.ad.jp>

	* ext/tcltklib/tcltklib.c (ip_invoke): invoke tcl command
	  directly.  need not worry about escaping tcl characters.

Mon Apr 27 12:04:43 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* random.c (f_rand): do not call srand() implicitly.

a1 2

	* experimental release 1.1b9_15.
@


1.1.1.2.2.99
log
@1.1b9_16 pre
@
text
@a0 6
Tue Apr 28 00:07:38 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (obj_is_proc): type check predicate.

	* eval.c (obj_is_block): ditto.

@


1.1.1.2.2.100
log
@b1.1b9_16
@
text
@a0 4
Tue Apr 28 15:27:58 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_16.

a12 4

Mon Apr 27 16:59:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_sort): use dup, not clone.
@


1.1.1.2.2.101
log
@new exception model
@
text
@a0 17
Thu Apr 30 01:08:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/tk.rb: call 'unknown', if proc not defined.

	* eval.c (handle_rescue): default rescue handles `Exceptional' not 
	  only the instance of the `Exception's.

	* eval.c (errinfo_setter): $! can be any `Throwable' object.

	* time.c (time_gm_or_local): call time_gmtime or time_localtime.

	* eval.c (f_raise): raises TypeError if the class which is not a
	  subclass of String is specified (checked in exc_new()).

	* error.c (exc_new): need to check whether invalid class (not a
	  subclass of String) is specified.

@


1.1.1.2.2.102
log
@exception model changed
@
text
@a0 17
Fri May  1 00:35:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* error.c (exception): last argument may be the superclass of the
	  defining exception(s).

	* io.c (Init_IO): EOFError is now subclass of the IOError.

	* io.c (Init_IO): forgot to define IOError.

	* error.c (Init_Exception): old Exception class renamed to
	  StandardError.  Exception now replaces old GlobalExit.

	* error.c (Init_Exception): Exception is now the root of the
	  Global Exits.  There's no longer GlobalExit class.

	* util.c (ruby_mktemp): check TMP, TMPDIR first.

d8 1
a8 1
	* eval.c (f_raise): exception can be any object.
@


1.1.1.2.2.103
log
@new exception model
@
text
@a0 20
Wed May  6 01:37:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c: remove global variable `errat'.

	* eval.c (rb_longjmp): embed error position information in the
 	  exception object.

Sat May  2 12:20:02 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_search): supports reverse search.

	* string.c (str_index_method): does update $~ etc.

	* eval.c (f_load): needed to clear the_dyna_vars.

	* eval.c (dyna_var_asgn): do not push dyna_var, which is id == 0.

	* error.c (Init_Exception): NotImplementError is no longer
	  StandardError, which is not handled by default rescue.

a1 2

	* ruby.c (proc_options): `-d' turns on verbose flag too.
@


1.1.1.2.2.104
log
@*** empty log message ***
@
text
@a0 4
Wed May  6 15:48:03 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_17.

a55 4

Wed Apr 29 21:05:44 1998  WATANABE Hirofumi  <eban@@os.rim.or.jp>

	* ruby.c (proc_options): option '-e' via tempfile.
@


1.1.1.2.2.105
log
@pack/unpack unsigned
@
text
@a0 20
Fri May  8 12:26:37 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (pack_unpack): should be unsigned int (was signed int).

Thu May  7 16:34:10 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (pack_pack): `V', `N' uses newly created NUM2UINT().

	* ruby.h (NUM2UINT): new macro.

	* bignum.c (big2uint): try to convert bignum into UINT.

	* re.c (reg_match): needed to return false for match with nil.

	* gc.c (obj_free): wrong condition to free string.

Wed May  6 21:08:08 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ruby.c (ruby_process_options): modified for DJGPP.

@


1.1.1.2.2.106
log
@1.1b9_18
@
text
@a0 21
Tue May 12 17:38:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_18.

Tue May 12 11:38:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* error.c (syserr_errno): returns errno of the SystemCallError.

	* error.c (rb_sys_fail): saves errno in the Exception.

	* error.c (set_syserr): no need to protect syserr_list.

	* error.c (rb_sys_fail): no more bufsize limit.

	* error.c (set_syserr): integer value of errno can be accessed by
	  Errno::EXXX::Errno.

Sun May 10 03:10:33 1998  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* io.c (io_tell etc.): moved from File class to IO class.

@


1.1.1.2.2.107
log
@no INT,UINT
@
text
@a0 6
Wed May 13 14:56:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.h: xxx2INT, xxx2UINT checks values as int, not long.

	* ruby.h: remove typedef's. INT, UINT, UCHAR, USHORT.

@


1.1.1.2.2.108
log
@1.1b9_19
@
text
@a2 6
	* experimental release 1.1b9_19.

	* most of the Mac and BeOS patches merged, except path separators.

	* error.c (err_append): generated SyntaxError was String.

@


1.1.1.2.2.109
log
@ruby 1.1b9_20
@
text
@a0 15
Thu May 14 14:44:21 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* sun4 cc patches for intern.h and regex.h.

Thu May 14 14:03:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* random.c (RANDOM_MAX): guessing proper maximum value for random
 	  numbers.

	* random.c (f_rand): use drand48 if possible.

Wed May 13 19:05:20 1998 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* BeOS patches for io.c, error.c and config.guess.

@


1.1.1.2.2.110
log
@ruby 1.1b9_20/1
@
text
@a0 4
Fri May 15 14:43:25 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_20.

@


1.1.1.2.2.111
log
@1.1b9_21
@
text
@a0 13
Mon May 18 14:52:21 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_21.

Mon May 18 03:27:57 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* file.c (file_s_expand_path): optional second argument
	  `default_directory' added.

Sat May 16 22:06:52 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* error.c (RAISE_ERROR): wrong error message

@


1.1.1.2.2.112
log
@BeOS patches
@
text
@d1 1
a1 7
Mon May 18 16:40:50 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* error.c (get_syserr): BeOS support.

	* configure.in: modified for BeOS.

	* string.c (str_dump): do not call isascii().
a2 6
	* sprintf.c (remove_sign_bits): forgot to initialize end pointer.

	* glob.c: #include <alloca.h> added.

Mon May 18 14:52:21 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
	
@


1.1.1.2.2.113
log
@1.1b9_22
@
text
@a0 18
Tue May 19 16:36:26 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_22.

Tue May 19 16:31:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (assignable): specification changed for in-block
 	  variable definition.

	* eval.c (dyna_var_asgn): error in in-block variables' compile
 	  time definition.

	* parse.y (str_extend): wrong nesting detection.

Tue May 19 09:47:55 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* numeric.c (num2int): re-defined (extensions may use this).

@


1.1.1.2.2.114
log
@*** empty log message ***
@
text
@a0 33
Mon May 25 12:38:56 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): inline i option (?i).

	* regex.c (re_compile_pattern): inline x option (?x).

	* regex.c (re_compile_pattern): x option for regexp.

	* dir.c (dir_s_open): returns block's evaluated value.

	* io.c (f_open): returns block's evaluated value.

	* ext/curses/curses.c (curses_addstr): nil argument caused SEGV.

Fri May 22 11:52:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): push mark on (?:), so that
	  laststart check for {a,b} can be done.

Thu May 21 17:31:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): wrong match (too non-greedy) for `{a,b}?'.

	* io.c (io_lineno): new method IO#lineno, IO#lineno=.

Wed May 20 06:04:43 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* BeOS patch.

Wed May 20 16:32:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (BIGDN): use RSHIFT(), instead of mere `>>'.

@


1.1.1.2.2.115
log
@regexp (?XI)
@
text
@a0 5
Tue May 26 01:09:55 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): (?XI) for turns off the
	  corresponding option.

@


1.1.1.2.2.116
log
@1.1b9_23
@
text
@a0 7
Tue May 26 11:39:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_23.

	* parse.y (yylex): no UPLUS/UMINUS for 1st argument if
	  parenthesises are omitted.

@


1.1.1.2.2.117
log
@*** empty log message ***
@
text
@a0 6
Wed May 27 17:33:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (hash_fetch): new method.

	* regex.c (re_search): check whether translate table is set.

@


1.1.1.2.2.118
log
@*** empty log message ***
@
text
@a0 4
Thu May 28 18:02:55 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (nil_plus): no more `+' method for nil.

@


1.1.1.2.2.119
log
@regex.c
@
text
@a0 5
Sat May 30 07:10:02 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_prepare_re): no more needless regular expression
 	  recompile on casefold conditions.

@


1.1.1.2.2.120
log
@*** empty log message ***
@
text
@a0 7
Tue Jun  2 16:00:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c (udp_addrsetup): error check enhanced.

	* ext/socket/socket.c (sock_s_getservbyaname): use strtoul(), if
	  possible.

@


1.1.1.2.2.121
log
@regex
@
text
@a0 8
Wed Jun  3 18:07:54 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_raise): check rb_in_compile, not rb_in_eval.

Mon Jun  1 05:26:06 1998  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* string.c (trnext): casting to signed char* needed.

@


1.1.1.2.2.122
log
@parsedate
@
text
@a0 17
Tue Jun  9 02:54:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/parsedate.rb: wday moved to the last in the return values.

Sat Jun  6 22:50:52 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (calculate_must_string): wrong condition for
	  {start,stop}_nowidth.

	* regex.c (re_match): various features imported from GNU regex.c
 	  0.12, such as nested grouping, avoiding infinite loop with empty
 	  match, etc.

	* regex.c (register_info_type): now use union.

	* regex.c (re_search): more precise anchor(^) check.

@


1.1.1.2.2.123
log
@1.1b9_25
@
text
@a0 46
Thu Jun 11 18:19:18 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_25.

	* eval.c (dvar_add_compiling): register dyna_var at compile time.

	* regex.c (re_compile_pattern): RE_DUP_MAX iteration is too big.

Wed Jun 10 15:12:04 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_eof): do not block other threads.

	* signal.c (trap): reserve SIGALRM for thread.

	* eval.c (thread_create): use ITIMER_REAL also to avoid system
	  call blocking.

	* io.c (f_syscall): add TRAP_BEG, TRAP_END around system calls.

	* io.c (io_ctl): add TRAP_BEG, TRAP_END around system calls.

	* enum.c (enum_collect): did not collect false values.

	* array.c (ary_new2): forgot to initialize capa field.

Tue Jun  9 18:36:15 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* string.c (str_split_method): split dumped core for "\xff".

Tue Jun  9 16:22:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_24.

Tue Jun  9 16:04:07 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ext/kconv/kconv.c (kconv_guess): more precise decision for EUC,
	  using jless algorithm (3 sequential EUC hiragana characters).

Tue Jun  9 15:12:44 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/kconv/kconv.c (kconv_guess): wrong guess for EUC as SJIS in
	  some cases (0xe0 - 0xef).

	* gc.c (xmalloc): insert size check for big (negative in signed)
	  allocation size.

a3 4

Mon Jun  8 10:40:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_split_method): split dumped core for "\0".
@


1.1.1.2.2.124
log
@nested local variables
@
text
@a0 4
Fri Jun 12 17:58:18 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (eval): write back the_dyna_var into the block.

@


1.1.1.2.2.125
log
@baseline
@
text
@a0 16
Tue Jun 16 12:30:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (str2inum): handles `+ddd'.

	* struct.c (make_struct): name parameter can be nil for unnamed
	  structures.

pMon Jun 15 16:30:10 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (class_s_inherited): prohibiting to make subclass of
	  class Class.

	* object.c (module_s_new): support for making subclass of Module.

	* parse.y (yycompile): clear eval_tree before compiling.

@


1.1.1.2.2.126
log
@1.1b9_26
@
text
@a0 20
Thu Jun 18 16:46:04 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_26.

Thu Jun 18 13:37:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* file.c (file_s_ftype): uses lstat(2) instead of stat(2).

	* dir.c (dir_s_glob): there can be buffer overrun, check added.

	* eval.c (f_binding): handles in-block variables declared after
	  binding's generation.

	* numeric.c (flo_floor): floor, ceil, round added to Float.

Wed Jun 17 11:20:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (gettable): nesting local variables should have higher
 	  priority than normal local variables.

@


1.1.1.2.2.127
log
@1.1b9_27
@
text
@a0 14
Fri Jun 19 18:28:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_27.

Fri Jun 19 14:34:49 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (assign): support hack for nested multiple assignment.

	* parse.y (mlhs): nested multiple assignment.

	* eval.c (rb_eval): in-block variables now honors static scope.

	* configure.in: RSHIFT check moved to configure.

@


1.1.1.2.2.128
log
@*** empty log message ***
@
text
@a0 5
Sat Jun 20 02:53:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (assignable): nesting local variables should have higher
 	  priority than normal local variables for assignment too.

@


1.1.1.2.2.129
log
@*** empty log message ***
@
text
@a0 4
Tue Jun 23 11:46:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): `&&=' and `||=' added.

@


1.1.1.2.2.130
log
@thread->thred
@
text
@a0 7
Wed Jun 24 02:18:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c: rename function prefix `thread_' to `thred_' to avoid
	  conflict on some machine.

	* parse.y (mlhs): `((a,b)),c = [[1,2]],3' assigns a=1,b=2,c=3.

@


1.1.1.2.2.131
log
@regex
@
text
@a0 15
Thu Jun 25 02:05:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): optimize for `.*' at beginning of the
	  pattern.

	* regex.c (re_search): optimize for character class repeat at
	  beginning of the pattern.

	* regex.c (re_compile_pattern): detect optimization potential for
	  the compiled patterns.

Wed Jun 24 23:45:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): wrong anchor handling for reverse search.

@


1.1.1.2.2.132
log
@980626
@
text
@a0 8
Fri Jun 26 18:02:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_28.

Fri Jun 26 11:01:26 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* string.c (str_aset_method): needed to convert to string.

a11 4
Thu Jun 25 00:02:26 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* re.c (reg_s_new): flag value was wrong.

d17 3
@


1.1.1.2.2.133
log
@*** empty log message ***
@
text
@a0 5
Tue Jun 30 01:05:20 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (BEGIN_CALLARGS): adjust the_block before evaluating the
	  receiver's value and the arguments.

@


1.1.1.2.2.134
log
@1.1b9_29
@
text
@a0 37
Fri Jul  3 16:05:11 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_29.

Fri Jul  3 11:20:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (r_byte): byte should not extend sign bit.

	* numeric.c (fix_mul): use FIX2LONG() instead of FIX2INT() for
	  64bit architectures.

	* marshal.c (r_bytes): use weird casting bwetween pointer and int.

	* process.c (proc_setsid): new method Process#setsid().

Thu Jul  2 12:49:21 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (w_object): remove `write_bignum' label for 64bit
 	  architectures.

	* marshal.c (r_bytes): needs int, not long.

Wed Jul  1 14:21:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* numeric.c (flo_plus): should not allow addition with strings.

Wed Jul  1 13:09:01 1998  Keiju ISHITSUKA  <keiju@@rational.com>

	* numeric.c (num_uminus): wrong coerce direction.

Tue Jun 30 10:13:44 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (f_p): accepts arbitrary number of arguments.

	* eval.c (rb_yield_0): there's some case that iterator_p() returns 
	  true even if the_block was not set.  check added.

@


1.1.1.2.2.135
log
@1.1b9_30
@
text
@a0 29
Thu Jul  9 17:38:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_30.

Thu Jul  9 16:01:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (fmt_setup): format specifier for long needed.

	* sprintf.c (f_sprintf): ditto.

	* numeric.c (fix2str): ditto.

	* eval.c (thread_create): no more ITIMER_REAL.

	* eval.c (thread_create): thread finalization needed before
	  aborting thread if thread_abort is set.

Wed Jul  8 18:17:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (big_pow): abandon power by bignum (too big).

Tue Jul  7 13:58:43 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_catch): add C level catch/throw feature.

Mon Jul  6 15:18:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (arg): proper return values for `||=' and `&&='.

d12 1
a12 1
	* marshal.c (r_bytes): remove weird casting bwetween pointer and int.
d124 1
a124 1
Mon Jun 15 16:30:10 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
@


1.1.1.2.2.136
log
@str2cstr
@
text
@a0 4
Mon Jul 13 12:39:38 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (str2cstr): should not return NULL.

@


1.1.1.2.2.137
log
@1.1b9_31
@
text
@a0 16
Wed Jul 15 15:11:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental release 1.1b9_31.

Wed Jul 15 15:05:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_create): exit() and abort() in threads now
 	  forwarded to main_thread.

Tue Jul 14 14:03:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (obj_instance_variables): list names that is not
	  instance variables.

	* gc.c (GC_MALLOC_LIMIT): choose smaller limit value.

a3 4

Fri Jul 10 11:51:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (gettable): needed to add dyna_in_block() check.
@


1.1.1.2.2.138
log
@substr() taint
@
text
@a0 7
Thu Jul 16 22:58:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (scan_once): substrings to the block should not be
 	  tainted.  use reg_nth_match(), not str_substr().

	* string.c (str_substr): needed to transfer taint.

@


1.1.1.2.2.139
log
@1.1c0
@
text
@a0 10
Fri Jul 17 14:10:20 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c0 released.

Fri Jul 17 08:01:49 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* process.c (f_exec): Check_SafeStr() added.

	* process.c (f_system): Check_SafeStr() moved before fork().

a6 7

Thu Jul 16 16:15:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (xmalloc): object allocation count added to GC trigger.

	* eval.c (thread_save_context): avoid marking uninitialized stack
	  in thread_mark.  GC may be triggered by REALLOC_N().
@


1.1.1.2.2.140
log
@printf
@
text
@a0 10
Tue Jul 21 01:25:10 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (f_sprintf): integer formatter totally re-written.

	* sprintf.c (remove_sign_bits): support uppercase hexadecimal.

Sat Jul 18 00:14:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (f_sprintf): proper sign position for %X and %O.

@


1.1.1.2.2.141
log
@st.c(rehash)
@
text
@a0 4
Tue Jul 21 13:19:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* st.c (rehash): GC during rehash caused SEGV.

@


1.1.1.2.2.142
log
@rehash
@
text
@a0 4
Wed Jul 22 11:59:59 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* st.c (rehash): still had a GC problem.  fixed.

a1 2

	* eval.c (gc_mark_threads): crashed on GC before thread allocation.
@


1.1.1.2.2.143
log
@marshal/reg_clone
@
text
@a0 10
Fri Jul 24 02:10:22 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* marshal.c (r_bytes2): allocated buffer size was too short.

	* marshal.c (w_object): saves all options, not only casefold flag.

	* re.c (reg_clone): now copies options properly.

	* re.c (reg_get_kcode): code number was wrong.

@


1.1.1.2.2.144
log
@1.1c1
@
text
@a0 4
Fri Jul 24 13:40:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c1 released.

a9 8

Thu Jul 23 13:11:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_attr): argument should be symbol or a string.

Wed Jul 22 11:59:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (calculate_must_string): wrong offset added.
@


1.1.1.2.2.145
log
@sync ev
@
text
@a0 19
Tue Jul 28 13:03:25 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_s_new): argument to specify initial value is added.

	* array.c (ary_s_new): specifies size, not capacity.

Mon Jul 27 12:39:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_replace): zero fill for expansion gap.

	* regex.c (mbctab_euc): set flags on for 0xA1-0xFE.  suggested by
	  <inaba@@st.rim.or.jp>.

	* string.c (str_inspect): consider current_mbctype.

Sun Jul 26 15:37:11 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* array.c (ary_s_new): Array.new(1<<30) dumps core.

d17 1
a17 1
	* eval.c (rb_attr): argument should be symbol or string.
@


1.1.1.2.2.146
log
@1.1c2
@
text
@a0 10
Mon Aug 10 14:05:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* process.c (f_system): removed fflush(stdin).

Fri Aug  7 17:44:44 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* error.c (err_snprintf): replace sprintf for fixed sized buffer,
 	  with snprintf to avoid buffer over-run.  For systems which does
	  dot provide snprintf, missing/snprintf.c added.

@


1.1.1.2.2.147
log
@*** empty log message ***
@
text
@a0 4
Tue Aug 11 11:57:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c2 released.

@


1.1.1.2.2.148
log
@*** empty log message ***
@
text
@a0 10
Fri Aug 14 11:01:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (call_trace_func): save __FILE__, __LINE__ before
 	  executing trace_func, since trace function should not corrupt
 	  line number information.

Thu Aug 13 15:09:02 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_s_new): was marking unallocated region on GC.

@


1.1.1.2.2.149
log
@1.1c3
@
text
@a0 24
Thu Aug 27 12:54:28 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c3 released.

Wed Aug 26 11:47:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): pop non-greedy stack elements on success.

Wed Aug 26 09:25:35 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* ruby.h: add #define environ for cygwin32.

Mon Aug 24 18:46:44 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* dln.c (dln_find_1): path check was too strict.

Mon Aug 24 15:28:11 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* parse.y (f_arglist): opt_nl added after f_args.

Wed Aug 19 00:31:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_ctl): forgot to place TRAP_END at right position.

@


1.1.1.2.2.150
log
@1.1c4
@
text
@a0 43
Thu Sep  3 14:08:14 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c4 released.

Tue Sep  1 10:47:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (mbctab_euc): set 0x8e as multibyte character.

	* string.c (str_inspect): mask character for octal output.

Mon Aug 31 15:32:41 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): use calculated offset if exactn is the
	  first opcode in the compiled regexp.

	* regex.c (bm_search): use Boyer-Moore search for simple search.

	* regex.c (must_instr): wrong length check if pattern includes
	  byte escape by 0xff.

	* regex.c (re_compile_pattern): need not to check current_mbctype.

Sat Aug 29 16:31:40 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_check_safe_str): avoid calling rb_id2name() in normal 
	  cases to speed-up.

	* eval.c (thread_raise): do not save context of terminated thread.

	* regex.c (re_compile_pattern): mask \nnn over 256.

Sat Aug 29 02:09:46 1998 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* sprintf.c (f_sprintf): wrong buffer size check.

Fri Aug 28 01:57:04 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): accepts (?ix-ix) and (?ix-ix:...).

Fri Aug 28 12:25:33 1998  Hiroshi Igarashi  <igarashi@@ueda.info.waseda.ac.jp>

	* ruby.c (ruby_require_modules): load modules in appearing order.

@


1.1.1.2.2.151
log
@1.1c5
@
text
@a0 19
Tue Sep  8 18:05:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c5 released.

Tue Sep  8 10:03:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_each_line): wrong line splitting with newline at
 	  top of the string.

	* string.c: non bang methods return copied string.

	* eval.c (f_END): needed to initialize frame->argc;

Fri Sep  4 11:27:40 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (bigadd): proper sign combination.

	* regex.c (re_search): wrong return value for \A.

a5 3

	* regex.c (slow_search): do not compare llen and blen.  llen may
	  be longer than blen, if little contains 0xff.
@


1.1.1.2.2.152
log
@1.1c6
@
text
@a0 51
Mon Oct  5 18:31:53 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c6 released.

Fri Oct  2 14:22:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): `/\s*(--)$/ =~ "- --"' did not match,
	  because of wrong optimize condition.

Mon Oct  1 01:55:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (rb_intern): should not raise exceptions.

	* parse.y (yylex): symbol like `:foo?=' should not be allowed.

	* ext/extmk.rb.in: makes *.a for static link modules.

Fri Sep 25 12:01:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): `@@foo!' should be an error.

Thu Sep 24 14:55:06 1998  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* ext/etc/etc.c (Init_etc): wrong field definition.

Thu Sep 17 17:09:05 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_reopen): was creating FILE* for wrong fd.

Tue Sep 15 05:28:11 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* regex.c (re_compile_pattern): forgot to fixup for the pattern
 	  like (?=(A)|(B)).

Mon Sep 14 14:42:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): beginning and end of the string, do not
	  automatically match `\b'.

	* string.c (scan_once): comsume at leaset on character.

	* regex.c (re_search): wrong behavior for negative range.

Sat Sep 12 21:21:26 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* regex.c (re_search): range value should be maintained.

Thu Sep 10 10:55:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (backref_error): yyerror does not understand formats.

@


1.1.1.2.2.153
log
@1.1c7
@
text
@a0 96
Mon Nov  9 17:55:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c7 released.

Fri Nov  6 19:25:27 1998  Takao KAWAMURA  <kawamura@@ike.tottori-u.ac.jp>

	* sample/ruby-mode.el: font-lock patch.

Thu Nov  5 15:42:22 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sample/README, lib/README: simple description for each file.

Wed Nov  4 18:14:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (assign): attribute assignment should be called as public.

Mon Nov  2 18:24:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_create): was accessing modified status.

Sun Nov  1 01:18:52 1998  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* gc.c (xrealloc): size 0 needs round up to 1.

Sat Oct 31 23:18:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_split_method): negative LIMIT means number of
	  splitted fields are unlimited, as in perl.

	* string.c (rb_str_split_method): if LIMIT is unspecified,
	  trailing null fields are stripped.

Sat Oct 31 04:16:14 1998  Inaba Hiroto   <inaba@@st.rim.or.jp>

	* string.c (str_aref): regexp index SEGVed.

Fri Oct 30 14:33:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_match): returns nil for unmatch.

	* dir.c (dir_entries): new method.

	* eval.c (block_pass): do not push block, substitute it.

Wed Oct 28 11:37:42 1998  TAMITO  <tommy@@valley.ne.jp>

	* io.c (f_select): fd number comparison bug.

Sun Oct 25 22:59:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (set_list_bits): was using wrong offset.

Mon Oct 19 11:50:00 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* ext/extmk.rb: Load '@@top_srcdir@@/lib/find.rb', not
	'../lib/find.rb'.
	* ext/extmk.rb: Distinguish between `top_srcdir' and `topdir'.
	* Makefile.in (CFLAGS): Add `-I.'.
	* Makefile.in (lex.c): Give `@@srcdir@@/keywords' to gperf, not
	`keywords'.
	* instruby.rb: Use `CONFIG["bindir"]', instead of `prefix + "/bin"'.
	* instruby.rb: Use `CONFIG["libdir"]', instead of `prefix + "/lib"'.
	* instruby.rb Use `CONFIG["mandir"]', instead of `prefix + "/man"'.
	* instruby.rb (wdir): Add the variable to preserve the current
	working directory.
	* instruby.rb: Chdir to wdir before install `config.h' and
	`rbconfig.rb'.

Mon Oct 19 10:07:01 1998  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* eval.c (rb_eval): reduce recursive calls to rb_eval().

Thu Oct 15 13:54:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (arg): local variabls can be accessed within right side
 	  expression in assignment, notably in blocks.

Mon Oct 12 13:27:15 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_call0): check stack depth more frequently.

Fri Oct  9 17:01:14 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (read_all): read() returns "" at immediate EOF.

	* io.c (io_read): read(nil) read all until EOF.

Thu Oct  8 13:32:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_dump): marshal can dump Time object now.

	* marshal.c (Init_marshal): rename marshal methods `_dump_to' to
 	  `_dump', `_load_from' to `_load'.

	* parse.y (rb_intern): "+=".intern generates proper symbol.

@


1.1.1.2.2.154
log
@1.1c8
@
text
@a0 59
Tue Nov 17 18:11:20 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c8 released.

Tue Nov 17 16:58:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (arg): assignment to attribute name start with capital
	  should be allowed.

	* eval.c (thread_alloc): needed to mark terminated threads too.

Tue Nov 17 12:33:48 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* ext/extmk.rb.in (create_makefile): Set `libdir' to `@@libdir@@',
	  Set `pkglibdir' to `$libdir/$(RUBY_INSTALL_NAME)'.

Tue Nov 17 10:30:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (f_sprintf): %l%%c -> %%l%c

Sun Nov 15 15:44:07 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* ext/extmk.rb.in (install): bug in target.

Sat Nov 14 11:02:05 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* Makefile.in (install): Give the argument `$(DESTDIR)' to
	`instruby.rb'.
	* instruby.rb: Recognize ARG[0] as `destdir'.
	* instruby.rb: Give the argument `destdir' to `extmk.rb'.
	* ext/extmk.rb.in: Recognize ARG[1] as `$destdir'.

	* instruby.rb: Create the installation directories (bindir, libdir,
	archdir, pkglibdir, archdir, and mandir) under `destdir', and
	install all files under there.
	* ext/extmk.rb.in: Likewise.
	
Sat Nov 14 10:56:55 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* instruby.rb: Add the variable `pkglibdir'.
	* instruby.rb: Set the variable `libdir' to `$(libdir)', not
	`$(libdir)/$(ruby_install_name)'. `libruby.so' and `libruby.so.LIB'
	are installed at `libdir'.
	* instruby.rb: Set the variable `archdir' to `$(pkglibdir)/$(arch)'.

Fri Nov 13 19:43:29 1998  KIMURA Koichi  <kbk@@kt.rim.or.jp>

	* missing/nt.c (SafeFree): wrong free offset.

Tue Nov 10 00:22:11 1998  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* configure.in: elf supprt for FreeBSD 3.x

Thu Nov 12 20:11:53 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* sample/ruby-mode.el: wrong highlight.

	* parse.y (parse_regx): newline in regexp was ignored.

@


1.1.1.2.2.155
log
@1.1c9 - 1.1c final, hopefully
@
text
@a0 16
Wed Nov 25 13:07:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yycompile): reduce known memory leak (hard to remove).

Sat Nov 21 18:44:06 1998  Masaki Fukushima  <fukusima@@goto.info.waseda.ac.jp>

	* time.c (time_s_now): had memory leak.

	* ext/md5/md5init.c (md5_new): had memory leak.

	* ext/md5/md5init.c (md5_clone): ditto.

Wed Nov 18 10:48:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (read_all): SEGV on large files.

@


1.1.1.2.2.156
log
@1.1c final (hopefully)
@
text
@a0 26
Wed Dec  9 13:37:12 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* pack.c (encodes): use buffering for B-encoding.

	* pack.c (pack_pack): Q-encoding by 'M'.

Mon Dec  7 18:24:50 1998  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* ruby.c (set_arg0): $0 supprt for HP-UX.

Mon Dec  7 01:30:28 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* dln.c (dln_strerror): better error messages on win32.

Thu Dec  3 16:50:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/extmk.rb.in (realclean): trouble on install.

Sun Nov 29 22:25:39 1998  Takaaki Tateishi  <ttate@@jaist.ac.jp>

	* process.c (f_exec): check number of argument.

Thu Nov 26 17:27:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c9 released.

@


1.1.1.2.2.157
log
@1.2 stable
@
text
@a0 10
Fri Dec 25 13:07:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.2 (stable) released.

Fri Dec 25 11:56:51 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (gc_mark): proper scanning for temporary region.

	* eval.c (TMP_ALLOC): protection for C_ALLOCA was broken.

@


1.1.1.2.2.158
log
@1.2.1 stable
@
text
@a0 19
Mon Jan 11 16:52:31 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.2.1 (stable) released.

Wed Jan  6 02:42:08 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (Init_Bignum): forgot to define Bignum#===.

	* gc.c (gc_sweep): if add_heap() is called during GC, objects on
	  allocated heap page(s) are not marked, should not be recycled.

	* gc.c (gc_sweep): should refer latest freelist.

Mon Dec 28 18:54:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* gc.c (obj_free): better C_ALLOCA support.

	* eval.c (rb_eval): should not dump core with "#{}".

@


1.1.1.2.2.159
log
@1.2.2 PR1
@
text
@a0 8
Mon Jan 18 13:02:27 1999  Kuroda Jun  <jkuro@@dwe.co.j>

	* hash.c (env_keys): strchr() may return NULL.

Sun Jan 17 19:45:37 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* pack.c (pack_pack): nil packing caused SEGV.

@


1.1.1.2.2.160
log
@1.2.2 release
@
text
@a0 8
Thu Jan 21 18:04:05 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.2.2 (stable) released.

Tue Jan 19 05:01:16 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* array.c (beg_len): round range value too much.

@


1.1.1.2.2.161
log
@990209
@
text
@a0 27
Mon Feb  8 23:53:58 1999  SHIROYAMA Takayuki  <psi@@fortune.nest.or.jp>

	* dln.c (FUNCNAME_PATTERN): FreeBSD for alpha/mips

Mon Feb  8 17:07:37 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* error.c (rb_sys_fail): need to allocate enough size buffer.

Fri Feb  5 00:01:50 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (terms): needed to clear heredoc_end.

Sat Jan 30 01:51:16 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_delete_if): RTEST() missing.

	* hash.c (delete_if_i): ditto.

Wed Jan 27 17:50:02 1999  Kazuhiro HIWADA  <hiwada@@kuee.kyoto-u.ac.jp>

	* bignum.c (dbl2big): raised error if double is too big to cast
	  into long.  check added.

Wed Jan 27 15:45:04 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_alias): was corrupting body.

@


1.1.1.2.2.162
log
@1.2.3
@
text
@a0 12
Tue Feb 16 12:40:55 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.2.3 (stable) released.

Wed Feb 10 15:20:03 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): empty pattern should not cause infinite
	  pattern match loop.

	* regex.c (re_compile_pattern): RE_OPTIMIZE_ANCHOR for /.*/, not
	  for /(.|\n)/.

@


1.1.1.2.2.163
log
@1.2.4
@
text
@a0 60
Fri Mar 12 12:27:55 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_index): negative offset.

	* regex.c (re_match): begline should not match at the point
	  between a newline and end-of-string.  endline neither.

	* regex.c (re_compile_pattern): context_indep_anchors.

	* parse.y (parse_regx): need not to push backslashes before
	  escaped characters.

Sun Mar  7 14:21:32 1999  IKARASHI Akira <ikarashi@@itlb.te.noda.sut.ac.jp>

	* string.c (rb_str_index): wrong end point calculation.

Thu Mar  4 14:23:11 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (ary_replace_method): should replace original array

Fri Mar 19 11:26:45 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* eval.c (ruby_run): needed to eval END{} on exit.

	* eval.c (rb_exit): ditto.

Thu Mar 18 15:47:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (rb_big_and): bug in sign calculation.

	* bignum.c (rb_big_or): ditto.

	* io.c (rb_f_select): forgot to use to_io to retrieve IO, after
	  calling select(2).

Tue Mar 16 10:23:05 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_clone): Time object can be cloned.

Tue Mar 16 03:13:10 1999  Koji Arai  <JCA02266@@nifty.ne.jp>

	* ruby.c (load_file): argv[argc] should be NULL.

Mon Mar 15 22:12:08 1999  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* sprintf.c (rb_f_sprintf): type in arg_num check at exit.

Wed Feb 17 01:12:22 1999  Hirotaka Ichikawa  <hirotaka.ichikawa@@tosmec.toshiba.co.jp>

	* configure.in: BeOS patch.

Wed Feb 17 01:25:26 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (error_print): exception in rb_obj_as_string() caused
	  SEGV. protect it by PUSH_TAG/POP_TAG.

Tue Feb 16 23:42:51 1999  Yasuhiro Fukuma  <yasuf@@big.or.jp>

	* configure.in: FreeBSD objformat patch

@


1.1.1.2.2.164
log
@*** empty log message ***
@
text
@a0 14
Thu Apr  8 18:10:37 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.2.4 (stable) released.

Tue Apr  6 17:33:00 1999  Inaba Hiroto  <inaba@@st.rim.or.jp>

	* eval.c (rb_eval): flip3 did not work properly.

Tue Apr  6 14:02:39 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* re.c (reg_match): should return false, not nil.

	* re.c (reg_match2): ditto.

a60 1
>>>>>>> 1.1.1.2.2.163
d278 1
a278 1
Sat Oct 31 04:16:14 1998  Inaba Hiroto  <inaba@@st.rim.or.jp>
@


1.1.1.2.2.165
log
@*** empty log message ***
@
text
@d75 1
@


1.1.1.2.2.166
log
@1.2.5 pre
@
text
@a0 4
Mon Apr 12 23:12:32 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_reopen): check for reopening same IO.

@


1.1.1.2.2.167
log
@1.2.5 changelog
@
text
@a0 4
Tue Apr 13 14:59:25 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.2.5 (stable) released.

@


1.1.1.2.2.168
log
@to open CVS
@
text
@a0 21
Tue Apr 20 11:24:18 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_dump): `#' should be escaped.

Mon Apr 19 18:56:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (IS_A_LETTER): a byte sequence shorter than mbc should
	  not match with \w etc.

Fri Apr 16 21:40:43 1999  Nobuetsu Nokada  <gea02117@@nifty.ne.jp>

	* io.c (f_backquote): pipe_open may return nil.

	* io.c (f_open): io_open may return nil.

	* io.c (io_s_foreach): ditto.

	* io.c (io_s_readlines): ditto.

	* io.c (io_defset): wrong message.

@


1.1.1.2.2.169
log
@format %f
@
text
@a0 5
Mon Apr 26 16:46:59 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (rb_f_sprintf): should allocate proper sized buffer
	  for float numbers.

@


1.1.1.2.2.170
log
@moving
@
text
@a0 11
Wed May 12 14:19:38 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* struct.c (iv_get): in case of inheritance of generated struct
	  class, __member__ and __size__ should also be inherited.
	  Thanks for Pros Yeboah <yeboah@@tu-harburg.de>.

Mon May 10 13:21:01 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (tr_squeeze): should not set modify flag to be honest,
	  if the string is not modified.

@


1.1.1.2.2.171
log
@1.2.6
@
text
@a0 57
Mon Jun 21 15:29:31 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.2.6 (1.2 final) released.

Fri Jun 11 15:21:21 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/etc/etc.c (etc_group): dumps core if there's no more group.

Thu Jun 10 16:41:48 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (is_defined): `defined? super' should be true even for
	  private superclass methods.

Mon Jun  7 23:23:38 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (mod_clone): should call CLOSESETUP().

	* eval.c (bind_clone): should call CLONESETUP() for new clone.

Wed Jun  2 00:41:31 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* pack.c (pack_unpack): new undocumented template Z which strips
	  stuff after first null.

	* pack.c (pack_pack): should preserve specified length of the
	  resulting string.

Tue Jun  1 15:29:33 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (module_setup): need to add PUSH_VAR/POP_VAR to clear
	  dyna vars link list.

Tue May 25 16:45:11 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_f_syscall): syscall may return values other than zero
	  on success.

Tue May 18 11:35:59 1999  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* dln.c (conv_to_posix_path): path_len argument added.

Mon May 17 12:26:31 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (read_escape): char may be unsigned.

	* string.c (rb_str_succ): ditto.

	* string.c (tr_trans): ditto.

	* regex.c (re_compile_pattern): escaped characters should be read
	  by PATFETCH_RAW(c).

Sat May 15 11:23:51 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (include_class_new): should initialize iv_tbl to share
	  between module and iclass.

@


1.1.1.2.2.172
log
@1.2.6 repack
@
text
@a0 8
Thu Jul 15 12:09:33 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.2.6 (repacked).

Wed Jul  7 18:27:41 1999  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* st.c (st_delete_safe): was modifying wrong slot.

d83 1
a83 1
Fri Apr 16 21:40:43 1999  Nobuyoshi Nakada  <gea02117@@nifty.ne.jp>
d129 1
a129 1
Sun Mar  7 14:21:32 1999  IKARASHI Akira  <ikarashi@@itlb.te.noda.sut.ac.jp>
d224 1
a224 1
Mon Jan 18 13:02:27 1999  Kuroda Jun  <jkuro@@dwe.co.jp>
d562 1
a562 1
Sat Aug 29 02:09:46 1998  Koji Arai  <JCA02266@@nifty.ne.jp>
d1096 1
a1096 1
Wed May 13 19:05:20 1998  MAEDA shugo  <shugo@@aianet.ne.jp>
@


1.1.1.2.2.150.2.1
log
@1.1d series
@
text
@a0 18
Tue Sep  8 01:42:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* enum.c (Init_Enumerable): Enumerable#reverse removed.

	* eval.c (call_trace_func): profiler support.

	* eval.c (rb_call0): ditto.

Thu Sep  3 16:34:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* bignum.c (bigadd): proper sign combination.

	* eval.c (dvar_asgn_push): modify calling block to create dvar,
	  not insert it next to dummy dvar slot.

	* eval.c (eval): save calling block in (thread local) global
	  variable.  no dummy dvar slot is generated by yield.

a43 4
Fri Aug 28 01:57:04 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_compile_pattern): accepts (?ix-ix) and (?ix-ix:...).

a47 11
Wed Aug 26 14:40:56 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_eval): check whether ruby_class is properly set,
	  before accessing it.

	* eval.c (rb_obj_instance_eval): ruby_class should be Qnil for
	  special objects like Fixnums.

	* ext/tkutil/tkutil.c (Init_tkutil): removes calls to
	  rb_yield_0().  used instance_eval() instead in the tk.rb.

a55 4
Tue Aug 25 08:57:41 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (rb_ary_sort_bang): temporarily freeze sorting array.

a63 17
Fri Aug 21 01:06:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/socket/socket.c: grand renaming on socket.c.

	* ext/socket/socket.c (inet_aton): supply inet_aton for those
	  systems that do not have it.

	* ext/socket/socket.c (setipaddr): use inet_aton instead of
	  inet_addr.

	* ext/socket/socket.c (tcp_s_gethostbyname): new method: works
	  like Socket.gethostbyname but returning array contains ip-addrs
	  as octet decimal string format like "127.0.0.1".

	* ext/socket/socket.c (mkhostent): return format changed to
	  [host, aliases, type, ipaddr..]  as documented.

a90 18

Wed Aug  5 00:47:35 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (rb_reg_search): recycle match object.

Mon Aug  3 09:17:55 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_gsub_bang): do not allocate temporary string.

	* string.c (rb_str_sub_bang): use inline replace.

Wed Jul 29 00:36:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (hash_s_new): the default value can be specified.

	* hash.c (hash_default): method to set the default value.

	* hash.c (hash_aref): now returns the default value.
@


1.1.1.2.2.150.2.2
log
@join 1.1c6
@
text
@a0 85
Mon Oct  5 18:31:53 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c6 released.

Fri Oct  2 14:22:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): `/\s*(--)$/ =~ "- --"' did not match,
	  because of wrong optimize condition.

Thu Oct  1 01:55:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (rb_intern): should not raise exceptions.

	* parse.y (yylex): symbol like `:foo?=' should not be allowed.

	* ext/extmk.rb.in: makes *.a for static link modules.

Wed Sep 30 14:13:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_start): supports making a subclass of the
	  Thread class.

Tue Sep 29 17:46:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_thread_join): join is now an instance method.

Fri Sep 25 12:01:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): `@@foo!' should be an error.

Thu Sep 24 14:55:06 1998  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* ext/etc/etc.c (Init_etc): wrong field definition.

Thu Sep 17 17:09:05 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (io_reopen): was creating FILE* for wrong fd.

Tue Sep 15 05:28:11 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* regex.c (re_compile_pattern): forgot to fixup for the pattern
 	  like (?=(A)|(B)).

Tue Sep 15 01:06:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_io_gets_internal): do not set $_ by default, only
	  gets/readline set the variable.

	* eval.c (rb_f_load): load toplevel class is set to anonymous
	  module if safe_level >= 5, to encapsulate modification.

	* eval.c (rb_f_load): set frame properly.

	* string.c (rb_str_each_line): do not set $_.

Mon Sep 14 14:42:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): beginning and end of the string, do not
	  automatically match `\b'.

	* string.c (scan_once): comsume at leaset on character.

	* regex.c (re_search): wrong behavior for negative range.

Sat Sep 12 21:21:26 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* regex.c (re_search): range value should be maintained.

Thu Sep 10 10:55:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (backref_error): yyerror does not understand formats.

Tue Sep  8 18:05:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c5 released.

Tue Sep  8 10:03:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (str_each_line): wrong line splitting with newline at
 	  top of the string.

	* string.c: non bang methods return copied string.

	* eval.c (f_END): needed to initialize frame->argc;

d9 1
a9 1
Fri Sep  4 11:27:40 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d13 5
a17 1
	* regex.c (re_search): wrong return value for \A.
a23 3

	* regex.c (slow_search): do not compare llen and blen.  llen may
	  be longer than blen, if little contains 0xff.
@


1.1.1.2.2.150.2.3
log
@*** empty log message ***
@
text
@a0 313
Wed Nov 25 03:41:21 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* st.c (st_init_table_with_size): round size up to prime number.

Sat Nov 21 23:27:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* hash.c (rb_hash_aset): reduce copying key strings.

	* gc.c (looks_pointerp): declare as inline function if possible.

	* st.c (PTR_NOT_EQUAL): compare hash values first before calling
	  comparing function.

	* st.c (ADD_DIRECT): save hash value in entries to reduce hash
	  calculation.

	* string.c (rb_str_gsub_bang): avoid rb_scan_args() to speed-up.

	* string.c (rb_str_sub_bang): ditto.

	* string.c (rb_str_dup): do not copy additional data (STR_NO_ORIG).

Fri Nov 20 23:23:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* lib/delegate.rb: do not propagate hash and eql?.

Thu Nov 19 01:40:52 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sample/ruby-mode.el (ruby-expr-beg): failed to find reserved
	  word boundary.

	* eval.c (rb_eval): avoid calling `concat' method.  calls
	  rb_ary_concat() directly for efficiency.

	* eval.c (rb_eval): actual rest arguments extended arrays too much.

Wed Nov 18 10:48:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (read_all): SEGV on large files.

Wed Nov 18 14:30:24 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* class.c (rb_define_global_function): global functions now be
	  module function of the Kernel.

Tue Nov 17 18:11:20 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c8 released.

Tue Nov 17 16:58:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (arg): assignment to attribute name start with capital
	  should be allowed.

	* eval.c (thread_alloc): needed to mark terminated threads too.

Tue Nov 17 12:33:48 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* ext/extmk.rb.in (create_makefile): Set `libdir' to `@@libdir@@',
	  Set `pkglibdir' to `$libdir/$(RUBY_INSTALL_NAME)'.

Tue Nov 17 10:30:46 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sprintf.c (f_sprintf): %l%%c -> %%l%c

Tue Nov 17 01:08:50 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (ret_args): distinguish `a' and `*a' for the arguments
	  of yield and return.

	* eval.c (rb_eval): flip3 should work like sed.

	* eval.c (rb_eval): flip{2,3} now have independent state for each
	  scope to work fine with thread.

Mon Nov 16 23:26:29 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (primary): exec else clause if no exception raised.

Sun Nov 15 15:44:07 1998  Tadayoshi Funaba  <tadf@@kt.rim.or.jp>

	* ext/extmk.rb.in (install): bug in target.

Sat Nov 14 11:02:05 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* Makefile.in (install): Give the argument `$(DESTDIR)' to
	`instruby.rb'.
	* instruby.rb: Recognize ARG[0] as `destdir'.
	* instruby.rb: Give the argument `destdir' to `extmk.rb'.
	* ext/extmk.rb.in: Recognize ARG[1] as `$destdir'.

	* instruby.rb: Create the installation directories (bindir, libdir,
	archdir, pkglibdir, archdir, and mandir) under `destdir', and
	install all files under there.
	* ext/extmk.rb.in: Likewise.
	
Sat Nov 14 10:56:55 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* instruby.rb: Add the variable `pkglibdir'.
	* instruby.rb: Set the variable `libdir' to `$(libdir)', not
	`$(libdir)/$(ruby_install_name)'. `libruby.so' and `libruby.so.LIB'
	are installed at `libdir'.
	* instruby.rb: Set the variable `archdir' to `$(pkglibdir)/$(arch)'.

Fri Nov 13 19:43:29 1998  KIMURA Koichi  <kbk@@kt.rim.or.jp>

	* missing/nt.c (SafeFree): wrong free offset.

Thu Nov 12 20:11:53 1998  Koji Arai  <JCA02266@@nifty.ne.jp>

	* sample/ruby-mode.el: wrong highlight.

	* parse.y (parse_regx): newline in regexp was ignored.

Wed Nov 11 10:54:57 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (here_document): <<'FOO' should not escape anything.

	* parse.y (here_document): bare << here-doc available, even though
	  it's deprecated.

	* file.c (rb_file_s_readlink): return value should be tainted.

	* ext/etc/etc.c (setup_passwd): information (eg. GCOS name) should
	  be tainted (modified at Perl Conference).

Tue Nov 10 00:22:11 1998  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* configure.in: elf supprt for FreeBSD 3.x

Tue Nov 10 00:05:43 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yylex): here document available in eval.

Mon Nov  9 17:55:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c7 released.

Fri Nov  6 19:25:27 1998  Takao KAWAMURA  <kawamura@@ike.tottori-u.ac.jp>

	* sample/ruby-mode.el: font-lock patch.

Thu Nov  5 15:42:22 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sample/README, lib/README: simple description for each file.

Wed Nov  4 18:14:19 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (assign): attribute assignment should be called as public.

Tue Nov  3 23:36:39 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_dump): dumps core for negative char value.

	* regex.c (re_compile_pattern): out of boundary access for empty
	  regexp.

Mon Nov  2 22:54:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_aset): `str[str]' replaces first match.

Mon Nov  2 18:24:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (thread_create): was accessing modified status.

Sun Nov  1 01:18:52 1998  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* gc.c (xrealloc): size 0 needs round up to 1.

Sat Oct 31 23:18:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* string.c (rb_str_split_method): negative LIMIT means number of
	  splitted fields are unlimited, as in perl.

	* string.c (rb_str_split_method): if LIMIT is unspecified,
	  trailing null fields are stripped.

Sat Oct 31 04:16:14 1998  Inaba Hiroto   <inaba@@st.rim.or.jp>

	* string.c (str_aref): regexp index SEGVed.

Fri Oct 30 14:33:47 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* re.c (reg_match): returns nil for unmatch.

	* dir.c (dir_entries): new method.

	* eval.c (block_pass): do not push block, substitute it.

Fri Oct 30 01:28:52 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* range.c (range_check): avoid <=> check for Fixnums.

	* array.c (rb_ary_aset): accept negative index.

Wed Oct 28 22:00:54 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_match): access out of boundary fixed.

Wed Oct 28 11:37:42 1998  TAMITO  <tommy@@valley.ne.jp>

	* io.c (f_select): fd number comparison bug.

Tue Oct 27 23:07:11 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* sample/ruby-mode.el (ruby-parse-region): forgot to support %w()
	  style array literal.

	* eval.c (rb_eval): unused block raises warning.

Mon Oct 26 09:37:53 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (dvar_asgn_push): dvar pushed too many times if
	  variable-in-block first appear in loops.

Sun Oct 25 22:59:27 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (set_list_bits): was using wrong offset.

Thu Oct 22 00:07:11 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_obj_method): method retrieved from tainted object
	  should be tainted too.

	* eval.c (method_call): safe_level should be restored during
	  Method#call.

Wed Oct 21 14:21:06 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (Init_IO): new constants IO::SEEK_{SET,CUR,END}.

	* io.c (rb_f_ungetc): ungetc pushes a char back into STDIN.

Mon Oct 19 11:50:00 1998  Motoyuki Kasahara  <m-kasahr@@sra.co.jp>

	* ext/extmk.rb: Load '@@top_srcdir@@/lib/find.rb', not
	'../lib/find.rb'.
	* ext/extmk.rb: Distinguish between `top_srcdir' and `topdir'.
	* Makefile.in (CFLAGS): Add `-I.'.
	* Makefile.in (lex.c): Give `@@srcdir@@/keywords' to gperf, not
	`keywords'.
	* instruby.rb: Use `CONFIG["bindir"]', instead of `prefix + "/bin"'.
	* instruby.rb: Use `CONFIG["libdir"]', instead of `prefix + "/lib"'.
	* instruby.rb Use `CONFIG["mandir"]', instead of `prefix + "/man"'.
	* instruby.rb (wdir): Add the variable to preserve the current
	working directory.
	* instruby.rb: Chdir to wdir before install `config.h' and
	`rbconfig.rb'.

Mon Oct 19 10:07:01 1998  EGUCHI Osamu  <eguchi@@shizuokanet.ne.jp>

	* eval.c (rb_eval): reduce recursive calls to rb_eval().

Fri Oct 16 15:31:45 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_new_internal): timeval must be positive.

Thu Oct 15 13:54:48 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (arg): local variabls can be accessed within right side
 	  expression in assignment, notably in blocks.

Wed Oct 14 00:18:33 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* array.c (Init_Array): Array#=== is now for equal check, not
	  inclusion check.

	* parse.y (when_args): `when a, *b' style new syntax for array
	  expansion in `case'.

Tue Oct 13 14:30:32 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* object.c (rb_obj_untaint): taint marks can be unset.

	* eval.c (rb_eval): taint propagation for embedded strings.

Mon Oct 12 13:27:15 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (rb_call0): check stack depth more frequently.

Mon Oct 12 08:08:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (rb_p): can print even in secure mode.

Sun Oct 11 22:50:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (rb_const_set): taint check for modification.

	* variable.c (rb_ivar_set): taint check for modification.

	* string.c (rb_str_modify): taint check for modification.

	* hash.c (rb_hash_modify): taint check for modification.

	* array.c (rb_ary_modify): taint check for modification.

	* ruby.h (FL_TAINT): taint for all objects, not only strings.

Fri Oct  9 17:01:14 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (read_all): read() returns "" at immediate EOF.

	* io.c (io_read): read(nil) read all until EOF.

Thu Oct  8 13:32:13 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* time.c (time_dump): marshal can dump Time object now.

	* marshal.c (Init_marshal): rename marshal methods `_dump_to' to
 	  `_dump', `_load_from' to `_load'.

	* parse.y (rb_intern): "+=".intern generates proper symbol.

d10 1
a10 1
Mon Oct  1 01:55:16 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>
d86 8
a99 1
>>>>>>> 1.1.1.2.2.154
@


1.1.1.2.2.150.2.4
log
@first public release of 1.1d (pre1.2) series
@
text
@a0 65
Wed Dec 16 16:28:31 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental version 1.1d0 (pre1.2) released.

Wed Dec 16 10:43:34 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* regex.c (re_search): bound check before calling re_match().

Tue Dec 15 13:59:01 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* error.c (exc_to_s): returns class name for unset mesg.

	* error.c (exc_initialize): do not initialize @@mesg by "".

	* parse.y (nextc): __END__ should handle CR+LF newlines.

Wed Dec  9 13:37:12 1998  MAEDA shugo  <shugo@@aianet.ne.jp>

	* pack.c (encodes): use buffering for B-encoding.

	* pack.c (pack_pack): Q-encoding by 'M'.

Tue Dec  8 14:10:00 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* variable.c (generic_ivar_get): any object can have instance
	  variables now.  great improvement.

	* variable.c (rb_name_class): do not set __classpath__ by default,
	  use __classid__ instead.

Mon Dec  7 22:08:22 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ruby.h (struct RFile): IO objects can have instance variables now.

	* parse.y (primary): allows `def obj::foo; .. end'.

Mon Dec  7 18:24:50 1998  WATANABE Tetsuya  <tetsu@@jpn.hp.com>

	* ruby.c (set_arg0): $0 supprt for HP-UX.

Mon Dec  7 01:30:28 1998  WATANABE Hirofumi  <watanabe@@ase.ptg.sony.co.jp>

	* dln.c (dln_strerror): better error messages on win32.

Sat Dec  5 23:27:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (here_document): indentable here-doc delimiter by
	  `<<-'.  Proposed by Clemens <c.hintze@@gmx.net>.  Thanks.

Thu Dec  3 16:50:17 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/extmk.rb.in (realclean): trouble on install.

Sun Nov 29 22:25:39 1998  Takaaki Tateishi  <ttate@@jaist.ac.jp>

	* process.c (f_exec): check number of argument.

Wed Nov 25 13:07:12 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* parse.y (yycompile): reduce known memory leak (hard to remove).

Thu Nov 26 17:27:30 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* version 1.1c9 released.

a22 8
Sat Nov 21 18:44:06 1998  Masaki Fukushima  <fukusima@@goto.info.waseda.ac.jp>

	* time.c (time_s_now): had memory leak.

	* ext/md5/md5init.c (md5_new): had memory leak.

	* ext/md5/md5init.c (md5_clone): ditto.

d37 4
a44 4

Wed Nov 18 10:48:09 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* io.c (read_all): SEGV on large files.
@


1.1.1.2.2.150.2.5
log
@1.1d1
@
text
@a0 29
Tue Dec 22 18:01:08 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* experimental version 1.1d1 released.

Mon Dec 21 01:33:03 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* eval.c (TMP_PROTECT): add volatile to ensure GC protection.

	* string.c (rb_str_gsub_bang): calculate buffer size properly.

	* parse.y (lex_get_str): needed to return Qnil at EOS.

	* eval.c (find_file): check policy modified, raise exception
	  immediately for tainted load_path.

	* hash.c (rb_f_setenv): do not depend on setenv() nor putenv().

Thu Dec 17 06:29:23 1998  Yukihiro Matsumoto  <matz@@netlab.co.jp>

	* ext/tk/tkutil.c (tk_s_new): use rb_obj_instance_eval(), instead
	  of rb_yield_0().

	* eval.c (rb_f_require): forgot to call find_file in some cases.

	* eval.c (rb_f_require): `require "feature.so"' to load dynamic
	  libraries.  old `require "feature.o"' is still OK.

	* eval.c (rb_eval): yield without value dumped core.

@
