head	1.13;
access;
symbols
	v1_6_7:1.10.2.2
	v1_6_6:1.10.2.2
	v1_6_5:1.10.2.1
	v1_6_4:1.10
	v1_7_1:1.10
	v1_6_4_preview4:1.10
	v1_6_4_preview3:1.10
	v1_6_4_preview2:1.10
	v1_6_4_preview1:1.10
	v1_6_3:1.10
	ruby_m17n:1.10.0.4
	ruby_1_6:1.10.0.2
	v1_6_2:1.10
	v1_6_1:1.9
	v1_6_0:1.9
	v1_4_6:1.2.2.6
	v1_4_5:1.2.2.5
	v1_4_4:1.2.2.3
	ruby_1_4_3:1.2
	ruby1_4_3:1.2
	v1_4_3:1.2
	v1_5_0:1.2
	ruby_1_4_3_pre1:1.2
	ruby_1_4:1.2.0.2
	v1_4_2:1.2
	v1_4_1:1.2
	v1_4_0:1.2
	v1_3_7:1.1.1.2.2.3
	v1_3_6_repack:1.1.1.2.2.3
	v1_3_6:1.1.1.2.2.3
	v1_3_5:1.1.1.2.2.3
	v1_2_6repack:1.1.1.1.4.9
	v1_3_4_990625:1.1.1.2.2.3
	v1_3_4_990624:1.1.1.2.2.3
	v1_2_6:1.1.1.1.4.9
	v1_3_4_990611:1.1.1.2.2.3
	v1_3_4_990531:1.1.1.2.2.3
	v1_3_3_990518:1.1.1.2.2.3
	v1_3_3_990513:1.1.1.2.2.3
	v1_3_3_990507:1.1.1.2.2.3
	v1_2_5:1.1.1.1.4.8
	v1_2_4:1.1.1.1.4.8
	v1_3_1_990225:1.1.1.2.2.1
	v1_3_1_990224:1.1.1.2.2.1
	v1_3_1_990215:1.1.1.2
	v1_3_1_990212:1.1.1.2
	v1_3_1_990210:1.1.1.2
	v1_3_1_:1.1.1.2
	v1_3_1_990209:1.1.1.2
	v1_3_1_990205:1.1.1.2
	v1_3_1_990203:1.1.1.2
	v1_3_1_990201:1.1.1.2
	v1_3_1"_990201:1.1.1.2
	v1_3_1_990128:1.1.1.2
	v1_3_1_990127:1.1.1.2
	v1_3_1_990126:1.1.1.2
	ruby_1_3:1.1.1.2.0.2
	v1_2_2:1.1.1.1.4.8
	RUBY_1_3:1.1.1.2
	v1_2_2_pr1:1.1.1.1.4.8
	v1_2_1repack:1.1.1.1.4.8
	v1_2_1:1.1.1.1.4.8
	v1_2_stable:1.1.1.1.4.7
	v1_1d1:1.1.1.1.4.7
	v1_1d0:1.1.1.1.4.7
	v1_1c9_1:1.1.1.1.4.7
	v1_1c9:1.1.1.1.4.7
	v1_1c8:1.1.1.1.4.7
	v1_1c7:1.1.1.1.4.7
	v1_1c6:1.1.1.1.4.7
	v1_1d-start:1.1.1.1.4.7
	v1_1c5:1.1.1.1.4.7
	v1_1dev:1.1.1.1.4.7.0.2
	v1_1c4:1.1.1.1.4.7
	v1_1c3:1.1.1.1.4.7
	v1_1c2:1.1.1.1.4.7
	v1_1c1:1.1.1.1.4.7
	v1_1c0:1.1.1.1.4.6
	v1_1b9_31:1.1.1.1.4.6
	v1_1b9_30:1.1.1.1.4.6
	v1_1b9_28:1.1.1.1.4.6
	v1_1b9_27:1.1.1.1.4.6
	v1_1b9_26:1.1.1.1.4.6
	r1_1b9_25:1.1.1.1.4.5
	r1_1b9_24:1.1.1.1.4.5
	v1_1b9_23:1.1.1.1.4.5
	v1_1b9_22:1.1.1.1.4.5
	v1_1b9_20:1.1.1.1.4.5
	v1_1b9_18:1.1.1.1.4.4
	v1_1b9_16:1.1.1.1.4.4
	v1_1b9_15:1.1.1.1.4.4
	v1_1b9_13:1.1.1.1.4.4
	v1_1b9_12:1.1.1.1.4.4
	v1_1b9_11:1.1.1.1.4.4
	v1_1b9_08:1.1.1.1.4.2
	v1_1b9_07:1.1.1.1.4.1
	r1_1b9:1.1.1.1
	v1_1b8:1.1.1.1
	v1_1b7:1.1.1.1
	v1_1b6:1.1.1.1
	v1_1r:1.1.1.1.0.4
	v1_1:1.1.1.1
	v1_0r:1.1.1.1.0.2
	v1_0:1.1.1.1
	RUBY:1.1.1;
locks; strict;
comment	@# @;


1.13
date	2002.05.02.07.50.36;	author matz;	state Exp;
branches;
next	1.12;

1.12
date	2001.10.31.06.53.22;	author matz;	state Exp;
branches;
next	1.11;

1.11
date	2001.07.14.15.17.18;	author matz;	state Exp;
branches;
next	1.10;

1.10
date	2000.11.27.09.23.17;	author matz;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2000.08.28.09.53.24;	author matz;	state Exp;
branches;
next	1.8;

1.8
date	2000.07.01.06.46.33;	author matz;	state Exp;
branches;
next	1.7;

1.7
date	2000.05.24.04.33.54;	author matz;	state Exp;
branches;
next	1.6;

1.6
date	2000.05.01.09.41.11;	author matz;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.29.08.05.24;	author matz;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.08.08.48.44;	author matz;	state Exp;
branches;
next	1.3;

1.3
date	2000.02.02.08.10.30;	author matz;	state Exp;
branches;
next	1.2;

1.2
date	99.08.13.05.45.02;	author matz;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	98.01.16.12.13.06;	author matz;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.01.16.12.13.06;	author matz;	state Exp;
branches
	1.1.1.1.4.1;
next	1.1.1.2;

1.1.1.2
date	99.01.20.04.59.22;	author matz;	state Exp;
branches
	1.1.1.2.2.1;
next	;

1.1.1.2.2.1
date	99.02.24.04.31.17;	author matz;	state Exp;
branches;
next	1.1.1.2.2.2;

1.1.1.2.2.2
date	99.04.09.17.57.36;	author matz;	state Exp;
branches;
next	1.1.1.2.2.3;

1.1.1.2.2.3
date	99.04.16.06.03.29;	author matz;	state Exp;
branches;
next	;

1.1.1.1.4.1
date	98.04.07.08.34.06;	author matz;	state Exp;
branches;
next	1.1.1.1.4.2;

1.1.1.1.4.2
date	98.04.07.09.39.58;	author matz;	state Exp;
branches;
next	1.1.1.1.4.3;

1.1.1.1.4.3
date	98.04.16.10.20.16;	author matz;	state Exp;
branches;
next	1.1.1.1.4.4;

1.1.1.1.4.4
date	98.04.16.10.41.53;	author matz;	state Exp;
branches;
next	1.1.1.1.4.5;

1.1.1.1.4.5
date	98.05.13.07.26.02;	author matz;	state Exp;
branches;
next	1.1.1.1.4.6;

1.1.1.1.4.6
date	98.06.16.04.23.17;	author matz;	state Exp;
branches;
next	1.1.1.1.4.7;

1.1.1.1.4.7
date	98.07.24.04.41.50;	author matz;	state Exp;
branches;
next	1.1.1.1.4.8;

1.1.1.1.4.8
date	99.01.11.07.55.24;	author matz;	state Exp;
branches;
next	1.1.1.1.4.9;

1.1.1.1.4.9
date	99.04.20.08.20.54;	author matz;	state Exp;
branches;
next	;

1.2.2.1
date	2000.02.02.08.09.38;	author matz;	state Exp;
branches;
next	1.2.2.2;

1.2.2.2
date	2000.02.08.08.53.45;	author matz;	state Exp;
branches;
next	1.2.2.3;

1.2.2.3
date	2000.03.02.03.51.37;	author matz;	state Exp;
branches;
next	1.2.2.4;

1.2.2.4
date	2000.05.01.09.42.17;	author matz;	state Exp;
branches;
next	1.2.2.5;

1.2.2.5
date	2000.06.13.09.50.42;	author matz;	state Exp;
branches;
next	1.2.2.6;

1.2.2.6
date	2000.06.30.09.13.33;	author matz;	state Exp;
branches;
next	;

1.10.2.1
date	2001.07.16.04.01.42;	author matz;	state Exp;
branches;
next	1.10.2.2;

1.10.2.2
date	2001.10.31.06.52.24;	author matz;	state Exp;
branches;
next	1.10.2.3;

1.10.2.3
date	2002.05.14.06.08.42;	author matz;	state Exp;
branches;
next	;


desc
@@


1.13
log
@* error.c: use HAVE_DECL_SYS_NERR instead of platform names.
@
text
@#! /bin/sh
# Configuration validation subroutine script.
#   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
#   Free Software Foundation, Inc.

timestamp='2001-04-20'

# This file is (in principle) common to ALL GNU software.
# The presence of a machine in this file suggests that SOME GNU software
# can handle that machine.  It does not imply ALL GNU software can.
#
# This file is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place - Suite 330,
# Boston, MA 02111-1307, USA.

# As a special exception to the GNU General Public License, if you
# distribute this file as part of a program that contains a
# configuration script generated by Autoconf, you may include it under
# the same distribution terms that you use for the rest of that program.

# Please send patches to <config-patches@@gnu.org>.
#
# Configuration subroutine to validate and canonicalize a configuration type.
# Supply the specified configuration type as an argument.
# If it is invalid, we print an error message on stderr and exit with code 1.
# Otherwise, we print the canonical config type on stdout and succeed.

# This file is supposed to be the same for all GNU packages
# and recognize all the CPU types, system types and aliases
# that are meaningful with *any* GNU software.
# Each package is responsible for reporting which valid configurations
# it does not support.  The user should be able to distinguish
# a failure to support a valid configuration from a meaningless
# configuration.

# The goal of this file is to map all the various variations of a given
# machine specification into a single specification in the form:
#	CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM
# or in some cases, the newer four-part form:
#	CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM
# It is wrong to echo any other type of specification.

me=`echo "$0" | sed -e 's,.*/,,'`

usage="\
Usage: $0 [OPTION] CPU-MFR-OPSYS
       $0 [OPTION] ALIAS

Canonicalize a configuration name.

Operation modes:
  -h, --help         print this help, then exit
  -t, --time-stamp   print date of last modification, then exit
  -v, --version      print version number, then exit

Report bugs and patches to <config-patches@@gnu.org>."

version="\
GNU config.sub ($timestamp)

Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
Free Software Foundation, Inc.

This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."

help="
Try \`$me --help' for more information."

# Parse command line
while test $# -gt 0 ; do
case $1 in
    --time-stamp | --time* | -t )
       echo "$timestamp" ; exit 0 ;;
    --version | -v )
       echo "$version" ; exit 0 ;;
    --help | --h* | -h )
       echo "$usage"; exit 0 ;;
    -- )     # Stop option processing
       shift; break ;;
    - )	# Use stdin as input.
       break ;;
    -* )
       echo "$me: invalid option $1$help"
       exit 1 ;;

	*local*)
       # First pass through any local machine types.
		echo $1
       exit 0;;

	*)
       break ;;
  esac
done

case $# in
 0) echo "$me: missing argument$help" >&2
    exit 1;;
 1) ;;
 *) echo "$me: too many arguments$help" >&2
    exit 1;;
esac

# Separate what the user gave into CPU-COMPANY and OS or KERNEL-OS (if any).
# Here we must recognize all the valid KERNEL-OS combinations.
maybe_os=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\2/'`
case $maybe_os in
  nto-qnx* | linux-gnu* | linux-libc1 | storm-chaos* | os2-emx*)
    os=-$maybe_os
    basic_machine=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\1/'`
    ;;
  *)
    basic_machine=`echo $1 | sed 's/-[^-]*$//'`
    if [ $basic_machine != $1 ]
    then os=`echo $1 | sed 's/.*-/-/'`
    else os=; fi
    ;;
esac

### Let's recognize common machines as not being operating systems so
### that things like config.sub decstation-3100 work.  We also
### recognize some manufacturers as not being operating systems, so we
### can provide default operating systems below.
case $os in
	-sun*os*)
		# Prevent following clause from handling this invalid input.
		;;
	-dec* | -mips* | -sequent* | -encore* | -pc532* | -sgi* | -sony* | \
	-att* | -7300* | -3300* | -delta* | -motorola* | -sun[234]* | \
	-unicom* | -ibm* | -next | -hp | -isi* | -apollo | -altos* | \
	-convergent* | -ncr* | -news | -32* | -3600* | -3100* | -hitachi* |\
	-c[123]* | -convex* | -sun | -crds | -omron* | -dg | -ultra | -tti* | \
	-harris | -dolphin | -highlevel | -gould | -cbm | -ns | -masscomp | \
	-apple | -axis)
		os=
		basic_machine=$1
		;;
	-sim | -cisco | -oki | -wec | -winbond)
		os=
		basic_machine=$1
		;;
	-scout)
		;;
	-wrs)
		os=-vxworks
		basic_machine=$1
		;;
	-hiuxmpp)
		os=-hiuxmpp
		;;
	-hiux*)
		os=-hiuxwe2
		;;
	-sco5)
		os=-sco3.2v5
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-sco4)
		os=-sco3.2v4
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-sco3.2.[4-9]*)
		os=`echo $os | sed -e 's/sco3.2./sco3.2v/'`
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-sco3.2v[4-9]*)
		# Don't forget version if it is 3.2v4 or newer.
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-sco*)
		os=-sco3.2v2
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-udk*)
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-isc)
		os=-isc2.2
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-clix*)
		basic_machine=clipper-intergraph
		;;
	-isc*)
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-lynx*)
		os=-lynxos
		;;
	-ptx*)
		basic_machine=`echo $1 | sed -e 's/86-.*/86-sequent/'`
		;;
	-windowsnt*)
		os=`echo $os | sed -e 's/windowsnt/winnt/'`
		;;
	-psos*)
		os=-psos
		;;
	-mint | -mint[0-9]*)
		basic_machine=m68k-atari
		os=-mint
		;;
esac

# Decode aliases for certain CPU-COMPANY combinations.
case $basic_machine in
	# Recognize the basic CPU types without company name.
	# Some are omitted here because they have special meanings below.
	tahoe | i860 | ia64 | m32r | m68k | m68000 | m88k | ns32k | arc \
	        | arm | arme[lb] | arm[bl]e | armv[2345] | armv[345][lb] | strongarm | xscale \
		| pyramid | mn10200 | mn10300 | tron | a29k \
		| 580 | i960 | h8300 \
		| x86 | ppcbe | mipsbe | mipsle | shbe | shle \
		| hppa | hppa1.0 | hppa1.1 | hppa2.0 | hppa2.0w | hppa2.0n \
		| hppa64 \
		| alpha | alphaev[4-8] | alphaev56 | alphapca5[67] \
		| alphaev6[78] \
		| we32k | ns16k | clipper | i370 | sh | sh[34] \
		| powerpc | powerpcle \
		| 1750a | dsp16xx | pdp10 | pdp11 \
		| mips16 | mips64 | mipsel | mips64el \
		| mips64orion | mips64orionel | mipstx39 | mipstx39el \
		| mips64vr4300 | mips64vr4300el | mips64vr4100 | mips64vr4100el \
		| mips64vr5000 | miprs64vr5000el | mcore | s390 | s390x \
		| sparc | sparclet | sparclite | sparc64 | sparcv9 | sparcv9b \
		| v850 | c4x \
		| thumb | d10v | d30v | fr30 | avr | openrisc | tic80 \
		| pj | pjl | h8500)
		basic_machine=$basic_machine-unknown
		;;
	m6811 | m68hc11 | m6812 | m68hc12)
		# Motorola 68HC11/12.
		basic_machine=$basic_machine-unknown
		os=-none
		;;
	m88110 | m680[12346]0 | m683?2 | m68360 | m5200 | z8k | v70 | w65)
		;;

	# We use `pc' rather than `unknown'
	# because (1) that's what they normally are, and
	# (2) the word "unknown" tends to confuse beginning users.
	i*86 | x86_64)
	  basic_machine=$basic_machine-pc
	  ;;
	# Object if more than one company name word.
	*-*-*)
		echo Invalid configuration \`$1\': machine \`$basic_machine\' not recognized 1>&2
		exit 1
		;;
	# Recognize the basic CPU types with company name.
	# FIXME: clean up the formatting here.
	vax-* | tahoe-* | i*86-* | i860-* | ia64-* | m32r-* | m68k-* | m68000-* \
	      | m88k-* | sparc-* | ns32k-* | fx80-* | arc-* | c[123]* \
	      | arm-*  | armbe-* | armle-* | armv*-* | strongarm-* | xscale-* \
	      | mips-* | pyramid-* | tron-* | a29k-* | romp-* | rs6000-* \
	      | power-* | none-* | 580-* | cray2-* | h8300-* | h8500-* | i960-* \
	      | xmp-* | ymp-* \
	      | x86-* | ppcbe-* | mipsbe-* | mipsle-* | shbe-* | shle-* \
	      | hppa-* | hppa1.0-* | hppa1.1-* | hppa2.0-* | hppa2.0w-* \
	      | hppa2.0n-* | hppa64-* \
	      | alpha-* | alphaev[4-8]-* | alphaev56-* | alphapca5[67]-* \
	      | alphaev6[78]-* \
	      | we32k-* | cydra-* | ns16k-* | pn-* | np1-* | xps100-* \
	      | clipper-* | orion-* \
	      | sparclite-* | pdp10-* | pdp11-* | sh-* | powerpc-* | powerpcle-* \
	      | sparc64-* | sparcv9-* | sparcv9b-* | sparc86x-* \
	      | mips16-* | mips64-* | mipsel-* \
	      | mips64el-* | mips64orion-* | mips64orionel-* \
	      | mips64vr4100-* | mips64vr4100el-* | mips64vr4300-* | mips64vr4300el-* \
	      | mipstx39-* | mipstx39el-* | mcore-* \
	      | f30[01]-* | f700-* | s390-* | s390x-* | sv1-* | t3e-* \
	      | [cjt]90-* \
	      | m88110-* | m680[01234]0-* | m683?2-* | m68360-* | z8k-* | d10v-* \
	      | thumb-* | v850-* | d30v-* | tic30-* | tic80-* | c30-* | fr30-* \
	      | bs2000-* | tic54x-* | c54x-* | x86_64-* | pj-* | pjl-*)
		;;
	# Recognize the various machine names and aliases which stand
	# for a CPU type and a company and sometimes even an OS.
	386bsd)
		basic_machine=i386-unknown
		os=-bsd
		;;
	3b1 | 7300 | 7300-att | att-7300 | pc7300 | safari | unixpc)
		basic_machine=m68000-att
		;;
	3b*)
		basic_machine=we32k-att
		;;
	a29khif)
		basic_machine=a29k-amd
		os=-udi
		;;
	adobe68k)
		basic_machine=m68010-adobe
		os=-scout
		;;
	alliant | fx80)
		basic_machine=fx80-alliant
		;;
	altos | altos3068)
		basic_machine=m68k-altos
		;;
	am29k)
		basic_machine=a29k-none
		os=-bsd
		;;
	amdahl)
		basic_machine=580-amdahl
		os=-sysv
		;;
	amiga | amiga-*)
		basic_machine=m68k-unknown
		;;
	amigaos | amigados)
		basic_machine=m68k-unknown
		os=-amigaos
		;;
	amigaunix | amix)
		basic_machine=m68k-unknown
		os=-sysv4
		;;
	apollo68)
		basic_machine=m68k-apollo
		os=-sysv
		;;
	apollo68bsd)
		basic_machine=m68k-apollo
		os=-bsd
		;;
	aux)
		basic_machine=m68k-apple
		os=-aux
		;;
	balance)
		basic_machine=ns32k-sequent
		os=-dynix
		;;
	convex-c1)
		basic_machine=c1-convex
		os=-bsd
		;;
	convex-c2)
		basic_machine=c2-convex
		os=-bsd
		;;
	convex-c32)
		basic_machine=c32-convex
		os=-bsd
		;;
	convex-c34)
		basic_machine=c34-convex
		os=-bsd
		;;
	convex-c38)
		basic_machine=c38-convex
		os=-bsd
		;;
	cray | ymp)
		basic_machine=ymp-cray
		os=-unicos
		;;
	cray2)
		basic_machine=cray2-cray
		os=-unicos
		;;
	[cjt]90)
		basic_machine=${basic_machine}-cray
		os=-unicos
		;;
	crds | unos)
		basic_machine=m68k-crds
		;;
	cris | cris-* | etrax*)
		basic_machine=cris-axis
		;;
	da30 | da30-*)
		basic_machine=m68k-da30
		;;
	decstation | decstation-3100 | pmax | pmax-* | pmin | dec3100 | decstatn)
		basic_machine=mips-dec
		;;
	delta | 3300 | motorola-3300 | motorola-delta \
	      | 3300-motorola | delta-motorola)
		basic_machine=m68k-motorola
		;;
	delta88)
		basic_machine=m88k-motorola
		os=-sysv3
		;;
	dpx20 | dpx20-*)
		basic_machine=rs6000-bull
		os=-bosx
		;;
	dpx2* | dpx2*-bull)
		basic_machine=m68k-bull
		os=-sysv3
		;;
	ebmon29k)
		basic_machine=a29k-amd
		os=-ebmon
		;;
	elxsi)
		basic_machine=elxsi-elxsi
		os=-bsd
		;;
	encore | umax | mmax)
		basic_machine=ns32k-encore
		;;
	es1800 | OSE68k | ose68k | ose | OSE)
		basic_machine=m68k-ericsson
		os=-ose
		;;
	fx2800)
		basic_machine=i860-alliant
		;;
	genix)
		basic_machine=ns32k-ns
		;;
	gmicro)
		basic_machine=tron-gmicro
		os=-sysv
		;;
	go32)
		basic_machine=i386-pc
		os=-go32
		;;
	h3050r* | hiux*)
		basic_machine=hppa1.1-hitachi
		os=-hiuxwe2
		;;
	h8300hms)
		basic_machine=h8300-hitachi
		os=-hms
		;;
	h8300xray)
		basic_machine=h8300-hitachi
		os=-xray
		;;
	h8500hms)
		basic_machine=h8500-hitachi
		os=-hms
		;;
	harris)
		basic_machine=m88k-harris
		os=-sysv3
		;;
	hp300-*)
		basic_machine=m68k-hp
		;;
	hp300bsd)
		basic_machine=m68k-hp
		os=-bsd
		;;
	hp300hpux)
		basic_machine=m68k-hp
		os=-hpux
		;;
	hp3k9[0-9][0-9] | hp9[0-9][0-9])
		basic_machine=hppa1.0-hp
		;;
	hp9k2[0-9][0-9] | hp9k31[0-9])
		basic_machine=m68000-hp
		;;
	hp9k3[2-9][0-9])
		basic_machine=m68k-hp
		;;
	hp9k6[0-9][0-9] | hp6[0-9][0-9])
		basic_machine=hppa1.0-hp
		;;
	hp9k7[0-79][0-9] | hp7[0-79][0-9])
		basic_machine=hppa1.1-hp
		;;
	hp9k78[0-9] | hp78[0-9])
		# FIXME: really hppa2.0-hp
		basic_machine=hppa1.1-hp
		;;
	hp9k8[67]1 | hp8[67]1 | hp9k80[24] | hp80[24] | hp9k8[78]9 | hp8[78]9 | hp9k893 | hp893)
		# FIXME: really hppa2.0-hp
		basic_machine=hppa1.1-hp
		;;
	hp9k8[0-9][13679] | hp8[0-9][13679])
		basic_machine=hppa1.1-hp
		;;
	hp9k8[0-9][0-9] | hp8[0-9][0-9])
		basic_machine=hppa1.0-hp
		;;
	hppa-next)
		os=-nextstep3
		;;
	hppaosf)
		basic_machine=hppa1.1-hp
		os=-osf
		;;
	hppro)
		basic_machine=hppa1.1-hp
		os=-proelf
		;;
	i370-ibm* | ibm*)
		basic_machine=i370-ibm
		;;
# I'm not sure what "Sysv32" means.  Should this be sysv3.2?
	i*86v32)
		basic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`
		os=-sysv32
		;;
	i*86v4*)
		basic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`
		os=-sysv4
		;;
	i*86v)
		basic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`
		os=-sysv
		;;
	i*86sol2)
		basic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`
		os=-solaris2
		;;
	i386mach)
		basic_machine=i386-mach
		os=-mach
		;;
	i386-vsta | vsta)
		basic_machine=i386-unknown
		os=-vsta
		;;
	iris | iris4d)
		basic_machine=mips-sgi
		case $os in
		    -irix*)
			;;
		    *)
			os=-irix4
			;;
		esac
		;;
	isi68 | isi)
		basic_machine=m68k-isi
		os=-sysv
		;;
	m88k-omron*)
		basic_machine=m88k-omron
		;;
	magnum | m3230)
		basic_machine=mips-mips
		os=-sysv
		;;
	merlin)
		basic_machine=ns32k-utek
		os=-sysv
		;;
	mingw32)
		basic_machine=i386-pc
		os=-mingw32
		;;
	miniframe)
		basic_machine=m68000-convergent
		;;
	*mint | -mint[0-9]* | *MiNT | *MiNT[0-9]*)
		basic_machine=m68k-atari
		os=-mint
		;;
	mipsel*-linux*)
		basic_machine=mipsel-unknown
		os=-linux
		;;
	mips*-linux*)
		basic_machine=mips-unknown
		os=-linux
		;;
	mips3*-*)
		basic_machine=`echo $basic_machine | sed -e 's/mips3/mips64/'`
		;;
	mips3*)
		basic_machine=`echo $basic_machine | sed -e 's/mips3/mips64/'`-unknown
		;;
	mmix*)
		basic_machine=mmix-knuth
		os=-mmixware
		;;
	monitor)
		basic_machine=m68k-rom68k
		os=-coff
		;;
	msdos)
		basic_machine=i386-pc
		os=-msdos
		;;
	mvs)
		basic_machine=i370-ibm
		os=-mvs
		;;
	ncr3000)
		basic_machine=i486-ncr
		os=-sysv4
		;;
	netbsd386)
		basic_machine=i386-unknown
		os=-netbsd
		;;
	netwinder)
		basic_machine=armv4l-rebel
		os=-linux
		;;
	news | news700 | news800 | news900)
		basic_machine=m68k-sony
		os=-newsos
		;;
	news1000)
		basic_machine=m68030-sony
		os=-newsos
		;;
	news-3600 | risc-news)
		basic_machine=mips-sony
		os=-newsos
		;;
	necv70)
		basic_machine=v70-nec
		os=-sysv
		;;
	next | m*-next )
		basic_machine=m68k-next
		case $os in
		    -nextstep* )
			;;
		    -ns2*)
		      os=-nextstep2
			;;
		    *)
		      os=-nextstep3
			;;
		esac
		;;
	nh3000)
		basic_machine=m68k-harris
		os=-cxux
		;;
	nh[45]000)
		basic_machine=m88k-harris
		os=-cxux
		;;
	nindy960)
		basic_machine=i960-intel
		os=-nindy
		;;
	mon960)
		basic_machine=i960-intel
		os=-mon960
		;;
	nonstopux)
		basic_machine=mips-compaq
		os=-nonstopux
		;;
	np1)
		basic_machine=np1-gould
		;;
	nsr-tandem)
		basic_machine=nsr-tandem
		;;
	op50n-* | op60c-*)
		basic_machine=hppa1.1-oki
		os=-proelf
		;;
	OSE68000 | ose68000)
		basic_machine=m68000-ericsson
		os=-ose
		;;
	os68k)
		basic_machine=m68k-none
		os=-os68k
		;;
	pa-hitachi)
		basic_machine=hppa1.1-hitachi
		os=-hiuxwe2
		;;
	paragon)
		basic_machine=i860-intel
		os=-osf
		;;
	pbd)
		basic_machine=sparc-tti
		;;
	pbb)
		basic_machine=m68k-tti
		;;
        pc532 | pc532-*)
		basic_machine=ns32k-pc532
		;;
	pentium | p5 | k5 | k6 | nexgen)
		basic_machine=i586-pc
		;;
	pentiumpro | p6 | 6x86 | athlon)
		basic_machine=i686-pc
		;;
	pentiumii | pentium2)
		basic_machine=i686-pc
		;;
	pentium-* | p5-* | k5-* | k6-* | nexgen-*)
		basic_machine=i586-`echo $basic_machine | sed 's/^[^-]*-//'`
		;;
	pentiumpro-* | p6-* | 6x86-* | athlon-*)
		basic_machine=i686-`echo $basic_machine | sed 's/^[^-]*-//'`
		;;
	pentiumii-* | pentium2-*)
		basic_machine=i686-`echo $basic_machine | sed 's/^[^-]*-//'`
		;;
	pn)
		basic_machine=pn-gould
		;;
	power)	basic_machine=power-ibm
		;;
	ppc)	basic_machine=powerpc-unknown
	        ;;
	ppc-*)	basic_machine=powerpc-`echo $basic_machine | sed 's/^[^-]*-//'`
		;;
	ppcle | powerpclittle | ppc-le | powerpc-little)
		basic_machine=powerpcle-unknown
	        ;;
	ppcle-* | powerpclittle-*)
		basic_machine=powerpcle-`echo $basic_machine | sed 's/^[^-]*-//'`
		;;
	ps2)
		basic_machine=i386-ibm
		;;
	pw32)
		basic_machine=i586-unknown
		os=-pw32
		;;
	rom68k)
		basic_machine=m68k-rom68k
		os=-coff
		;;
	rm[46]00)
		basic_machine=mips-siemens
		;;
	rtpc | rtpc-*)
		basic_machine=romp-ibm
		;;
	sa29200)
		basic_machine=a29k-amd
		os=-udi
		;;
	sequent)
		basic_machine=i386-sequent
		;;
	sh)
		basic_machine=sh-hitachi
		os=-hms
		;;
	sparclite-wrs)
		basic_machine=sparclite-wrs
		os=-vxworks
		;;
	sps7)
		basic_machine=m68k-bull
		os=-sysv2
		;;
	spur)
		basic_machine=spur-unknown
		;;
	st2000)
		basic_machine=m68k-tandem
		;;
	stratus)
		basic_machine=i860-stratus
		os=-sysv4
		;;
	sun2)
		basic_machine=m68000-sun
		;;
	sun2os3)
		basic_machine=m68000-sun
		os=-sunos3
		;;
	sun2os4)
		basic_machine=m68000-sun
		os=-sunos4
		;;
	sun3os3)
		basic_machine=m68k-sun
		os=-sunos3
		;;
	sun3os4)
		basic_machine=m68k-sun
		os=-sunos4
		;;
	sun4os3)
		basic_machine=sparc-sun
		os=-sunos3
		;;
	sun4os4)
		basic_machine=sparc-sun
		os=-sunos4
		;;
	sun4sol2)
		basic_machine=sparc-sun
		os=-solaris2
		;;
	sun3 | sun3-*)
		basic_machine=m68k-sun
		;;
	sun4)
		basic_machine=sparc-sun
		;;
	sun386 | sun386i | roadrunner)
		basic_machine=i386-sun
		;;
	sv1)
		basic_machine=sv1-cray
		os=-unicos
		;;
	symmetry)
		basic_machine=i386-sequent
		os=-dynix
		;;
	t3e)
		basic_machine=t3e-cray
		os=-unicos
		;;
	tic54x | c54x*)
		basic_machine=tic54x-unknown
		os=-coff
		;;
	tx39)
		basic_machine=mipstx39-unknown
		;;
	tx39el)
		basic_machine=mipstx39el-unknown
		;;
	tower | tower-32)
		basic_machine=m68k-ncr
		;;
	udi29k)
		basic_machine=a29k-amd
		os=-udi
		;;
	ultra3)
		basic_machine=a29k-nyu
		os=-sym1
		;;
	v810 | necv810)
		basic_machine=v810-nec
		os=-none
		;;
	vaxv)
		basic_machine=vax-dec
		os=-sysv
		;;
	vms)
		basic_machine=vax-dec
		os=-vms
		;;
	vpp*|vx|vx-*)
               basic_machine=f301-fujitsu
               ;;
	vxworks960)
		basic_machine=i960-wrs
		os=-vxworks
		;;
	vxworks68)
		basic_machine=m68k-wrs
		os=-vxworks
		;;
	vxworks29k)
		basic_machine=a29k-wrs
		os=-vxworks
		;;
	w65*)
		basic_machine=w65-wdc
		os=-none
		;;
	w89k-*)
		basic_machine=hppa1.1-winbond
		os=-proelf
		;;
	xmp)
		basic_machine=xmp-cray
		os=-unicos
		;;
        xps | xps100)
		basic_machine=xps100-honeywell
		;;
	z8k-*-coff)
		basic_machine=z8k-unknown
		os=-sim
		;;
	none)
		basic_machine=none-none
		os=-none
		;;

# Here we handle the default manufacturer of certain CPU types.  It is in
# some cases the only manufacturer, in others, it is the most popular.
	w89k)
		basic_machine=hppa1.1-winbond
		;;
	op50n)
		basic_machine=hppa1.1-oki
		;;
	op60c)
		basic_machine=hppa1.1-oki
		;;
	mips)
		if [ x$os = x-linux ]; then
			basic_machine=mips-unknown
		else
			basic_machine=mips-mips
		fi
		;;
	romp)
		basic_machine=romp-ibm
		;;
	rs6000)
		basic_machine=rs6000-ibm
		;;
	vax)
		basic_machine=vax-dec
		;;
	pdp10)
		# there are many clones, so DEC is not a safe bet
		basic_machine=pdp10-unknown
		;;
	pdp11)
		basic_machine=pdp11-dec
		;;
	we32k)
		basic_machine=we32k-att
		;;
	sh3 | sh4)
		basic_machine=sh-unknown
		;;
	sparc | sparcv9 | sparcv9b)
		basic_machine=sparc-sun
		;;
        cydra)
		basic_machine=cydra-cydrome
		;;
	orion)
		basic_machine=orion-highlevel
		;;
	orion105)
		basic_machine=clipper-highlevel
		;;
	mac | mpw | mac-mpw)
		basic_machine=m68k-apple
		;;
	pmac | pmac-mpw)
		basic_machine=powerpc-apple
		;;
	c4x*)
		basic_machine=c4x-none
		os=-coff
		;;
	*-unknown)
		# Make sure to match an already-canonicalized machine name.
		;;
	*)
		echo Invalid configuration \`$1\': machine \`$basic_machine\' not recognized 1>&2
		exit 1
		;;
esac

# Here we canonicalize certain aliases for manufacturers.
case $basic_machine in
	*-digital*)
		basic_machine=`echo $basic_machine | sed 's/digital.*/dec/'`
		;;
	*-commodore*)
		basic_machine=`echo $basic_machine | sed 's/commodore.*/cbm/'`
		;;
	*)
		;;
esac

# Decode manufacturer-specific aliases for certain operating systems.

if [ x"$os" != x"" ]
then
case $os in
        # First match some system type aliases
        # that might get confused with valid system types.
	# -solaris* is a basic system type, with this one exception.
	-solaris1 | -solaris1.*)
		os=`echo $os | sed -e 's|solaris1|sunos4|'`
		;;
	-solaris)
		os=-solaris2
		;;
	-svr4*)
		os=-sysv4
		;;
	-unixware*)
		os=-sysv4.2uw
		;;
	-gnu/linux*)
		os=`echo $os | sed -e 's|gnu/linux|linux|'`
		;;
	# First accept the basic system types.
	# The portable systems comes first.
	# Each alternative MUST END IN A *, to match a version number.
	# -sysv* is not here because it comes later, after sysvr4.
	-gnu* | -bsd* | -mach* | -minix* | -genix* | -ultrix* | -irix* \
	      | -*vms* | -sco* | -esix* | -isc* | -aix* | -sunos | -sunos[34]*\
	      | -hpux* | -unos* | -osf* | -luna* | -dgux* | -solaris* | -sym* \
	      | -amigaos* | -amigados* | -msdos* | -newsos* | -unicos* | -aof* \
	      | -aos* \
	      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \
	      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \
	      | -hiux* | -386bsd* | -netbsd* | -openbsd* | -freebsd* | -riscix* \
	      | -lynxos* | -bosx* | -nextstep* | -cxux* | -aout* | -elf* | -oabi* \
	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \
	      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \
	      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
	      | -mingw32* | -linux* | -uxpv* | -beos* | -mpeix* | -udk* \
	      | -interix* | -uwin* | -rhapsody* | -darwin* | -opened* \
	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
	      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* | -os2*)
	# Remember, each alternative MUST END IN *, to match a version number.
		;;
	-qnx*)
		case $basic_machine in
		    x86-* | i*86-*)
			;;
		    *)
			os=-nto$os
			;;
		esac
		;;
	-nto*)
		os=-nto-qnx
		;;
	-sim | -es1800* | -hms* | -xray | -os68k* | -none* | -v88r* \
	      | -windows* | -osx | -abug | -netware* | -os9* | -beos* \
	      | -macos* | -mpw* | -magic* | -mmixware* | -mon960* | -lnews*)
		;;
	-mac*)
		os=`echo $os | sed -e 's|mac|macos|'`
		;;
	-sunos5*)
		os=`echo $os | sed -e 's|sunos5|solaris2|'`
		;;
	-sunos6*)
		os=`echo $os | sed -e 's|sunos6|solaris3|'`
		;;
	-opened*)
		os=-openedition
		;;
	-wince*)
		os=-wince
		;;
	-osfrose*)
		os=-osfrose
		;;
	-osf*)
		os=-osf
		;;
	-utek*)
		os=-bsd
		;;
	-dynix*)
		os=-bsd
		;;
	-acis*)
		os=-aos
		;;
	-386bsd)
		os=-bsd
		;;
	-ctix* | -uts*)
		os=-sysv
		;;
	-ns2 )
	        os=-nextstep2
		;;
	-nsk*)
		os=-nsk
		;;
	# Preserve the version number of sinix5.
	-sinix5.*)
		os=`echo $os | sed -e 's|sinix|sysv|'`
		;;
	-sinix*)
		os=-sysv4
		;;
	-triton*)
		os=-sysv3
		;;
	-oss*)
		os=-sysv3
		;;
	-svr4)
		os=-sysv4
		;;
	-svr3)
		os=-sysv3
		;;
	-sysvr4)
		os=-sysv4
		;;
	# This must come after -sysvr4.
	-sysv*)
		;;
	-ose*)
		os=-ose
		;;
	-es1800*)
		os=-ose
		;;
	-xenix)
		os=-xenix
		;;
        -*mint | -mint[0-9]* | -*MiNT | -MiNT[0-9]*)
	        os=-mint
		;;
	-uxpds)
		os=-uxpds
		;;
	-human)
		;;
	-beos)
	        os=-beos
		;;
	-none)
		;;
	*)
		# Get rid of the `-' at the beginning of $os.
		os=`echo $os | sed 's/[^-]*-//'`
		echo Invalid configuration \`$1\': system \`$os\' not recognized 1>&2
		exit 1
		;;
esac
else

# Here we handle the default operating systems that come with various machines.
# The value should be what the vendor currently ships out the door with their
# machine or put another way, the most popular os provided with the machine.

# Note that if you're going to try to match "-MANUFACTURER" here (say,
# "-sun"), then you have to tell the case statement up towards the top
# that MANUFACTURER isn't an operating system.  Otherwise, code above
# will signal an error saying that MANUFACTURER isn't an operating
# system, and we'll never get to this point.

case $basic_machine in
	*-acorn)
		os=-riscix1.2
		;;
	arm*-rebel)
		os=-linux
		;;
	arm*-semi)
		os=-aout
		;;
	pdp10-*)
		os=-tops20
		;;
        pdp11-*)
		os=-none
		;;
	*-dec | vax-*)
		os=-ultrix4.2
		;;
	m68*-apollo)
		os=-domain
		;;
	i386-sun)
		os=-sunos4.0.2
		;;
	m68000-sun)
		os=-sunos3
		# This also exists in the configure program, but was not the
		# default.
		# os=-sunos4
		;;
	m68*-cisco)
		os=-aout
		;;
	mips*-cisco)
		os=-elf
		;;
	mips*-*)
		os=-elf
		;;
	*-tti)	# must be before sparc entry or we get the wrong os.
		os=-sysv3
		;;
	sparc-* | *-sun)
		os=-sunos4.1.1
		;;
	*-be)
		os=-beos
		;;
	*-ibm)
		os=-aix
		;;
	*-wec)
		os=-proelf
		;;
	*-winbond)
		os=-proelf
		;;
	*-oki)
		os=-proelf
		;;
	*-hp)
		os=-hpux
		;;
	*-hitachi)
		os=-hiux
		;;
	i860-* | *-att | *-ncr | *-altos | *-motorola | *-convergent)
		os=-sysv
		;;
	*-cbm)
		os=-amigaos
		;;
	*-dg)
		os=-dgux
		;;
	*-dolphin)
		os=-sysv3
		;;
	m68k-ccur)
		os=-rtu
		;;
	m88k-omron*)
		os=-luna
		;;
	*-next )
		os=-nextstep
		;;
	*-sequent)
		os=-ptx
		;;
	*-crds)
		os=-unos
		;;
	*-ns)
		os=-genix
		;;
	i370-*)
		os=-mvs
		;;
	*-next)
		os=-nextstep3
		;;
        *-gould)
		os=-sysv
		;;
        *-highlevel)
		os=-bsd
		;;
	*-encore)
		os=-bsd
		;;
        *-sgi)
		os=-irix
		;;
        *-siemens)
		os=-sysv4
		;;
	*-masscomp)
		os=-rtu
		;;
	f30[01]-fujitsu | f700-fujitsu)
		os=-uxpv
		;;
	*-rom68k)
		os=-coff
		;;
	*-*bug)
		os=-coff
		;;
	*-apple)
		os=-macos
		;;
	*-atari*)
		os=-mint
		;;
	*)
		os=-none
		;;
esac
fi

# Here we handle the case where we know the os, and the CPU type, but not the
# manufacturer.  We pick the logical manufacturer.
vendor=unknown
case $basic_machine in
	*-unknown)
		case $os in
			-riscix*)
				vendor=acorn
				;;
			-sunos*)
				vendor=sun
				;;
			-aix*)
				vendor=ibm
				;;
			-beos*)
				vendor=be
				;;
			-hpux*)
				vendor=hp
				;;
			-mpeix*)
				vendor=hp
				;;
			-hiux*)
				vendor=hitachi
				;;
			-unos*)
				vendor=crds
				;;
			-dgux*)
				vendor=dg
				;;
			-luna*)
				vendor=omron
				;;
			-genix*)
				vendor=ns
				;;
			-mvs* | -opened*)
				vendor=ibm
				;;
			-ptx*)
				vendor=sequent
				;;
			-vxsim* | -vxworks*)
				vendor=wrs
				;;
			-aux*)
				vendor=apple
				;;
			-hms*)
				vendor=hitachi
				;;
			-mpw* | -macos*)
				vendor=apple
				;;
			-*mint | -mint[0-9]* | -*MiNT | -MiNT[0-9]*)
				vendor=atari
				;;
		esac
		basic_machine=`echo $basic_machine | sed "s/unknown/$vendor/"`
		;;
esac

echo $basic_machine$os
exit 0

# Local variables:
# eval: (add-hook 'write-file-hooks 'time-stamp)
# time-stamp-start: "timestamp='"
# time-stamp-format: "%:y-%02m-%02d"
# time-stamp-end: "'"
# End:
@


1.12
log
@* eval.c (POP_VARS): should not set DVAR_DONT_RECYCLE if _old
  ruby_vars is already force_recycled.

* gc.c (rb_gc): handles mark stack overflow.

* gc.c (PUSH_MARK): use static mark stack, no more recursion.
@
text
@d160 3
@


1.11
log
@* regex.c (re_search): should consider reverse search.

* dir.c (dir_s_chdir): warn only when invoked from multiple
  threads or block is not given.

* object.c (rb_convert_type): should use rb_rescue(), not rb_rescue2().

* range.c (range_init): ditto.

* object.c (rb_obj_dup): should free generic_ivar if original owns
  them.

* string.c (rb_str_each_line): should propagate taint mark.

* ext/nkf/nkf.c (rb_nkf_kconv): ditto.

* eval.c (rb_f_require): revamp for simpler implementation.

* file.c (rb_find_file_noext): use String object, instead of
  passing char* around.

* file.c (rb_find_file): ditto.

* dln.c (dln_load): should use NSLINKMODULE_OPTION_BINDNOW.

* ruby.c (load_file): local variables 'c' remain uninitialized on
  xflag.

* regex.c (re_match): prefetched escaped character too early.

* eval.c (rb_call0): add argument check for attr_readers.
@
text
@d120 1
a120 1
  nto-qnx* | linux-gnu* | storm-chaos* | os2-emx*)
@


1.10
log
@matz
@
text
@d2 6
a7 2
# Configuration validation subroutine script, version 1.1.
#   Copyright (C) 1991, 92-97, 1998, 1999 Free Software Foundation, Inc.
d32 2
d54 26
a79 8
if [ x$1 = x ]
then
	echo Configuration name missing. 1>&2
	echo "Usage: $0 CPU-MFR-OPSYS" 1>&2
	echo "or     $0 ALIAS" 1>&2
	echo where ALIAS is a recognized configuration type. 1>&2
	exit 1
fi
d81 2
a82 1
# First pass through any local machine types.
d84 14
d99 1
d101 2
a102 2
		exit 0
		;;
d104 10
a113 1
	;;
d120 1
a120 1
  linux*)
d146 1
a146 1
	-apple)
d157 1
a157 1
		os=vxworks
d208 4
d218 3
a220 2
	tahoe | i860 | m32r | m68k | m68000 | m88k | ns32k | arc | arm \
		| arme[lb] | pyramid | mn10200 | mn10300 | tron | a29k \
d222 1
d224 7
a230 3
		| alpha | alphaev[4-7] | alphaev56 | alphapca5[67] \
		| we32k | ns16k | clipper | i370 | sh | powerpc | powerpcle \
		| 1750a | dsp16xx | pdp11 | mips16 | mips64 | mipsel | mips64el \
d233 5
a237 3
		| mips64vr5000 | miprs64vr5000el \
		| sparc | sparclet | sparclite | sparc64 | sparcv9 | v850 | c4x \
		| thumb | d10v)
d240 6
a245 1
	m88110 | m680[12346]0 | m683?2 | m68360 | m5200 | z8k | v70 | h8500 | w65)
d251 1
a251 1
	i[34567]86)
a253 3
	i[3456]86-TOWNS*)
	  basic_machine=`echo $basic_machine | sed -e 's/-TOWNS.*/-TOWNS/'`
	  ;;
d260 4
a263 2
	vax-* | tahoe-* | i[34567]86-* | i860-* | m32r-* | m68k-* | m68000-* \
	      | m88k-* | sparc-* | ns32k-* | fx80-* | arc-* | arm-* | c[123]* \
d267 5
a271 2
	      | hppa-* | hppa1.0-* | hppa1.1-* | hppa2.0-* | hppa2.0w-* | hppa2.0n-* \
	      | alpha-* | alphaev[4-7]-* | alphaev56-* | alphapca5[67]-* \
d274 3
a276 2
	      | sparclite-* | pdp11-* | sh-* | powerpc-* | powerpcle-* \
	      | sparc64-* | sparcv9-* | sparc86x-* | mips16-* | mips64-* | mipsel-* \
d279 3
a281 2
	      | mipstx39-* | mipstx39el-* \
	      | f301-* | armv*-* | t3e-* \
d283 2
a284 1
	      | thumb-* | v850-* | d30v-* | tic30-* | c30-* )
d321 1
a321 1
		basic_machine=m68k-cbm
d324 1
a324 1
		basic_machine=m68k-cbm
d328 1
a328 1
		basic_machine=m68k-cbm
d375 2
a376 2
	[ctj]90-cray)
		basic_machine=c90-cray
d382 3
d432 4
a508 1
		os=-mvs
d511 1
a511 1
	i[34567]86v32)
d515 1
a515 1
	i[34567]86v4*)
d519 1
a519 1
	i[34567]86v)
d523 1
a523 1
	i[34567]86sol2)
a534 8
	i386-go32 | go32)
		basic_machine=i386-unknown
		os=-go32
		;;
	i386-mingw32 | mingw32)
		basic_machine=i386-unknown
		os=-mingw32
		;;
d560 4
d567 1
a567 1
	*mint | *MiNT)
d585 4
d594 1
a594 1
		basic_machine=i386-unknown
d597 4
a608 4
	hpcmips*-*)
		basic_machine=hpcmips-unknown
		os=-netbsd
		;;
d610 1
a610 1
		basic_machine=armv4l-corel
d658 4
d665 3
d697 1
a697 1
	pentium | p5 | k5 | k6 | nexen)
d700 1
a700 1
	pentiumpro | p6 | 6x86)
d704 1
a704 1
		basic_machine=i786-pc
d706 1
a706 1
	pentium-* | p5-* | k5-* | k6-* | nexen-*)
d709 1
a709 1
	pentiumpro-* | p6-* | 6x86-*)
d713 1
a713 1
		basic_machine=i786-`echo $basic_machine | sed 's/^[^-]*-//'`
d718 1
a718 1
	power)	basic_machine=rs6000-ibm
d733 4
d816 4
d828 4
d927 4
d937 4
a940 1
	sparc | sparcv9)
d962 3
d1023 3
a1025 2
	      | -interix* | -uwin* | -rhapsody* | -openstep* | -oskit* \
	      | -darwin*)
d1028 12
d1042 1
a1042 1
	      | -macos* | -mpw* | -magic* | -mon960* | -lnews*)
d1053 6
d1083 3
d1120 1
a1120 1
        -mint* | -MiNT*)
d1156 1
a1156 1
	arm*-corel)
d1162 3
d1273 1
a1273 1
	f301-fujitsu)
d1333 1
a1333 1
			-mvs*)
d1351 1
a1351 1
			-*mint | -*MiNT)
d1360 8
@


1.10.2.1
log
@* eval.c (proc_invoke): should preserve iter status for embedded
  frame in the block.

* file.c (rb_file_s_expand_path): may overrun buffer on stack.

* regex.c (re_search): should consider reverse search.
@
text
@d2 2
a3 6
# Configuration validation subroutine script.
#   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
#   Free Software Foundation, Inc.

timestamp='2001-04-20'

a27 2
# Please send patches to <config-patches@@gnu.org>.
#
d48 8
a55 14
me=`echo "$0" | sed -e 's,.*/,,'`

usage="\
Usage: $0 [OPTION] CPU-MFR-OPSYS
       $0 [OPTION] ALIAS

Canonicalize a configuration name.

Operation modes:
  -h, --help         print this help, then exit
  -t, --time-stamp   print date of last modification, then exit
  -v, --version      print version number, then exit

Report bugs and patches to <config-patches@@gnu.org>."
d57 1
a57 14
version="\
GNU config.sub ($timestamp)

Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
Free Software Foundation, Inc.

This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."

help="
Try \`$me --help' for more information."

# Parse command line
while test $# -gt 0 ; do
a58 14
    --time-stamp | --time* | -t )
       echo "$timestamp" ; exit 0 ;;
    --version | -v )
       echo "$version" ; exit 0 ;;
    --help | --h* | -h )
       echo "$usage"; exit 0 ;;
    -- )     # Stop option processing
       shift; break ;;
    - )	# Use stdin as input.
       break ;;
    -* )
       echo "$me: invalid option $1$help"
       exit 1 ;;

a59 1
       # First pass through any local machine types.
d61 2
a62 2
       exit 0;;

d64 1
a64 10
       break ;;
  esac
done

case $# in
 0) echo "$me: missing argument$help" >&2
    exit 1;;
 1) ;;
 *) echo "$me: too many arguments$help" >&2
    exit 1;;
d71 1
a71 1
  nto-qnx* | linux-gnu* | storm-chaos* | os2-emx*)
d97 1
a97 1
	-apple | -axis)
d108 1
a108 1
		os=-vxworks
a158 4
	-mint | -mint[0-9]*)
		basic_machine=m68k-atari
		os=-mint
		;;
d165 2
a166 3
	tahoe | i860 | ia64 | m32r | m68k | m68000 | m88k | ns32k | arc \
	        | arm | arme[lb] | arm[bl]e | armv[2345] | armv[345][lb] | strongarm | xscale \
		| pyramid | mn10200 | mn10300 | tron | a29k \
a167 1
		| x86 | ppcbe | mipsbe | mipsle | shbe | shle \
d169 3
a171 7
		| hppa64 \
		| alpha | alphaev[4-8] | alphaev56 | alphapca5[67] \
		| alphaev6[78] \
		| we32k | ns16k | clipper | i370 | sh | sh[34] \
		| powerpc | powerpcle \
		| 1750a | dsp16xx | pdp10 | pdp11 \
		| mips16 | mips64 | mipsel | mips64el \
d174 3
a176 5
		| mips64vr5000 | miprs64vr5000el | mcore | s390 | s390x \
		| sparc | sparclet | sparclite | sparc64 | sparcv9 | sparcv9b \
		| v850 | c4x \
		| thumb | d10v | d30v | fr30 | avr | openrisc | tic80 \
		| pj | pjl | h8500)
d179 1
a179 6
	m6811 | m68hc11 | m6812 | m68hc12)
		# Motorola 68HC11/12.
		basic_machine=$basic_machine-unknown
		os=-none
		;;
	m88110 | m680[12346]0 | m683?2 | m68360 | m5200 | z8k | v70 | w65)
d185 1
a185 1
	i*86 | x86_64)
d188 3
d197 2
a198 4
	# FIXME: clean up the formatting here.
	vax-* | tahoe-* | i*86-* | i860-* | ia64-* | m32r-* | m68k-* | m68000-* \
	      | m88k-* | sparc-* | ns32k-* | fx80-* | arc-* | c[123]* \
	      | arm-*  | armbe-* | armle-* | armv*-* | strongarm-* | xscale-* \
d202 2
a203 5
	      | x86-* | ppcbe-* | mipsbe-* | mipsle-* | shbe-* | shle-* \
	      | hppa-* | hppa1.0-* | hppa1.1-* | hppa2.0-* | hppa2.0w-* \
	      | hppa2.0n-* | hppa64-* \
	      | alpha-* | alphaev[4-8]-* | alphaev56-* | alphapca5[67]-* \
	      | alphaev6[78]-* \
d206 2
a207 3
	      | sparclite-* | pdp10-* | pdp11-* | sh-* | powerpc-* | powerpcle-* \
	      | sparc64-* | sparcv9-* | sparcv9b-* | sparc86x-* \
	      | mips16-* | mips64-* | mipsel-* \
d210 2
a211 3
	      | mipstx39-* | mipstx39el-* | mcore-* \
	      | f30[01]-* | f700-* | s390-* | s390x-* | sv1-* | t3e-* \
	      | [cjt]90-* \
d213 1
a213 2
	      | thumb-* | v850-* | d30v-* | tic30-* | tic80-* | c30-* | fr30-* \
	      | bs2000-* | tic54x-* | c54x-* | x86_64-* | pj-* | pjl-*)
d250 1
a250 1
		basic_machine=m68k-unknown
d253 1
a253 1
		basic_machine=m68k-unknown
d257 1
a257 1
		basic_machine=m68k-unknown
d304 2
a305 2
	[cjt]90)
		basic_machine=${basic_machine}-cray
a310 3
	cris | cris-* | etrax*)
		basic_machine=cris-axis
		;;
a357 4
	go32)
		basic_machine=i386-pc
		os=-go32
		;;
d431 1
d434 1
a434 1
	i*86v32)
d438 1
a438 1
	i*86v4*)
d442 1
a442 1
	i*86v)
d446 1
a446 1
	i*86sol2)
d458 8
a490 4
	mingw32)
		basic_machine=i386-pc
		os=-mingw32
		;;
d494 1
a494 1
	*mint | -mint[0-9]* | *MiNT | *MiNT[0-9]*)
a511 4
	mmix*)
		basic_machine=mmix-knuth
		os=-mmixware
		;;
d517 1
a517 1
		basic_machine=i386-pc
a519 4
	mvs)
		basic_machine=i370-ibm
		os=-mvs
		;;
d528 4
d533 1
a533 1
		basic_machine=armv4l-rebel
a580 4
	nonstopux)
		basic_machine=mips-compaq
		os=-nonstopux
		;;
a583 3
	nsr-tandem)
		basic_machine=nsr-tandem
		;;
d613 1
a613 1
	pentium | p5 | k5 | k6 | nexgen)
d616 1
a616 1
	pentiumpro | p6 | 6x86 | athlon)
d620 1
a620 1
		basic_machine=i686-pc
d622 1
a622 1
	pentium-* | p5-* | k5-* | k6-* | nexgen-*)
d625 1
a625 1
	pentiumpro-* | p6-* | 6x86-* | athlon-*)
d629 1
a629 1
		basic_machine=i686-`echo $basic_machine | sed 's/^[^-]*-//'`
d634 1
a634 1
	power)	basic_machine=power-ibm
a648 4
	pw32)
		basic_machine=i586-unknown
		os=-pw32
		;;
a727 4
	sv1)
		basic_machine=sv1-cray
		os=-unicos
		;;
a735 4
	tic54x | c54x*)
		basic_machine=tic54x-unknown
		os=-coff
		;;
a830 4
	pdp10)
		# there are many clones, so DEC is not a safe bet
		basic_machine=pdp10-unknown
		;;
d837 1
a837 4
	sh3 | sh4)
		basic_machine=sh-unknown
		;;
	sparc | sparcv9 | sparcv9b)
a858 3
	*-unknown)
		# Make sure to match an already-canonicalized machine name.
		;;
d917 2
a918 3
	      | -interix* | -uwin* | -rhapsody* | -darwin* | -opened* \
	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
	      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* | -os2*)
a920 12
	-qnx*)
		case $basic_machine in
		    x86-* | i*86-*)
			;;
		    *)
			os=-nto$os
			;;
		esac
		;;
	-nto*)
		os=-nto-qnx
		;;
d923 1
a923 1
	      | -macos* | -mpw* | -magic* | -mmixware* | -mon960* | -lnews*)
a933 6
	-opened*)
		os=-openedition
		;;
	-wince*)
		os=-wince
		;;
a957 3
	-nsk*)
		os=-nsk
		;;
d992 1
a992 1
        -*mint | -mint[0-9]* | -*MiNT | -MiNT[0-9]*)
d1028 1
a1028 1
	arm*-rebel)
a1033 3
	pdp10-*)
		os=-tops20
		;;
d1142 1
a1142 1
	f30[01]-fujitsu | f700-fujitsu)
d1202 1
a1202 1
			-mvs* | -opened*)
d1220 1
a1220 1
			-*mint | -mint[0-9]* | -*MiNT | -MiNT[0-9]*)
a1228 8
exit 0

# Local variables:
# eval: (add-hook 'write-file-hooks 'time-stamp)
# time-stamp-start: "timestamp='"
# time-stamp-format: "%:y-%02m-%02d"
# time-stamp-end: "'"
# End:
@


1.10.2.2
log
@* eval.c (POP_VARS): should not set DVAR_DONT_RECYCLE if _old
  ruby_vars is already force_recycled.
@
text
@d120 1
a120 1
  nto-qnx* | linux-gnu* | linux-libc1 | storm-chaos* | os2-emx*)
@


1.10.2.3
log
@* eval.c (blk_orphan): the wrong condition; backported from 1.7

* eval.c (rb_clear_cache_by_class): new function.

* eval.c (set_method_visibility): should have clear cache forq
  updated visibility.

* re.c (rb_reg_s_quote): # also should be quoted.
@
text
@a159 3
	-hiuxmpp)
		os=-hiuxmpp
		;;
@


1.9
log
@matz
@
text
@d992 1
a992 1
        -*mint | -*MiNT)
@


1.8
log
@matz
@
text
@d917 2
a918 1
	      | -interix* | -uwin* | -rhapsody* | -openstep* | -oskit*)
@


1.7
log
@2000-05-24
@
text
@d528 4
@


1.6
log
@2000-05-01
@
text
@d913 1
a913 1
	      | -interix* | -uwin* | -rhapsody* | -openstep* | -macos | -oskit*)
@


1.5
log
@2000-02-29
@
text
@d913 1
a913 1
	      | -interix* | -uwin* | -rhapsody* | -openstep* | -oskit*)
@


1.4
log
@2000-02-08
@
text
@d71 1
a71 1
  linux-gnu*)
d894 1
a894 1
		os=`echo $os | sed -e 's|gnu/linux|linux-gnu|'`
@


1.3
log
@2000-02-02
@
text
@d3 1
a3 1
#   Copyright (C) 1991, 92-97, 1998 Free Software Foundation, Inc.
d101 10
d115 1
a115 1
		os=sco3.2v5
d134 3
d167 10
a176 6
		| 580 | i960 | h8300 | hppa | hppa1.0 | hppa1.1 | hppa2.0 | hppa2.0w \
		| alpha | alphaev5 | alphaev56 | we32k | ns16k | clipper \
		| i370 | sh | powerpc | powerpcle | 1750a | dsp16xx | pdp11 \
		| mips64 | mipsel | mips64el | mips64orion | mips64orionel \
		| mipstx39 | mipstx39el \
		| sparc | sparclet | sparclite | sparc64 | v850)
d179 3
d200 6
a205 4
	      | power-* | none-* | 580-* | cray2-* | h8300-* | i960-* \
	      | xmp-* | ymp-* | hppa-* | hppa1.0-* | hppa1.1-* | hppa2.0* | hppa2.0w-* \
	      | alpha-* | alphaev5-* | alphaev56-* | we32k-* | cydra-* \
	      | ns16k-* | pn-* | np1-* | xps100-* | clipper-* | orion-* \
d207 3
a209 2
	      | sparc64-* | mips64-* | mipsel-* \
	      | mips64el-* | mips64orion-* | mips64orionel-*  \
d211 3
a213 1
	      | f301-*)
d217 4
d227 8
d264 4
d344 4
d366 8
d389 3
d398 15
a412 1
	hp9k7[0-9][0-9] | hp7[0-9][0-9] | hp9k8[0-9]7 | hp8[0-9]7)
d421 8
d450 16
d494 4
d512 8
d524 8
d544 4
d573 4
d580 12
d609 1
a609 1
	pentium | p5 | k5 | nexen)
d612 1
a612 1
	pentiumpro | p6 | k6 | 6x86)
d618 1
a618 1
	pentium-* | p5-* | k5-* | nexen-*)
d621 1
a621 1
	pentiumpro-* | p6-* | k6-* | 6x86-*)
d645 4
d655 4
d666 4
d677 7
d728 4
d749 4
d776 8
d791 4
d802 9
d833 1
a833 1
	sparc)
d845 10
a868 4
	human)
		basic_machine=m68k-sharp
		os=-human
		;;
a895 2
	-os2_emx)
		;;
d908 1
a908 1
	      | -lynxos* | -bosx* | -nextstep* | -cxux* | -aout* | -elf* \
d912 2
a913 1
              | -mingw32* | -linux* | -uxpv* | -beos* | -rhapsody* )
d916 7
d944 3
d978 6
d987 3
d1023 3
d1047 9
d1068 9
d1140 12
d1173 3
d1179 3
d1208 9
@


1.2
log
@1.4.0
@
text
@d181 1
a181 1
	      | xmp-* | ymp-* | hppa-* | hppa1.0-* | hppa1.1-* | hppa2.0-* | hppa2.0w-* \
@


1.2.2.1
log
@2000-02-02
@
text
@d181 1
a181 1
	      | xmp-* | ymp-* | hppa-* | hppa1.0-* | hppa1.1-* | hppa2.0* | hppa2.0w-* \
@


1.2.2.2
log
@2000-02-08
@
text
@d3 1
a3 1
#   Copyright (C) 1991, 92-97, 1998, 1999 Free Software Foundation, Inc.
a100 10
	-sim | -cisco | -oki | -wec | -winbond)
		os=
		basic_machine=$1
		;;
	-scout)
		;;
	-wrs)
		os=vxworks
		basic_machine=$1
		;;
d105 1
a105 1
		os=-sco3.2v5
a123 3
	-udk*)
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
d154 6
a159 10
		| 580 | i960 | h8300 \
		| hppa | hppa1.0 | hppa1.1 | hppa2.0 | hppa2.0w | hppa2.0n \
		| alpha | alphaev[4-7] | alphaev56 | alphapca5[67] \
		| we32k | ns16k | clipper | i370 | sh | powerpc | powerpcle \
		| 1750a | dsp16xx | pdp11 | mips16 | mips64 | mipsel | mips64el \
		| mips64orion | mips64orionel | mipstx39 | mipstx39el \
		| mips64vr4300 | mips64vr4300el | mips64vr4100 | mips64vr4100el \
		| mips64vr5000 | miprs64vr5000el \
		| sparc | sparclet | sparclite | sparc64 | sparcv9 | v850 | c4x \
		| thumb | d10v)
a161 3
	m88110 | m680[12346]0 | m683?2 | m68360 | m5200 | z8k | v70 | h8500 | w65)
		;;

d180 4
a183 6
	      | power-* | none-* | 580-* | cray2-* | h8300-* | h8500-* | i960-* \
	      | xmp-* | ymp-* \
	      | hppa-* | hppa1.0-* | hppa1.1-* | hppa2.0-* | hppa2.0w-* | hppa2.0n-* \
	      | alpha-* | alphaev[4-7]-* | alphaev56-* | alphapca5[67]-* \
	      | we32k-* | cydra-* | ns16k-* | pn-* | np1-* | xps100-* \
	      | clipper-* | orion-* \
d185 2
a186 3
	      | sparc64-* | sparcv9-* | sparc86x-* | mips16-* | mips64-* | mipsel-* \
	      | mips64el-* | mips64orion-* | mips64orionel-* \
	      | mips64vr4100-* | mips64vr4100el-* | mips64vr4300-* | mips64vr4300el-* \
d188 1
a188 3
	      | f301-* | armv*-* | t3e-* \
	      | m88110-* | m680[01234]0-* | m683?2-* | m68360-* | z8k-* | d10v-* \
	      | thumb-* | v850-* | d30v-* | tic30-* | c30-* )
a191 4
	386bsd)
		basic_machine=i386-unknown
		os=-bsd
		;;
a197 8
	a29khif)
		basic_machine=a29k-amd
		os=-udi
		;;
	adobe68k)
		basic_machine=m68010-adobe
		os=-scout
		;;
a226 4
	apollo68bsd)
		basic_machine=m68k-apollo
		os=-bsd
		;;
a302 4
	es1800 | OSE68k | ose68k | ose | OSE)
		basic_machine=m68k-ericsson
		os=-ose
		;;
a320 8
	h8300xray)
		basic_machine=h8300-hitachi
		os=-xray
		;;
	h8500hms)
		basic_machine=h8500-hitachi
		os=-hms
		;;
a335 3
	hp3k9[0-9][0-9] | hp9[0-9][0-9])
		basic_machine=hppa1.0-hp
		;;
d342 1
a342 15
	hp9k6[0-9][0-9] | hp6[0-9][0-9])
		basic_machine=hppa1.0-hp
		;;
	hp9k7[0-79][0-9] | hp7[0-79][0-9])
		basic_machine=hppa1.1-hp
		;;
	hp9k78[0-9] | hp78[0-9])
		# FIXME: really hppa2.0-hp
		basic_machine=hppa1.1-hp
		;;
	hp9k8[67]1 | hp8[67]1 | hp9k80[24] | hp80[24] | hp9k8[78]9 | hp8[78]9 | hp9k893 | hp893)
		# FIXME: really hppa2.0-hp
		basic_machine=hppa1.1-hp
		;;
	hp9k8[0-9][13679] | hp8[0-9][13679])
a350 8
	hppaosf)
		basic_machine=hppa1.1-hp
		os=-osf
		;;
	hppro)
		basic_machine=hppa1.1-hp
		os=-proelf
		;;
a371 16
	i386mach)
		basic_machine=i386-mach
		os=-mach
		;;
	i386-vsta | vsta)
		basic_machine=i386-unknown
		os=-vsta
		;;
	i386-go32 | go32)
		basic_machine=i386-unknown
		os=-go32
		;;
	i386-mingw32 | mingw32)
		basic_machine=i386-unknown
		os=-mingw32
		;;
a399 4
	*mint | *MiNT)
		basic_machine=m68k-atari
		os=-mint
		;;
a413 8
	monitor)
		basic_machine=m68k-rom68k
		os=-coff
		;;
	msdos)
		basic_machine=i386-unknown
		os=-msdos
		;;
a417 8
	netbsd386)
		basic_machine=i386-unknown
		os=-netbsd
		;;
	netwinder)
		basic_machine=armv4l-corel
		os=-linux
		;;
a429 4
	necv70)
		basic_machine=v70-nec
		os=-sysv
		;;
a454 4
	mon960)
		basic_machine=i960-intel
		os=-mon960
		;;
a457 12
	op50n-* | op60c-*)
		basic_machine=hppa1.1-oki
		os=-proelf
		;;
	OSE68000 | ose68000)
		basic_machine=m68000-ericsson
		os=-ose
		;;
	os68k)
		basic_machine=m68k-none
		os=-os68k
		;;
d475 1
a475 1
	pentium | p5 | k5 | k6 | nexen)
d478 1
a478 1
	pentiumpro | p6 | 6x86)
d484 1
a484 1
	pentium-* | p5-* | k5-* | k6-* | nexen-*)
d487 1
a487 1
	pentiumpro-* | p6-* | 6x86-*)
a510 4
	rom68k)
		basic_machine=m68k-rom68k
		os=-coff
		;;
a516 4
	sa29200)
		basic_machine=a29k-amd
		os=-udi
		;;
a523 4
	sparclite-wrs)
		basic_machine=sparclite-wrs
		os=-vxworks
		;;
a530 7
	st2000)
		basic_machine=m68k-tandem
		;;
	stratus)
		basic_machine=i860-stratus
		os=-sysv4
		;;
a574 4
	t3e)
		basic_machine=t3e-cray
		os=-unicos
		;;
a591 4
	v810 | necv810)
		basic_machine=v810-nec
		os=-none
		;;
a614 8
	w65*)
		basic_machine=w65-wdc
		os=-none
		;;
	w89k-*)
		basic_machine=hppa1.1-winbond
		os=-proelf
		;;
a621 4
	z8k-*-coff)
		basic_machine=z8k-unknown
		os=-sim
		;;
a628 9
	w89k)
		basic_machine=hppa1.1-winbond
		;;
	op50n)
		basic_machine=hppa1.1-oki
		;;
	op60c)
		basic_machine=hppa1.1-oki
		;;
d651 1
a651 1
	sparc | sparcv9)
a662 10
	mac | mpw | mac-mpw)
		basic_machine=m68k-apple
		;;
	pmac | pmac-mpw)
		basic_machine=powerpc-apple
		;;
	c4x*)
		basic_machine=c4x-none
		os=-coff
		;;
d677 4
d708 2
d722 1
a722 1
	      | -lynxos* | -bosx* | -nextstep* | -cxux* | -aout* | -elf* | -oabi* \
d726 1
a726 2
	      | -mingw32* | -linux* | -uxpv* | -beos* | -mpeix* | -udk* \
	      | -interix* | -uwin* | -rhapsody* | -openstep* | -oskit*)
a728 7
	-sim | -es1800* | -hms* | -xray | -os68k* | -none* | -v88r* \
	      | -windows* | -osx | -abug | -netware* | -os9* | -beos* \
	      | -macos* | -mpw* | -magic* | -mon960* | -lnews*)
		;;
	-mac*)
		os=`echo $os | sed -e 's|mac|macos|'`
		;;
a749 3
	-386bsd)
		os=-bsd
		;;
a780 6
	-ose*)
		os=-ose
		;;
	-es1800*)
		os=-ose
		;;
a783 3
        -*mint | -*MiNT)
	        os=-mint
		;;
a816 3
	arm*-corel)
		os=-linux
		;;
a837 9
	m68*-cisco)
		os=-aout
		;;
	mips*-cisco)
		os=-elf
		;;
	mips*-*)
		os=-elf
		;;
a849 9
	*-wec)
		os=-proelf
		;;
	*-winbond)
		os=-proelf
		;;
	*-oki)
		os=-proelf
		;;
a912 12
	*-rom68k)
		os=-coff
		;;
	*-*bug)
		os=-coff
		;;
	*-apple)
		os=-macos
		;;
	*-atari*)
		os=-mint
		;;
a933 3
			-beos*)
				vendor=be
				;;
a936 3
			-mpeix*)
				vendor=hp
				;;
a962 9
				;;
			-hms*)
				vendor=hitachi
				;;
			-mpw* | -macos*)
				vendor=apple
				;;
			-*mint | -*MiNT)
				vendor=atari
@


1.2.2.3
log
@2000-03-02
@
text
@d71 1
a71 1
  linux*)
d894 1
a894 1
		os=`echo $os | sed -e 's|gnu/linux|linux|'`
@


1.2.2.4
log
@2000-05-01
@
text
@d913 1
a913 1
	      | -interix* | -uwin* | -rhapsody* | -openstep* | -macos | -oskit*)
@


1.2.2.5
log
@2000-06-13
@
text
@d913 1
a913 1
	      | -interix* | -uwin* | -rhapsody* | -openstep* | -oskit*)
@


1.2.2.6
log
@mktemp() vulnerability removed.
@
text
@a527 4
	hpcmips*-*)
		basic_machine=hpcmips-unknown
		os=-netbsd
		;;
@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
#   Copyright (C) 1991, 92, 93, 94, 95, 1996 Free Software Foundation, Inc.
d152 10
a161 9
	tahoe | i860 | m68k | m68000 | m88k | ns32k | arm \
		| arme[lb] | pyramid \
		| tron | a29k | 580 | i960 | h8300 | hppa1.0 | hppa1.1 \
		| alpha | we32k | ns16k | clipper | i370 | sh \
		| powerpc | powerpcle | 1750a | dsp16xx | mips64 | mipsel \
		| pdp11 | mips64el | mips64orion | mips64orionel \
		| sparc | sparclet | sparclite | sparc64)
	  basic_machine=$basic_machine-unknown
	  ;;
d165 1
a165 1
	i[3456]86)
d168 3
d173 2
a174 2
	  echo Invalid configuration \`$1\': machine \`$basic_machine\' not recognized 1>&2
	  exit 1
d177 12
a188 8
	vax-* | tahoe-* | i[3456]86-* | i860-* | m68k-* | m68000-* | m88k-* \
	      | sparc-* | ns32k-* | fx80-* | arm-* | c[123]* \
	      | mips-* | pyramid-* | tron-* | a29k-* | romp-* | rs6000-* | power-* \
	      | none-* | 580-* | cray2-* | h8300-* | i960-* | xmp-* | ymp-* \
	      | hppa1.0-* | hppa1.1-* | alpha-* | we32k-* | cydra-* | ns16k-* \
	      | pn-* | np1-* | xps100-* | clipper-* | orion-* | sparclite-* \
	      | pdp11-* | sh-* | powerpc-* | powerpcle-* | sparc64-* | mips64-* | mipsel-* \
	      | mips64el-* | mips64orion-* | mips64orionel-*)
d215 1
a215 1
	amigados)
d217 1
a217 1
		os=-amigados
a302 4
	ews4800)
		basic_machine=mips-nec
		os=-sysv4
		;;
d348 3
d356 1
a356 1
	i[3456]86v32)
d360 1
a360 1
	i[3456]86v4*)
d364 1
a364 1
	i[3456]86v)
d368 1
a368 1
	i[3456]86sol2)
d400 8
d475 5
a479 2
	pentium | p5)
		basic_machine=i586-intel
d481 2
a482 2
	pentiumpro | p6)
		basic_machine=i686-intel
d484 1
a484 1
	pentium-* | p5-*)
d487 1
a487 1
	pentiumpro-* | p6-*)
d490 2
a491 7
	k5)
		# We don't have specific support for AMD's K5 yet, so just call it a Pentium
		basic_machine=i586-amd
		;;
	nexen)
		# We don't have specific support for Nexgen yet, so just call it a Pentium
		basic_machine=i586-nexgen
d575 6
d600 3
d630 5
a634 1
		basic_machine=mips-mips
a662 4
	human)
		basic_machine=m68k-sharp
		os=-human
		;;
d677 4
d699 1
a699 1
	-unixware* | svr4*)
d702 3
d708 2
d717 4
a720 3
	      | -amigados* | -msdos* | -newsos* | -unicos* | -aof* | -aos* \
	      | -nindy* | -vxworks* | -ebmon* | -hms* | -mvs* | -clix* \
	      | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \
d725 2
a726 2
	      | -cygwin32* | -pe* | -psos* | -moss* | -proelf* \
	      | -linux* | -bow*)
d789 3
d844 3
d860 1
a860 1
		os=-amigados
d910 3
a930 3
			-lynxos*)
				vendor=lynx
				;;
d958 1
a958 1
			-vxworks*)
@


1.1.1.1
log
@
@
text
@@


1.1.1.2
log
@ruby 1.3 cycle
@
text
@d3 1
a3 1
#   Copyright (C) 1991, 92-97, 1998 Free Software Foundation, Inc.
d152 9
a160 10
	tahoe | i860 | m32r | m68k | m68000 | m88k | ns32k | arc | arm \
		| arme[lb] | pyramid | mn10200 | mn10300 | tron | a29k \
		| 580 | i960 | h8300 | hppa | hppa1.0 | hppa1.1 | hppa2.0 \
		| alpha | alphaev5 | alphaev56 | we32k | ns16k | clipper \
		| i370 | sh | powerpc | powerpcle | 1750a | dsp16xx | pdp11 \
		| mips64 | mipsel | mips64el | mips64orion | mips64orionel \
		| mipstx39 | mipstx39el \
		| sparc | sparclet | sparclite | sparc64 | v850)
		basic_machine=$basic_machine-unknown
		;;
d164 1
a164 1
	i[34567]86)
a166 3
	i[3456]86-TOWNS*)
	  basic_machine=`echo $basic_machine | sed -e 's/-TOWNS.*/-TOWNS/'`
	  ;;
d169 2
a170 2
		echo Invalid configuration \`$1\': machine \`$basic_machine\' not recognized 1>&2
		exit 1
d173 8
a180 12
	vax-* | tahoe-* | i[34567]86-* | i860-* | m32r-* | m68k-* | m68000-* \
	      | m88k-* | sparc-* | ns32k-* | fx80-* | arc-* | arm-* | c[123]* \
	      | mips-* | pyramid-* | tron-* | a29k-* | romp-* | rs6000-* \
	      | power-* | none-* | 580-* | cray2-* | h8300-* | i960-* \
	      | xmp-* | ymp-* | hppa-* | hppa1.0-* | hppa1.1-* | hppa2.0-* \
	      | alpha-* | alphaev5-* | alphaev56-* | we32k-* | cydra-* \
	      | ns16k-* | pn-* | np1-* | xps100-* | clipper-* | orion-* \
	      | sparclite-* | pdp11-* | sh-* | powerpc-* | powerpcle-* \
	      | sparc64-* | mips64-* | mipsel-* \
	      | mips64el-* | mips64orion-* | mips64orionel-*  \
	      | mipstx39-* | mipstx39el-* \
	      | f301-*)
d207 1
a207 1
	amigaos | amigados)
d209 1
a209 1
		os=-amigaos
d295 4
a343 3
	hppa-next)
		os=-nextstep3
		;;
d349 1
a349 1
	i[34567]86v32)
d353 1
a353 1
	i[34567]86v4*)
d357 1
a357 1
	i[34567]86v)
d361 1
a361 1
	i[34567]86sol2)
a392 8
	mipsel*-linux*)
		basic_machine=mipsel-unknown
		os=-linux
		;;
	mips*-linux*)
		basic_machine=mips-unknown
		os=-linux
		;;
d460 2
a461 5
	pentium | p5 | k5 | nexen)
		basic_machine=i586-pc
		;;
	pentiumpro | p6 | k6 | 6x86)
		basic_machine=i686-pc
d463 2
a464 2
	pentiumii | pentium2)
		basic_machine=i786-pc
d466 1
a466 1
	pentium-* | p5-* | k5-* | nexen-*)
d469 1
a469 1
	pentiumpro-* | p6-* | k6-* | 6x86-*)
d472 7
a478 2
	pentiumii-* | pentium2-*)
		basic_machine=i786-`echo $basic_machine | sed 's/^[^-]*-//'`
a561 6
	tx39)
		basic_machine=mipstx39-unknown
		;;
	tx39el)
		basic_machine=mipstx39el-unknown
		;;
a580 3
	vpp*|vx|vx-*)
               basic_machine=f301-fujitsu
               ;;
d608 1
a608 5
		if [ x$os = x-linux ]; then
			basic_machine=mips-unknown
		else
			basic_machine=mips-mips
		fi
d637 4
a654 4
	human)
		basic_machine=m68k-sharp
		os=-human
		;;
d673 1
a673 1
	-svr4*)
a675 3
	-unixware*)
		os=-sysv4.2uw
		;;
d686 3
a688 4
	      | -amigaos* | -amigados* | -msdos* | -newsos* | -unicos* | -aof* \
	      | -aos* \
	      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \
	      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \
d693 2
a694 2
	      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
	      | -mingw32* | -linux* | -uxpv* | -beos*)
a756 3
	-beos)
	        os=-beos
		;;
a808 3
	*-be)
		os=-beos
		;;
d822 1
a822 1
		os=-amigaos
a871 3
	f301-fujitsu)
		os=-uxpv
		;;
d890 3
d920 1
a920 1
			-vxsim* | -vxworks*)
@


1.1.1.2.2.1
log
@990224
@
text
@d154 1
a154 1
		| 580 | i960 | h8300 | hppa | hppa1.0 | hppa1.1 | hppa2.0 | hppa2.0w \
d181 1
a181 1
	      | xmp-* | ymp-* | hppa-* | hppa1.0-* | hppa1.1-* | hppa2.0-* | hppa2.0w-* \
@


1.1.1.2.2.2
log
@*** empty log message ***
@
text
@a707 2
	-os2_emx)
		;;
@


1.1.1.2.2.3
log
@prepare to alpha
@
text
@d726 1
a726 1
              | -mingw32* | -linux* | -uxpv* | -beos* | -rhapsody* )
@


1.1.1.1.4.1
log
@dynamic (nested) local variables
@
text
@d3 1
a3 1
#   Copyright (C) 1991, 92, 93, 94, 95, 96, 1997 Free Software Foundation, Inc.
d152 9
a160 10
	tahoe | i860 | m32r | m68k | m68000 | m88k | ns32k | arc | arm \
		| arme[lb] | pyramid | mn10200 | mn10300 \
		| tron | a29k | 580 | i960 | h8300 | hppa | hppa1.0 | hppa1.1 \
		| alpha | alphaev5 | alphaev56 | we32k | ns16k | clipper \
		| i370 | sh | powerpc | powerpcle | 1750a | dsp16xx | pdp11 \
		| mips64 | mipsel | mips64el | mips64orion | mips64orionel \
		| mipstx39 | mipstx39el \
		| sparc | sparclet | sparclite | sparc64 | v850)
		basic_machine=$basic_machine-unknown
		;;
a166 3
	i[3456]86-TOWNS-pc)
	  basic_machine=`echo $basic_machine | sed -e 's/-pc//'`
	  ;;
d169 2
a170 2
		echo Invalid configuration \`$1\': machine \`$basic_machine\' not recognized 1>&2
		exit 1
d173 8
a180 12
	vax-* | tahoe-* | i[3456]86-* | i860-* | m32r-* | m68k-* | m68000-* \
	      | m88k-* | sparc-* | ns32k-* | fx80-* | arc-* | arm-* | c[123]* \
	      | mips-* | pyramid-* | tron-* | a29k-* | romp-* | rs6000-* \
	      | power-* | none-* | 580-* | cray2-* | h8300-* | i960-* \
	      | xmp-* | ymp-* | hppa-* | hppa1.0-* | hppa1.1-* \
	      | alpha-* | alphaev5-* | alphaev56-* | we32k-* | cydra-* \
	      | ns16k-* | pn-* | np1-* | xps100-* | clipper-* | orion-* \
	      | sparclite-* | pdp11-* | sh-* | powerpc-* | powerpcle-* \
	      | sparc64-* | mips64-* | mipsel-* \
	      | mips64el-* | mips64orion-* | mips64orionel-*  \
	      | mipstx39-* | mipstx39el-* \
	      | f301-*)
d207 1
a207 1
	amigaos | amigados)
d209 1
a209 1
		os=-amigaos
d295 4
a343 3
	hppa-next)
		os=-nextstep3
		;;
a392 8
	mipsel*-linux*)
		basic_machine=mipsel-unknown
		os=-linux
		;;
	mips*-linux*)
		basic_machine=mips-unknown
		os=-linux
		;;
a561 6
	tx39)
		basic_machine=mipstx39-unknown
		;;
	tx39el)
		basic_machine=mipstx39el-unknown
		;;
a580 3
	vpp*|vx|vx-*)
               basic_machine=f301-fujitsu
               ;;
d608 1
a608 5
		if [ x$os = x-linux ]; then
			basic_machine=mips-unknown
		else
			basic_machine=mips-mips
		fi
d637 4
d673 1
a673 1
	-svr4*)
a675 3
	-unixware*)
		os=-sysv4.2uw
		;;
d686 3
a688 4
	      | -amigaos* | -amigados* | -msdos* | -newsos* | -unicos* | -aof* \
	      | -aos* \
	      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \
	      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \
d752 5
d822 1
a822 1
		os=-amigaos
a871 3
	f301-fujitsu)
		os=-uxpv
		;;
d890 3
d920 1
a920 1
			-vxsim* | -vxworks*)
@


1.1.1.1.4.2
log
@config.guess
@
text
@d168 2
a169 2
	i[3456]86-TOWNS*)
	  basic_machine=`echo $basic_machine | sed -e 's/-TOWNS.*/-TOWNS/'`
@


1.1.1.1.4.3
log
@exception name on -d
@
text
@a664 4
        human)
		basic_machine=m68k-sharp
		os=-human
                ;;
@


1.1.1.1.4.4
log
@1.1b9_11
@
text
@d665 4
a682 4
	human)
		basic_machine=m68k-sharp
		os=-human
		;;
a782 2
		;;
	-human)
@


1.1.1.1.4.5
log
@1.1b9_19
@
text
@a785 3
	-beos)
	        os=-beos
		;;
@


1.1.1.1.4.6
log
@baseline
@
text
@d726 1
a726 1
	      | -linux* | -bow*  | -rhapsody* | -openstep* )
@


1.1.1.1.4.7
log
@1.1c1
@
text
@a783 3
	-uxpds)
		os=-uxpds
		;;
@


1.1.1.1.4.8
log
@1.2.1 stable
@
text
@d3 1
a3 1
#   Copyright (C) 1991, 92-97, 1998 Free Software Foundation, Inc.
d153 2
a154 2
		| arme[lb] | pyramid | mn10200 | mn10300 | tron | a29k \
		| 580 | i960 | h8300 | hppa | hppa1.0 | hppa1.1 | hppa2.0 \
d165 1
a165 1
	i[34567]86)
d177 1
a177 1
	vax-* | tahoe-* | i[34567]86-* | i860-* | m32r-* | m68k-* | m68000-* \
d181 1
a181 1
	      | xmp-* | ymp-* | hppa-* | hppa1.0-* | hppa1.1-* | hppa2.0-* \
d356 1
a356 1
	i[34567]86v32)
d360 1
a360 1
	i[34567]86v4*)
d364 1
a364 1
	i[34567]86v)
d368 1
a368 1
	i[34567]86sol2)
d475 2
a476 2
	pentium | p5 | k5 | nexen)
		basic_machine=i586-pc
d478 2
a479 2
	pentiumpro | p6 | k6 | 6x86)
		basic_machine=i686-pc
d481 1
a481 4
	pentiumii | pentium2)
		basic_machine=i786-pc
		;;
	pentium-* | p5-* | k5-* | nexen-*)
d484 1
a484 1
	pentiumpro-* | p6-* | k6-* | 6x86-*)
d487 7
a493 2
	pentiumii-* | pentium2-*)
		basic_machine=i786-`echo $basic_machine | sed 's/^[^-]*-//'`
d725 2
a726 2
	      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
	      | -mingw32* | -linux* | -uxpv* | -beos*)
a842 3
		;;
	*-be)
		os=-beos
@


1.1.1.1.4.9
log
@to open CVS
@
text
@d724 1
a724 1
              | -mingw32* | -linux* | -uxpv* | -beos* | -rhapsody* )
@
