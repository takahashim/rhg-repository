head	1.87;
access;
symbols
	v1_6_7:1.48
	v1_6_6:1.48
	v1_6_5:1.48
	v1_6_4:1.48
	v1_7_1:1.64
	v1_6_4_preview4:1.48
	v1_6_4_preview3:1.48
	v1_6_4_preview2:1.48
	v1_6_4_preview1:1.48
	v1_6_3:1.48
	ruby_m17n:1.49.0.2
	ruby_1_6:1.48.0.2
	v1_6_2:1.48
	v1_6_1:1.44
	v1_6_0:1.43
	v1_4_6:1.5
	v1_4_5:1.5
	v1_4_4:1.5
	ruby_1_4_3:1.5
	ruby1_4_3:1.5
	v1_4_3:1.5
	v1_5_0:1.16
	ruby_1_4_3_pre1:1.5
	ruby_1_4:1.5.0.2
	v1_4_2:1.2
	v1_4_1:1.2
	v1_4_0:1.2
	v1_3_7:1.1.1.2.2.8
	v1_3_6_repack:1.1.1.2.2.8
	v1_3_6:1.1.1.2.2.8
	v1_3_5:1.1.1.2.2.7
	v1_2_6repack:1.1.1.1.4.4
	v1_3_4_990625:1.1.1.2.2.6
	v1_3_4_990624:1.1.1.2.2.6
	v1_2_6:1.1.1.1.4.4
	v1_3_4_990611:1.1.1.2.2.6
	v1_3_4_990531:1.1.1.2.2.5
	v1_3_3_990518:1.1.1.2.2.5
	v1_3_3_990513:1.1.1.2.2.5
	v1_3_3_990507:1.1.1.2.2.5
	v1_2_5:1.1.1.1.4.4
	v1_2_4:1.1.1.1.4.4
	v1_3_1_990225:1.1.1.2.2.3
	v1_3_1_990224:1.1.1.2.2.2
	v1_3_1_990215:1.1.1.2.2.1
	v1_3_1_990212:1.1.1.2.2.1
	v1_3_1_990210:1.1.1.2.2.1
	v1_3_1_:1.1.1.2.2.1
	v1_3_1_990209:1.1.1.2.2.1
	v1_3_1_990205:1.1.1.2.2.1
	v1_3_1_990203:1.1.1.2.2.1
	v1_3_1_990201:1.1.1.2.2.1
	v1_3_1"_990201:1.1.1.2.2.1
	v1_3_1_990128:1.1.1.2.2.1
	v1_3_1_990127:1.1.1.2.2.1
	v1_3_1_990126:1.1.1.2.2.1
	ruby_1_3:1.1.1.2.0.2
	v1_2_2:1.1.1.1.4.4
	RUBY_1_3:1.1.1.2
	v1_2_2_pr1:1.1.1.1.4.4
	v1_2_1repack:1.1.1.1.4.4
	v1_2_1:1.1.1.1.4.4
	v1_2_stable:1.1.1.1.4.4
	v1_1d1:1.1.1.1.4.4.2.4
	v1_1d0:1.1.1.1.4.4.2.3
	v1_1c9_1:1.1.1.1.4.4
	v1_1c9:1.1.1.1.4.4
	v1_1c8:1.1.1.1.4.4
	v1_1c7:1.1.1.1.4.4
	v1_1c6:1.1.1.1.4.4
	v1_1d-start:1.1.1.1.4.4.2.1
	v1_1c5:1.1.1.1.4.4
	v1_1dev:1.1.1.1.4.4.0.2
	v1_1c4:1.1.1.1.4.4
	v1_1c3:1.1.1.1.4.4
	v1_1c2:1.1.1.1.4.4
	v1_1c1:1.1.1.1.4.4
	v1_1c0:1.1.1.1.4.4
	v1_1b9_31:1.1.1.1.4.4
	v1_1b9_30:1.1.1.1.4.4
	v1_1b9_28:1.1.1.1.4.3
	v1_1b9_27:1.1.1.1.4.3
	v1_1b9_26:1.1.1.1.4.3
	r1_1b9_25:1.1.1.1.4.3
	r1_1b9_24:1.1.1.1.4.3
	v1_1b9_23:1.1.1.1.4.3
	v1_1b9_22:1.1.1.1.4.3
	v1_1b9_20:1.1.1.1.4.3
	v1_1b9_18:1.1.1.1.4.3
	v1_1b9_16:1.1.1.1.4.3
	v1_1b9_15:1.1.1.1.4.3
	v1_1b9_13:1.1.1.1.4.3
	v1_1b9_12:1.1.1.1.4.3
	v1_1b9_11:1.1.1.1.4.3
	v1_1b9_08:1.1.1.1.4.3
	v1_1b9_07:1.1.1.1.4.3
	r1_1b9:1.1.1.1
	v1_1b8:1.1.1.1
	v1_1b7:1.1.1.1
	v1_1b6:1.1.1.1
	v1_1r:1.1.1.1.0.4
	v1_1:1.1.1.1
	v1_0r:1.1.1.1.0.2
	v1_0:1.1.1.1
	RUBY:1.1.1;
locks; strict;
comment	@# @;


1.87
date	2002.09.06.08.59.38;	author matz;	state Exp;
branches;
next	1.86;

1.86
date	2002.09.05.09.42.56;	author matz;	state Exp;
branches;
next	1.85;

1.85
date	2002.08.29.09.08.15;	author matz;	state Exp;
branches;
next	1.84;

1.84
date	2002.08.20.07.36.01;	author matz;	state Exp;
branches;
next	1.83;

1.83
date	2002.07.26.06.12.38;	author matz;	state Exp;
branches;
next	1.82;

1.82
date	2002.05.14.06.22.25;	author matz;	state Exp;
branches;
next	1.81;

1.81
date	2002.05.07.08.31.59;	author matz;	state Exp;
branches;
next	1.80;

1.80
date	2002.01.23.07.30.39;	author matz;	state Exp;
branches;
next	1.79;

1.79
date	2002.01.19.14.21.44;	author matz;	state Exp;
branches;
next	1.78;

1.78
date	2002.01.11.09.18.49;	author matz;	state Exp;
branches;
next	1.77;

1.77
date	2001.12.18.08.46.56;	author matz;	state Exp;
branches;
next	1.76;

1.76
date	2001.12.11.03.48.08;	author matz;	state Exp;
branches;
next	1.75;

1.75
date	2001.12.10.07.18.12;	author matz;	state Exp;
branches;
next	1.74;

1.74
date	2001.11.19.05.03.02;	author matz;	state Exp;
branches;
next	1.73;

1.73
date	2001.10.16.03.27.06;	author matz;	state Exp;
branches;
next	1.72;

1.72
date	2001.10.02.04.31.18;	author matz;	state Exp;
branches;
next	1.71;

1.71
date	2001.09.19.06.54.10;	author matz;	state Exp;
branches;
next	1.70;

1.70
date	2001.09.05.06.54.53;	author matz;	state Exp;
branches;
next	1.69;

1.69
date	2001.09.03.05.37.42;	author matz;	state Exp;
branches;
next	1.68;

1.68
date	2001.08.23.06.02.14;	author matz;	state Exp;
branches;
next	1.67;

1.67
date	2001.08.20.04.29.56;	author matz;	state Exp;
branches;
next	1.66;

1.66
date	2001.07.24.09.07.33;	author matz;	state Exp;
branches;
next	1.65;

1.65
date	2001.06.19.04.35.13;	author matz;	state Exp;
branches;
next	1.64;

1.64
date	2001.05.11.05.24.54;	author matz;	state Exp;
branches;
next	1.63;

1.63
date	2001.05.06.15.01.58;	author matz;	state Exp;
branches;
next	1.62;

1.62
date	2001.05.02.04.22.10;	author matz;	state Exp;
branches;
next	1.61;

1.61
date	2001.03.19.03.20.20;	author matz;	state Exp;
branches;
next	1.60;

1.60
date	2001.03.06.08.17.16;	author matz;	state Exp;
branches;
next	1.59;

1.59
date	2001.03.05.08.33.16;	author matz;	state Exp;
branches;
next	1.58;

1.58
date	2001.02.26.05.29.00;	author matz;	state Exp;
branches;
next	1.57;

1.57
date	2001.02.19.07.03.05;	author matz;	state Exp;
branches;
next	1.56;

1.56
date	2001.02.16.07.53.19;	author matz;	state Exp;
branches;
next	1.55;

1.55
date	2001.02.13.05.08.59;	author matz;	state Exp;
branches;
next	1.54;

1.54
date	2001.02.08.09.19.16;	author matz;	state Exp;
branches;
next	1.53;

1.53
date	2001.02.02.11.38.10;	author matz;	state Exp;
branches;
next	1.52;

1.52
date	2001.01.18.08.43.07;	author matz;	state Exp;
branches;
next	1.51;

1.51
date	2001.01.09.08.04.39;	author matz;	state Exp;
branches;
next	1.50;

1.50
date	2001.01.09.07.26.16;	author matz;	state Exp;
branches;
next	1.49;

1.49
date	2000.12.28.05.00.39;	author matz;	state Exp;
branches;
next	1.48;

1.48
date	2000.12.25.06.28.55;	author matz;	state Exp;
branches;
next	1.47;

1.47
date	2000.12.12.07.42.21;	author matz;	state Exp;
branches;
next	1.46;

1.46
date	2000.12.08.07.10.15;	author matz;	state Exp;
branches;
next	1.45;

1.45
date	2000.12.05.09.36.24;	author matz;	state Exp;
branches;
next	1.44;

1.44
date	2000.09.07.06.59.35;	author matz;	state Exp;
branches;
next	1.43;

1.43
date	2000.08.31.05.29.34;	author matz;	state Exp;
branches;
next	1.42;

1.42
date	2000.08.29.02.52.29;	author matz;	state Exp;
branches;
next	1.41;

1.41
date	2000.08.28.09.53.24;	author matz;	state Exp;
branches;
next	1.40;

1.40
date	2000.08.24.06.21.27;	author matz;	state Exp;
branches;
next	1.39;

1.39
date	2000.07.17.09.37.55;	author matz;	state Exp;
branches;
next	1.38;

1.38
date	2000.07.15.13.36.56;	author matz;	state Exp;
branches;
next	1.37;

1.37
date	2000.07.07.03.20.51;	author matz;	state Exp;
branches;
next	1.36;

1.36
date	2000.07.04.04.17.07;	author matz;	state Exp;
branches;
next	1.35;

1.35
date	2000.06.19.08.38.04;	author matz;	state Exp;
branches;
next	1.34;

1.34
date	2000.06.13.09.42.39;	author matz;	state Exp;
branches;
next	1.33;

1.33
date	2000.06.12.07.48.18;	author matz;	state Exp;
branches;
next	1.32;

1.32
date	2000.05.30.04.23.53;	author matz;	state Exp;
branches;
next	1.31;

1.31
date	2000.05.25.05.54.59;	author matz;	state Exp;
branches;
next	1.30;

1.30
date	2000.05.24.04.33.52;	author matz;	state Exp;
branches;
next	1.29;

1.29
date	2000.05.18.04.32.02;	author matz;	state Exp;
branches;
next	1.28;

1.28
date	2000.05.12.09.07.31;	author matz;	state Exp;
branches;
next	1.27;

1.27
date	2000.04.10.05.44.05;	author matz;	state Exp;
branches;
next	1.26;

1.26
date	2000.03.23.08.37.24;	author matz;	state Exp;
branches;
next	1.25;

1.25
date	2000.03.08.06.23.13;	author matz;	state Exp;
branches;
next	1.24;

1.24
date	2000.02.29.08.05.24;	author matz;	state Exp;
branches;
next	1.23;

1.23
date	2000.02.25.03.51.17;	author matz;	state Exp;
branches;
next	1.22;

1.22
date	2000.02.18.06.59.28;	author matz;	state Exp;
branches;
next	1.21;

1.21
date	2000.02.08.08.48.44;	author matz;	state Exp;
branches;
next	1.20;

1.20
date	2000.02.02.08.10.30;	author matz;	state Exp;
branches;
next	1.19;

1.19
date	2000.02.01.03.11.58;	author matz;	state Exp;
branches;
next	1.18;

1.18
date	2000.01.17.08.37.39;	author matz;	state Exp;
branches;
next	1.17;

1.17
date	2000.01.05.04.36.56;	author matz;	state Exp;
branches;
next	1.16;

1.16
date	99.12.07.09.23.22;	author matz;	state Exp;
branches;
next	1.15;

1.15
date	99.12.02.06.58.47;	author matz;	state Exp;
branches;
next	1.14;

1.14
date	99.11.29.06.32.57;	author matz;	state Exp;
branches;
next	1.13;

1.13
date	99.11.25.09.03.04;	author matz;	state Exp;
branches;
next	1.12;

1.12
date	99.11.17.07.30.29;	author matz;	state Exp;
branches;
next	1.11;

1.11
date	99.11.11.04.08.26;	author matz;	state Exp;
branches;
next	1.10;

1.10
date	99.11.10.06.47.06;	author matz;	state Exp;
branches;
next	1.9;

1.9
date	99.10.29.09.25.30;	author matz;	state Exp;
branches;
next	1.8;

1.8
date	99.10.21.07.52.14;	author matz;	state Exp;
branches;
next	1.7;

1.7
date	99.10.15.08.52.15;	author matz;	state Exp;
branches;
next	1.6;

1.6
date	99.10.13.06.44.40;	author matz;	state Exp;
branches;
next	1.5;

1.5
date	99.10.12.04.53.32;	author matz;	state Exp;
branches;
next	1.4;

1.4
date	99.10.04.04.51.04;	author matz;	state Exp;
branches;
next	1.3;

1.3
date	99.09.20.07.14.18;	author matz;	state Exp;
branches;
next	1.2;

1.2
date	99.08.13.05.45.01;	author matz;	state Exp;
branches;
next	1.1;

1.1
date	98.01.16.12.13.06;	author matz;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.01.16.12.13.06;	author matz;	state Exp;
branches
	1.1.1.1.4.1;
next	1.1.1.2;

1.1.1.2
date	99.01.20.04.59.21;	author matz;	state Exp;
branches
	1.1.1.2.2.1;
next	;

1.1.1.2.2.1
date	99.01.26.10.08.08;	author matz;	state Exp;
branches;
next	1.1.1.2.2.2;

1.1.1.2.2.2
date	99.02.24.04.31.17;	author matz;	state Exp;
branches;
next	1.1.1.2.2.3;

1.1.1.2.2.3
date	99.02.25.06.39.02;	author matz;	state Exp;
branches;
next	1.1.1.2.2.4;

1.1.1.2.2.4
date	99.03.24.08.52.23;	author matz;	state Exp;
branches;
next	1.1.1.2.2.5;

1.1.1.2.2.5
date	99.04.09.17.57.36;	author matz;	state Exp;
branches;
next	1.1.1.2.2.6;

1.1.1.2.2.6
date	99.06.11.06.29.45;	author matz;	state Exp;
branches;
next	1.1.1.2.2.7;

1.1.1.2.2.7
date	99.07.15.07.59.32;	author matz;	state Exp;
branches;
next	1.1.1.2.2.8;

1.1.1.2.2.8
date	99.07.22.10.37.03;	author matz;	state Exp;
branches;
next	1.1.1.2.2.9;

1.1.1.2.2.9
date	99.08.11.07.23.48;	author matz;	state Exp;
branches;
next	;

1.1.1.1.4.1
date	98.03.30.09.41.09;	author matz;	state Exp;
branches;
next	1.1.1.1.4.2;

1.1.1.1.4.2
date	98.04.02.10.05.15;	author matz;	state Exp;
branches;
next	1.1.1.1.4.3;

1.1.1.1.4.3
date	98.04.07.08.34.05;	author matz;	state Exp;
branches;
next	1.1.1.1.4.4;

1.1.1.1.4.4
date	98.06.30.01.40.41;	author matz;	state Exp;
branches
	1.1.1.1.4.4.2.1;
next	;

1.1.1.1.4.4.2.1
date	98.09.08.07.08.29;	author matz;	state Exp;
branches;
next	1.1.1.1.4.4.2.2;

1.1.1.1.4.4.2.2
date	98.11.25.03.31.09;	author matz;	state Exp;
branches;
next	1.1.1.1.4.4.2.3;

1.1.1.1.4.4.2.3
date	98.12.16.07.30.28;	author matz;	state Exp;
branches;
next	1.1.1.1.4.4.2.4;

1.1.1.1.4.4.2.4
date	98.12.22.09.01.48;	author matz;	state Exp;
branches;
next	;


desc
@@


1.87
log
@* gc.c (ruby_xmalloc): remove MALLOC_LIMIT to avoid frequent
  garabage collection.
@
text
@Language Spec.

- Class#allocate - basicNew
* operator !! for rescue. ???
* objectify characters
* ../... outside condition invokes operator method too.
* ... inside condition turns off just before right condition.???
* package or access control for global variables??
* named arguments like foo(nation:="german") or foo(nation: "german").
* method to retrieve argument information (needs new C API)
* multiple return values, yield values.  maybe incompatible ???
* cascading method invocation ???
* def Class#method .. end ??
* class Foo::Bar<Baz .. end, module Boo::Bar .. end
* def Foo::Bar::baz() .. end ??
* I18N (or M17N) script/string/regexp
* Fixnum 0 as false ????
* discourage use of symbol variables (e.g. $/, etc.) in manual
* discourage use of Perlish features by giving warnings.
* non confusing in-block local variable (is it possible?)
  + remove scope by block
  + variables appears within block may have independent values.
* Regexp: make /o thread safe.
* decide whether begin with rescue or ensure make do..while loop.
* a +1 to be a+1, not a(+1).
* unify == and eql? again
* to_i returns nil if str contains no digit.
* raise exception by `` error
* jar like combined library package. -> RubyGems?
* resumable Exception via Exception#resume.
* method combination, e.g. before, after, around, etc.
* .. or something like defadvice in Emacs.
* property - for methods, or for objects in general.
* "in" modifier, to annotate, or to encourage assertion.
* selector namespace - something like generic-flet in CLOS, to help RubyBehavior
* private instance variable (as in Python?) @@_foo in class Foo => @@_Foo_foo
* warn/error "bare word" method, like "foo",  you should type "foo()"
* clarify evaluation order of operator argument (=~, .., ...)
* :symbol => value hash in the form of {symbol: value, ...} ??

Hacking Interpreter

- generational GC
* non-blocking open (e.g. for named pipe) for thread
* avoid blocking with gethostbyname/gethostbyaddr (use fork ???)
* objectify interpreters ???
* remove rb_eval() recursions
* syntax tree -> bytecode ???
* scrambled script, or script filter
* setuid ruby
* performance tune for in-block (dynamic) local variables.
* give warnings to assign magic variables.
* export rb_io_{addstr,printf,puts,print}
* autoload should work with threads [ruby-talk:4589]
* remove stdio dependency from IOs.
* warn for inconsistent local variable usage (lv m and method m at the same time). 
* MicroRuby
* Built-in Interactive Ruby.
* Parser API
* trap every method invocation, which can be enabled by e.g. trap_call :method.
* unify Errno exceptions of same errno, or new exception comparison scheme.
* 2.times{|i| if i==0 then a = 15 else puts eval("a") end} should print nil.
* Thread#max_stack_size attribute (possible??)

Standard Libraries

- Module#define_method which takes a name and a body (block, proc or method).
- Enume#inject
- Array#fetch
- IO::for_fd
- Process::waitall [ruby-talk:4557]
- Process::Status
- File::lchown, File::lchmod; xxx - still need work for non existing platforms
- move Time::times to Process.
- Enumerable#sort_by for Schwartzian transformation
- fork_and_kill_other_threads.
- signal list (Signal::trap, Signal::list).
- move NameError under StandardError.
- Integer#to_s(base)
- Hash::new{default}
- hash etc. should handle self referenceing array/hash
- Array#select(n1,n2...) works like Array#indexes(n1,n2...)
- use Mersenne Twister RNG for random.
* String#scanf(?)
* Object#fmt(?)
* Time::strptime
* Integer[num], Float[num];  Fixnum[num]?
* method to retrieve non-number trailer for to_i/to_f.
* Stream or Port, abstract superclass of IO ?
* String#{pred,prev}, String#downto
* optional stepsize argument for succ()
* Ruby module -- Ruby::Version, Ruby::Interpreter
* introduce Boolean class; super of TrueClass, FalseClass
* synchronized method - synchronized{...}, synchronized :foo, :bar
* Array#&, Array#| to allow duplication. ???
* way to specify immortal (fork endurance) thread;
* or raise ForkException to every thread but fork caller.
* new user-defined marshal scheme. _dump(dumper), _load(restorer)
* library to load per-user profile seeking .ruby_profile or ruby.ini file.
* warning framework (warn, warning for Ruby level)
* marshal should not depend on sprintf (works bad with locale).
* ternary arg pow: a.pow(b,c) == a**b%c
* new caller(), e.g. call_stack; needs better name.
* remove dependency on MAXPATHLEN.
* pointer share mechanism similar to one in String for Array.
* deprecate Array#indexes, and Array#indices.
* require "1.6" etc. by /usr/lib/ruby/1.6/1.6.rb ;-)
* save both "feature names" and "normalized path" in $"

Extension Libraries

* ptk.rb pTk wrapper that is compatible to tk.rb
* Berkeley DB extension
* BitVector
* thread-safe fcgi

Ruby Libraries

- add uri.rb
* urllib.rb, nttplib.rb, etc.
* format like perl's

Tools

* freeze or undump to bundle everything
* bundle using zlib

Misc

- publish Ruby books
- publish Ruby books in English
@


1.86
log
@* variable.c (rb_path2class): should not use rb_eval_string().

* marshal.c (w_extended): should allow marshaling of object which
  is extended by named module.

* class.c (rb_make_metaclass): super may be T_ICLASS, need to skip.
@
text
@a108 1
* allow marshaling of extend'ed object.
@


1.85
log
@* array.c (rb_ary_become): should not free ptr if it's shared.

* eval.c (rb_alias): prohibit making an alias named "allocate" if
  klass is a metaclass.

* string.c (rb_string_value_ptr): StringValuePtr() should never
  return NULL pointer.
@
text
@d109 1
@


1.84
log
@* io.c (rb_io_putc): output via rb_io_write().

* re.c (rb_reg_initialize_m): frozen check should be moved here
  from rb_reg_initialize().
@
text
@d35 1
a35 1
* selector namespace - something like generic-flet in CLOS, to help RubyBehevior
d39 1
d119 1
a119 1
* add uri.rb
@


1.83
log
@* random.c: replace with Mersenne Twister RNG.

* eval.c (jump_tag_but_local_jump): preserve retval in
  LocalJumpError exceptions.

* parse.y (command): no more check for "super outside of method".

* eval.c (rb_mod_define_method): should set last_class and
  last_func in the block->frame.

* eval.c (error_handle): should handle TAG_THROW as well.

* parse.y (yylex): new decimal notation '0d4567'.

* parse.y (yylex): new octal notation '0o777'.

* parse.y (string_content): every string_content node should
  return string only.  use NODE_EVSTR to coercing.

* eval.c (rb_eval): NODE_EVSTR support.

* re.c (rb_reg_quote): avoid unnecessary string allocation.

* string.c (get_pat): quote metachracters before compiling a
  string into a regex.

* string.c (rb_str_split_m): special treatment of strings of size
  1, but AWK emulation.  now uses get_pat().

* string.c (rb_str_match_m): quote metacharacters.

* string.c (rb_str_match2): ditto.

* ext/socket/socket.c (sock_addrinfo): make all 3 versions of
  getaddrinfo happy.  [ruby-core:00184]
@
text
@d38 1
@


1.82
log
@* eval.c (rb_clear_cache_by_class): new function.

* eval.c (set_method_visibility): should have clear cache forq
  updated visibility.

* numeric.c (flo_to_s): default format precision to be "%.16g".

* util.c (ruby_strtod): use own strtod(3) implementation to avoid
  locale hell.  Due to this change "0xff".to_f no longer returns 255.0

* eval.c (avalue_to_yvalue): new function to distinguish yvalue
  (no-arg == Qundef) from svalue (no-arg == Qnil).

* eval.c (rb_yield_0): use avalue_to_yvalue().

* eval.c (assign): warn if val == Qundef where it means rhs is
  void (e.g. yield without value or call without argument).

* parse.y (value_expr): need not to warn for WHILE and UNTIL,
  since they can have return value (via valued break).
@
text
@d81 1
@


1.81
log
@* re.c (rb_reg_s_quote): # also should be quoted.
@
text
@d98 1
a98 1
* marshal should not depend on sprintf/strtod (works bad with locale).
@


1.80
log
@* array.c (Init_Array): remove Array#filter.

* object.c (rb_mod_initialize): should accept zero argument.

* object.c (rb_mod_cmp): should raise ArgumentError if
  inheritance/inclusion relation between two classes/modules is
  not defined. [new]

* io.c (rb_io_fsync): new method. [new]
@
text
@d105 1
@


1.79
log
@* eval.c (rb_eval): need not to clar method cache for NODE_CLASS,
  NODE_SCLASS.

* gc.c (obj_free): need not to clear method cache on class/module
  finalization.
@
text
@d61 1
@


1.78
log
@* re.c (match_select): should propagate taintness.

* hash.c (rb_hash_set_default): Hash#default= should return the
  new value.

* string.c (rb_str_to_i): accepts optional base argument. [new]

* numeric.c (rb_fix2str): should not handle negative fixnum values
  int32 via calling sprintf() directly.
@
text
@d37 1
@


1.77
log
@* string.c (rb_str_replace): swap arguments of OBJ_INFECT.

* eval.c (rb_thread_schedule): should not select a thread which is
  not yet initialized.

* time.c (time_plus): wrong boundary check.

* time.c (time_minus): ditto.
@
text
@d36 1
@


1.76
log
@* string.c (rb_str_match_m): should convert an argument into
  regexp if it's a string.

* array.c (rb_ary_select): Array#select(n,m,...) now works like
  Array#indexes(n,m,..). [new, experimental]

* hash.c (rb_hash_select): ditto.

* hash.c (env_select): ditto.

* re.c (match_select): ditto.

* struct.c (rb_struct_select): ditto.

* gc.c (STR_ASSOC): use FL_USER3 instead of FL_USER2.

* parse.y (str_extend): make up pushback call.
@
text
@d101 1
@


1.75
log
@* array.c (rb_ary_modify): should copy the internal buffer if the
  modifying buffer is shared.

* array.c (ary_make_shared): make an internal buffer of an array
  to be shared.

* array.c (rb_ary_shift): avoid sliding an internal buffer by
  using shared buffer.

* array.c (rb_ary_subseq): avoid copying the buffer.

* parse.y (gettable): should freeze __LINE__ string.

* io.c (rb_io_puts): old behavoir restored.  rationale: a) if you
  want to call to_s for arrays, you can just call print a, "\n".
  b) to_s wastes memory if array (and sum of its contents) is
  huge.  c) now any object that has to_ary is treated as an array,
  using rb_check_convert_type().

* hash.c (rb_hash_initialize): now accepts a block to calculate
  the default value. [new]

* hash.c (rb_hash_aref): call "default" method to get the value
  corrensponding to the non existing key.

* hash.c (rb_hash_default): get the default value based on the
  block given to 'new'.  Now it takes an optinal "key" argument.
  "default" became the method to get the value for non existing
  key.  Users may override "default" method to change the hash
  behavior.

* hash.c (rb_hash_set_default): clear the flag if a block is given
  to 'new'

* object.c (Init_Object): undef Data.allocate, left Data.new.

* ext/curses/curses.c (window_scrollok): use RTEST().

* ext/curses/curses.c (window_idlok): ditto.

* ext/curses/curses.c (window_keypad): ditto.

* ext/curses/curses.c (window_idlok): idlok() may return void on
  some platforms; so don't use return value.

* ext/curses/curses.c (window_scrollok): ditto for consistency.

* ext/curses/curses.c: replace FIX2INT() by typechecking NUM2INT().

* parse.y (str_extend): should not process immature #$x and
  #@@x interpolation, e.g #@@#@@ etc.

* enum.c (enum_sort_by): sort_by does not have to be stable always.

* enum.c (enum_sort_by): call qsort directly to gain performance.

* util.c (ruby_qsort): ruby_qsort(qs6) is now native thread safe.

* error.c (rb_sys_fail): it must be a bug if it's called when
  errno == 0.

* regex.c (WC2MBC1ST): should not pass through > 0x80 number in UTF-8.
@
text
@d77 1
a99 1
* Array#select(n1,n2...) works like Array#indexes(n1,n2...)
@


1.74
log
@* parse.y (parse_regx): should raise error on untermitated
  expression interpolation.

* pack.c (pack_unpack): should give length to utf8_to_uv().

* pack.c (utf8_to_uv): add length check.

* massages: replace "wrong #" by "wrong number".

* marshal.c (w_float): output Infinity and NaN explicitly.

* marshal.c (r_object): support new explicit float format.

* eval.c (rb_thread_wait_for): select may cause ERESTART on
  Solaris.

* eval.c (rb_thread_select): ditto.

* array.c (rb_ary_join): dumped core if sep is not T_STRING nor T_NIL.

* array.c (rb_ary_join): buffer size calculattion was wrong.

* array.c (rb_ary_to_s): if rb_output_fs is nil, insert newlines
  between array elements (use rb_default_rs as newline litral)
  [experimental].

* gc.c (init_mark_stack): no need to clear mark_stack.

* gc.c (gc_mark_all): need to handle finalizer mark.

* gc.c (gc_mark_rest): use MEMCPY instead of memcpy.

* gc.c (rb_gc_mark): earlier const check to avoid pusing special
  constants into mark stack.

* numeric.c (fix_to_s): 'to_s' now takes optional argument to
  specify radix. [new]

* bignum.c (rb_big_to_s): ditto. [new]
@
text
@d74 3
a78 1
* Integer#{bin,oct,hex,heX}
a90 1
* Hash::new{default} or recommend Hash#fetch?
a91 1
* hash etc. should handle self referenceing array/hash
d94 1
a94 1
* marshal should not depend on sprintf/strtod (works bad for locale).
d99 2
@


1.73
log
@* string.c (rb_str_index): wrong increment for non alphanumeric
  string.
@
text
@d34 1
a34 1
* in modifier, to annotate, or to encourage assertion.
d73 1
a91 1
* move NameError under StandardError.
d97 2
@


1.72
log
@* ext/socket/socket.c (unix_addr): getsockname(2) may result len = 0.

* ext/socket/socket.c (unix_peeraddr): getpeername(2) may result
  len = 0.

* string.c (rb_str_subpat_set): support function for new argument
  pattern String#[re,offset] = val. [new]

* eval.c (POP_BLOCK): rb_gc_force_recycle() was called too much.
  Should not be called if SCOPE_DONT_RECYCLE is set.

* string.c (rb_str_aref_m): new argument pattern
  String#[re,offset]. [new]

* string.c (rb_str_substr): should return an instance of
  receiver's class.

* string.c (rb_str_succ): ditto.

* array.c (rb_ary_subseq): ditto.

* array.c (rb_ary_initialize): Array.new([1,2,3]) => [1,2,3]. [new]

* string.c (rb_str_reverse): should return an instance of
  receiver's class.

* string.c (rb_str_times): ditto.

* array.c (rb_ary_times): ditto

* string.c (str_gsub): ditto.

* string.c (rb_str_ljust): ditto.

* string.c (rb_str_rjust): ditto.

* string.c (rb_str_center): ditto.

* eval.c (eval): retrieves file, line information from binding.

* eval.c (intersect_fds): counts intersecting fds.

* eval.c (rb_thread_schedule): only fds requested by
  each thread count as select_value.
@
text
@d3 1
d29 1
a29 1
* jar like combined library package.
d33 3
a35 1
* Class#allocate - basicNew
d55 1
d96 1
@


1.71
log
@* string.c (rb_str_init): String.new() => ""

* dir.c (dir_path): new method.

* dir.c (dir_initialize): wrap DIR into struct, along with path
  information.
@
text
@d32 1
d109 1
@


1.70
log
@* re.c (Init_Regexp): to_s to be alias to inspect.

* parse.y (yylex): should support 'keyword='.

* ruby.c (proc_options): should not adjust argc/argv if -e option
  is supplied.
@
text
@d31 1
a31 1
* .. or something like defactive in Emacs.
d90 1
a90 1
* ternary arg - a.pow(b,c) == a**b%c
@


1.69
log
@* ruby.c (proc_options): should not alter origargv[].

* ruby.c (set_arg0): long strings for $0 dumped core.

* ruby.c (set_arg0): use setprogtitle() if it's available.

* io.c (rb_io_popen): accept integer flags as mode.

* file.c (rb_find_file_ext): extension table can be supplied from
  outside.  renamed.

* eval.c (rb_f_require): replace rb_find_file_noext by
  rb_find_file_ext.

* eval.c (rb_provided): should also check feature without
  extension.

* numeric.c (flo_to_s): do not rely on decimal point to be '.'
@
text
@a52 1
* signal list (Signal::trap, Signal::list??).
d65 3
a67 1
* Enumerable#sort_by for Schwartzian transformation
a80 1
* fork_and_kill_other_threads.
a84 1
* warn, warning for Ruby level
d88 1
a88 1
* warning framework
d90 1
@


1.68
log
@* eval.c (is_defined): should not dump core for "defined?(())".

* eval.c (umethod_bind): recv can be an instance of descender of
  oklass if oklass is a Module.

* hash.c (rb_hash_equal): check identiry equality first.

* file.c (group_member): should check real gid only.

* file.c (eaccess): do not cache euid, since effective euid may be
  changed via Process.euid=().

* file.c (eaccess): return -1 unless every specified access mode
  is permitted.

* eval.c (rb_eval): while/until returns the value which is given
  to break.

* parse.y (value_expr): using while/until/class/def as an
  expression is now gives a warning, not an error.

* range.c (range_eqq): should compare strings based on magical
  increment (using String#upto), not dictionary order.

* enum.c (enum_sort_by): new method for Schewartzian transformed
  stable sort.

* variable.c (mod_av_set): detect constant overriding for built-in
  classes/modules.
@
text
@d90 1
@


1.67
log
@* range.c (range_step): 'iter' here should be an array.

* marshal.c (w_object): should retrieve __member__ data from
  non-singleton class.

* variable.c (rb_cvar_get): class variable override check added.

* variable.c (rb_cvar_set): ditto

* variable.c (rb_cvar_declare): ditto.

* parse.y (parse_regx): handle backslash escaping of delimiter here.
@
text
@d31 1
@


1.66
log
@* eval.c (rb_provide_feature): should not tweak extension used for
  loading.

* io.c (io_fread): use fread(3) if PENDING_COUND is available.

* class.c (rb_mod_include_p): Module#include? added. [new]

* re.c (ignorecase_setter): give warning on modifying $=.

* string.c (rb_str_casecmp): new method. [new]

* string.c (rb_str_eql): separated from rb_str_equal(), make it
  always be case sensitive. [new]

* string.c (rb_str_hash): made it always be case sensitive.

* eval.c (rb_f_require): should not include path in $" value

* file.c (rb_find_file): should return 0 explicitly on failure.
@
text
@d30 1
@


1.65
log
@* eval.c (rb_f_require): searches ".rb" and ".so" at the same
  time.  previous behavior (search ".rb", then ".so") has a
  security risk (ruby-bugs#PR140).

* array.c (rb_ary_to_ary): new function to replace internal
  rb_Array(), which never calls to_a, but to_ary (rb_Array() might
  call both). [new]

* regex.c (PUSH_FAILURE_POINT): push option status again.

* regex.c (re_compile_pattern): avoid pushing unnecessary
  option_set.

* eval.c (rb_load): tainted string is OK if wrapped *and*
  $SAFE >= 4.

* eval.c (rb_thread_start_0): should not nail down higher blocks
  before preserving original context (i.e. should not alter
  original context).

* eval.c (proc_yield): new method equivalent to Proc#call but no
  check for number of arguments. [new]
@
text
@d29 1
@


1.64
log
@* bignum.c (bigdivrem): access boundary bug.

* marshal.c (w_object): prohibit dumping out singleton classes.

* object.c (rb_mod_to_s): distinguish singleton classes.

* variable.c (rb_class2name): it's ok to reveal NilClass,
  TrueClass, FalseClass.

* eval.c (rb_yield_0): preserve and restore ruby_cref as well.

* eval.c (is_defined): core dumped during instance_eval for
  special constants.

* eval.c (rb_eval): ditto.
@
text
@d86 1
@


1.63
log
@forgot some checkins.
@
text
@a28 1
* "@@foo ||= 44" should not warn you.
d85 1
@


1.62
log
@* eval.c (block_pass): should not downgrade safe level.

* ext/dbm/extconf.rb: allow specifying dbm-type explicitly.

* ext/dbm/extconf.rb: avoid gdbm if possible, because it leaks
  memory, whereas gdbm.so doesn't.  potential incompatibility.

* string.c (rb_str_insert): new method.

* parse.y (yylex): lex_state after RESCUE_MOD should be EXPR_BEG.

* array.c (rb_ary_insert): new method.

* array.c (rb_ary_update): new utility function.

* io.c (set_outfile): should check if closed before assignment.

* eval.c (rb_eval): should preserve value of ruby_errinfo.

* eval.c (rb_thread_schedule): infinite sleep should not cause
  dead lock.

* array.c (rb_ary_flatten_bang): proper recursive detection.

* eval.c (yield_under): need not to prohibit at safe level 4.

* pack.c (pack_pack): p/P packs nil into NULL.

* pack.c (pack_unpack): p/P unpacks NULL into nil.

* pack.c (pack_pack): size check for P template.

* ruby.c (set_arg0): wrong predicate when new $0 value is bigger
  than original space.

* gc.c (id2ref): should use NUM2ULONG()

* object.c (rb_mod_const_get): check whether name is a class
  variable name.

* object.c (rb_mod_const_set): ditto.

* object.c (rb_mod_const_defined): ditto.

* marshal.c (w_float): precision changed to "%.16g"

* eval.c (rb_call0): wrong retry behavior.

* numeric.c (fix_aref): a bug on long>int architecture.

* eval.c (rb_eval_string_wrap): should restore ruby_wrapper.

* regex.c (re_compile_pattern): char class at either edge of range
  should be invalid.

* eval.c (handle_rescue): use === to compare exception match.

* error.c (syserr_eqq): comparison between SytemCallErrors should
  based on their error numbers.

* eval.c (safe_getter): should use INT2NUM().

* bignum.c (rb_big2long): 2**31 cannot fit in 31 bit long.

* regex.c (calculate_must_string): wrong length calculation.

* eval.c (rb_thread_start_0): fixed memory leak.

* parse.y (none): should clear cmdarg_stack too.

* io.c (rb_fopen): use setvbuf() to avoid recursive malloc() on
  some platforms.

* file.c (rb_stat_dev): device functions should honor stat field
  types (except long long such as dev_t).

* eval.c (rb_mod_nesting): should not push nil for nesting array.

* eval.c (rb_mod_s_constants): should not search array by
  rb_mod_const_at() for nil (happens for singleton class).

* class.c (rb_singleton_class_attached): should modify iv_tbl by
  itself, no longer use rb_iv_set() to avoid freeze check error.

* variable.c (rb_const_get): error message "uninitialized constant
  Foo at Bar::Baz" instead of "uninitialized constantBar::Baz::Foo".

* eval.c (rb_mod_included): new hook called from rb_mod_include().

* io.c (opt_i_set): should strdup() inplace_edit string.

* eval.c (exec_under): need to push cref too.

* eval.c (rb_f_missing): raise NameError for "undefined local
  variable or method".

* error.c (Init_Exception): new exception NoMethodError.
  NameError moved under ScriptError again.

* eval.c (rb_f_missing): use NoMethodError instead of NameError.

* file.c (Init_File): should redifine "new" class method.

* eval.c (PUSH_CREF): sharing cref node was problematic.  maintain
  runtime cref list instead.

* eval.c (rb_eval): copy defn node before registering.

* eval.c (rb_load): clear ruby_cref before loading.

* variable.c (rb_const_get): no recursion to show full class path
  for modules.

* eval.c (rb_set_safe_level): should set safe level in curr_thread
  as well.

* eval.c (safe_setter): ditto.

* object.c (rb_obj_is_instance_of): nil belongs to false, not true.

* time.c (make_time_t): proper (I hope) daylight saving time
  handling for both US and Europe.  I HATE DST!

* eval.c (rb_thread_wait_for): non blocked signal interrupt should
  stop the interval.

* eval.c (proc_eq): class check aded.

* eval.c (proc_eq): typo fixed ("return" was ommitted).

* error.c (Init_Exception): move NameError under StandardError.

* class.c (rb_mod_clone): should copy method bodies too.

* bignum.c (bigdivrem): should trim trailing zero bdigits of
  remainder, even if dd == 0.

* file.c (check3rdbyte): safe string check moved here.

* time.c (make_time_t): remove HAVE_TM_ZONE code since it
  sometimes reports wrong time.

* time.c (make_time_t): remove unnecessary range check for
  platforms where negative time_t is available.

* process.c (proc_waitall): should push Process::Status instead of
  Finuxm status.

* process.c (waitall_each): should add all entries in pid_tbl.
  these changes are inspired by Koji Arai.  Thanks.

* process.c (proc_wait): should not iterate if pid_tbl is 0.

* process.c (proc_waitall): ditto.

* numeric.c (flodivmod): a bug in no fmod case.

* process.c (pst_wifsignaled): should apply WIFSIGNALED for status
  (int), not st (VALUE).

* io.c (Init_IO): value of $/ and $\ are no longer restricted to
  strings.  type checks are done on demand.

* class.c (rb_include_module): module inclusion should be check
  taints.

* ruby.h (STR2CSTR): replace to StringType() and StringTypePtr().

* ruby.h (rb_str2cstr): ditto.

* eval.c (rb_load): should not copy topleve local variables.  It
  cause variable/method ambiguity.  Thanks to L. Peter Deutsch.

* class.c (rb_include_module): freeze check at first.

* eval.c (rb_attr): sprintf() and rb_intern() moved into
  conditional body.
@
text
@d29 1
@


1.61
log
@* dir.c (glob_helper): replace lstat() by stat() to follow symlink
  in the case like 'symlink/*'.

* dir.c (glob_helper): gave warning too much.
@
text
@d49 3
d84 1
@


1.60
log
@* parse.y (primary): rescue and ensure clauses should be allowed
  to appear in singleton method body.
@
text
@d28 1
@


1.59
log
@* eval.c (proc_eq): compare Procs using blocktag equality.
@
text
@d47 1
@


1.58
log
@* eval.c (proc_call): should not modify ruby_block->frame.iter
  based on ruby_frame->iter altered by PUSH_ITER().

* eval.c (rb_thread_fd_close): should save current context before
  raising exception.

* io.c (set_stdin): preserve original stdin.

* io.c (set_outfile): preserve original stdout/stderr.
@
text
@d85 1
@


1.57
log
@* eval.c (secure_visibility): visibility check for untainted modules.

* signal.c (sigpipe): sighandler which does nothing.

* signal.c (trap): set sigpipe function for SIGPIPE.

* signal.c (Init_signal): default SIGPIPE handler should be
  sigpipe function.

* array.c (rb_ary_subseq): wrong boundary check.

* parse.y (cond0): integer literal in condition should not be
  compared to lineno ($.).
@
text
@d78 1
@


1.56
log
@* io.c (set_outfile): f should be the FILE* from the assigning value.

* ext/socket/socket.c (tcp_s_open): should not give default value
  to local_host.

* time.c (time_s_times): move to Process::times.

* file.c (rb_file_s_lchmod): new method File::lchmod.

* file.c (rb_file_s_lchown): new method File::lchown.
@
text
@d77 1
@


1.55
log
@* io.c (rb_io_ctl): do not call ioctl/fcntl for f2, if f and f2
  have same fileno.

* eval.c (rb_load): raise LocaJumpError if unexpected local jumps
  appear during load.

* ext/socket/socket.c (bsock_close_read): don't call rb_thread_fd_close();
  it's supposed to be called by io_io_close().

* ext/socket/socket.c (bsock_close_read): do not modify f and f2.

* ext/socket/socket.c (bsock_close_write): ditto.

* ext/socket/socket.c (sock_new): avoid dup(2) on sockets.

* parse.y (primary): preserve and clear in_single and in_def using
  stack to prevent nested method errors in singleton class bodies.
@
text
@d23 1
a23 1
* decide if begin with rescue or ensure make do..while loop.
d54 4
a69 1
* Process::waitall [ruby-talk:4557]
a70 1
* move Time::times to Process.
a76 1
* lchown, lchmod, etc.
@


1.54
log
@* parse.y (parse_quotedwords): %w should allow parenthesis escape.

* parse.y (parse_qstring): %q should allow terminator escape.

* re.c (rb_reg_options): new method to give an option values.

* parse.y (cond0): disable special treating of integer literal in
  conditional unless option -e is supplied.  changes current
  behavior.  experimental.

* parse.y (cond0): give warning for string/integer literals and
  dot operators in conditionals unless option -e is supplied.

* re.c (rb_reg_equal): all option flags should be same to be equal.

* error.c (Init_Exception): make Interrupt a subclass of
  SignalException.
@
text
@a2 1
- %q!\!! => "!" (not "\\!")
a46 1
* regex /\ba/ on "[a in HIRAGANA]a[a in HIRAGANA]"
d53 1
a68 1
* IO#for_fd in general
@


1.53
log
@* array.c (rb_ary_sort_bang): returns self, even if its length is
  less than 2.

* eval.c (POP_VARS): propagate DVAR_DONT_RECYCLE, if
  SCOPE_DONT_RECYCLE of ruby_scope is set.
@
text
@d3 1
d76 2
@


1.52
log
@* io.c (rb_io_s_read): new method to call IO#read from
  pathname.  In addition, it accepts third optional argument to
  specify starting point.
@
text
@d47 1
d53 1
a73 1
* Array#fetch
@


1.51
log
@* file.c (path_check_1): should restore modified path.
@
text
@d46 1
@


1.50
log
@* enum.c (enum_inject): new method.

* gc.c (rb_gc_call_finalizer_at_exit): clear klass member of
  terminating object.

* eval.c (rb_call): raise exception for terminated object.

* bignum.c (bigdivrem): t2 might be too big for signed long; do
  not use rb_int2big(), but rb_uint2big().

* error.c (rb_load_fail): new func to report LoadError.

* ruby.c (load_file): use rb_load_fail.

* eval.c (ruby_finalize): should enclosed by PUSH_TAG/POP_TAG.

* gc.c (rb_gc_mark): link 2 of NODE_IFUNC should not be explicitly
  marked.  it may contain non object pointer.

* re.c (reg_s_last_match): Regexp::last_match(nth) returns nth
  substring of the match  (alternative for $& and $<digit>).

* eval.c (rb_mod_define_method): wrong comparison for blocks.

* gc.c (id2ref): should handle Symbol too.

* gc.c (id2ref): should print original ptr value

* eval.c (rb_iterate): NODE_CFUNC does not protect its data
  (nd_tval), so create new node NODE_IFUNC for iteration C
  function.

* eval.c (rb_yield_0): use NODE_IFUNC.

* gc.c (rb_gc_mark): support NODE_IFUNC.

* gc.c (mem_error): prohibit recursive mem_error().
  (ruby-bugs-ja:PR#36)

* eval.c (rb_thread_fd_writable): should not switch context if
  rb_thread_critical is set.

* eval.c (rb_thread_wait_fd): ditto.

* eval.c (rb_thread_wait_for): ditto.

* eval.c (rb_thread_select): ditto.

* eval.c (rb_thread_join): join during critical section causes
  deadlock.
@
text
@d17 1
a17 1
* discourage use of symbol variable (e.g. $/, etc.) in manual
d27 1
a27 1
* raise exception by ``
d50 1
a72 1
* Enume#inject
@


1.49
log
@changes from personal modifies -- matz
@
text
@a2 7
- def foo; .. rescue .. end
- compile time string concatenation, "hello" "world" => "helloworld"
- rescue modifier; a rescue b => begin a rescue; b end
- %w(a\ b\ c abc) => ["a b c", "abc"]
- objectify symbols
- class variable (prefix @@@@)
- rescue RuntimeError => err
d27 1
d31 1
a31 6
- use eban's fnmatch
- RUBYOPT environment variable
- alias $defout $>
- retrieve STACK_LEVEL_MAX from users' limit.
- remove end_proc registered out of require only
- all object made freezable
a39 1
* generational GC
d45 1
d49 1
a49 26
- hash[key] = nil does not remove entry; hashes may have nil as the value.
- hash.fetch(key) raises exception if key is not found.
- Array#{first,last,at}
- Dir.glob(pat){|f|...}
- sprintf/printf's $ to specify argument order
- Dir.glob("**/*.c") ala zsh
- Remove Enumerable#{size,length}
- Array#slice, Array#slice!
- String#slice, String#slice!
- Marshal should handle generic instance variables.
- debugger for thread programming
- SyntaxError, NameError, LoadError and NotImplementedError are subclasses of
  ScriptError<Exception, not StandardError.
- Thread::start gives arguments, not a thread object to the block
- regexp: (?>..), \G
- Struct::new([name,]member,...)
- IO#reopen accepts path as well
- Kernel#scan
- call initialize for builtin classes too
- performance tune for String's non-bang methods.
- 'w' template for pack/unpack
- alternative for interator? => block_given?
- regex - /p (made obsolete), /m (new)
- consistent /, %, divmod
- unbound method object
- integrate final.rb into the core.
a64 1
- Module#define_method which takes a name and a body (block, proc or method).
d67 1
a67 1
- fork_and_kill_other_threads.
d71 2
a75 1
- FastCGI ruby
a81 1
- net/http.rb
a87 1
- extension library maker using SWIG
@


1.48
log
@001225
@
text
@d32 2
@


1.47
log
@matz
@
text
@d54 1
@


1.46
log
@matz
@
text
@d31 1
d102 3
a104 1
* way to specify immortal (fork endurance) thread.
@


1.45
log
@matz
@
text
@d97 5
a101 1
* Module#define_method which takes a name and a body (block, proc or method).
@


1.44
log
@matz
@
text
@a25 1
* `exception' method to be alternative for `$!'. ??
d29 2
d48 1
a48 1
* generational GC ?
d52 1
d78 1
a78 1
- regex - /p (make obsolete), /m (new)
d97 1
d121 1
a121 1
* publish Ruby books in English
@


1.43
log
@matz
@
text
@d94 1
@


1.42
log
@matz
@
text
@d65 1
a65 1
- SyntaxError, NameError, LoadError and NotImplementError are subclasses of
@


1.41
log
@matz
@
text
@d93 1
a117 6

Things To Do Before 1.6

* fix spec. for the following:

  * mkmf.rb - create_makefile("net/socket")
@


1.40
log
@matz
@
text
@d50 1
@


1.39
log
@matz
@
text
@d91 1
@


1.38
log
@matz
@
text
@a78 1
* make clone depend on dup
@


1.37
log
@matz
@
text
@d77 3
@


1.36
log
@matz
@
text
@d9 1
a9 1
- rescue RuntimeError =>n err
@


1.35
log
@2000-06-19
@
text
@d9 1
a9 1
- rescue RuntimeError in err ??
d76 2
a117 1
  * alternative for $! (exception? in? =>? :?)
@


1.34
log
@2000-06-13
@
text
@d49 1
@


1.33
log
@2000-06-12
@
text
@d47 2
a48 1
* generational GC ?? (is it possible?)
@


1.32
log
@2000-05-30
@
text
@d28 2
@


1.31
log
@2000-05-25
@
text
@d27 1
d67 1
a67 1
- call initialize for builtin classes too (not yet: Class, Module)
d70 2
d112 1
a112 4
  * alternative for $! (exception? in? into? =>?)
  * alternative for interator?
  - regex - /p, /m
  * odd? even?
@


1.30
log
@2000-05-24
@
text
@d79 1
@


1.29
log
@2000-05-18
@
text
@d66 1
a66 1
- call initialize for builtin classes too (not yet: Regexp, Class, Module)
d110 1
a110 1
  * regex - /p, /m
@


1.28
log
@2000-05-12
@
text
@d90 1
d103 10
@


1.27
log
@2000-04-10
@
text
@d44 1
d68 1
@


1.26
log
@2000-03-23
@
text
@d38 1
a38 1
* objectify interpreters
d43 1
d65 1
a65 1
- call initialize for builtin class too (not yet: Regexp, etc)
@


1.25
log
@2000-03-08
@
text
@d8 2
a9 1
- class variable (prefix @@@@) - still need work for singletons
d25 2
d37 1
a37 1
* avoid blocking with gethostbyname/gethostbyaddr
d46 1
a46 1
- hash[key] = nil may not remove entry; hashes may have nil as the value.
a58 1
- String's bang methods return string always
d64 2
a65 1
- call initialize for builtin class too (not yet: Regexp, IO, etc)
a74 1
* performance tune for String's non-bang methods.
@


1.24
log
@2000-02-29
@
text
@d7 2
a8 1
* class variable (prefix @@@@?) ??
a9 1
* objectify symbols
d61 2
a73 1
* call initialize for builtin class too
@


1.23
log
@2000-02-25
@
text
@d23 1
d60 1
d72 1
@


1.22
log
@2000-02-18
@
text
@d69 1
@


1.21
log
@2000-02-08
@
text
@d22 1
d57 2
a58 3
- regexp: (?>..)
* regexp: \G
* Struct::new([name,]member,...) ??
d68 1
d75 1
@


1.20
log
@2000-02-02
@
text
@d55 3
d61 1
@


1.19
log
@2000-02-01
@
text
@d54 1
@


1.18
log
@2000-01-17
@
text
@a4 2
- assignable constant, which now should be called shared variable.
- class variable (prefix?) -- done by shared variable
d6 3
a8 1
* operator !! for  rescue.
a12 1
* %w(a\ b\ c abc) => ["a b c", "abc"]
d15 1
a15 1
* method to retrieve argument information (need new C API)
d21 1
d28 3
a30 2
* retrieve STACK_LEVEL_MAX from users' limit.
* remove end_proc registered out of require only
a37 1
* freeze all object
d48 6
a53 3
* Marshal should handle generic instance variables.
* SyntaxError and NameError should not be subclasses of StandardError, maybe.
* debugger for thread programming
d72 2
a73 1
* httplib.rb, urllib.rb, nttplib.rb, etc.
d78 1
a78 1
- extension library maker like XS or SWIG
d84 1
@


1.17
log
@20000105
@
text
@d37 1
@


1.16
log
@991207
@
text
@d47 1
@


1.15
log
@19991292
@
text
@d28 1
d46 1
@


1.14
log
@19991129
@
text
@d45 1
@


1.13
log
@19991125
@
text
@d28 1
@


1.12
log
@19991117
@
text
@a4 1
- rescue modifier; a rescue b => begin a rescue; b end
d7 2
d43 1
a44 1
* Dir.glob("**/*.c") ala zsh
@


1.11
log
@19991111
@
text
@d6 2
d11 1
d13 1
a13 2
* package or access control for global variables
* class variable (prefix?)
d26 1
d42 1
@


1.10
log
@19991110
@
text
@d38 1
@


1.9
log
@19991029
@
text
@d5 1
d38 1
@


1.8
log
@RUBYOPT
@
text
@d5 2
d51 1
d60 1
a60 1
* extension library maker like XS or SWIG
@


1.7
log
@-r debug, -s, etc.
@
text
@d19 2
a20 1
* RUBYOPT environment variable
d40 1
a40 1
* method to detect non-number trailer for to_i/to_f.
@


1.6
log
@*** empty log message ***
@
text
@d4 1
a4 1
* compile time string concatenation, "hello" "world" => "helloworld"
d20 1
a20 1
* non-blocking open (e.g. named pipe) for thread
d31 1
@


1.5
log
@19991012
@
text
@d3 1
a18 1
* hash[key] = nil may not remove entry; hashes may have nil as the value.
d30 3
a32 1
* Array#{first,last,at}
a41 1
* Dir.glob(pat){|f|...}
d45 1
a45 1
* FastCGI ruby
d60 1
a60 1
* publish Ruby books
@


1.4
log
@19991004
@
text
@d18 1
d30 1
a48 1
* net/pop.rb net/smtp.rb
@


1.3
log
@19990920
@
text
@d18 1
@


1.2
log
@1.4.0
@
text
@d37 1
@


1.1
log
@Initial revision
@
text
@d1 56
a56 4
* non-blocking open/write for thread
* パッケージまたは大域変数のアクセス制御
* format機能
* re-write regex code for speed and copyright
@


1.1.1.1
log
@
@
text
@@


1.1.1.2
log
@ruby 1.3 cycle
@
text
@d1 4
a4 37
Language Spec.

* package or access control for global variables
* named arguments like foo(nation:="german").
* multiple return values, yield values.  maybe imcompatible

Hacking Interpreter

* non-blocking open (e.g. named pipe) for thread
* avoid blocking with gethostbyname/gethostbyaddr
* objectify interpreters
* remove rb_eval() recursions
* syntax tree -> bytecode ???
* scrambled script, or script filter
* regular expression bug /(?:\s+\d+){2}/  URGENT!!

Extension Libraries

* mod_ruby, FastCGI ruby
* InterBase module
* ptk.rb pTk wrapper that is compatible to tk.rb

Ruby Libraries

* CGI.rb
* httplib.rb, urllib.rb, nttplib.rb, etc.
* format like perl's

Tools

* extension library maker like XS or SWIG
* freeze or undump to bundle everything

Misc

* translate README.EXT fully into English
* publish Ruby books
@


1.1.1.2.2.1
log
@990126
@
text
@d4 1
a4 2
* named arguments like foo(nation:="german" or nation: "german").
* method to retrieve argument information (need new C API)
a5 1
* cascading method invocation.
d15 1
@


1.1.1.2.2.2
log
@990224
@
text
@a7 1
* def Class#method .. end
a16 7

Standard Libraries

* String#scanf(?)
* Object#fmt(?)
* Integer[num], Float[num] (String[str]??)
* Stream or Port, abstract superclass of IO.
@


1.1.1.2.2.3
log
@990225
@
text
@d23 1
a23 1
* Integer[num], Float[num] (String[str]?, Array[obj]??)
a41 1
* eruby - embedded ruby
@


1.1.1.2.2.4
log
@990324
@
text
@a8 1
* exclusive range n...m (means n<=x<m).
@


1.1.1.2.2.5
log
@*** empty log message ***
@
text
@d9 1
d47 1
@


1.1.1.2.2.6
log
@990611
@
text
@a20 1
* IO/File to call initialize
d28 2
a29 1
* FastCGI ruby
d34 1
d42 1
@


1.1.1.2.2.7
log
@990715
@
text
@a2 1
* %w(a\ b\ c abc) => ["a b c", "abc"]
d4 1
a4 1
* named arguments like foo(nation:="german") or foo(nation: "german").
d6 3
a8 4
* multiple return values, yield values.  maybe incompatible
* cascading method invocation ???
* def Class#method .. end ??
* class Foo::Bar<Baz .. end, module Boo::Bar .. end
a17 1
* setuid ruby
d21 1
d25 1
a25 4
* method to detect non-number trailer for to_i/to_f.
* Stream or Port, abstract superclass of IO ?
* String#{pred,prev}, String#downto
* optional stepsize argument for succ()
a33 1
* maillib {pop3,smtp}
@


1.1.1.2.2.8
log
@backtrace may be Qnil
@
text
@a2 1
* ../... outside condition invokes operator method too.
a4 1
* class variable (prefix?)
a10 1
* def Foo::Bar::baz() .. end ??
d26 1
a26 2
* Time::strptime
* Integer[num], Float[num];  Fixnum[num]?
d39 1
a39 1
* net/pop.rb net/smtp.rb
@


1.1.1.2.2.9
log
@1.3.8 to be, final beta (hopefully)
@
text
@a2 1
* compile time string concatenation, "hello" "world" => "helloworld"
d9 1
a9 1
* multiple return values, yield values.  maybe incompatible ???
a26 1
* Struct::new([name,]member,...) ??
@


1.1.1.1.4.1
log
@instance_eva/module_eval
@
text
@d2 3
a4 2
* package or access control for global variables
* format
@


1.1.1.1.4.2
log
@some patches
@
text
@a0 2
* call `initialize' for built-in classes.
* 0 as flase value
@


1.1.1.1.4.3
log
@dynamic (nested) local variables
@
text
@d1 2
@


1.1.1.1.4.4
log
@*** empty log message ***
@
text
@a0 1
* remove Enumerable#reverse at 1.2
@


1.1.1.1.4.4.2.1
log
@1.1d series
@
text
@d1 1
@


1.1.1.1.4.4.2.2
log
@*** empty log message ***
@
text
@a1 1
* avoid blocking with gethostbyname/gethostbyaddr
a3 1
* freeze or undump to bundle everything in birary format.
@


1.1.1.1.4.4.2.3
log
@first public release of 1.1d (pre1.2) series
@
text
@d1 2
a2 2
Language Spec.

d4 2
a5 33
* named arguments like foo(nation:="german").
* multiple return values, yield values.  maybe imcompatible

Hacking Interpreter

* non-blocking open (e.g. named pipe) for thread
* avoid blocking with gethostbyname/gethostbyaddr
* objectify interpreters
* remove rb_eval() recursions
* syntax tree -> bytecode ???
* scrambled script, or script filter

Extension Libraries

* mod_ruby, FastCGI ruby
* InterBase module
* ptk.rb pTk wrapper that is compatible to tk.rb

Ruby Libraries

* CGI.rb
* httplib.rb, urllib.rb, nttplib.rb, etc.
* format like perl's

Tools

* extension library maker like XS or SWIG
* freeze or undump to bundle everything

Misc

* translate README.EXT fully into English
* publish Ruby books
@


1.1.1.1.4.4.2.4
log
@1.1d1
@
text
@a14 1
* regular expression bug /(?:\s+\d+){2}/  URGENT!!
@
