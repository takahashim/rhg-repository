head	1.59;
access;
symbols
	V0_3_2:1.27
	V0_1_4:1.3
	V0_1_3:1.2
	V0_1_2:1.1;
locks; strict;
comment	@# @;


1.59
date	2002.10.28.03.19.07;	author dave;	state Exp;
branches;
next	1.58;

1.58
date	2002.10.07.08.00.21;	author matz;	state Exp;
branches;
next	1.57;

1.57
date	2002.09.28.04.50.25;	author akr;	state Exp;
branches;
next	1.56;

1.56
date	2002.09.22.12.09.46;	author nobu;	state Exp;
branches;
next	1.55;

1.55
date	2002.08.28.17.03.03;	author dave;	state Exp;
branches;
next	1.54;

1.54
date	2002.08.22.04.46.02;	author dave;	state Exp;
branches;
next	1.53;

1.53
date	2002.06.28.12.14.54;	author nobu;	state Exp;
branches;
next	1.52;

1.52
date	2002.06.28.11.27.50;	author nobu;	state Exp;
branches;
next	1.51;

1.51
date	2002.05.30.06.10.54;	author matz;	state Exp;
branches;
next	1.50;

1.50
date	2002.05.21.05.51.06;	author matz;	state Exp;
branches;
next	1.49;

1.49
date	2002.03.25.15.03.25;	author nobu;	state Exp;
branches;
next	1.48;

1.48
date	2002.03.21.20.11.33;	author dave;	state Exp;
branches;
next	1.47;

1.47
date	2002.03.11.08.06.24;	author matz;	state Exp;
branches;
next	1.46;

1.46
date	2002.03.08.08.27.20;	author matz;	state Exp;
branches;
next	1.45;

1.45
date	2002.02.26.06.52.34;	author matz;	state Exp;
branches;
next	1.44;

1.44
date	2002.01.30.10.12.21;	author nobu;	state Exp;
branches;
next	1.43;

1.43
date	2002.01.28.19.09.29;	author nobu;	state Exp;
branches;
next	1.42;

1.42
date	2002.01.23.08.48.31;	author matz;	state Exp;
branches;
next	1.41;

1.41
date	2002.01.21.08.27.18;	author matz;	state Exp;
branches;
next	1.40;

1.40
date	2002.01.05.14.35.05;	author chad;	state Exp;
branches;
next	1.39;

1.39
date	2001.12.27.15.13.52;	author dave;	state Exp;
branches;
next	1.38;

1.38
date	2001.11.28.00.35.50;	author chad;	state Exp;
branches;
next	1.37;

1.37
date	2001.11.28.00.10.21;	author chad;	state Exp;
branches;
next	1.36;

1.36
date	2001.11.27.23.54.09;	author chad;	state Exp;
branches;
next	1.35;

1.35
date	2001.11.27.18.10.06;	author chad;	state Exp;
branches;
next	1.34;

1.34
date	2001.11.27.02.20.07;	author dave;	state Exp;
branches;
next	1.33;

1.33
date	2001.11.26.04.09.52;	author dave;	state Exp;
branches;
next	1.32;

1.32
date	2001.11.26.02.23.01;	author dave;	state Exp;
branches;
next	1.31;

1.31
date	2001.11.18.16.10.09;	author dave;	state Exp;
branches;
next	1.30;

1.30
date	2001.11.16.17.36.31;	author dave;	state Exp;
branches;
next	1.29;

1.29
date	2001.11.15.17.12.34;	author dave;	state Exp;
branches;
next	1.28;

1.28
date	2001.11.15.03.54.59;	author dave;	state Exp;
branches;
next	1.27;

1.27
date	2001.11.14.04.55.12;	author dave;	state Exp;
branches;
next	1.26;

1.26
date	2001.11.12.04.51.37;	author dave;	state Exp;
branches;
next	1.25;

1.25
date	2001.11.11.21.33.48;	author dave;	state Exp;
branches;
next	1.24;

1.24
date	2001.11.11.04.00.10;	author dave;	state Exp;
branches;
next	1.23;

1.23
date	2001.11.10.04.06.57;	author dave;	state Exp;
branches;
next	1.22;

1.22
date	2001.11.04.15.19.05;	author dave;	state Exp;
branches;
next	1.21;

1.21
date	2001.11.03.04.15.17;	author dave;	state Exp;
branches;
next	1.20;

1.20
date	2001.11.02.00.17.06;	author dave;	state Exp;
branches;
next	1.19;

1.19
date	2001.10.25.12.32.56;	author dave;	state Exp;
branches;
next	1.18;

1.18
date	2001.10.25.05.25.28;	author dave;	state Exp;
branches;
next	1.17;

1.17
date	2001.08.02.16.02.19;	author dave;	state Exp;
branches;
next	1.16;

1.16
date	2001.07.27.05.49.26;	author dave;	state Exp;
branches;
next	1.15;

1.15
date	2001.07.25.14.20.11;	author dave;	state Exp;
branches;
next	1.14;

1.14
date	2001.06.11.12.39.32;	author dave;	state Exp;
branches;
next	1.13;

1.13
date	2001.06.11.07.14.23;	author matz;	state Exp;
branches;
next	1.12;

1.12
date	2001.06.10.06.15.46;	author dave;	state Exp;
branches;
next	1.11;

1.11
date	2001.03.28.16.38.54;	author dave;	state Exp;
branches;
next	1.10;

1.10
date	2001.03.20.15.42.34;	author dave;	state Exp;
branches;
next	1.9;

1.9
date	2001.02.19.09.02.02;	author matz;	state Exp;
branches;
next	1.8;

1.8
date	2001.02.06.19.08.39;	author dave;	state Exp;
branches;
next	1.7;

1.7
date	2001.02.04.04.43.55;	author dave;	state Exp;
branches;
next	1.6;

1.6
date	2001.01.19.07.40.35;	author dave;	state Exp;
branches;
next	1.5;

1.5
date	2001.01.17.07.30.22;	author matz;	state Exp;
branches;
next	1.4;

1.4
date	2001.01.14.02.40.12;	author dave;	state Exp;
branches;
next	1.3;

1.3
date	2000.11.16.19.05.23;	author dave;	state Exp;
branches;
next	1.2;

1.2
date	2000.10.26.18.22.06;	author dave;	state Exp;
branches;
next	1.1;

1.1
date	2000.10.20.18.04.44;	author dave;	state Exp;
branches;
next	;


desc
@@


1.59
log
@JRuby doesn't support Kernel#binding. As I originally used it outside any
test fixture, this would cause the whole testsuite to fail. The use is now
conditional on #binding being available.
@
text
@2002-10-27  Dave Thomas  <Dave@@Thomases.com>

	* language/TestEval.rb: Patch from  Anders Bengtsson to remove
	dependency on support for Kernel#binding (presumably to allow
	JRuby tests to run).

2002-10-07  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* replace "type" by "class" since Object#type is deprecated in
	  1.7.3.

2002-09-28  Tanaka Akira  <akr@@m17n.org>

	* rubicon.rb: recognize HP-UX to treat it as an Unix variant.

	* builtin/TestIO.rb (test_pid): Use `exec' trick for all Unix
	variants.

	* builtin/TestFileTest.rb (TestFileTest::test_test): Use 02755 instead
	of 02644 for setgid bit because setgid bit without execution bit means
	mandatory locking for Solaris and it fails on NFS.
	(TestFileTest::test_test): /dev/tty is symlink on Solaris.

	* builtin/TestFloat.rb: Use 0.0/0.0 instead of Math::log(-1.0) to
	generate NaN because Math::log(-1.0) returns -Infinity instead of NaN
	on Solaris.

	* builtin/TestThreadGroup.rb (test_list): Avoid deadlock.

2002-09-22  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* builtin/TestThread.rb (TestThread::test_abort_on_exception): get
	  rid of error message sent to stderr, and confirm whether exact
	  exception was raised from the message.

	* builtin/TestThread.rb (TestThread::test_s_abort_on_exception):
	  ditto.

	* builtin/TestThread.rb (TestThread::test_safe_level): not depend
	  on context switch order.

	* builtin/TestThread.rb (TestThread::MyException::test_timeout):
	  added for optional argument to Thread#join.

2002-08-28  Anders Bengtsson <ndrsbngtssn@@yahoo.se>

	* rubicon_tests.rb: Remove the need for Dir.chdir, as JRuby
	doesn't support it.

2002-08-21  Dave Thomas  <Dave@@Thomases.com>

	* builtin/StringBase.rb: Booker Bense supplied patch to fix split!
	behavior.

2002-06-28  Nobuyoshi Nakada  <nobu.nokada@@softhome.net>

	* builtin/TestIO.rb (TestIO::test_ungetc): use `?\s' for white
	  space instead of `?<whitespace>'.

2002-05-30  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* builtin/TestRange.rb (TestRange::test_length): 1.7 no longer
	  provides Range#length.

	* builtin/TestRange.rb (TestRange::test_size): check should be
	  done for "size", not "length".

2002-05-21  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* builtin/TestModule.rb (TestModule::test_CMP): <=> comparison
	  between unrelated classes/modules does not raise an exception on
	  1.7 now.

2002-03-26  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* builtin/TestIO.rb (TestIO::test_gets_para): IO#gets in paragraph
	  mode.

2002-03-21  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestDir.rb: Get working under Win2k, based on a patch
	from Chris Morris

2002-03-10  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* builtin/TestEnumerable.rb (TestEnumerable::test_each_with_index): 
	  2 tests removed: each_with_index returns self in the latest CVS.

2002-03-08  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* builtin/TestKernel.rb (TestKernel::test_extend): should handle
	  extend order change.

2002-02-26  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* builtin/TestMarshal.rb (TestMarshal::test_s_dump_load3): new
	  Marshal.load calls proc for Fixnums.

2002-01-30  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* builtin/TestKanjiIndex.rb: new tests.

2002-01-29  Nobuyoshi Nakada  <nobu.nakada@@nifty.ne.jp>

	* builtin/TestFile.rb (TestFile::test_s_expand_path): avoid
	  warnings in 1.7.

	* builtin/TestKernel.rb (TestKernel::test_s_open1): 1.7 feature.

	* language/TestBlocksProcs.rb (TestBlocksProcs::testYield): ditto.

	* language/TestFloats.rb (TestFloats::test_number_to_string):
	  strict number check.

	* language/TestFloats.rb (TestFloats::test_malformed): ditto.

	* language/TestFloats.rb (TestFloats::test_string_to_number): ditto.

2002-01-23  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* builtin/TestModule.rb (TestModule::test_CMP): Module#<=> between
	  unrelated modules now raises exception in 1.7

2002-01-21  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* builtin/TestKernel.rb: should not close io twice.

2002-01-04  Chad Fowler  <chadfowler@@chadfowler.com>

	* rubicon.rb: Change VersionNumber class to Version and implemented 
        some class methods to replace use of $rubyVersion global.  
        (The #less_than stuff can probably still use some refactoring).

	* builtin/HashBase.rb,builtin/ArrayBase.rb: Added test for #select.  
        Removed duplication in test_indices and test_indexes, using same 
        code for test_select.  Not testing deprecated test_ind*es methods 
        in >=1.7.2 
  
        * builtin/*, language/*: All references to $rubyVersion replaced with
        Version class methods.
	
2001-12-27  Dave Thomas  <Dave@@Thomases.com>

	* language/TestStrings.rb: Tests for string literals from Matt Armstrong

	* builtin/StringBase.rb: Additional tests in #sub from Matt
	Armstrong.
	

2001-11-27  Chad Fowler  <chadfowler@@chadfowler.com>

	* language/TestFloats.rb: fixed tests to work on Win32

	* builtin/TestFile__Stat.rb: Guarded known Win32 problems that
	were previously exposed during Cygwin testing.

	* builtin/TestFile.rb: Guarded known Win32 problems that were
	previously exposed during Cygwin testing.

	* builtin/TestFile.rb: Windows doesn't like pre-18000-second dates
	on its files.  Changed the tests to accomodate.

	* builtin/TestFloat.rb: fixed tests to work on Win32.

	* builtin/TestTime.rb: Win32 fixes for asctime and ctime.

2001-11-26  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestFile.rb: Patches from Patrick Cheng for basename and
	dirname to support ALT_SEPARATOR.
	

2001-11-19  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestIO.rb, Kernel: Array separator behavior changes back.


2001-11-25  Dave Thomas  <Dave@@Thomases.com>

	* GNUmakefile: added. Now 'make' picks up GNUmakefile, and nmake
	the Makefile.
	
	* util\checkstat.c (main): Modify to compile with MSVC
	
	* builtin\TestIO.rb: MsWin32 doesn't support bi-directional pipes,
	so start removinh them from the tests.

2001-11-18  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestFile.rb: Chad: changed line length tests to alkklow
	for \r\n on any WindowsNative platform

	* builtin/TestDir.rb: Chad: added missing Dir#close's, and added a
	test to illustrate a cygwin known problem.

2001-11-16  Dave Thomas  <Dave@@Thomases.com>

	* Makefile: Avoid adding an empty tarball to the tarball when I
	say 'make tar' :)

	* builtin/TestFile.rb, TestKernel: Cygwin can't support modes when
	creating fles, so flag these two tests as known problems

	* rubicon.rb: Add support for 'known_problem'

2001-11-15  Dave Thomas  <Dave@@Thomases.com>

	* builtin/FileInfoTest.rb: If run in a directory with g+s, the
	Stat tests for gid and uid fail, so explicitly set the file's
	owner. I'm worried this might not port to all systems: we'll see.

	* builtin/TestFile__Stat.rb, TestFileTest: I'd never tried running
	Rubicon as root!

2001-11-14  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestThreadGroup.rb: Tidy up spawned threads. Not doing
	so was hanging dblack machine in some subsequent I/O tests (which
	seems like a potential bug it its own right, but not one I can
	track down).

	* builtin/TestFile.rb, TestKernel.rb: Include umask when checking
	file permissions.

2001-11-13  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestIO.rb, TestKernel.rb: change 'puts' test: as of
	1.7.2, arrays no longer have their contents joined by "\n" on
	output. 

2001-11-11  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestIO.rb: Can't test /dev/tty when run from cron.

	* language/TestLoopStuff.rb: Fix warnings about bare regex's in
	booleans under 1.7

2001-11-11  Tanaka Akira <akr@@m17n.org>

	* language/TestRegularExpressions.rb, builtin/TestFile, TestIO:
	arious fixes for Solaris, plus remove spurious tracing line Dave
	had left in Regexp stuff.

2001-11-10  Dave Thomas  <Dave@@Thomases.com>

	* language/TestRegularExpressions.rb: Guy Decoux supplied a total
	of almost 3,000 regular expression tests, based on various P*
	language ones.

	* builtin/ArrayBase.rb: Matt Armstrong submitted patches for
	indexing past the end of an array.

2001-11-09  Dave Thomas  <Dave@@Thomases.com>

	* Various: Add support for generating the results in XML format,
	and start working on getting the tests more consistent on the
	Windows platforms.

2001-11-04  Masaki Suketa <masaki.suketa@@nifty.ne.jp>

	* StringBase, TestClass, TestFile, TestMath: found various tests
	which used assert(....) instead of asert_equal etc...

2001-11-02    <dave@@pragmaticprogrammer.com>

	* Various: Start getting tests to run under MsWin32. Add
	better support for OS dependent blocks of code.

2001-10-25  Dave Thomas  <Dave@@Thomases.com>

	* Various: Fixes to remove implicit dependence on order of tests
	(found when NT ran under Lapidary, which uses different order to
	runit).

2001-10-25  Nobu Nakad <nobu.nokada@@softhome.net>
	* language/TestFlip.rb: Added. Test .. and ... operators

	* AllTests.rb: Invoking without arguments, run testsuits under
	rubicon's directory, not current directory.

	* builtin/StringBase.rb: Tests for String#[re] bug fix.

	* builtin/TestFile.rb: On linux with devfsd, /dev/fd0 is not a
	block device.

	* builtin/TestKernel.rb: Allocation framework changed at 1.7.1
	2001-10-16. Alias of global variable improved (DT: only on 1.7)

	* builtin/TestModulePrivate.rb: Module#instance_methods doesn't
	preserve the order.

	* builtin/TestRegexp.rb: Duped Regexp's ID differs from original's
	one.

	* builtin/TestThread.rb: Should wait until t1 wake up.

	* language/TestScope.rb: Tests for special variables($_, $~ and so
	on) and thread (modified by DT: only for >= 1.7)

2001-08-02  Dave Thomas  <Dave@@Thomases.com>

	* rubicon.rb (runChild): Fix typo (thanks to Yamada-san for
	finding it)

2001-07-27    <dave@@pragmaticprogrammer.com>

	* builtin\StringBase.rb: Use of $= is deprecated as of 1.7.1

	* builtin\TestIO.rb: Under Windows, the CR is stripped out of
	lines we read, so we can't simply add the length of the input to
	arrive at the file position. Putting files into binary mode fixes
	this.

	* builtin\TestFixnum.rb: On my windows box, 0**-1 returns -Infinity,
	rather that +Infinity. Who cares as long as it's infinite... :)

	* builtin\TestStruct__Tms.rb (TimesClass): Under Windows, burning
	CPU by creating and deleting a directory 5,000 times takes forever
	and is effectively non-interruptable. Change it to loop for no
	more than three seconds. Also start removing the Cygwin
	unsupported stuff.

2001-07-27    <dave@@pragmaticprogrammer.com>
	Start getting stuff to work under Windows. First we get Cygwin working,
	and then we attack the MSVC version.
	
	* builtin\TestFile.rb: Can't test fifo's under Windows.
	File sizes of files containing newlines are different under DOS.

	* builtin\TestDir.rb: Need to close the directory at the end of
	tests in order to allow Windows to delete it.

	* builtin\TestTime.rb: Under Windows the clock resolution means
	that we need to insert a sleep to have two consecutive Time.now's
	be different.

	* builtin\TestKernel.rb: Cygwin apparently doesn't honor a signal disposition 
	of 'IGNORE', so skip the test under test_s_trap

2001-07-25  Hugh Sasse

	* FileTest.rb: Add File.join tests in light of ruby-talk:18512

2001-07-23  Patrick Cheng <pcyc@@hotmail.com>

	* rubicon.rb: Make files r/w before deleting.

2001-06-11  Dave Thomas  <Dave@@Thomases.com>

	* Fixed a couple of warnings resulting from running tests in one
	pass. 

	* Makefile: changed default target to run library and builtins
	tests in a single pass, so we now get just one summary table
	
	

2001-06-10  Dave Thomas  <Dave@@Thomases.com>

	* language/*: added all the tests from the standard test.rb
	file. Most of these go into various files in the language
	subdirectory, but some are class specific. The latter go into the
	appropriate files in builtins

2001-06-05  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* builtin/TestModule.rb: list of constants should be sorted before
	  comparison.

2001-04-23  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* builtin/TestFixnum.rb: -1 (in fact, negative integers in
	  general) should be considered as infinite sequence of 1 bits,
	  so that checkBits() test on -1 should be removed.

2001-03-28  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestTime.rb: Time.zone now returns 'UTC' rather than 'GMT'

	* builtin/TestStruct__Tms.rb,TestTime,TestProcess: the .times
 	method moved to Process in 1.7

2001-03-20  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestMarshal.rb: Add test for Bignum marshalling.

2001-02-19  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* builtin/StringBase.rb: I finally agreed that "FooBar"[6,2]
	  returning nil is a bug (line 17).

2001-02-06  Dave Thomas  <Dave@@Thomases.com>

	* builtin/ArrayBase.rb: Split out testing of Array-like classes
	from Array itself. This allows Matju to test his ArrayMixin
	classes using rubicon.

2001-02-04  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestKernel.rb: Remove begin/end from .id tests: the
	bug's been fixed.

2001-02-03  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestProc.rb: #arity values changes at 1.6.2

	* builtin/TestArray.rb: Behavior of sort! changes at 1.7

2001-01-18  Dave Thomas  <Dave@@Thomases.com>

	* language/TestFloats.rb: Add Aleksi's new tests (thanks).

2001-01-17  Dave Thomas  <Dave@@Thomases.com>

	* Makefile (test): Allow name of interpreter to be overridded, so
	that we can test multiple Ruby's on the same box

2001-01-17  Yukihiro Matsumoto  <matz@@ruby-lang.org>

	* builtin/TestKernel.rb: replace NotImplementError by
	  NotImplementedError. 

2001-01-13  Dave Thomas  <Dave@@Thomases.com>

	* builtin/many: Old tests had a bug where they'd try to taint
	frozen objects. Changed the order to taint first, then freeze.

2001-01-11  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestBignum.rb: Fixes to operators used for === and eql?
	(Hugh Sasse)

	* builtin/TestFixnum.rb: Replaced an assert_equal with
	assert_flequal, and added a description to MOD (Hugh Sasse).

2001-01-10  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestString.rb: Added patches to test .dup behavior from
	Hugh Sasse.

	* builtin/TestFloat.rb: Added a number of patches from Hugh Sasse.

2000-11-19  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestArray.rb: (test_sort!) The test for sort! was wrong: it shouldn't 
	return nil for 0 or 1 length arrays (thanks to Ryan Davis)

2000-11-16  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestTime.rb: (test_isdst) Don't do isdst check unless in the US
	(anyone got any ideas on how to test this globally)?

2000-11-16  Yukihiro Matsumoto <matz@@zetabits.com>

	* builtin/TestThread.rb: (test_run) Fixed a timing problem.

2000-10-28  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestObjectSpace.rb: (test_s_finalizers) Brian Feldman
	added test.

2000-10-23  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestKernel.rb (test_s_trap): Fix a race condition.

	* builtin/TestDir.rb: Remove dependence on order of entries
	returned by directory operations.

	* builtin/TestIO.rb: Brian Feldman: Make exception returned by
 	File#pos=-1 and seek(-1) less system specific. Use .read, not
 	.sysread, in reopen tests.

	* builtin/TestFile__Stat.rb: Brian Feldman: make /dev/fd0 tests
	Linux specific. Make group tests (gid, grpowned) Linux specific.
	Check stickiness using a directory, not file.

	* builtin/TestFileTest.rb: Brian Feldman: sticky test now checks a 
	directory for portability. Make /dev/fd0 Linux specific. Make
	grpowned and /dev/fd0 tests Linux specific

	* rubicon.rb: Add classification routines for operating systems 

	* builtin/TestArray.rb: Brian Feldman/Aleksi Niemlä: retain test
	for pre 1.6.2 push behavior.

	* rubicon.rb (tidyup): Brian Feldman: delete directories as well
	as files out of _test (used by above).

	* util/checkstat.c (main): Brian Feldman: Make checkstat more
	portable to systems where the fields in a struct stat don't fit in 
	to an int.

2000-10-20  Dave Thomas  <Dave@@Thomases.com>

	* builtin/TestArray.rb: Aleksi again. Add test for array.push with 
	no argument.

	* builtin/TestTime.rb: Thanks to Aleksi for this one. We can't
	create local times of 1970,1,1,0,0,0 when we're east of Greenwich, 
	so I hacked the dates forward a year. Also changed isdst to remove 
	checks for US changes from DST to standard time when not in the
	US, and tidied layout a tad

	* rubicon.rb (VersionNumber): Add a class to encapsulate Ruby versions

	* builtin/TestFile.rb: create local socket, rather than relying on 
	/tmp/.X11 stuff

	* builtin/TestFileTest.rb: ditto

@


1.58
log
@* replace "type" by "class" since Object#type is deprecated in
  1.7.3.
@
text
@d1 6
@


1.57
log
@* rubicon.rb: recognize HP-UX to treat it as an Unix variant.

* builtin/TestIO.rb (test_pid): Use `exec' trick for all Unix
variants.

* builtin/TestFileTest.rb (TestFileTest::test_test): Use 02755 instead
of 02644 for setgid bit because setgid bit without execution bit means
mandatory locking for Solaris and it fails on NFS.
(TestFileTest::test_test): /dev/tty is symlink on Solaris.

* builtin/TestFloat.rb: Use 0.0/0.0 instead of Math::log(-1.0) to
generate NaN because Math::log(-1.0) returns -Infinity instead of NaN
on Solaris.

* builtin/TestThreadGroup.rb (test_list): Avoid deadlock.
@
text
@d1 5
@


1.56
log
@* builtin/TestThread.rb (TestThread::test_abort_on_exception): get
  rid of error message sent to stderr, and confirm whether exact
  exception was raised from the message.

* builtin/TestThread.rb (TestThread::test_s_abort_on_exception):
  ditto.

* builtin/TestThread.rb (TestThread::test_safe_level): not depend
  on context switch order.

* builtin/TestThread.rb (TestThread::MyException::test_timeout):
  added for optional argument to Thread#join.
@
text
@d1 18
@


1.55
log
@Patch from Anders Bengtsson <ndrsbngtssn@@yahoo.se> to remove the need for
Dir.chdir in the test setup (as JRuby doesn't support it)
@
text
@d1 15
@


1.54
log
@Fix String#split! differences in 1.7
@
text
@d1 5
@


1.53
log
@*** empty log message ***
@
text
@d1 5
@


1.52
log
@* builtin/TestIO.rb (TestIO::test_ungetc): use `\s' for white
  space instead of `\ '.
@
text
@d3 2
a4 2
	* builtin/TestIO.rb (TestIO::test_ungetc): use `\s' for white
	  space instead of `\ '.
@


1.51
log
@* builtin/TestRange.rb (TestRange::test_length): 1.7 no longer
  provides Range#length.

* builtin/TestRange.rb (TestRange::test_size): check should be
  done for "size", not "length".
@
text
@d1 5
@


1.50
log
@* builtin/TestModule.rb (TestModule::test_CMP): <=> comparison
  between unrelated classes/modules does not raise an exception on
  1.7 now.
@
text
@d1 8
@


1.49
log
@* builtin/TestIO.rb (TestIO::test_gets_para): IO#gets in paragraph
  mode.
@
text
@d1 6
@


1.48
log
@Fix the directory deletion stuff under Win2k (patch from Chris Morris)
@
text
@d1 5
@


1.47
log
@* builtin/TestEnumerable.rb (TestEnumerable::test_each_with_index):
  2 tests removed: each_with_index returns self in the latest CVS.
@
text
@d1 5
@


1.46
log
@* builtin/TestKernel.rb (TestKernel::test_extend): should handle
  extend order change.
@
text
@d1 5
@


1.45
log
@* builtin/TestMarshal.rb (TestMarshal::test_s_dump_load3): new
  Marshal.load calls proc for Fixnums.
@
text
@d1 5
@


1.44
log
@* builtin/TestKanjiIndex.rb: new tests.
@
text
@d1 5
@


1.43
log
@* builtin/TestFile.rb (TestFile::test_s_expand_path): avoid
  warnings in 1.7.

* builtin/TestKernel.rb (TestKernel::test_s_open1): 1.7 feature.

* language/TestBlocksProcs.rb (TestBlocksProcs::testYield): ditto.

* language/TestFloats.rb (TestFloats::test_number_to_string):
  strict number check.

* language/TestFloats.rb (TestFloats::test_malformed): ditto.

* language/TestFloats.rb (TestFloats::test_string_to_number): ditto.
@
text
@d1 4
@


1.42
log
@* builtin/TestModule.rb (TestModule::test_CMP): Module#<=> between
  unrelated modules now raises exception in 1.7
@
text
@d1 16
@


1.41
log
@* builtin/TestKernel.rb: should not close io twice.
@
text
@d1 5
@


1.40
log
@Replaced $rubyVersion global with Version class methods.  Replaced references to the former with the latter.  Deprecated tests for #indexes and #indices where appropriate.  Removed some duplication in several tests in ArrayBase and HashBase.
@
text
@d1 4
@


1.39
log
@Additional tests for #sub, and new tests for string literals. Both courtesy of
Matt Armstrong.
@
text
@d1 14
@


1.38
log
@More win32 fixes.
@
text
@d1 9
a9 1
2001-11-27  ChangeLog  <chadfowler@@chadfowler.com>
d13 2
a14 1
	* builtin/TestFile__Stat.rb: Guarded known Win32 problems that were previously exposed during Cygwin testing.
d16 2
a17 1
	* builtin/TestFile.rb: Guarded known Win32 problems that were previously exposed during Cygwin testing.
d19 2
a20 1
	* builtin/TestFile.rb: Windows doesn't like pre-18000-second dates on its files.  Changed the tests to accomodate.
a35 2
2001-11-25    <Administrator@@WALTER>

d37 1
a37 1
2001-11-25    <Dave@@Thomases.com>
@


1.37
log
@Guarded Win32 known problems that were previously exposed during Cygwin testing.
@
text
@d3 4
@


1.36
log
@Took out pre-18000-second tests for file dates, because Win32 didn't like them.
@
text
@d1 3
a3 1
2001-11-27    <chad fowler@@CI29636-B>
a7 2

2001-11-27    <chadfowler@@chadfowler.com>
@


1.35
log
@test_to_s was failing under MsWin32.  Fixed now.
@
text
@d3 2
@


1.34
log
@iSupport for ALT_SEPARATOR in dirname and basename
@
text
@d1 8
@


1.33
log
@More support for MsWin32.

Added GNUmakefile, and made .c code compile under both MSVC and GCC.
@
text
@d1 10
@


1.32
log
@Start removing bi-directional pipes from the MsWin32 tests.
@
text
@d1 3
d6 5
@


1.31
log
@Fixes by Chad for File/Dir stuff under cygwin
@
text
@d1 5
@


1.30
log
@Added support for 'known problems'.

This is only used for those problems that really will never get
fixed.
@
text
@d1 8
d10 3
@


1.29
log
@Make work when run as root.

THere were soe permissions issues (for example ?r is somewhat moot) when run
as root. Also allow tests to run in a g+s or u+s directory when the
current uid/gid isn;t the directory's.
@
text
@d1 7
@


1.28
log
@Fix strange hang on dblack's machine.

A test in ThreadGroup was leaving 10 threads each doing a sleep 60. On his
machine, this caused some I/O tests to abort. Reap these sleeping threads,
and the hang goes away.

Also include umask in some file permission calculations
@
text
@d1 9
@


1.27
log
@New array behavior with puts.

As of 1.7.2, array contents are no longer joined with "\n" when
being output by puts.
@
text
@d1 10
@


1.26
log
@AllTests now returns an exit code != 0 on failure.

Various changes to make rubicon run from crontab.

Remove warnings about bare regex's under 1.7.
@
text
@d1 6
@


1.25
log
@Fixes to File and IO by Tanaka Akira
@
text
@d1 7
@


1.24
log
@Added ts's regexp tests, Matt's array tests. Tidy a tad
@
text
@d1 6
@


1.23
log
@Update prior to alpha release
@
text
@d1 9
@


1.22
log
@Continue makig the tests Windows-agnostic. Include patch from Masaki
Suketa which fixes some bad tests (assert(...) being used in place
of assert_equals(...))
@
text
@d1 6
@


1.21
log
@Win32 changes to Kernel, etc... Thread is incomplete: we'll do something of
a rewrite under Linux.
@
text
@d1 5
@


1.20
log
@Start adding MsWin32 support
@
text
@d1 5
@


1.19
log
@Added tests for .. and ... (Nobu Nakada)
@
text
@d38 18
@


1.18
log
@Added many patches from Nobu Nakad for 1.7 features (plus some bug fixes)
@
text
@d8 2
@


1.17
log
@Fix a typo in runChild (thanks to Yamada-san for finding it)
@
text
@d1 29
@


1.16
log
@Start to get tests running better under Windows. Start some basic work
on File and Dir, We seem to be bumping up against some Cygwin bugs
though; utime and IGNORED signals don't seem to work correctly. Once I get the
tests stabilized I'll publish a list and hopefully those who know about
these things will be able to comment.
@
text
@d1 5
@


1.15
log
@Add tests for the file join bug
@
text
@d1 17
@


1.14
log
@* Fixed a couple of warnings resulting from running tests in one pass.

* Makefile: changed default target to run library and builtins tests in a
  single pass, so we now get just one summary table
@
text
@d1 8
@


1.13
log
@* builtin/TestModule.rb: list of constants should be sorted before
  comparison.

* builtin/TestFixnum.rb: -1 (in fact, negative integers in
  general) should be considered as infinite sequence of 1 bits,
  so that checkBits() test on -1 should be removed.
@
text
@d1 10
@


1.12
log
@Add all the 1.6.4 sample/test.rb tests to Rubicon, and integrate the
language and library tests
@
text
@d8 11
@


1.11
log
@Move #times from Time to Process for 1.7

Time#zone now returns UTC, rather than GMT
@
text
@d1 7
d9 2
@


1.10
log
@Add test for Bignum marshaling
@
text
@d1 5
@


1.9
log
@* builtin/StringBase.rb: I finally agreed that "FooBar"[6,2]
  returning nil is a bug (line 17).
@
text
@d1 4
@


1.8
log
@Split out testing of Array semantics from TestArray
@
text
@d1 5
@


1.7
log
@Add more confitional tests to handle logic changes between Ruby versions
@
text
@d1 11
@


1.6
log
@Merge Matz's changelog. Allow Makefile to use Ruby specified
on command line
@
text
@d1 6
@


1.5
log
@* builtin/TestKernel.rb: replace NotImplementError by
  NotImplementedError.
@
text
@d1 9
d18 1
a18 1
	frozen objects. Changed the order to tain first, then freeze.
@


1.4
log
@Many contributions from members of the ml
@
text
@d1 5
@


1.3
log
@Fix bugs based on Matz's comments
@
text
@d1 25
@


1.2
log
@Try to remove yet more machine dependencies
@
text
@d1 14
@


1.1
log
@Make Aleksi's changes
@
text
@d1 31
@
